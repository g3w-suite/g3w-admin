{"version":3,"sources":["build.js"],"names":["r","e","n","t","o","i","f","c","require","u","a","Error","code","p","exports","call","length","1","module","noop","inserted","cache","insert","css","elem","document","createElement","setAttribute","textContent","styleSheet","cssText","getElementsByTagName","appendChild","removeChild","2","_interopRequireDefault","obj","__esModule","default","_constant","_constant2","_applicationState","_applicationState2","_application","_application2","_InputG3W","_InputG3W2","_InputG3WFormInputs","_InputG3WFormInputs2","_inputservice","_inputservice2","_FormBody","_FormBody2","_FormFooter","_FormFooter2","_C3XYLine","_C3XYLine2","_catalogLayers","_catalogLayers2","_data","_data2","_editing","_editing2","_sessions","_sessions2","_iframePlugin","_iframePlugin2","_mapLayers","_mapLayers2","_plugins","_plugins2","_projects","_projects2","_relations","_relations2","_tasks","_tasks2","_workflows","_workflows2","_api","_api2","_router","_router2","_gui","_gui2","_mixins","_mixins2","G3WObject","utils","geoutils","i18n","Server","Session","Editor","Geom","_require","Geometry","Project","LayersStoreRegistry","LayersStore","Layer","LayerFactory","TableLayer","VectorLayer","ImageLayer","WmsLayer","XYZLayer","MapLayer","Feature","FeaturesStore","OlFeaturesStore","Filter","Expression","Plugin","PluginService","Task","Step","Flow","Workflow","Panel","ControlFactory","ComponentsFactory","FieldsService","Component","MetadataComponent","SearchComponent","SearchPanel","PrintComponent","CatalogComponent","MapComponent","ToolsComponent","QueryResultsComponent","FormComponent","FormService","InputsComponents","ChartsFactory","Fields","SearchPanelService","PickFeatureInteraction","PickCoordinatesInteraction","DeleteFeatureInteraction","AreaInteraction","LengthInteraction","g3wolutils","constant","core","ApplicationService","ApplicationState","ApiService","Router","task","TaskService","data","DataRouterService","iframe","IFrameRouterService","errors","parsers","editing","SessionsRegistry","ChangesManager","geometry","project","ProjectsRegistry","map","MapLayersStoreRegistry","catalog","CatalogLayersStoresRegistry","layer","geom","features","filter","relations","RelationsService","interaction","plugin","PluginsRegistry","workflow","WorkflowsStack","input","inputService","gui","GUI","vue","FormComponents","Body","Footer","Inputs","G3wFormInputs","G3WInput","Charts","c3","lineXY","Mixins","services","ol","interactions","measure","controls","info","$script","window","console","initConfig","version","APP_VERSION","platform","name","os","toString","trim","components/C3XYLine.vue","components/FormBody.vue","components/FormFooter.vue","components/InputG3W.vue","components/InputG3WFormInputs.vue","core/editing/editor","core/editing/session","core/errors/parser/servererrorparser","core/expression/inputservice","core/g3wobject","core/i18n/i18n.service","core/layers/features/feature","core/layers/features/featuresstore","core/layers/features/olfeaturesstore","core/layers/filter/expression","core/layers/filter/filter","core/layers/imagelayer","core/layers/layer","core/layers/layerfactory","core/layers/layersstore","core/layers/layersstoresregistry","core/layers/map/maplayer","core/layers/map/wmslayer","core/layers/map/xyzlayer","core/layers/tablelayer","core/layers/vectorlayer","core/plugin/plugin","core/plugin/pluginservice","core/project/project","core/utils/geo","core/utils/ol","core/utils/utils","core/workflow/flow","core/workflow/step","core/workflow/task","core/workflow/workflow","g3w-ol/interactions/areainteraction","g3w-ol/interactions/deletefeatureinteraction","g3w-ol/interactions/lengthinteraction","g3w-ol/interactions/pickcoordinatesinteraction","g3w-ol/interactions/pickfeatureinteraction","gui/catalog/vue/catalog","gui/charts/chartsfactory","gui/component/component","gui/component/componentsfactory","gui/fields/fields","gui/fields/fieldsservice","gui/form/formservice","gui/form/vue/form","gui/inputs/inputs","gui/map/control/factory","gui/map/vue/map","gui/metadata/vue/metadata","gui/panel","gui/print/vue/print","gui/queryresults/vue/queryresults","gui/search/vue/panel/searchpanel","gui/search/vue/panel/searchservice","gui/search/vue/search","gui/tools/vue/tools","mixins","services/api","services/application","services/data","services/editing","services/gui","services/iframe-plugin","services/relations","services/router","services/tasks","services/workflows","store/application-state","store/catalog-layers","store/map-layers","store/plugins","store/projects","store/sessions","3","Object","defineProperty","value","server","client","_i18n","tools","plugins","undefined","_locales","_locales2","apptitle","supportedLanguages","resources","debug","local","urls","baseurl","ows","api","initconfig","config","merge","type","../locales","4","LOGO_GIS3W","LOCAL_ITEM_IDS","FONT_AWESOME_ICONS","API_BASE_URLS","ZINDEXES","VIEWPORT","TOC_THEMES_INIT_STATUS","TOC_LAYERS_INIT_STATUS","TIMEOUT","SEARCH_RETURN_TYPES","SEARCH_ALLVALUE","QUERY_POINT_TOLERANCE","PRINT_SCALES","PRINT_RESOLUTIONS","PRINT_FORMATS","MAP_SETTINGS","LOCALSTORAGE_EXTERNALWMS_ITEM","LIST_OF_RELATIONS_ID","LIST_OF_RELATIONS_TITLE","GEOMETRY_TYPES","GEOMETRY_FIELDS","FILTER_EXPRESSION_OPERATORS","FILTER_OPERATORS","G3W_FID","EPSG","DOWNLOAD_FORMATS","DEFAULT_EDITING_CAPABILITIES","_extends","assign","target","arguments","source","key","prototype","hasOwnProperty","_version","_version2","download","format","url","download_gpkg","download_gpx","download_csv","download_xls","download_raster","gte","lte","NOT","eq","gt","lt","IN","NOT IN","LIKE","ILIKE","AND","OR","ltgt","ilike","like","POINT","POINTZ","POINTM","POINTZM","POINT25D","MULTIPOINT","MULTIPOINTZ","MULTIPOINTM","MULTIPOINTZM","MULTIPOINT25D","LINESTRING","LINESTRINGZ","LINESTRINGM","LINESTRINGZM","LINESTRING25D","LINE","LINEZ","LINEM","LINEZM","LINE25D","MULTILINESTRING","MULTILINESTRINGZ","MULTILINESTRINGM","MULTILINESTRINGZM","MULTILINESTRING25D","MULTILINE","MULTILINEZ","MULTILINEM","MULTILINEZM","MULTILINE25D","POLYGON","POLYGONZ","POLYGONM","POLYGONZM","POLYGON25D","MULTIPOLYGON","MULTIPOLYGONZ","MULTIPOLYGONM","MULTIPOLYGONZM","MULTIPOLYGON25D","GEOMETRYCOLLECTION","GEOMETRYCOLLECTIONZ","GEOMETRYCOLLECTIONM","GEOMETRYCOLLECTIONZM","GEOMETRYCOLLECTION25D","ZOOM","maxScale","ANIMATION","duration","LAYER_POSITIONS","getPositions","label","unit","resize","min","content","usermessage","tool","ABOUT","macrogroups","nomacrogoups","projects","group","CRS","change-map","file","marker","relation","search","print","info-circle","globe","mail","mobile","fax","user","bars","uncheck","check","filluncheck","table","trash","trash-o","pencil","ellips-h","ellips-v","arrow-up","arrow-down","arrow-left","arrow-right","resize-h","resize-v","resize-default","caret-up","caret-down","caret-left","caret-right","empty-circle","cloud-upload","spinner","minus","minus-square","plus","plus-circle","plus-square","grid","home","folder","sign-out","close","time","calendar","list","link","unlink","eye","eye-close","save","pdf","image","video","unknow","zip","text","excel","xls","gpx","gpkg","shapefile","csv","geotiff","ppt","circle","calculator","picture","keyboard","file-download","copy","draw","chart","chart-line","chart-area","chart-pie","run","warning","alert","crosshairs","success","back","file-upload","wifi","mouse","copy-paste","vector-square","credits","invert","clear","palette","layers","sign-in","language","pin","square","move","moon","sun","refresh","pause","step-backward","fast-backward","step-forward","fast-forward","crop","exit","slider","bookmark","reply","share","MESSAGES","id","SPATIALBOOKMARKS","../version","5","_asyncToGenerator","fn","gen","apply","this","Promise","resolve","reject","step","arg","error","done","then","err","BaseService","_this","onbefore","getCurrentProject","proto","handleRequest","request","handleResponse","_ref","regeneratorRuntime","mark","_callee","response","wrap","_context","prev","next","stop","_x","getSelectedExternalLayers","_ref2","_ref2$type","getService","getExternalSelectedLayers","getEmptyRequest","hasExternalLayerSelected","_ref3","_ref3$type","6","_defineProperty","enumerable","configurable","writable","_toConsumableArray","arr","Array","isArray","arr2","from","options","setters","_save","addFeature","feature","_addFeature","updateFeature","_updateFeature","deleteFeature","_deleteFeature","setFeatures","_setFeatures","getFeatures","_getFeatures","base","_filter","bbox","_allfeatures","_layer","_featuresstore","getType","LayerTypes","TABLE","_started","_noteditablefileds","getEditingNotEditableFields","_slicedToArray","sliceIterator","_arr","_n","_d","_e","_s","_i","Symbol","iterator","push","TypeError","inherit","_canDoGetFeaturesRequest","doRequest","VECTOR","extent","containsExtent","extend","getEditingSource","getSource","_applyChanges","items","reverse","execute","setChanges","getLayer","setLayer","removeNotEditablePropriertiesFromFeature","forEach","field","unset","_cloneFeatures","clone","_addFeaturesFromServer","addFeatures","_doGetFeaturesRequest","online","d","$","Deferred","promise","fail","revert","readFeatures","rollback","changes","applyChangesToNewRelationsAfterCommit","relationsResponse","relationLayerId","getLayerById","editingLayerSource","getEditingLayer","clearState","applyCommitResponse","result","setFieldValueToRelationField","relationId","ids","_ref2$values","values","getSession","getEditor","getFeatureById","fieldvalue","get","set","_this2","lockids","new_lockids","idobj","clientid","setId","setProperties","properties","entries","_ref4","fatherField","childField","addLockIds","getLockIds","commit","commitItems","_this3","add","keys","layerRelation","getRelations","getRelationByFatherChildren","getId","updates","update","concat","getFatherField","getChildField","start","_this4","readEditingFeatures","_this5","unlock","isStarted","getFeaturesStore","resetEditingSource","getFeaturesCollection","7","History","_maxSteps","_states","state","undo","redo","_current","uniqueId","getLastState","_setState","getRelationStates","layerId","relationStates","relationItems","item","_layerId","insertState","stateId","index","_i2","_state","splice","removeState","removeStates","stateIds","_i3","insertStates","states","_i4","canCommit","canUndo","canRedo","_checkItems","action","newItems","own","dependencies","getFirstState","find","idx","setItemsFeatureIds","unsetnewids","unsetnewid","_this6","indexOf","_clearAll","getState","getCurrentState","_this7","currentState","getCurrentStateIndex","_this8","currentStateIndex","checkCommitItems","commitItem","steps","_","isNull","_getStatesToCommit","_this9","statesToCommit","getUid","isNew","isDeleted","isUpdated","_item","isAdded","8","_start","_stop","saveChangesOnServer","started","getfeatures","_editor","editor","_history","_temporarychanges","register","_typeof","constructor","is3DGeometry","getLastHistoryState","getLastStateId","deleteState","unregister","setEditor","Date","now","updateTemporaryChanges","change","getProperties","pushAdd","removeNotEditableProperties","newFeature","pushDelete","pushUpdate","oldFeature","temporarynewfeatureIndex","findIndex","removeChangesFromHistory","changeIds","moveRelationStatesOwnSession","statesIds","_getCommitItems","getCommitItems","relationSession","New","Old","_filterChanges","temporarychange","unshift","_changes","rollbackDependecies","_serializeCommit","itemsToCommit","commitObj","delete","isRelation","sessionRelation","GeoJSONFormat","GeoJSON","writeFeatureObject","childs_properties","_key","set3DGeometryType","_ref$layerId","editingLayer","geometryType","getGeometryType","_ref2$ids","_ref2$relations","_data$new_relations","new_relations","session","_canStop","clearHistory","getHistory","core/editing/history","9","serverErrorParser","_error","parse","traverseErrorMessage","errorObject","entry","_entry","_entries$find","_ref5","_entries$find2","error_message","_ref6","_ref7","replace","_entries$","_value","_ref$type","responseJSON","message","10","convertFeatureToGEOJSON","handleFilterExpressionFormInput","_field$input$options","_field$input$options$","layer_id","filter_expression","loading","qgs_layer_id","parentData","abrupt","getData","inputs","field_name","form_data","parent","formatter","expression","outputs","sent","sort","aKey","bKey","toLowerCase","t0","finish","handleDefaultExpressionFormInput","_callee2","_field$input$options2","_field$input$options3","default_expression","default_value","_context2","11","getFormDataExpressionRequestFromFeature","getVisibility","_ref$feature","contenttype","12","debounce","throttle","_setupListenersChain","debounces","_setupDebounces","throttles","_setupThrottles","EventEmitter","onafter","setter","listener","priority","_onsetter","onceafter","oncebefore","onbeforeasync","un","settersListeners","setterListener","when","async","once","listenerKey","Math","floor","random","fnc","sortBy","after","before","_loop","setterOption","setterFnc","setterFallback","isFunction","fallback","_len","args","_key2","deferred","returnVal","counter","callSetter","onceListenerKeys","afterListeners","abort","beforeListeners","bool","cont","isBoolean","completed","emitEvent","listenerObj","currentCounter","_bool","delay","Function","13","init","appLanguages","plugins18nConfig","i18next","use","i18nextXHRBackend","lng","ns","fallbackLng","jqueryI18next","tName","i18nName","handleName","selectorAttr","targetAttr","optionsAttr","useOptionsAttr","parseDefaultValueFromContent","addI18n","getAppLanguage","getConfig","tPlugin","tPrefix","addI18nPlugin","pluginLanguage","i18nObject","languageObj","addResource","changeLanguage","14","15","BaseIframeService","ready","createFilterFormField","mapService","getComponent","getQgsLayerId","_ref$noValue","noValue","searchFeature","search_endpoint","_ref4$data","getSearchEndPoint","_x2","findFeaturesWithGeometry","layersCount","_ref6$qgs_layer_id","_ref6$zoom","zoom","_ref6$highlight","highlight","found","getGeometry","zoomToFeatures","t1","zoomToProjectInitExtent","setLayers","getLayers","setReady","getReady","_callee3","_context3","16","_iframeApp","_iframeApp2","_iframeEditing","_iframeEditing2","app","services/iframe-app","services/iframe-editing","17","BasePluginService","pluginName","dependencyApi","_ref2$layers","isPluginInConfiguration","getPlugin","setDependencyApi","getApi","isReady","getName","getDependecyApi","core/iframe/services/baseservice","18","ARCGISMAPSERVERLayer","BaseLayer","BasesLayers","_makeOlLayer","_config","attributions","crs","projection","getProjectionFromCrs","olLayer","TMS","source_type","core/layers/baselayers/baselayer","g3w-ol/layers/bases","19","isWMS","getWmsUrl","tiled","_mapLayer","WMSLayer","addLayer","Projections","epsg","_registerLoadingEvent","_olLayer","on","emit","getOLLayer","mapState","extraParams","_updateLayer","setAttributions","setVisible","visible","getMapLayer","g3w-ol/projection/projections","20","BaseLayers","OSM","Bing","ARCGISMAPSERVER","WMTS","WMS","./arcgislayer","./binglayer","./osmlayer","./tmslayer","./wmslayer","./wmtslayer","21","BingLayer","vendorkeys","bing","subtype","BING","imagerySet","22","OSMLayer","title","23","TMSLayer","minZoom","maxZoom","24","singleTile","opacity","25","WMTSLayer","matrixSet","style","requestEncoding","26","geometryFields","_uid","_newPrefix","_geometry","property","setGeometryName","getGeometryName","setGeometry","getStyle","setStyle","new","inherits","_setUid","uid","isGeometry","cloneNew","setTemporaryId","setState","setNew","newValue","setFullState","getFullState","getAlphanumericProperties","alphanumericproperties","isVisible","app/constant","27","_features","_provider","provider","_loadedIds","_lockIds","hasFeatureLockByOtherUser","removeFeature","_removeFeature","_clearFeatures","featurestore","_commit","featuresLockedByOtherUser","cloneDeep","setProvider","getProvider","_filterFeaturesResponse","_readFeatures","_options$features","_options$featurelocks","featurelocks","count","featuresToAdd","featureId","added","_filterLockIds","lockid","featureid","toAddLockId","featurelock","addLoadedIds","lockIds","union","lockId","getFeatureByUid","feat","getDataProvider","28","Collection","getLength","getArray","dispatchEvent","featuresArray","_feature","removeAt","insertAt","29","_layerName","layerName","_expression","and","or","_build","not","operator","join","createSingleExpressionElement","attribute","logicop","filterElement","valueExtra","filterOp","filterLogicOperator","filterValue","Number","isNaN","singolequote","split","_filterElements","_value2","_filterOp","_filterValue","_filterElement","createExpressionFromFilterObject","filterElements","rootFilter","_operator","_value3","_field","_value4","fieldElement","createExpressionFromField","_ref2$operator","createExpressionFromFilterArray","inputsLength","substring","createExpressionFromFilter","filterParam","30","_type","setConfig","mergeConfig","getAll","TYPES","all","setExpression","setBBOX","setFids","fids","serialize","JSON","stringify","31","GeojsonLayer","setup","GeojsonMapLayer","getProjection","getCode","core/layers/map/geojson","32","GeoLayerMixin","getScaleFromResolution","_require2","createFeatureFromFeatureObject","_require3","XHR","sanitizeUrl","RESERVERDPARAMETRS","wms","map_crs","multilayerid","multilayer","legendCategories","olSelectionFeatures","geolayer","geometrytype","legend","show","external","checked","hidden","scalebasedvisibility","minscale","maxscale","ows_method","exclude_from_legend","categories","expanded","_sanitizeSourceUrl","getLegendGraphic","_ref$all","legendParams","layout","legendurl","getLegendUrl","setCategories","getCurrentStyle","category","ruleKey","getCategories","clearCategories","clearOlSelectionFeatures","getOlSelectionFeature","updateOlSelectionFeature","featureObject","_mapService","setSelectionFeatures","deleteOlSelectionFeature","getOlSelectionFeatures","addOlSelectionFeature","showAllOlSelectionFeatures","setInversionOlSelectionFeatures","setOlSelectionFeatureByFid","fid","setOlSelectionFeatures","__layerId","sanitizedUrl","reserverParameters","isLayerCheckedAndAllParents","isChecked","parentGroup","setChecked","oldVisibile","changed","isDisabled","disabled","isPrintable","scale","getStyles","styles","current","getOpacity","setCurrentStyle","currentStyleName","setDisabled","resolution","mapUnits","mapScale","isFilterable","setTocHighlightable","getMultiLayerId","getOwsMethod","setProjection","getEpsg","getCrs","getMapCrs","isCached","cache_url","getCacheUrl","hasAxisInverted","axisOrientation","getAxisOrientation","substr","setMapProjection","mapProjection","_mapProjection","getMapProjection","33","baselayer","IMAGE","legendUrl","customParams","mixin","WMSTLayer","LegendService","getLayerForEditing","_project","editableLayer","_ref2$force","force","vectorurl","project_type","isEditable","layerForEditing","setEditingLayer","isBaseLayer","WMSServerTypes","servertype","isLayerProjectionASMapProjection","isExternalWMS","isArcgisMapserver","SourceTypes","_getBaseLayerName","isWmsUseLayerIds","getWMSLayerName","legendMapBoolean","_ref4$type","wmsUrl","getWFSLayerName","getQueryLayerName","useProxy","getInfoFormats","getWMSInfoLayerName","getPrintLayerName","getStringBBox","minx","miny","maxx","maxy","isWfsActive","ows_type","getFullWmsUrl","metadata_wms_url","metadata","wms_url","getCatalogWmsUrl","getMetadata","catalogWmsUrl","getCatalogWfsUrl","getWfsUrl","getQueryUrl","getServerType","ServerTypes","QGIS","getIconUrlFromLegend","layertitle","params","setMapParamstoLegendUrl","getWfsCapabilities","wfscapabilities","capabilities","iframe_internal","isIframe","mapLayer","method","WMST","Mapserver","Geoserver","OGC","core/layers/geolayermixin","core/layers/legend/legendservice","core/layers/map/arcgismapserverlayer","core/layers/map/wmstlayer","34","fields","query","infourl","_options$project","_createRelations","suffixUrl","vectorUrl","getVectorUrl","rasterUrl","getRasterUrl","filtertoken","shp","widget","unique","featurecount","getUrl","searchParams","I","J","defaultstyle","selected","metadata_querable","isQueryable","onMap","openattributetable","canShowTable","removable","downloadable","isDownloadable","inediting","infoformat","getInfoFormat","infoformats","projectLayer","selection","active","attributetable","pageLength","tochighlightable","stylesfeaturecount","selectionFids","Set","_layersstore","layersstore","serverType","sourceType","providers","ProviderFactory","build","proxyData","parseAttributes","Relations","getProxyData","setProxyData","clearProxyData","getDataProxyFromServer","proxyParams","changeProxyDataAndReloadFromServer","changeParam","param","isInEditing","setInEditing","getSearchParams","projectRelations","referencedLayer","referencingLayer","getRelationById","getRelationAttributes","relationName","getRelationsAttributes","isChild","isFather","getChildren","getFathers","hasChildren","hasRelations","hasFathers","setAttributeTablePageLength","getAttributeTablePageLength","setFilter","getFilterActive","toggleFilterToken","activeFilterToken","createFilterToken","deleteFilterToken","_x10","_callee4","_context4","setFilterToken","_callee5","_context5","size","has","SELECTION_STATE","ALL","EXCLUDE","fidsout","fidsin","getFilterToken","setSelectionFidsAll","isGeoLayer","setSelection","getSelectionFids","invertSelectionFids","hasSelectionFid","includeSelectionFid","_ref8","_callee6","GIVE_ME_A_NAME","createToken","_context6","isSelectionActive","_x12","includeSelectionFids","excludeSelectionFid","_ref9","_callee7","isLastFeatureSelected","_context7","setselectionFidsAll","_x14","excludeSelectionFids","clearSelectionFids","wms_use_layer_ids","getDownloadFilefromDownloadDataType","_ref10","_ref10$data","getShp","getXls","getCsv","getGpx","getGpkg","getGeoTIFF","_ref11","_ref11$data","fileDownload","httpMethod","_ref12","_ref12$data","_ref13","_ref13$data","_ref14","_ref14$data","_ref15","_ref15$data","_ref16","_ref16$data","getSourceType","getDataTable","_ref17","_ref17$page","page","_ref17$page_size","page_size","_ref17$ordering","ordering","_ref17$search","_ref17$suggest","suggest","_ref17$formatter","in_bbox","_ref17$custom_params","custom_params","tokens","headers","getAttributes","getTitle","getFeatureByFids","_callee8","_ref19","_ref19$fids","_ref19$formatter","_context8","vector","searchFeatures","_options$search_endpo","_ref20","_callee9","_options$raw","raw","_options$suggest","queryUrl","_context9","results","getFilterData","t2","t3","_x26","_x27","_callee10","_ref22","_ref22$raw","_ref22$suggest","_ref22$formatter","_context10","feature_count","getFields","getFieldByName","fieldName","getEditingFields","getTableFields","getTableHeaders","getProject","getLayerEditingFormStructure","editor_form_structure","getEditorFormStructure","getFieldsOutOfFormStructure","structure","hasFormStructure","getCustomStyle","customstyle","isShpDownlodable","isXlsDownlodable","isGpxDownlodable","isGpkgDownlodable","isCsvDownlodable","getDownloadableFormats","download_format","getDownloadUrl","isGeoTIFFDownlodable","_editingLayer","isHidden","setHidden","isModified","modified","getOrigName","origname","isType","setType","isSelected","setSelected","_callee11","_context11","getSelection","getFilter","_ref24","queryEnabled","queryableForCababilities","CAPABILITIES","QUERYABLE","infowhennotvisible","getOws","getTocHighlightable","conditions","isFiltrable","FILTERABLE","conditionalFiltrable","reduce","layer_config_value","condition_attribute_values","isQtimeseries","qtimeseries","EDITABLE","setUrl","_ref25","getUrls","setEditingUrl","setQueryUrl","infolayer","getQueryLayerOrigName","ogcService","getInfoUrl","setInfoFormat","infoFormat","changeAttribute","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","getAttributeLabel","getProviders","getLayersStore","setLayersStore","layerstore","not_show_attributes_table","POSTGIS","ORACLE","WFS","OGR","MSSQL","SPATIALITE","G3WSUITE","changeFieldType","_ref26","_ref26$options","_ref26$reset","reset","changeConfigFieldType","_ref27","_ref27$options","_ref27$reset","resetConfigField","_ref28","isVector","isTable","getFeatureCount","getStyleFeatureCount","_ref29","_callee12","_ref30","_context12","post","contentType","_x39","LOCAL","VIRTUAL","CSV","GDAL","WCS","MDAL","VECTOR-TILE","VECTORTILE","GEOJSON","EDITOPS","INSERT","UPDATE","DELETE","core/layers/providers/providersfactory","core/relations/relations","35","layerClass","LayerClass","sourcetype","core/layers/baselayers/baselayers","core/layers/geojson","36","initextent","layerstree","_isQueryable","queryable","_layers","setLayerSelection","setLayerSelected","addLayers","_addLayer","removeLayer","_removeLayer","setQueryable","showOnCatalog","setOptions","removeLayers","getLayersDict","PRINTABLE","VISIBLE","SELECTED","CACHED","SELECTED_OR_ALL","SERVERTYPE","BASELAYER","GEOLAYER","VECTORLAYER","HIDDEN","DISABLED","IDS","isUndefined","filtrable","getBaseLayers","getLayerByName","getLayerAttributes","getLayerAttributeLabel","getGeoLayers","_getAllSiblingsChildrenLayersId","nodeIds","traverse","nodes","node","_getAllParentLayersId","_node","selectLayer","getExtent","getInitExtent","removeLayersTree","getLayersTree","setLayersTree","_getInitExtent","_getInitExtent2","rootGroup","root","_traverseLayersTree","createLayersTree","groupName","full","tocLayersId","_traverseLightLayersTree","lightlayer","groupId","mutually_exclusive","_setLayersTreeGroupBBox","project_epsg","_ol$proj$transformExt","proj","transformExtent","_ol$proj$transformExt2","extentCoordinate","minxx","37","LayersStoresRegistry","stores","storesArray","addLayersStore","layersStore","_addLayersStore","removeLayersStore","layerStore","_removeLayersStore","removeLayersStores","_removeLayersStores","storeId","getQuerableLayersStores","getLayersStores","isNil","_storeId","38","ARGISMAPSERVERLegend","_layer$getConfig$sour","layername","serviceUrl","39","arcgismapserver","Legendservice","_ref$options","./arcgismapserverlegend","./wmslegend","40","WMSLegend","width","height","_params$color","color","_params$fontsize","fontsize","_params$transparent","transparent","boxspace","layerspace","_params$layertitle","layertitlespace","symbolspace","iconlabelspace","symbolwidth","symbolheight","itemfontfamily","layerfontfamily","layerfontbold","itemfontbold","layerfontitalic","itemfontitalic","rulelabel","_params$sld_version","sld_version","_options$categories","_options$all","_options$format","LAYER","FORMAT","STYLES","LEGEND_ON","LEGEND_OFF","encodeURIComponent","getContextBaseLegend","_get_LEGEND_ON_LEGEND","get_LEGEND_ON_LEGEND_OFF_Params","41","WMSLAYER","RasterLayers","TiledArgisMapServer","g3w-ol/layers/rasters","42","core/layers/map/vectorlayer","43","allLayers","showSpinnerWhenLoading","_updateLayers","checkLayerDisabled","checkLayersDisabled","setupCustomMapParamsToLegendUrl","44","createOlLayer","createLayerStyle","resetSource","Vector","setSource","_style","_makeStyle","styleConfig","icon","Icon","src","imageSize","stroke","Stroke","fill","Fill","Style","setOLLayer","getVisible","addToMap","45","_objectWithoutProperties","LAYERTYPE","MULTILAYER","_method","withLayers","getGetFeatureInfoUrl","coordinate","getLayerConfigs","_getVisibleLayers","getQueryableLayers","_extraParams$force","visibleLayers","CATEGORIES_LAYERS","OPACITIES","parseInt","prefix","LAYERS","updateParams","46","wmsConfig","representativeLayer","TiledWMSLayer","47","layerOptions","48","GEOJSONDataProvider","_name","Provider","parseFeatures","parser","featureProjection","dataProjection","digestFeaturesForTable","core/layers/providers/provider","49","KMLDataProvider","DataProvider","50","_isReady","_hasFieldsStartWithNotPermittedKey","getTimeoutPromise","handleQueryResponse","responseParser","isValid","handleQueryResponseFromServer","projections","getQueryResponseTimeoutKey","_ref$layers","getTimeoutData","core/utils/parsers","51","providerType","providerClass","ProvidersForServerTypes","Providers","geojson","kml","xml","qgis","wfs","virtual","postgres","oracle","mssql","spatialite","ogr","delimitedtext","wmst","wcs","gdal","vector-tile","vectortile","mdal","./geojsonprovider","./kmlprovider","./qgisprovider","./wfsprovider","./wmsprovider","./xmlprovider","52","QGISProvider","_projections","_queryUrl","_filtertokenUrl","_infoFormat","Parsers","mode","_ref3$data","dataUrl","_ref5$raw","_ref5$suggest","_ref5$formatter","setProjections","_options$filter","layerNames","SERVICE","VERSION","REQUEST","QUERY_LAYERS","INFO_FORMAT","FEATURE_COUNT","FILTER","WITH_GEOMETRY","featuresForLayers","getWidgetData","widgetUrls","unlockUrl","jsonCommits","layerType","urlParams","jsonFilter","_options","_jsonFilter","nofeatures","_jsonFilter2","nofeatures_field","parser_options","featureLock","_urlParams","_loadLayerData","customUrlParameters","_arguments","Obkect","layerCode","noVectorlayerCodes","vectorLayersSetup","_setupVectorLayer","vectorLayersCodes","slice","loadAllVectorsData","_vectorLayersCodes","setVectorLayersCodes","getVectorLayersCodes","reloadVectorData","_createVectorLayerFromConfig","vectorLayer","_getVectorLayerData","vectorDataResponse","setVectorLayerData","_editingApiField","setData","layerCodes","loadedExtent","_loadedExtent","resolvedValue","vectorDataRequests","_loadVectorData","_setCustomUrlParameters","_customUrlParameters","_checkVectorGeometryTypeFromConfig","vectorConfig","layerConfig","_getVectorLayerConfig","vectorConfigResponse","crsLayer","_createVectorLayer","self","_editingMode","setFields","setCrs","lazyRelations","setRelations","setVectorFeaturesLock","getVectorLayerData","_vectorLayersData","getVectorLayersData","vectorLayerData","featureslock","newFeaturesLockIds","differenceBy","getFeatureLocks","newLockId","addLockId","cleanVectorFeaturesLock","cleanFeatureLocks","lockFeatures","_baseUrl","layerApiField","lock","getMode","apiUrl","cleanUpLayers","53","WFSDataProvider","toRawType","_options$reproject","reproject","_options$feature_coun","MAXFEATURES","_options$layers","timeoutKey","_doRequest","featuresForLayer","_featuresForLayer$fea","always","clearTimeout","_post","match","_get","SRSNAME","TYPENAME","OUTPUTFORMAT","filterType","filterConfig","featureRequest","writeGetFeature","featureTypes","_filterConfig$spatial","spatialMethod","children","innerHTML","repeat","queryPromise","status","responseText","54","WMSDataProvider","appendParams","GETFEATUREINFO_IMAGE_SIZE","DPI","getDPI","_getRequestParameters","coordinates","_ref$query_point_tole","query_point_tolerance","getExtentForViewAndSize","x","y","PARAMS_TOLERANCE","bufferGeometry","Polygon","fromCircle","Circle","wkGeometry","WKT","FILTER_GEOM","writeGeometry","FI_POINT_TOLERANCE","FI_LINE_TOLERANCE","FI_POLYGON_TOLERANCE","G3W_TOLERANCE","LEGEND_PARAMS","WIDTH","HEIGHT","layerProjection","_options$size","_options$coordinates","METHOD","test","Content-Type","GET","sourceParam","POST","55","XMLDataProvider","56","clearFeatures","syncSelectionFilterFeatures","setColor","_setColor","_color","_editatbleLayer","getEditingConfig","_ref$constraints","constraints","_ref$capabilities","form","perc","_setOtherConfigParameters","updateItem","setFormPercentage","getFormPercentage","cloneFeatures","setVectorUrl","setProjectType","projectType","getColor","isEditingLayer","getEditingStyle","setEditingStyle","getEditingConstrains","getEditingCapabilities","isFieldRequired","required","validate","editable","isPkField","find_field","pk","isEditingFieldEditable","getEditingMediaFields","getFieldsLabel","labels","getDataFormat","getEditingFormat","addEditingConfigFieldOption","getCommitUrl","setCommitUrl","getEditingUrl","getUnlockUrl","setUnlockUrl","getWidgetUrl","setDataUrl","getDataUrl","getConfigUrl","setConfigUrl","setFeaturesStore","featuresstore","setFieldsWithValues","createAttributesFromFields","attributes","getFieldsWithValues","_options$exclude","exclude","_options$get_default_","get_default_value","forceNull","valid","_valid","value_from_default_value","exclude_values","mutually_valid","empty","createNewFeature","57","VectorMapLayer","getEditingGeometryType","58","_ref$name","_ref$config","getPluginConfig","_ref$service","service","_ref$dependencies","_ref$i18n","_ref$fontClasses","fontClasses","_ref$api","setName","setLocale","setService","setDependencies","addFontClasses","setApi","setHookService","_ready","hookservices","_timeout","setTimeout","removeLoadingPlugin","removeLayout","setPlugin","hook","_hook","getHookService","setLayout","cloneLayout","setCurrentLayout","isCurrentProjectCompatible","projectId","getGid","registerPlugin","iscompatible","getDependencyPlugins","pluginsName","getDependencyPlugin","getDependencyPluginsObject","pluginsApiObject","promises","_x6","isTherePlugin","setHookLoading","_ref3$hook","_ref3$loading","setLoading","addToolGroup","_ref4$hook","order","position","removeToolGroup","addTools","_ref6$hook","html","_ref6$offline","offline","_ref6$options","_ref6$loading","_ref6$disabled","_ref6$state","groupTools","configs","bind","setToolState","_ref7$state","removeTools","createSideBarComponent","vueComponentObject","_ref8$open","_ref8$collapsible","_ref8$mobile","_ref8$isolate","_ref8$closewhenshowvi","_ref8$iconConfig","_ref8$events","_ref8$sidebarOptions","open","collapsible","isolate","closewhenshowviewportcontent","iconConfig","events","sidebarOptions","componentsFactoryOpts","iconColor","getFontClass","PluginSiderbarComponent","addComponent","removeComponent","unload","clearAllEvents","load","addDependency","dependency","addFontClass","className","Vue","g3wtemplate","fonClasses","fontClass","59","_pluginEvents","_appEvents","currentLayout","getCurrentLayoutName","vm","unwatch","$watch","__current","currentLayoutName","resetCurrentLayout","gid","initEvents","registerWindowEvent","evt","cb","unregisterWindowEvent","subscribeEvent","_ref5$once","owner","triggerEvent","_ref6$params","unsubscribeEvent","removeEvent","unsubscribeAllEvents","loadPlugin","60","PrintService","_currentLayerStore","convertObjectToUrlParams","OUTPUT_FORMATS","jpg","COMMON_REQUEST_PARAMETERS","getAtlasParamsFromOptions","template","_options$download","multiValues","EXPRESSION","EXP_FILTER","TEMPLATE","DOWNLOAD","getParamsFromOptions","rotation","dpi","_options$maps","maps","_options$labels","is_maps_preset_theme","preset_theme","mime_type","xhr","XMLHttpRequest","responseType","setRequestHeader","onload","URL","webkitURL","_url","createObjectURL","onerror","send","_getAtlasParamsFromOptions","_getParamsFromOptions","printAtlas","61","catalog_tab","toc_tab_default","_catalog_tab","toc_layers_init_status","toc_themes_init_status","map_themes","expression_eval","vector_data","_processLayers","crsToCrsObject","_projection","_layersStore","_buildLayersStore","setBaseLayer","baselayers","baseLayer","setSearchEndPoint","getAliasUrl","aliasUrl","getActiveCatalogTab","setActiveCatalogTab","tab","context_base_legend","getQueryPointTolerance","getQueryFeatureCount","isQueryMultiLayers","mapcontrol","querymultilayers","getRelationsByLayerId","layer_name_originale","baseLayerId","getBaseLayerId","baseLayerConfig","baseLayerVisibleId","initbaselayer","fixed","overviewprojectgid","WMSUrl","getConfigLayers","setLegendPosition","legend_position","getLegendPosition","getThumbnail","thumbnail","getPrint","getSearches","rasterurl","getOverviewProjectGid","getQgisVersion","qgis_version","setLayersTreePropertiesFromMapTheme","mapThemeConfig","mapThemeLayersTree","groups","map_theme","_ref4$layerstree","getMapThemeFromThemeName","visibility","setCurrentStyleAndResolvePromise","allSettled","_ref6$node","_x8","map_theme_config","theme","getMapThemeConfiguration","_x9","getSpatialBookmarks","bookmarks","getMessages","messages","62","Relation","uniqueSuffix","father","child","fieldRef","referencedField","referencingField","setTitle","getChild","getFather","isLoading","63","_length","_relationsInfo","fathers","father_child","relationConfig","_createRelationsInfo","relationKey","_clearRelationsInfo","father_children","_reloadRelationsInfo","addRelation","removeRelation","childId","fatherId","core/relations/relation","64","GeometryTypes","removeZValueToOLFeatureGeometry","originalFeatureCoordinates","getCoordinates","setCoordinates","singleLine","singlePolygon","addZValueToOLFeatureGeometry","MULTIPOLYGOZM","getOLGeometry","isMultiGeometry","getAllPointGeometryTypes","isPointGeometryType","getAllLineGeometryTypes","isLineGeometryType","getAllPolygonGeometryTypes","isPolygonGeometryType","type3D","coordinatesToGeometry","geometryClass","MultiPolygon","LineString","MultiLineString","Point","MultiPoint","getDefaultLayerStyle","defaultStyle","radius","styleObj","createFeatureFromCoordinates","createFeatureFromBBOX","fromExtent","createFeatureFromGeometry","_ref6$feature","_feature2","olSource","setOpacity","createWMSLayer","_ref7$layers","wmslayer","createVectorLayerFromGeometry","createVectorLayerFromFeatures","createVectorLayerFromFile","createVectorLayer","separator","errorrows","promiseKmz","mapCrs","KML","vectorSource","_fields","GPX","WMSGetFeatureInfo","extractStyles","row","rowvalues","transform","showUserMessage","hooks","footer","autoclose","buffer","kmlFile","JSZip","arrayBuffer","asText","_x11","createStyleFunctionToVectorLayer","styleFunction","rgba","g","b","setText","Text","font","offsetY","_g3w_options","createSelectedStyle","_ref12$color","_ref12$fill","zIndex","Infinity","fillColor","asArray","asString","getAlphanumericPropertiesFromFeature","getQueryLayersPromisesByBBOX","_ref13$filterConfig","_ref13$feature_count","_ref13$multilayers","multilayers","queriesPromise","getMap","getView","getQueryLayersPromisesByGeometry","queryResponses","queryErrors","layersLenght","layerCrs","_ref14$multilayers","_ref14$filterConfig","_ref14$feature_count","filterGeometry","multiLayers","groupBy","numberRequestd","layersLength","_multilayer","getQueryLayersPromisesByCoordinates","_ref15$feature_count","_ref15$query_point_to","_ref15$multilayers","_ref15$reproject","getSize","getResolution","numberOfRequests","_layers2","rejectedResponses","transformBBOX","sourceCrs","destinationCrs","point1","point2","parseQueryLayersPromiseResponses","responses","getMapLayerById","getMapLayersByFilter","areCoordinatesEqual","coordinates1","coordinates2","getFeaturesFromResponseVectorApi","_ref17$type","covertVectorFeaturesToResultFeatures","splitGeometryLine","splitGeometry","lineGeometry","isZType","splitted","splittedSegments","jstsFromWkt","jsts","io","WKTReader","wktFromOl","olFromJsts","OL3Parser","splitLine","read","wktLineString","targetLine","targetCoordinates","targetCoordinatesLength","geometryFactory","GeometryFactory","pointsNotSplitted","endPoint","startPoint","z","segment","createLineString","intersectCoordinates","intersection","splitPoint","lineNewSegment","write","_lineNewSegment","_coordinates","restOfLine","zCoordinates","pointNotSplitted","splitFeatures","_ref18","_ref18$features","splitfeature","splitterdGeometries","geometries","splitFeature","splitType","featureGeometryType","splittedFeatureGeometries","isMulti","polygonFeature","getPolygons","polygonFeatureGeometry","externalPolygonFeatureGeometry","getLinearRing","holePolygons","getLinearRingCount","holeFeaturesGeometry","holeRing","operation","polygonize","Polygonizer","holyPolygonUnion","toArray","polygon","polygonizer","polygons","difference","intersects","getInteriorPoint","polygonCoordinates","_isMulti","lineFeatureGeometry","getLineStrings","getPointFeaturesfromGeometryVertex","pointFeatures","pop","getVertexLength","vertexLength","isSameBaseGeometryType","geometryType1","geometryType2","isSingleGeometry","singleGeometriesToMultiGeometry","multiGeometryToSingleGeometries","getPoints","convertSingleMultiGeometry","toGeometryType","fromGeometryType","isFromGeometryMulti","isToGeometryMulti","dissolve","_ref20$features","_ref20$index","_ref20$clone","featuresLength","dissolvedFeature","jstsdissolvedFeatureGeometry","baseFeature","baseFeatureGeometry","baseFeatureGeometryType","lineMerger","linemerge","LineMerger","addLineString","mergedLineString","getMergedLineStrings","_feature3","dissolvedFeatureGeometry","dissolvedFeatureGeometryType","dissolvedFeatuteGeometryCoordinates","within","geometryToCheck","jstsGeometry","jstsGeometryToCheck","findSelfIntersects","jstsPolygon","validator","IsSimpleOp","isSimpleLinearGeometry","graph","geomgraph","GeometryGraph","cat","ConsistentAreaTester","isNodeConsistentArea","normalizeEpsg","proj4","axisinverted","geographic","ConvertDMToDEG","_ref21","dms","_ref21$type","dms_Array","degrees","minutes","deg","toFixed","ConvertDEGToDM","_ref22$output","output","absolute","abs","ConvertDMSToDEG","_ref23","_ref23$type","seconds","direction","ConvertDEGToDMS","lat","lon","_ref24$output","minutesNotTruncated","getGeoTIFFfromServer","_options$params","csrfmiddlewaretoken","_options$method","body","geoTIFF","FormData","append","fetch","blob","createOlFeatureFromApiResponseFeature","_feature$properties","sanitizeFidFeature","layerAttributes","featureAttributes","featureAttributesNames","featureAttributesName","_featureAttributesNames","_ref26$wms","distance","c1","c2","sqrt","squaredDistance","x1","y1","x2","y2","dx","dy","closestOnSegment","x0","y0","end","along","_checked","65","TOPOFFSET","element","changeLayoutBottomControl","_ref2$isMobile","isMobile","viewPort","getViewport","positionCode","previusControls","previusControl","each","previusControlWidth","previousLeftPosition","previousTopPosition","top","elementTopPosition","hOffset","createControlUserMessageTool","66","INCHES_PER_UNIT","m","DOTS_PER_INCH","obj1","obj2","obj3","center","cosRotation","cos","sinRotation","sin","xCos","xSin","yCos","ySin","x3","y3","max","createPolygonLayerFromBBox","polygonLayer","reverseGeometry","reverseCoordinates","units","round","getResolutionFromScale","normScale","getMetersFromDegrees","Units","METERS_PER_UNIT","needUseSphereMethods","getUnits","getLengthMessageText","useSphereMethods","sphere","totalLength","transformMeterLength","getAreaMessageText","_ref2$segments","segments","area","getArea","segments_info_meausure","segmentLength","transformMeterArea","formatMeasure","getCurrentMapUnit","createMeasureTooltip","tooltip","Overlay","offset","positioning","addOverlay","unbyKey","tooltipCoord","getInteriorPoints","getLastCoordinate","setPosition","tounit","removeMeasureTooltip","removeOverlay","Observable","unByKey","setMeasureTooltipStatic","getElement","setOffset","67","olutils","WORD_NUMERIC_FIELD_ESCAPE","getHandledResponsesFromResponse","_ref$id","x2js","X2JS","jsonresponse","xml_str2json","FeatureCollection","handledResponses","featureMember","originalFeatureMember","featureMemberArrayAndPrefix","__prefix","g3w_fid","__text","_fid","groupFeatures","groupFeaturesByFields","handleWMSMultiLayersResponseFromQGISSERVER","_jsonresponse$Feature","handledResponse","parseLayerFeatureCollection","transformFeatures","mainProjection","invertedAxis","reverseFeaturesCoordinates","_require3$Geometry","layerFeatureCollectionXML","json2xml_str","hasFieldsStartWithNotPermittedKey","numericFields","ori_field","handleXMLStringResponseBeforeConvertToJSON","String","XMLSerializer","serializeToString","originalName","sanitizeLayerName","reg","RegExp","arrayQGS","matchAll","originalField","regex","strangeChar","fromCharCode","sub_index","_jsonresponse$Feature2","contenttypes","application/json","_ref5$layers","_ref5$wms","_require4","layersFeatures","layersId","parseData","defaultDataProjection","geometryName","application/geojson","parserGEOJson","text/html","rawdata","text/plain","text/gml","parserGML","application/vnd.ogc.gml","_ref10$wms","not_supported_format","_ref11$layers","VectorParser","_parseLayerGeoJSON","_parseLayermsGMLOutput","gml","gmlTag1","gmlTag2","boundary","parts","part","isGmlPart","TableParser","_parserJSON","_data$features","68","decimalAdjust","exp","NaN","round10","floor10","ceil10","hashCode","hash","chr","len","charCodeAt","Base64","_keyStr","encode","s","_utf8_encode","charAt","decode","_utf8_decode","getUniqueDomId","basemixin","destination","sourceInstance","hasOwn","object","childCtor","parentCtor","tempCtor","superClass_","me","opt_methodName","var_args","caller","callee","foundCaller","ctor","truefnc","falsefnc","getValueFromG3WObjectEvent","getAjaxResponses","listRequests","requestsLenght","DoneRespones","FailedResponses","trimValue","isURL","_ref$reserverParamete","checkUrl","_params","toUpperCase","_param","uri","keyParams","k","qs","imageToDataURL","_ref2$callback","callback","Image","canvas","context","getContext","naturalHeight","naturalWidth","drawImage","dataURL","toDataURL","capitalize_first_letter","string","_toString","isEmptyObject","lastCall","previousCall","func","timeout","getRandomColor","copyUrl","tempinput","select","execCommand","downloadFile","filename","_ref3$mime_type","temapAncor","dataset","downloadurl","href","click","Blob","json","_x7","downloadCSVLayerFeatures","_ref6$alias","alias","downloadCSV","convertToCSV","str","line","_ref7$filename","_ref7$items","exportedFilenmae","navigator","msSaveBlob","_ref8$timeout","_ref9$params","_ref10$formdata","formdata","getResponseStatusHeaders","_formdata","ajax","processData","htmlescape","_ref11$httpMethod","timeoutId","downloadPromise","createSingleFieldParameter","_ref12$operator","_ref12$logicop","_ref12$search_endpoin","valueLenght","_valueLenght","createFilterFromString","_ref13$search_endpoin","_ref13$filter","stringFilter","regexoperator","regexsinglequote","re","replaceValue","createFilterFormInputs","_ref16$search_endpoin","_ref16$inputs","isLayerArray","filters","_ref17$search_endpoin","_ref17$operator","splitContextAndMethod","_string$split","_string$split2","colorHEXToRGB","convertQGISDateTimeFormatToMoment","datetimeformat","matchDayInDate","sortAlphabeticallyArray","localeCompare","sensitivity","sortNumericArray","ascending","sameOrigin","url1","url2","origin","69","InputValidators","validators","float","integer","isSafeInteger","checkbox","datetimepicker","fielddatetimeformat","moment","radio","range","Validator","70","_workflow","queques","Queque","micro","getInputs","getSteps","runStep","setMessages","help","runMicroTasks","onDone","onError","clearQueques","isRunning","core/workflow/queque","71","tasks","addTask","shift","flush","72","_options$inputs","_options$context","_options$task","_options$outputs","escKeyPressEventHandler","_inputs","_task","_outputs","running","registerEscKeyEvent","escKeyUpHandler","_evt$data","unbindEscKeyUp","unbind","bindEscKeyUp","getTask","setInputs","setContext","panic","getHelp","getError","getMessage","setTask","setOutputs","getOutputs","73","usermessagesteps","setRoot","getUserMessageSteps","setUserMessageSteps","setUserMessageStepDone","74","_options$flow","flow","_options$steps","_options$runOnce","runOnce","_promise","_flow","_steps","_child","_stackIndex","_messages","_userMessageSteps","messagesSteps","createUserMessageStepsFactory","getContextService","setContextService","getStackIndex","addChild","setInput","_setInputs","getFlow","setFlow","addStep","setSteps","getStep","clearMessages","_isThereUserMessaggeSteps","clearUserMessagesSteps","getLastStep","getRunningStep","_stopChild","getCurrent","stepsComponent","closable","_resetUserMessaggeStepsDone","closeUserMessage","userMessageSteps","buttonnext","gui/workflow/createUserMessageStepsFactory","75","SPATIALMETHODS","VM","76","AddLayersControl","tipLabel","Control","_layerstore","setMap","getLayersSore","g3w-ol/controls/control","77","AreaIteraction","MeasureControl","AreaControl","clickmap","interactionClass","g3w-ol/controls/measurecontrol","78","_constants","InteractionControl","VALIDGEOMETRIES","BaseQueryPolygonControl","_options$spatialMetho","onSelectlayer","default_options","toggledTool","how","onhover","geometryTypes","g3w-ol/constants","g3w-ol/controls/interactioncontrol","79","_options$name","_options$visible","_options$enabled","enabled","_enabled","eventKeys","customClass","mapControlButtonVue","functional","render","h","_class","class","attrs","directives","mapControlButtonDOMElement","$mount","$el","buttonClickHandler","_handleClick","control","_postRender","isClickMap","isToggled","_toggled","setEventKey","eventType","eventKey","originalHandler","resetOriginalHandlerEvent","overwriteEventHandler","handler","getPosition","event","preventDefault","resetControl","getControls","toggle","shiftPosition","hWhere","changelayout","showControl","hideControl","left","controlWidth","outerWidth","newPosition","siblings","hide","setEnable","first","toggleClass","_interaction","setActive","getEnable","_visible","g3w-ol/controls/utils","80","_classCallCheck","instance","Constructor","GeocodingControl","placeholder","noresults","notresponseserver","lang","limit","keepOpen","autoComplete","autoCompleteMinLength","viewbox","bounded","fontIcon","Google","Nominatim","containerClass","cssClasses","namespace","inputText","container","GeocoderVueContainer","inputQueryId","autocomplete","btn","val","aria-hidden","inputResetId","lastQuery","registeredListeners","mapClick","showMarker","hideMarker","zoomToGeometry","createControl","_this10","hit","which","keyCode","focus","addClass","clearResults","handleValue","removeClass","addEventListener","q","_this11","isNumber","_q$split","_q$split2","firstChild","_provider$getParamete","getParameters","countrycodes","spin","_providers$index$hand","header","createList","_this12","_ref4$results","ul","createHeaderProviderResults","addressHtml","addressTemplate","address","li","chosen","original","elementVue","nominatim-noresult","place","addressObj","addressOriginal","coord","parseFloat","headerNodeElement","classList","road","building","house_number","city","town","village","country","expand","_this13","glass","collapse","blur","removeAllChildren","_this14","_createClass","defineProperties","props","descriptor","protoProps","staticProps","olControl","isNumeric","classRegex","classname","array","hasClass","_addClass","el","klass","_removeClass","remove","contains","selector","find_all","simpleRe","periodRe","matches","getElementsByClassName","querySelectorAll","getElementById","isElement","HTMLElement","nodeType","nodeName","getAllChildren","tag","isEmpty","emptyArray","anyMatchInArray","some","everyMatchInArrayy","arr1","every","anyItemHasValue","removeAll","collection","parentNode","childNodes","tagName","htm","htmlEscape","attr","frag","createDocumentFragment","settings","addressdetails","_settings","containsXY","neighbourhood","postcode","formatted","display_name","details","google","_settings2","bounds","location","address_components","types","long_name","short_name","./control","81","GeolocationControl","_showMarker","_ref$show","setCenter","toggledKeyEvent","geolocation","Geolocation","tracking","trackingOptions","enableHighAccuracy","82","GeoScreenshotControl","ScreenshotControl","g3w-ol/controls/screenshotcontrol","83","_mapControls","_mapControls2","_options$toggled","toggled","_options$clickmap","_options$interactionC","_options$autountoggle","autountoggle","_options$geometryType","_options$onhover","_options$help","_options$interactionC2","interactionClassOptions","unwatches","listenLayersVisibilityChange","_interactionClass","_autountoggle","_geometryTypes","_onhover","_help","_helpButton","_toolButton","_interactionClassOptions","_createModalHelp","createControlTool","handleChangeSpatialMethod","onSelectLayer","runSpatialQuery","onAddExternalLayer","unWatches","onRemoveExternalLayer","handleSelectedLayer","handleExternalSelectedLayer","checkVisibile","enable","disable","component","_toggledTool$how","getSpatialMethod","methods","watch","setSpatialMethod","created","setCloseUserMessageBeforeSetContent","beforeDestroy","_createToolOnHoverButton","prepend","stopPropagation","showToggledTool","hover","mouseleave","_showModalHelp","showModalDialog","getGeometryTypes","getControlBottom","addClassToControlBottom","controlButton","removeClassToControlBottom","setGeometryTypes","addInteraction","getInteraction","setSelectedLayer","getSelectedLayer","getExternalLayers","unlistenSpatialMethodChange","watchLayer","expOrFn","isSelectedLayerVisible","hasVisibleProjectLayer","hasVisibleExternalLayer","hasVisibleLayers","addExternalLayerToResult","isExternalLayerSelected","store/map-controls","84","LenghtIteraction","LengthControl","85","_map","86","MousePositionControl","MousePosition","87","OLControl","_control","Zoom","ZoomToExtent","ScaleLine","OverviewMap","getOlControl","last","previousOffset","right","previousWidth","offsetWidth","showHide","88","OnClickControl","_originalonlick","_onclick","onclick","overwriteOnClickEvent","clickHandler","resetOriginalOnClickEvent","controlElement","buttonControl","cliccked","89","layersFilterObject","condition","QueryBBoxControl","_startCoordinate","filterableLayersAvailable","DragBox","checkVisible","boundingExtent","findLayer","closeOpenSideBarComponent","addExternal","isThereVisibleLayerNotSelected","90","QueryByDrawPolygonControl","Draw","excludeSelected","_ref3$error","g3w-ol/controls/basequerypolygoncontrol","91","QueryByPolygonControl","controlQuerableLayers","controlFiltrableLayers","filterableLayers","queryableLayers","_x3","getPolygonFeatureFromCoordinates","listenPolygonLayersChange","_ref7$error","92","QueryControl","eventSingleClickKey","runQuery","93","ResetControl","94","ScaleControl","deleteLastCustomScale","select2","option","scales","addCustomTag","trigger","newOption","Option","isMapResolutionChanged","selectedOnClick","tags","dropdownParent","getTargetElement","noResults","minimumResultsForSearch","createTag","newTag","term","isInteger","view","setChangeResolutionHandler","setResolution","_setScales","currentResolution","currentScale","_createControl","controlDomElement","optgroup","optgroup_custom","95","g3w-ol/controls/onclickcontrol","96","StreetViewComponent","GoogleStreetViewApiUrl","StreetViewControl","keyError","_sv","_panorama","_lastposition","_streetViewFeature","streetVectorSource","atan2","pixel","StreetViewService","getPanorama","StreetViewPanorama","imageDateControl","addListener","lnglat","getPixelFromCoordinate","setPov","pitch","heading","latLng","closeContent","showStreetView","_ol$proj$transform","_ol$proj$transform2","setContent","clearMarker","gui/streetview/vue/streetview","97","_ol","_ol2","core/utils/ol.controls","98","ZoomBoxControl","start_coordinate","end_coordinate","99","ZoomHistoryControl","vueElement","_MapControlZoomHistory2","_MapControlZoomHistory","components/MapControlZoomHistory.vue","100","maphelpers","helpers","g3w-ol/map/maphelpers","101","MeasureInteraction","g3w-ol/interactions/measureinteraction","102","DeleteInteractionEvent","DeleteInteraction","Pointer","handleDownEvent","handleDownEvent_","handleMoveEvent","handleMoveEvent_","handleUpEvent","handleUpEvent_","handleEvent","handleEvent_","previousCursor_","startCursor_","lastCoordinate_","features_","layer_","map_","mapBrowserEvent","originalEvent","lastFeature_","featuresAtPixel_","cursor","intersectingFeature","forEachFeatureAtPixel","includes","103","LengthIteraction","104","MeasureIteraction","_helpTooltip","_measureTooltipElement","_measureTooltip","_featureGeometryChangelistener","_poinOnMapMoveListener","testTooltip","_helpMsg","drawColor","measureStyle","lineDash","_helpTooltipElement","_drawStart","_drawEnd","setDrawMessage","_clearMessagesAndListeners","measureTooltip","off","_keyDownEventHandler","_removeLastPoint","removeLastPoint","dragging","helpMsg","_createHelpTooltip","_createMeasureTooltip","105","PickCoordinatesEventType","PICKED","PickCoordinatesEvent","_centerMap","getCenter","shouldStopEvent","106","PickFeatureEventType","PickFeatureEvent","layers_","pickedFeature_","pickedLayer_","layerFilter_","include","featureFound","layerFilter","hitTolerance","any","107","Tile","basemap","_ref2$visible","_ref2$url","_ref2$source_type","_ref2$crossOrigin","crossOrigin","_ref3$singleTile","_ref3$opacity","_ref4$style","_ref4$format","_ref4$opacity","projectionExtent","resolutions","getWidth","matrixIds","pow","tileGrid","tilegrid","getTopLeft","preload","BingMaps","108","loadImageTileFunction","_ref$method","_ref$sourceOptions","sourceOptions","imageTile","_url$split","_url$split2","getImage","TileState","ERROR","layerObj","_WMSLayer","optionsFromCapabilities","ImageArgisMapServer","ImageArcGISRest","ratio","TileArcGISRest","_options$tiled","_layerObj$iframe_inte","_layerObj$layers","_layerObj$version","_layerObj$sld_version","_layerObj$opacity","maxResolution","TRANSPARENT","SLD_VERSION","imageOptions","TileWMS","ImageWMS","_options$visible2","createXYZ","getResolutions","TileGrid","XYZ","109","MapHelpers","createViewer","opts","_Viewer","defaults","attribution","DragRotate","View","ol3Logo","keyboardEventTarget","Map","destroy","dispose","updateMap","mapObject","updateView","setTarget","zoomTo","setZoom","goTo","animate","panAnimation","zoomAnimation","goToRes","fit","constrainResolution","getZoom","getBBOX","calculateExtent","removeLayerByName","getActiveLayers","activelayers","getLayersNoBase","addBaseLayer","Aerial","changeBaseLayer","../layers/bases","110","Projection","_options$crs","proj4def","_options$crs$geograph","_options$crs$axisinve","defs","_axisOrientation","isInvertedAxisOrientation","getOlProjection","111","isRegistered","cachedProjection","addProjection","registerProjection","./projection","112","CatalogService","prstate","highlightlayers","layerstrees","layersgroups","addExternalLayer","removeExternalLayer","setSelectedExternalLayer","externalLayer","layersStores","addLayersStoreToLayersTrees","layersTree","storeid","createLayersGroup","_ref4$title","_ref4$layers","getMajorQgisVersion","addLayersGroup","layersGroup","tree","changeMapTheme","currentProject","rootNode","changeMapThemeProjectObj","changeProjectView","_x4","_ref6$type","_ref7$type","getExternalLayerById","_ref8$type","113","_interopRequireWildcard","newObj","resizable","mapComponentId","mapcomponentid","Service","setInternalComponent","InternalComponent","internalComponent","listenToMapVisibility","_components2","_Catalog","catalogComponentOptions","_CatalogLayersGroup","catalogLayersGroupComponentOptions","_CatalogTristateTree","catalogTristateTreeComponentOptions","_CatalogLayersLegend","catalogLayersLegendComponentOptions","_CatalogLayersLegendItems","catalogLayersLegendItemsComponentOptions","_components","components/Catalog.vue","components/CatalogLayersGroup.vue","components/CatalogLayersLegend.vue","components/CatalogLayersLegendItems.vue","components/CatalogTristateTree.vue","gui/catalog/catalogservice","store/components","114","CatalogEventHub","115","ChangeMapMenuComponent","_ChangeMapMenu","vueComponentOptions","components/ChangeMapMenu.vue","116","Chartsfactory","CHARTS","_ref$hooks","_type$split","_type$split2","_type$split2$","library","_type$split2$2","chartType","chartVue","117","VUECOMPONENTSATTRIBUTES","_firstLayout","_options$id","_options$title","_options$open","_options$resizable","_options$info","_options$loading","_options$disabled","_options$closewhensho","sizes","setOpen","_setOpen","_setVisible","reload","_reload","handleEventsComponent","vueComponent","createVueComponent","components","propsData","_service","setInternalComponentTemplate","getOpen","closeWhenViewportContentIsOpen","_events","_open$when","_open$cb","guiEvents","insertComponentAt","removeCompomentAt","popComponent","setComponents","exendComponents","getInternalComponent","internalComponentClass","_options$events","$on","vueObjOptions","addInternalComponentData","overwriteServiceMethod","methodName","overwriteServiceMethods","methodsOptions","extendService","serviceOptions","extendInternalComponent","internalComponentOptions","extendInternalComponentMethods","extendInternalComponentComponents","extendComponents","extendInternalComponentComputed","computed","getInternalTemplate","mount","iCinstance","$nextTick","localize","unmount","$off","$destroy","ismount","$emit","118","buildSidebar","_options$collapsible","_options$isolate","_options$mobile","_options$iconConfig","_options$sidebarOptio","119","matcher","searchItem","modifiedData","errorLoading","searching","inputTooShort","remainingChars","minimum","120","_FieldText","_FieldText2","_FieldLink","_FieldLink2","_FieldImage","_FieldImage2","_FieldGeo","_FieldGeo2","_FieldMedia","_FieldMedia2","_FieldVue","_FieldVue2","simple_field","text_field","link_field","image_field","geo_field","photo_field","media_field","vue_field","components/FieldGeo.vue","components/FieldImage.vue","components/FieldLink.vue","components/FieldMedia.vue","components/FieldText.vue","components/FieldVue.vue","121","URLPattern","PhotoPattern","FieldType","SIMPLE","GEO","LINK","PHOTO","PHOTOLINK","POINTLINK","ROUTE","VUE","fieldValue","photo","isSimple","isLink","isImage","isPhoto","isVue","_ref2$field","resetConfigFieldType","_ref3$field","./fields","122","eventBus","setInitForm","_setInitForm","setFormStructure","formStructure","formstructure","setFormFields","handleFieldsWithExpression","setupFields","_setupFields","setFormData","setField","addActionsForForm","actions","postRender","formId","_options$buttons","buttons","context_inputs","isnew","_options$footer","headerComponent","layerid","disabledcomponents","currentheaderid","tovalidate","componentstovalidate","filter_expression_fields_dependencies","default_expression_fields_dependencies","default_expression_fields_on_update","listenChangeInput","changeInput","evaluateFilterExpressionFields","evaluateDefaultExpressionFields","setUpdate","_options$force","expression_dependency_field","_getField","fieldForm","_handleFieldWithFilterExpression","_filter_expression$re","referencing_fields","_filter_expression$re2","referenced_columns","dependency_fields","dependency_field","_handleFieldWithDefaultExpression","_default_expression$r","_default_expression$r2","_default_expression$a","apply_on_update","setCurrentFormPercentage","setValidComponent","getValidComponent","mutually","countNoTEmptyInputName","inputname","previous","min_field","max_field","input_name","addComponents","_component$header","replaceComponent","disableComponent","disableId","disabledId","setCurrentComponentById","setIdHeader","setRootComponent","getRootComponent","isRootComponent","getComponentById","setComponent","addedComponentTo","formcomponent","addedcomponentto","addToValidate","removeToValidate","getEventBus","handleRelation","clearAll","saveDefaultExpressionFieldsNotDependencies","alreadyRequestDefaultExpressionFields","defaultExpressionPromises","dFs","_loop2","_ret2","delegateYield","123","addBodyFormComponent","_ref$where","where","addBodyFormComponents","_ref2$components","_ref2$where","addFormComponents","addFormComponent","addDependecyComponents","addComponentBeforeBody","addComponentAfterBody","addComponentBeforeFooter","addComponentAfterFooter","setModal","reloadLayout","_Form","components/Form.vue","124","CheckBoxService","validatorOptions","convertCheckedToValue","convertValueToChecked","valueToCheck","gui/inputs/service","125","_InputCheckbox","CheckBoxInput","components/InputCheckbox.vue","126","_InputColor","TextInput","components/InputColor.vue","127","DateTimePickerService","getLocale","applicationConfig","setValidatorOptions","128","_InputDateTimePicker","DateTimePickerInput","components/InputDateTimePicker.vue","129","FloatService","130","_InputFloat","FloatInput","components/InputFloat.vue","131","_InputBase","_InputBase2","InputServices","Input","baseInputMixin","baseinput","notvalid","_notvalid","setErrorMessage","state.value","destroyed","./services","components/InputBase.vue","132","text_input","texthtml_input","textarea_input","integer_input","string_input","float_input","radio_input","check_input","range_input","datetimepicker_input","unique_input","select_input","media_input","select_autocomplete_input","picklayer_input","color_input","slider_input","lonlat_input","./checkbox/vue/checkbox","./color/vue/color","./datetimepicker/vue/datetimepicker","./float/vue/float","./integer/vue/integer","./lonlat/vue/lonlat","./media/vue/media","./picklayer/vue/picklayer","./radio/vue/radio","./range/vue/range","./select/vue/select","./sliderrange/vue/sliderrange","./text/vue/text","./textarea/vue/textarea","./texthtml/vue/texthtml","./unique/vue/unique","133","IntegerService","134","_InputInteger","IntegerInput","components/InputInteger.vue","135","LonLatService","coordinatebutton","mapEpsg","mapControlToggleEventHandler","toggleGetCoordinate","outputEpsg","eventMapKey","setCoordinateButtonReactiveObject","startToGetCoordinates","stopToGetCoordinates","deactiveMapControls","_coordinate","136","_InputLonLat","LatLontInput","components/InputLonLat.vue","137","MediaService","138","_InputMedia","MediaInput","components/InputMedia.vue","139","PickLayerService","pick_type","ispicked","isPicked","unpick","pick","afterPick","_response$0$data","removeInteraction","140","_InputPickLayer","PickLayerInput","components/InputPickLayer.vue","141","RadioService","142","_InputRadio","RadioInput","components/InputRadio.vue","143","RangeService","_options$state$input$","Validators","setValidator","isValueInRange","core/utils/validators","144","_InputRange","RangeInput","components/InputRange.vue","145","SelectService","_getLayerById","addValue","getKeyByValue","arrayValues","_arrayValues","$value","_ref2$layer_id","_ref2$key","_ref2$value","search_value","146","_InputSelect","SelectInput","components/InputSelect.vue","147","setValue","setEmpty","_validator","getValue","addValueToValues","_getValidatorType","isObject","getValidator","148","InputsServices","textarea","texthtml","media","select_autocomplete","picklayer","lonlat","./checkbox/service","./datetimepicker/service","./float/service","./integer/service","./lonlat/service","./media/service","./radio/service","./range/service","./select/service","./service","./sliderrange/service","./unique/service","149","SliderRangeService","changeInfoMessage","150","_InputSliderRange","components/InputSliderRange.vue","151","_InputText","components/InputText.vue","152","_InputTextArea","TextAreaInput","components/InputTextArea.vue","153","_InputTextHtml","TextHtmlInput","components/InputTextHtml.vue","154","UniqueService","155","_InputUnique","UniqueInput","components/InputUnique.vue","156","OnClikControl","geoScreenshotControl","ControlsFactory","create","ControlClass","CONTROLS","zoombox","zoomtoextent","querybbox","querybypolygon","streetview","scaleline","overview","geocoding","addlayers","mouseposition","screenshot","geoscreenshot","querybydrawpolygon","zoomhistory","nominatim","g3w-ol/controls/addlayers","g3w-ol/controls/areacontrol","g3w-ol/controls/geocodingcontrol","g3w-ol/controls/geolocationcontrol","g3w-ol/controls/geoscreenshotcontrol","g3w-ol/controls/lengthcontrol","g3w-ol/controls/mousepositioncontrol","g3w-ol/controls/olcontrol","g3w-ol/controls/querybboxcontrol","g3w-ol/controls/querybydrawpolygoncontrol","g3w-ol/controls/querybypolygoncontrol","g3w-ol/controls/querycontrol","g3w-ol/controls/resetcontrol","g3w-ol/controls/scalecontrol","g3w-ol/controls/streetviewcontrol","g3w-ol/controls/zoomboxcontrol","g3w-ol/controls/zoomhistorycontrol","157","MapService","hidemaps","mapcontrolsalignement","mapcontrolDOM","mapcontrolready","mapcontrolSizes","minWidth","minHeight","mapControl","currentIndex","map_info","mapunits","viewer","maps_container","_layersStoresEventKeys","_keyEvents","g3wobject","eventemitter","_changeMapMapControls","_externalMapLayers","_externalLayers","_externalInteractions","mapBaseLayers","defaultsLayers","highlightLayer","selectionLayer","layersExtraParams","_greyListenerKey","_drawShadow","outer","inner","_howManyAreLoading","_layersLoadingError","_incrementLoaders","showSpinner","_decrementLoaders","hideSpinner","_mapLayerLoadError","notify","keysetCurrentProject","_removeListeners","isSameProject","changeProjectCallBack","_resetView","_setupAllLayers","_checkMapControls","setUpMapOlEvents","who","_setupListeners","_marker","_bboxLayer","_setupCustomMapParamsToLegendUrl","setupControls","_setupControls","addHideMap","_ref$switchable","mainview","switchable","idMap","updateMapView","updateMapLayers","setupViewer","_setupViewer","controlClick","loadExternalLayer","unloadExternalLayer","_onCatalogSelectLayer","catalogSelectedLayer","extraParamsSet","getMapLayers","_setUpEventsKeysToLayersStore","_removeEventsKeysToLayersStore","_wms","WFSProvider","olhelpers","dynamicLegend","keyEvent","keyolchangeresolution","_updateMapView","keyolmoveeend","eventObject","removeListener","showMapSpinner","hideMapSpinner","getScaleFromExtent","getResolutionForExtent","getMapUnits","_addHideMap","_ref2$mainview","view_options","_idMap$map$getSize","_idMap$map$getSize2","setSize","removeHideMap","_showHideMapElement","_ref3$show","createMapImage","background","getMapCanvas","msToBlob","toBlob","getApplicationAttribution","_config$group","header_terms_of_use_link","header_terms_of_use_text","slaveOf","sameLayers","setLayersExtraParams","viewport","isMapHidden","isAxisOrientationInverted","getViewerElement","getGetFeatureInfoUrlForLayer","getMapLayerForLayer","lyr","getVectorLayerFeaturesFromCoordinates","intersectGeom","getIntersectedFeatures","intersectsExtent","getQueryLayerByCoordinates","getQueryLayerPromiseByCoordinates","activeMapControl","controlName","createMapControl","_ref7$add","_ref7$toggled","_ref7$options","addControl","addScaleLineUnits","changeScaleLineUnit","scalelinecontrol","getMapControlByType","setUnits","showAddLayerModal","baseLayers","attributionControl","Attribution","mapcontrols","controlType","zoomInLabel","zoomOutLabel","coordinateLabels","coordinateFormat","undefinedHTML","mapEspg","_coordinateLabels","_crs","caller_download_id","blobImage","_bbox","setDownload","saveAs","getMapBBOX","getCookie","createStringXY","overviewproject","overviewProjectGid","overViewMapLayers","getOverviewMapLayers","viewOptions","_calculateViewOptions","mainView","currentCenter","constrainCenter","collapseLabel","collapsed","_project$state","_mapCrs","_addControlToMapControlsLeftBottom","getMapControls","setZIndexLayer","_ref10$zindex","zindex","setZIndex","getLayerZindex","getZIndex","zoomToFid","_zoom_to_fid$split","_zoom_to_fid$split2","zoom_to_fid","handleZoomToFeaturesUrlParameter","_zoom_to_features$spl","_zoom_to_features$spl2","layerNameorIdorOrigname","fieldsValuesSearch","_ref15$zoom_to_featur","zoom_to_features","_ref15$search_endpoin","getMapExtent","addMapExtentUrlParameterToUrl","getMapExtentUrl","map_extent","createCopyMapExtentUrl","_setMapControlsGrid","rC","rows","columns","_rC","_rC2","_setMapControlsInsideContainerLenght","setMapControlsAlignement","alignement","getMapControlsAlignement","isMapControlsVerticalAlignement","setMapControlsVerticalAlignement","setMapControlsHorizontalAlignement","flipControlsHorizontally","flipMapControlsVertically","mapcontrolsalignment","setMapControlsContainer","mapControlDom","_updateMapControlsLayout","changedAndMoreSpace","space","handleVerticalMapControlDOMElements","mapControslHeight","bottomMapControls","bottomMapControlTop","freeSpace","nextHeight","_mapControslHeight","mapControlsWidth","_setMapControlVisible","_ref18$visible","_addControlToMapControls","display","addToMapControls","placement","$mapElement","getTarget","registerControl","showControls","hideControls","toggleControls","showAllControls","hideAllControls","_removeControls","controlObj","_layoutControls","removeControlById","ctrlIdx","removeControl","_this15","_this16","_unToggleControls","_ref20$close","disableClickMapControls","addMapLayers","mapLayers","_this17","addMapLayer","addLayerToMap","getMapLayerByLayerId","multilayerId","getProjectLayer","_setSettings","_viewer$map$getSize","_viewer$map$getSize2","maxxRes","minyRes","getHeight","getMaxResolution","setView","_this18","URLSearchParams","lat_lon","x_y","maxyRes","initxRes","inityRes","_this19","background_color","getInteractions","_watchInteraction","stopEvent","setLayerZIndex","moveDefaultLayersOnTop","layerZIndex","_setBaseLayerListenerKey","layerStoreId","eventObj","_this20","addLayerKey","removeLayerKey","_this21","_setupBaseLayers","_setupMapLayers","_setupVectorLayers","_setUpDefaultLayers","_this22","baseMapLayer","registerMapLayerListeners","reverseBaseLayers","_this23","_setMapProjectionToLayers","qtimeseries_multilayerid_split_values","multiLayerId","sub_layer","_this24","mapVectorLayer","removeDefaultLayers","setDefaultLayerStyle","resetDefaultLayerStyle","_removeBaseLayers","_removeMapLayers","removeExternalLayers","removeAllLayers","_ref26$zindex","_this25","createMapLayer","projectLayers","overviewMapLayers","updateMapLayer","_ref29$showSpinner","g3w_time","_this26","_this27","registerMapLayerLoadingEvents","unregisterMapLayerLoadingEvents","unregisterMapLayerListeners","elId","getCurrentToggledMapControl","_options$active","untoggleMapControls","_this28","getActive","showMapInfo","_ref31","hideMapInfo","getGeometryAndExtentFromFeatures","geometryCoordinates","featureExtent","_featureExtent","olClassGeomType","highlightFeatures","_getGeometryAndExtent","highlightGeometry","highLightGeometry","zoomToExtent","_getGeometryAndExtent2","getResolutionForZoomToExtent","compareExtentWithProjectMaxExtent","projectExtent","inside","extentResolution","goToBBox","goToWGS84","extentToWGS84","getResolutionForMeters","meters","clientWidth","clientHeight","animatingHighlight","addedFeature","clearSelectionFeatures","seSelectionLayerVisible","geometryObj","_this29","clearHighlightGeometry","customStyle","readGeometry","refreshMap","_ref32","is_hidden","updateSize","hidemap","_this30","_this31","getMapSize","setInnerGreyCoverScale","_resetDrawShadowInner","setInnerGreyCoverBBox","lowerLeftInner","upperRightInner","y_min","DEVICE_PIXEL_RATIO","x_min","y_max","x_max","startDrawGreyCover","_this32","stopDrawGreyCover","postcompose","ctx","restore","beginPath","moveTo","lineTo","closePath","translate","rotate","PI","fillStyle","textAlign","arrayMessages","fillText","_this33","changeLayerVisibility","_ref33","changeLayerOpacity","_ref34","_ref34$opacity","changeLayerMapPosition","_ref35","_ref35$position","_this34","catalogService","QueryResultService","unregisterVectorLayer","externalMapLayer","addExternalWMSLayer","_this35","_ref36","_ref36$epsg","_ref36$position","_ref36$visible","_createWMSLayer","addExternalMapLayer","_ref37","_options$position","_options$opacity","_this36","registerVectorLayer","_x56","setExternalLayerStyle","featureStyleFunction","getStyleFunction","core/layers/providers/wfsprovider","g3w-ol/g3w.ol","gui/wms/vue/wms","158","$cookie","_Map","components/Map.vue","gui/map/mapservice","159","MetadataService","_buildProjectGroupMetadata","ProjectMetadataComponent","METADATAGROUPS","general","spatial","getProjectMetadata","getLayersMetadata","getLayerMetadata","layerMetadata","showMetadata","gui/metadata/vue/components/project/project","160","_ref$state","_MetadataProject2","_MetadataProject","components/MetadataProject.vue","161","_Metadata","components/Metadata.vue","gui/metadata/metadataservice","162","internalPanel","panel","getInternalPanel","setInternalPanel","showPanel","closePanel","onShow","onClose","onResize","parentWidth","parentHeight","163","PrintComponentService","printService","_initialized","_moveMapKeyEvent","_page","_mapUnits","_scalesResolutions","isShow","printextent","setInitState","PrintPage","atlas","atlasValues","scala","dpis","formats","changeTemplate","isPreviousAtlas","_state$print$find","_clearPrint","showPrintArea","_setPrintArea","changeScale","changeRotation","_getPrintExtent","lowerleft","upperright","getOverviewExtent","xmin","xmax","ymin","ymax","overviewextent","_getOptionsPrint","setPrintAreaAfterCloseContent","stopLoading","disableSideBar","showError","startLoading","_calculateInternalPrintExtent","_state$maps$find","w","resolutionInMeters","getCoordinateFromPixel","currentScala","_setAllScalesBasedOnMaxResolution","mapScala","orderScales","orderBy","addedFirstHighestScale","handleScala","higherScale","_setInitialScalaSelect","_setCurrentScala","res","_setMoveendMapEvent","_showPrintArea","_initPrintConfig","mapComponent","renderSync","core/print/printservice","gui/print/vue/printpage","164","_Print","components/Print.vue","gui/print/printservice","165","_PrintPage","components/PrintPage.vue","166","MenuComponent","menuitems","host","_ProjectsMenu","components/ProjectsMenu.vue","167","ProjectsMenuComponent","getListableProjects","description","cbk","changeProject","gui/projectsmenu/menu","168","QueryBuilder","QueryBuilderPanel","QuerybuilderUIfactory","QueryBuilderInstance","queryBuilderDom","gui/querybuilder/vue/panel/querybuilderpanel","gui/querybuilder/vue/querybuilder","169","170","_QueryBuilder","components/QueryBuilder.vue","171","QueryResultsService","_currentLayerIds","_setRelations","_setAtlasActions","download_data","plotLayerIds","unlistenerlayeractionevents","_actions","zoomto","zoomToElement","highlightgeometry","_atlas","_projectLayerIds","zoomToResult","layersactions","actiontools","currentactiontools","currentactionfeaturelayer","layeractiontool","layersFeaturesBoxes","layerscustomcomponents","resultsQueryLayer","_vectorLayers","_addFeaturesLayerResultInteraction","toggleeventhandler","setQueryResponse","queryResponse","_addVectorLayersDataToQueryResponse","showCoordinates","showBBOX","showGeometry","setLayersData","_digestFeaturesForLayers","_orderResponseByProjectLayers","updateLayerResultFeatures","setActionsForLayers","_addComponent","addActionsForLayers","closeComponent","changeLayerResult","_changeLayerResult","activeMapInteraction","editFeature","openCloseFeatureResult","addLayersPlotIds","layerIds","getPlotIds","findPlotId","plotId","_asyncFnc","todo","zoomToLayerFeaturesExtent","goToGeometry","getApplicationService","_QueryResultsActionDownloadFormats","_QueryResultsActionDownloadFormats2","_QueryResultsActionQueryPolygonCSVAttributes","_QueryResultsActionQueryPolygonCSVAttributes2","RelationsPage","registerCustomComponent","_ref3$id","_ref3$position","unRegisterCustomComponent","componentId","addFeatureLayerToResult","getBoxId","removeFeatureLayerFromResult","downloadApplicationWrapper","downloadFnc","download_caller_id","setLoadingContent","textMessage","_layer$features","removeFeatureIndexes","features_ids","indexFindFeature","filtered","featureRemoved","newlayerfeatures","checkIfLayerHasNoFeatures","highlightFeaturesPermanently","addRemoveFeaturesToLayerResult","layeractions","resetCurrentActionToolsLayer","removeAddFeaturesLayerResultInteraction","relation_index","observable","currentactiontoolslayer","currentationfeaturelayer","is_external_layer_or_wms","hasgeometry","mouseover","hint","chartRelationIds","showQueryRelations","createActionState","opened","showRelationsChart","getAtlasByLayerId","downloads","_layer$downloads","_cbk","downloadFeatures","setCurrentActionLayerFeatureTool","ACTIONTOOLSDOWNLOADFORMATS","downloadsaction","toggleable","$set","_state2","checkFeatureSelection","addToSelection","listenClearSelection","hint_change","copyZoomToFidUrl","_ref10$dynamicPropert","dynamicProperties","propertiesObject","accumulator","getActionLayerById","_ref12$component","addCurrentActionToolsLayer","_ref13$config","setLayerActionTool","_ref14$component","_ref14$config","hint_changed","runAsyncTodo","unlistenerEventsActions","removeQueryResultLayerFromMap","getCurrentLayersIds","layerA","layerB","aIndex","bIndex","setZoomToResults","isOneLayerResult","_ref15$toggle","addLayerFeaturesToResultsAction","_layer2","addfeaturesresults","responseObject","getVectorLayerFeaturesFromQueryRequest","_x16","eventHandler","deactiveQueryInteractions","querytitle","printconfig","layerRelationsAttributes","layerTitle","_handleFeatureFoLayer","_layerObj","extractRelations","sanitizeAttribute","getRelationFieldsFromFormStructure","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","split_layer_name","layerSpecialAttributesName","_setSpecialAttributesFeatureProperty","_parseAttributes","relationField","hasImageField","_getFeatureProperties","getFeaturePropertiesAndGeometry","featureObj","attributeObj","featureAttribute","_getFeatureProperties2","_Layer$SourceTypes","showSourcesTypes","actionId","actionMethod","layerActions","layerAction","triggerLayerAction","_x19","_x20","_x21","_x22","_x23","urlTemplate","route","_x24","_x25","_x28","_query$filterConfig","isExternalFilterSelected","isLayerSelected","_printSingleAtlas","_ref19$atlas","_ref19$features","_atlas$atlas$field_na","showChart","relationData","hideChart","atlasLayer","inputAtlasAttr","showLayerDownloadFormats","layerKey","_state$query","runDownload","downloadsactions","choices","sbp_qgs_layer_id","sbp_fid","_x33","_x34","downloadGpx","layerMenu","_hideMenu","downloadXls","selectionFeature","clearSelectionExtenalLayer","addRemoveFilter","selectionFeaturesLayer","acculmulator","_addRemoveSelectionFeature","hasAlreadySelectioned","currentLayer","_x38","_x40","_x41","_layer$external","addQueryResultsLayerToMap","handlerOptions","mapServiceMethod","firstParam","saveLayerResult","_ref28$type","showRelation","nmRelationId","projectRelation","nmRelation","pushContent","currentview","crumb","changeCurrentContentOptions","backonclose","components/QueryResultsActionDownloadFormats.vue","components/QueryResultsActionQueryPolygonCSVAttributes.vue","gui/relations/vue/relationspage","172","queryResultsService","_QueryResults","components/QueryResults.vue","gui/queryresults/queryresultsservice","173","RelationsComponentService","getRelationsNM","saveRelations","buildRelationTable","rows_fid","column","rowFormStructure","174","175","_RelationsPage","_options$relation","_options$relations","_options$feature","_options$table","_options$chartRelatio","_options$currentview","previousview","components/RelationsPage.vue","gui/relations/relationsservice","176","currentProjectState","search_title","searchesObject","searches","searchtools","querybuildersearches","_querybuilder2","getCurrentProjectItems","_querybuilder","removeItem","cleanSearchPanels","panels","addTool","searchTool","searchTools","addQueryBuilderSearch","querybuildersearch","removeTool","services/querybuilder","177","SearchPanelComponent","_SearchPanel","components/SearchPanel.vue","178","SearchService","_mapService$getMap$ge","_mapService$getMap$ge2","heigth","_run","hideSidebar","forminputs","_config$options","querylayerid","inputdependance","inputdependencies","cachedependencies","searchLayer","queryurl","searchLayers","otherquerylayerids","createInputsFormFromFilter","create_boolean_filter","boolean","op","parse_search_by_returnType","returnType","_data3","showCustomOutputDataPromise","parse_search_1n","relation_id","output_title","_ref24$features","_uniqueValues","showEmptyOutputs","NONVALIDVALUES","filterLenght","_ref2$filter","forminput","_forminput$options","dependance","dependance_strict","getValuesFromField","valuesToKeysValues","setInputDependencies","master","slave","_values","getReturnType","setReturnType","getAutoFieldDependeciesParamField","fieldDependency","getCurrentFieldDependance","_Object$entries$","createFieldsDependenciesAutocompleteParameter","_ref3$fields","dependendency","getFilterInputFromField","_Object$entries$2","dfield","dvalue","_getFilterInputFromFi","encodeURI","uniqueValues","getUniqueValuesFromField","getValueRelationValues","getValueMapValues","_x5","_ref6$data","getLayersFilterData","promisesData","_ref10$value","doSearch","parsed","_ref14$search_endpoin","_ref14$queryUrl","_ref14$show","createFilter","search_1n_relationid","autozoom_query","filterValidFormInputs","createQueryFilterFromConfig","queryFilter","_getExpressionOperatorFromInput","dependanceCascadeField","_getCascadeDependanciesFilter","_currentValue","getDependanceCurrentValue","fillDependencyInputs","_ref18$subscribers","subscribers","_ref18$value","isRoot","invalidValue","subscribe","_allvalues","notAutocompleteSubscribers","rootValues","cachedValue","dependenceCurrentValue","_cachedValue","dependenceValue","fieldParams","_values2","_dependenceValue","_x17","getDependencies","createQueryFilterObject","_ref22$ogcService","_ref22$filter","getInfoFromLayer","setSearchLayer","getSearchLayer","179","_searches_searchtools","_Search","components/Search.vue","gui/search/service","180","181","_SpatialBookMarks","SpatialBookMarksComponent","components/SpatialBookMarks.vue","182","_StreetView","components/StreetView.vue","183","PAGELENGTHS","TableService","currentPage","getHeaders","allfeaturesnumber","nopaginationsfilter","selectedfeaturesfid","relationsGeometry","relationLayer","child_field","paginationfilter","mapBBoxEventHandlerKey","clearAllSelection","selectAll","pageLengths","allfeatures","pagination","nofilteredrow","_async","filterChangeHandler","emitRedraw","reloadData","setDataForDataTable","addRemoveSelectedFeature","_size","createFeatureForSelection","_returnGeometry","getAllFeatures","LoadedFeaturesId","switchSelection","filterFeatures","_selected","checkSelectAll","clearLayerSelection","selectAllFeatures","_paginationParams","featurescount","paginationParams","setFilteredFeature","featuresIndex","_ref6$start","_ref6$order","_ref6$length","_ref6$columns","_ref6$search","_ref6$firstCall","firstCall","searchText","dir","getDataPromise","recordsFiltered","recordsTotal","setInBBoxParam","resetMapBBoxEventHandlerKey","getDataFromBBOX","tableFeature","tabledata","_tabledata$data","_setLayout","zoomAndHighLightFeature","zoomAndHighLightGeometryRelationFeatures","184","_Table","_Table2","TableComponent","showContent","components/Table.vue","gui/table/tableservice","185","toolsGroups","_addTool","_addTools","_addToolGroup","_removeToolGroup","_removeTools","_project$getState","_project$getState$too","toolName","_tools","ToolsService","ACTIONS","_removeTool","toolIdx","updateToolsGroup","groupConfig","_group","_ref2$state","toolGroup","186","toolsService","_Tools","components/Tools.vue","gui/tools/service","187","BarStack","_parent","contentsdata","_mount","_unmount","unmountRequests","getContentData","getCurrentContentData","getPreviousContentData","jQuery","_setJqueryContent","isString","jqueryEl","_checkDuplicateVueContent","_setVueContent","_setDOMContent","idxToRemove","188","barstack","./barstack","189","ContentsViewerComponent","stack","Stack","_ViewportContentsViewer","_options$push","addContent","clearContents","updateContentVisibility","removeContent","popContent","getComponentByClass","componentClass","contentdata","contentsEls","nextTick","outerHeight","components/ViewportContentsViewer.vue","gui/utils/utils","190","_options$wmsurls","wmsurls","adminwmsurls","localwmsurls","loadClientWmsUrls","_wmslayerspanel","_wmslayerspanel2","getLocalWMSData","updateLocalWMSData","deleteWms","changeLayerData","loadWMSLayerToMap","wmsurl","wmsConfigLayers","getRequestStatusObject","_ref6$error","_ref6$added","addNewUrl","localid","localurl","getWMSLayers","showWmsLayersPanel","checkIfWMSAlreadyAdded","_ref10$layers","addedLayers","deleteWmsUrl","loadWMSDataAndShowWmsLayersPanel","info_formats","abstract","map_formats","_ref15$visible","_ref15$layers","addWMSlayer","wmsLayerConfig","_ref17$name","_ref17$layers","_ref17$opacity","_ref17$visible","getLocalItem","alldata","setLocalItem","gui/wms/vue/panel/wmslayerspanel","191","WmsLayersPanel","WMSLayersPanelComponent","_WMSLayersPanel","components/WMSLayersPanel.vue","192","_service2","_WMS","components/WMS.vue","gui/wms/service","193","_ref$steps","currentStep","deep","alignSelf","listStyle","padding","ismobile","marginBottom","fontWeight","marginRight","directive","flexDirection","dynamic","btn-success","g3w-disabled","194","_vueCookieLaw","_vueCookieLaw2","_HeaderItem","_HeaderItem2","LayoutManager","navbarMenuSlimscroll","navbarMenuSlimscrollWidth","navbarMenuHeight","animationSpeed","sidebarToggleSelector","sidebarPushMenu","sidebarSlimScroll","sidebarExpandOnHover","enableBoxRefresh","enableFastclick","enableControlSidebar","controlSidebarOptions","toggleBtnSelector","slide","enableBoxWidget","boxWidgetOptions","boxWidgetIcons","boxWidgetSelectors","directChat","contactToggleSelector","colors","lightBlue","red","green","aqua","yellow","blue","navy","teal","olive","lime","orange","fuchsia","purple","maroon","black","gray","screenSizes","xs","sm","md","lg","_init","activate","fix","fixSidebar","neg","window_height","sidebar_height","postSetWidth","controlSidebar","slimScroll","touchScrollStep","pushMenu","toggleBtn","expandOnHover","screenWidth","menu","$this","checkElement","is","slideUp","parent_find_active","parents","parent_li","li_siblings","treeviewHeight","slideDown","floatBar","sidebar","bg","_fix","_fixForFixed","_fixForContent","max-height","padding-bottom","boxWidget","selectors","icons","_box","box","box_content","addRefreshButton","boxRefresh","overlay","onLoadStart","onLoadDone","log","rBtn","activateBox","listCustomPlugin","todolist","onCheck","ele","onUncheck","iCheck","LayoutManagerOptions","slimscroll","alwaysVisible","FastClick","attach","resizeMixin","customcredits","appState","current_custom_modal_content","cookie_law_buttonText","HeaderItem","CookieLaw","languages","appconfig","staticurl","powered_by","clienturl","g3w_suite_logo","credits_logo","logo_url","logo_project_url","mediaurl","logo_img","logo_link","getLogoLink","logo_link_target","project_title","username","login_url","numberOfProjectsInGroup","hasRelatedMaps","frontendurl","main_title","main_map_title","group_name","slug","templateResultLanguages","max_width","$refs","navbar_toggle","navbar","mainnavbar","main_title_project_title","maxWidth","logoWidth","showCustomModalContent","_custom_modals$find","custom_modals","custommodal","sidebarService","openProjectsMenu","initDialogMessages","_ret","doNotShowAgainVueComponent","DOMParser","parseFromString","closeButton","levels","level","openChangeMapMenu","_language","currentlanguage","beforeCreate","delayType","delayTime","custom_header_items_position","0","customlinks","header_custom_links","customitem","mounted","rightNavBarElements","elementLenght","setFloatBarMaxHeight","innerHeight","rightNavbarWidth","img_logo","__vue__options__","_vm","_h","$createElement","_c","_self","rawName","staticClass","buttonText","slot","_v","ref","role","data-toggle","data-target","staticStyle","font-size","max-width","text-align","overflow","margin","_l","show-custom-modal-content","first_name","last_name","admin_url","logout_url","margin-right","templateSelection","templateResult","$event","$$selectedVal","multiple","domProps","paddingTop","tabindex","data-backdrop","data-keyboard","aria-labelledby","_m","flex-direction","justify-content","justify-items","align-items","background-color","border-radius","alt","margin-top","margin-left","line-height","font-weight","staticRenderFns","data-dismiss","aria-label","components/HeaderItem.vue","vue-cookie-law","195","showdata","Boolean","selectitems","setDataOffset","getSelectedItems","selectItem","unselectItem","unselect","selectItems","unselectItems","unselectAll","_setAllowedSpace","querySelector","offsetHeight","_setMaxMin","axis","dataValues","changeItems","changeItem","_ref4$render","onselected","_temp","onunselected","selectitem","generate","bindto","min-height","change-item","change-items","select-item","select-all","unselect-all","unselect-item","196","_catalogeventhub","_catalogeventhub2","_CatalogChangeMapThemes","_CatalogChangeMapThemes2","_CatalogLayerContextMenu","_CatalogLayerContextMenu2","DEFAULT_ACTIVE_TAB","$options","showlegend","currentBaseLayer","activeTab","changemapthemes","cataloglayercontextmenu","showTocTools","_project$state$map_th","hasBaseLayers","hasLayers","layerstresslength","changeStyleLayersId","delegationClickEventTab","showLegend","setBaseLayerId","getSrcBaseLayerImage","customimage","getResourcesUrl","state.external.wms","newlayers","oldlayers","state.prstate.currentProject","oldproject","immediate","layerpositions","oldValue","beforeMount","contextmenu","!click","aria-controls","data-i18n","change-map-theme","_layerstree","parentFolder","legendplace","parent_mutually_exclusive","externallayers","layersgroup","gridTemplateColumns","components/CatalogChangeMapThemes.vue","components/CatalogLayerContextMenu.vue","gui/catalog/vue/catalogeventhub","197","current_map_theme","margin-bottom","border-bottom","white-space","text-overflow","menu-open","_q","for","_scopeId","198","_vueColor","_LayerOpacityPicker","_LayerOpacityPicker2","shpwrite","OFFSETMENU","data_table","colorMenu","stylesMenu","metadatainfoMenu","chrome-picker","Chrome","layer-opacity-picker","click-outside-layer-menu","binding","vnode","removeEventListener","addLayerMenuItem","closeLayerMenu","showColorMenu","onbeforeDestroyChangeColor","color_picker","onChangeColor","canShowWmsUrl","originalLayer","canShowWfsUrl","canDownloadXls","canDownloadGpx","canDownloadGpkg","canDownloadCsv","canDownloadGeoTIFF","canDownloadShp","ancorEement","tempInput","copywmsurltooltip","downloadGeoTIFF","downloadShp","downloadCsv","downloadGpkg","setWMSOpacity","zoomToLayer","canZoom","downloadExternalShapefile","EPSG4326","GeoJSONFile","clonefeature","writeFeaturesObject","point","mulipoint","multipolygon","polyline","multiline","showAttributeTable","tableContent","startEditing","catallogLayersStores","setCurrentLayerStyle","showSubMenuContext","menuentry","submenu","maxH","maxHeight","overflowY","showStylesMenu","showMetadataInfo","getStyleName","_x13","layer-position-change","currentTarget","padding-left","padding-right","init-menu-item","show-menu-item","hook:beforeDestroy","model","$$v","sync","change-range","bottom","data-placement","components/LayerOpacityPicker.vue","gui/table/vue/table","shp-write","vue-color","vueify/lib/insert-css","199","_click","_click2","currentstyle","showfeaturecount","externallegend","onCategoryClick","handleClick","showCategoryMenu","getWmsSourceLayerLegendUrl","showHideLayerCategory","mapReady","setLayerCategories","setError","urlLoaded","onChangeLayerLegendStyle","_ref4$nodes","_setAllLayerCategories","_updateLayerCategories","_ref5$symbols","symbols","symbol","_ref6$symbols","findSymbol","onChangeMapLegendParams","runInitLayerVisibleAction","initialize","layer.visible","layerVisible","mixins/click","200","border","201","visiblelayers","_visiblelayers","old","202","legendurls","getLegendSrc","changeLayersLegend","catalogLayer","getLegendUrlParams","urlLayerName","paramsUrl","legend_on","legend_off","urlMethodsLayersName","urlLayersName","_prefix$split","_prefix$split2","_prefix$split3","_prefix$split4","_urlLayersName","_url2","_url3","econdedParams","_url3$split","_url3$split2","_param$split","_param$split2","legendUrlObject","203","_CatalogLayerLegend","_CatalogLayerLegend2","layerlegend","isGroupChecked","controltoggled","n_childs","showLegendLayer","showLayerTocLegend","isGroup","legendlayerposition","showscalevisibilityclass","showScaleVisibilityToolip","isHighLight","_isHighLightProjectLayer","_isHighLightExternalLayer","isInGrey","total","categoryFeatureCount","layerstree.disabled","layerstree.checked","handleGroupChecked","handleLayerChecked","uncheckable","setAllLayersVisible","layerObject","_layerObject$projectL","toggleFilterLayer","clearSelection","expandCollapse","onTreeItemClick","triClass","downloadExternalLayer","showLayerMenu","itemmarginbottom","marginLeft","bold","toc-added-external-layer","paddingLeft","modifiers","highlightlayer","scalevisibility","current-tooltip","_k","legendConfig","components/CatalogLayerLegend.vue","204","currentProjectGroupId","isChildNode","setFallBackImage","g3w_logo","header_logo_img","showGroups","showRoot","macrogroupsandgroups","_onChangeRoot","srid","showProjects","getApplicationUser","setItemImageSrc","changeMapProject","base_url","getBaseUrl","map_url","_setSrc","imageSrc","has_media","not_static","getCurrentProjectGroup","isMacroGroup","macrogroup","findGroup","205","fontSize","_t","word-wrap","206","fieldsService","207","geoMixin","showLayer","208","_Field","_Field2","galleryId","Field","getSrc","showGallery","modal","getGalleryImages","images","components/Field.vue","209","openLink","link_url","210","mediaMixin","getMediaType","211","212","vueoptions","213","_floatbar","_floatbar2","panelsinstack","panelname","stack.contentsdata","services/floatbar","214","_FormHeader","_FormHeader2","switchcomponent","g3wformheader","G3wFormFooter","transitions","addremovetransition","backToRoot","_ref$disabled","resizeForm","switchComponent","footerDOM","g3w_form_footer","bodyFromDOM","g3wform_body","footerHeight","bodyHeight","updated","currentid","resize-form","clickheader","hook:activated","addtovalidate","removetovalidate","changeinput","components/FormHeader.vue","215","tabs","addinput","removeinput","216","originalbuttons","button","enableSave","exec","btnEnabled","_button$enabled","state.component","state.update","eventButtons","activated","deactivated","217","item_selected","218","backgroundColor","bar-loader","219","minDate","maxDate","enabledDates","datetimevalue","date","datetimeinputelement","iddatetimepicker","defaultDate","useCurrent","allowInputToggle","showClose","locale","toolbarPlacement","widgetPositioning","horizontal","datetime","mindatetime","maxdatetime","dates","220","221","carouselId","isActive","isRelativePath","startsWith","data-interval","data-slide","222","223","224","_GlobalGallery","_GlobalGallery2","g3w-images-gallery","components/GlobalGallery.vue","225","layerposition","226","progress","borderRadius","justifyContent","skin-background-color","227","labelValue","showValue","changeBackGround","backgroundSize","changedValue","emitChangeValue","align-self","__r","228","orientation","moveFnc","wrapMoveFnc","domElementMoveListen","$attrs","mousedown","229","toggleFull","toggleFullViewContent","resetToDefault","resetToDefaultContentPercentage","230","231","_name$props$component","_tabservice","_tabservice2","_GlobalTabsNode","_GlobalTabsNode2","showRelationByField","Node","required_fields","setVisibility","visibility_expression","setEditingRequireTab","getField","root_tabs","tab_node","root_tab","group-title","in active","showTitle","components/GlobalTabsNode.vue","core/expression/tabservice","232","G3wInput","editing_required","filterNodes","getNodeType","nodesLength","rowCount","columnNumber","rest","columnCount","columncount","showGroupTile","showlabel","groupbox","loadingRelation","relation_project","isRelationDisabled","getRelationName","isRelationChildLayerNotEditable","getNodes","startIndex","getNode","_b","$props","text-transform","233","showCustomModal","imagelink","img","234","showHideHelp","loadingState","235","widgetMixins","setLabel","changeCheckBox","widgetChanged","stateValueChanged","input-error-validation","tabIndex","$$a","$$el","$$c","$$i","gui/inputs/input","236","composing","237","uniqueValue","widget_container","idinputdatetimepiker","domeDataPicker","timeOnly","onDatePickerChange","newDate","datetimedisplayformat","datetimefieldformat","onDatePickerShow","_$refs$datetimepicker","datetimepicker_body","getBoundingClientRect","onDatePickerHide","stateValue","_state$input$options","_state$input$options$","_state$input$options$2","_formats$","fieldformat","disabledDates","displayformat","vertical","toDate","ignoreReadonly","widgetParent","datimewidget_container","readonly","238","239","border-top","240","show_required_field_message","241","242","lonId","latId","getCoordinateActive","changeLonLat","243","InputMixins","MediaField","g3w-media","mediaid","onClick","createImage","reader","FileReader","readAsDataURL","checkFileSrc","clearMedia","formData","fileupload","dataType","border-style","border-width","data-url","uploadurl","244","pickLayer","pickservice","gui/inputs/picklayer/service","245","radio_value","246","checkValue","keydown","247","PickLayerInputService","InputMixin","G3W_SELECT2_NULL_VALUE","selectMixin","select2Mixin","showPickLayer","picked","showNullOption","nullOption","select2NullValue","state.input.options.values","stateInputOptionsValues","findvalue","keyvalue","pickLayerValue","pickLayerInputService","changeSelect","setAndListenSelect2Change","dependencyLayerId","dependencyLayer","selectElement","getLanguage","minimumInputLength","allowClear","transport","failure","resetValues","processResults","more","248","state.input.options.min","state.input.options.max","249","keyup","mobileChange","250","min-width","251","setupTableCustomTools","buttonColumnLeft","buttonColumnRight","buttonColumnRemove","buttonRowAbove","buttonRowBelow","buttonRowRemove","edit_state","edit","show_html","edit_states","toolbarOptions","align","quill","Quill","quill_editor","modules","toolbar","handlers","innerText","qlformat","column-left","insertColumnLeft","column-right","insertColumnRight","column-remove","deleteColumn","row-above","insertRowAbove","row-below","insertRowBelow","row-remove","deleteRow","getModule","novalid","252","253","setLayerOpacity","showLayerOpacityMenu","layerOpacity","254","_MapAddLayer","_MapAddLayer2","_MapFooter","_MapFooter2","_$options","addlayer","MapFooter","disableMapControls","showHideControls","mapControls","_ref3$layers","_ref3$mainview","_ref3$switchable","components/MapAddLayer.vue","components/MapFooter.vue","255","_toArray","SUPPORTED_FORMAT","CSV_SEPARATORS","box-shadow","MAPEPSG","accepted_extension","separators","hex","csv_extension","setLayerMapPosition","clearError","onAddLayer","input_file","promiseData","files","csv_data","_csv_data","handle_csv_headers","csv_headers","headers_length","readAsText","modal_addlayer","clearLayer","csv.x","csv.y","accept","256","history","setMapExtent","hasEmptyHistory","changeKeyEvent","gap","257","_MapFooterRight","_MapFooterRight2","_MapFooterLeft","_MapFooterLeft2","MapFooterRight","MapFooterLeft","components/MapFooterLeft.vue","components/MapFooterRight.vue","258","259","switch_icon","epsg_4326","mapunit","showmapunits","switchMapsCoordinateTo4326","260","261","metadataMixin","isSpatial","showHideInfo","findAttributeFormMetadataAttribute","findMetadataAttribute","keywords","metadataurl","onlineresources","dataurl","262","_MetadataLayer","_MetadataLayer2","_MetadataProjectTabContent","_MetadataProjectTabContent2","_MetadataProjectBBoxContent","_MetadataProjectBBoxContent2","_MetadataProjectContactsContent","_MetadataProjectContactsContent2","iconsClass","metadata-layer","metadata-tab-content","metadata-bbox-content","metadata-contacts-content","isArrayorObject","components/MetadataLayer.vue","components/MetadataProjectBBoxContent.vue","components/MetadataProjectContactsContent.vue","components/MetadataProjectTabContent.vue","263","bboxlabels","264","contactelectronicmailaddress","personprimary","contactvoicetelephone","sanitizeValue","geti18n","subvalue","265","arrayToString","266","_navbaritems","_navbaritems2","services/navbaritems","267","268","269","270","271","_PrintSelectAtlasFieldValues","_PrintSelectAtlasFieldValues2","_PrintFidAtlasValues","_PrintFidAtlasValues2","SelectAtlasFieldValues","FidAtlasValues","setDisabledPrintButton","setAtlasValues","onChangeTemplate","onChangeScale","onChangeFormat","onChangeDpi","onChangeRotation","disable-print-button","set-values","overflow-y","components/PrintFidAtlasValues.vue","components/PrintSelectAtlasFieldValues.vue","272","validateValue","addRangeToValues","rangeLenght","canAdd","print_atlas_fid","273","disableddownloadbutton","downloadImageName","downloadImage","state.url","stateUrl","timeOut","printoutput","revokeObjectURL","274","autocompleteOptions","autocompleteMixin","emitValues","autocompleteRequest","currentValue","print_atlas_autocomplete","gui/external/select2/options/autocomplete","275","fakeImage","_initCallback","_toggleModal","html_page_title","showFullModal","logoSrc","menuitem","276","operators","currentlayer","manual","manualvalue","select.field","addToExpression","getValues","number_of_features","excludejoinfields","customPrefix","joinLayer","joinLayerFields","flex-wrap","skin-background-color lighten","dblclick","scope","skin-border-color","277","QueryBuilderUIFactory","showinfo","gui/querybuilder/querybuilderuifactory","278","_QueryResultsTableAttributeFieldValue","_QueryResultsTableAttributeFieldValue2","_QueryResultsActionInfoFormats","_QueryResultsActionInfoFormats2","_QueryResultsHeaderFeatureBody","_QueryResultsHeaderFeatureBody2","maxSubsetLength","headerExpandActionCellWidth","headerActionsCellWidth","HEADERTYPESFIELD","fieldsMixin","TableAttributeFieldValue","header-feature-body","onelayerresult","hasResults","getLayerCustomComponents","getLayerField","layerField","getQueryFields","getFieldType","getColSpan","attributesSubsetLength","hasLayerOneFeature","getDownloadActions","addLayerFeaturesToResults","showDownloadAction","getContainerFromFeatureLayer","hasOneLayerAndOneFeature","layerHasFeatures","layerHasActions","featureHasActions","geometryAvailable","extractAttributesFromFirstTabOfFormStructureLayers","traverseStructure","attributesSubset","_attributes","relationsAttributesSubset","relationAttributes","relationsAttributes","cellWidth","headerLength","subsetLength","diff","actionsCellWidth","headerAttributeCellTotalWidth","baseCellWidth","featureBoxColspan","colspan","expandable","relationsAttributesSubsetLength","elements","getLayerFormStructure","isAttributeOrTab","isField","getLayerAttributeFromStructureItem","getLayerFeatureBox","boxid","collapsedFeatureBox","showFeatureInfo","toggleFeatureBox","toggleFeatureBoxAndZoom","showFullPhoto","state.layers","stateLayers","requestAnimationFrame","data-widget","downloadformats","boxLayerFeature","featureIndex","showresults","showResults","components/QueryResultsActionInfoFormats.vue","components/QueryResultsHeaderFeatureBody.vue","components/QueryResultsTableAttributeFieldValue.vue","279","clickAction","originalDataTitle","280","_download","flex-grow","281","reloadLayerDataWithChangedContentType","queryService","_responseParser$get","_responseParser$get2","_queryService$getFeat","queryFeature","select2_value","282","choice","g3w_select_feature_featurepolygon","refInFor","283","_QueryResultsAction","_QueryResultsAction2","components/QueryResultsAction.vue","284","_QueryResultsActions","_QueryResultsActions2","mouseout","noAttributes","components/QueryResultsActions.vue","285","g3w-link","g3w-vue","286","_FieldG3W","_FieldG3W2","RelationPageEventBus","SIDEBARWIDTH","inject","headercomponent","downloadButton","downloadLayer","showrelationslist","relationnoback","one","createTable","downloadformatsLength","saveRelation","chartContainer","what","relationDataTable","relationtable","DataTable","bLengthChange","scrollResize","scrollCollapse","scrollX","responsive","columnDefs","orderable","targets","tableHeaderHeight","tableHeight","datatableBody","breadcrumbHeight","OtherElementHeight","query_relation","showFormStructureRow","getRowFields","adjust","$parent","setRelationsList","fieldIs","fieldType","sidebarHeaderSize","pageX","tablecontent","chartcontent","relationwrapper","toggled-white","paddingBottom","components/FieldG3W.vue","gui/relations/vue/relationeventbus","287","featureInfo","infoFeatures","noback","grid-template-columns","grid-column-gap","grid-row-gap","288","_Relations","_Relations2","_Relation","_Relation2","_$options$relation","showChartButton","provide","chartlayerid","relationName1","relationName2","save-relation","show-chart","hide-chart","components/Relation.vue","components/Relations.vue","289","_Tool","_Tool2","_QueryBuilderSearch","_QueryBuilderSearch2","g3w-tool","g3w-search-querybuilder","searchtool","components/QueryBuilderSearch.vue","components/Tool.vue","290","291","_SearchSelect","_SearchSelect2","_SearchDatetime","_SearchDatetime2","_SearchPanelLabel","_SearchPanelLabel2","Select2","SearchDatetime","SearchPanelLabel","isSelectDisabled","onFocus","scrollTop","changeDependencyFields","changeNumericInput","select-change","components/SearchDatetime.vue","components/SearchPanelLabel.vue","components/SearchSelect2.vue","292","getLabelOperator","293","emitChangeEvent","_initSelect2Element","_forminput","numdigaut","isAutocomplete","forminput.value","forminputValue","allvalue","294","_eventbus","_eventbus2","_sidebar","_sidebar2","bOpen","bPageMode","showmainpanel","componentname","closeAllPanels","gui/sidebar/eventbus","services/sidebar","295","_SidebarItemAction","_SidebarItemAction2","main","SidebarItemAction","onClickItem","openClose","anchor_click","components/SidebarItemAction.vue","296","triggerAction","297","_SpatialBookMarkItem","_SpatialBookMarkItem2","SpatialBookMarkItem","borderBottom","components/SpatialBookMarkItem.vue","298","removeBookMark","gotoSpatialBookmark","299","_SpatialBookMarkGroup","_SpatialBookMarkGroup2","_InputText2","SPATIAL_BOOKMARKS_LOCALITEMS","SpatialBookMarkGroup","InputText","showaddform","addbookmarkinput","hasProjectbookmarks","addBookMark","saveUserBookMarks","showAddForm","g3w-tools","remove-bookmark","components/SpatialBookMarkGroup.vue","300","301","_TableBody","_TableBody2","_TableSelectRow","_TableSelectRow2","_TableToolbar","_TableToolbar2","dataTable","fieldsComponents","eventHandlers","nopagination","tableBodyComponent","selectedRow","TableBody","selectAllRow","hasHeaders","createdContentBody","fieldComponent","trDomeElements","rowElement","hasGeometry","contentDOM","SelectRowClass","SelectRowInstance","fieldClass","fieldInstance","hideElements","commonDataTableOptions","debounceSearch","G3WTableToolbarClass","G3WTableToolbarInstance","setContentKey","lengthMenu","processing","sSearch","dom","searchable","attribute_table","serverData","serverSide","deferLoading","changeColumn","searchDelay","components/TableBody.vue","components/TableSelectRow.vue","components/TableToolbar.vue","302","SelectRow","hindex","tab-index","303","304","disableMapTool","rightpanel","height_100","305","AppState","TOOLSTATE","fireAction","showToolStateMessage","toolstatecolor","isCheck","tool_disabled","vertical-align","306","state.toolsGroups","G3wTool","307","COLORS","z-index","subtitle","draggable","showheader","addClassMobile","isSidebarVisible","hideShow","_position$split","_position$split2","308","_UserMessage","_UserMessage2","_NotifyOnline","_NotifyOnline2","_NotifyDownload","_NotifyDownload2","_NotifyPlugins","_NotifyPlugins2","_viewport","_viewport2","userMessage","onlineNotify","downloadNotify","pluginsNotify","updatePreviousTitle","breadcrumb","showresize","currentPerc","getCurrentContentLayout","resized","secondaryPerc","showresizeicon","showtitle","contentsData","contentTitle","_contentsData$options","post_title","backOrBackTo","showgoback","previousTitle","isNotLastCrumb","closeMap","gotoPreviousContent","viewPortSize","mapSize","pageY","contentSize","resizePercentageMap","resizePercentageContent","resizeViewComponents","handleResizeViewport","mediaQueryEventMobile","matchMedia","enter","leave","close-usermessage","aside","components/NotifyDownload.vue","components/NotifyOnline.vue","components/NotifyPlugins.vue","components/UserMessage.vue","services/viewport","309","310","inputswmsurlvalid","addwmsurl","padding-top","311","selectedlayers","filterLayerByCurrentEpsg","layerProjections","crss","firstLayer","_$options$config","$data","312","VueColor","VueCookie","regenerator-runtime","vue-cookie","313","watcher","unique_attr_id","getAttribute","314","removeAttribute","315","316","_utils","directives/utils","317","318","319","_ref$multiple","_ref$search","dropdownCssClass","320","toggleAttribute","321","322","323","324","325","_el","_ref$el","componentUpdated","oldVnode","326","327","g3wsdk","app/api","328","_App","_App2","_GlobalImage","_GlobalImage2","_GlobalGeo","_GlobalGeo2","_GlobalSkeleton","_GlobalSkeleton2","_GlobalBarLoader","_GlobalBarLoader2","_GlobalProgressBar","_GlobalProgressBar2","_GlobalHelpDiv","_GlobalHelpDiv2","_GlobalResize","_GlobalResize2","_GlobalLayerPositions","_GlobalLayerPositions2","_GlobalDateTime","_GlobalDateTime2","_GlobalRange","_GlobalRange2","_GlobalResizeIcon","_GlobalResizeIcon2","_GlobalTabs","_GlobalTabs2","_GlobalDivider","_GlobalDivider2","_Floatbar","_Floatbar2","_NavbaritemsLeft","_NavbaritemsLeft2","_NavbaritemsRight","_NavbaritemsRight2","_Sidebar","_Sidebar2","_Viewport","_Viewport2","_vDisabled","_vDisabled2","_vChecked","_vChecked2","_vSelectedFirst","_vSelectedFirst2","_vSelect","_vSelect2","_vTTooltip","_vTTooltip2","_vTHtml","_vTHtml2","_vTPlaceholder","_vTPlaceholder2","_vTTitle","_vTTitle2","_vT","_vT2","_vTPlugin","_vTPlugin2","_vPlugins","_vPlugins2","_vOnline","_vOnline2","_vDownload","_vDownload2","install","getInfo","getInfoString","_isMobile","inheritAttrs","ApplicationTemplate","appLayoutConfig","_isIframe","waitingoutputdataplace","_createApp","_createTemplateConfig","G3WTemplate","appTitle","ContentsComponent","WMSComponent","placeholders","Services","closeOpenComponents","floatbar","othercomponents","_setDataTableLanguage","_setupInterface","_setupLayout","_setUpServices","templateConfig","skinColor","_buildTemplate","_setUpTemplateDependencies","_setViewport","appendTo","languageOptions","searchPlaceholder","sLengthMenu","paginate","zeroRecords","infoFiltered","dataTableExt","oStdClasses","sFilterInput","oLanguage","_addRoutes","RouterService","getRouterService","addRoute","xy","registerService","getComponents","placeholdersConfig","_addComponents","_addOtherComponents","viewportOptions","PLACEHOLDERS","placeholderService","registerComponent","_removeComponent","unregisterComponent","_showModalOverlay","_isSidebarVisible","_showSidebar","_hideSidebar","VueApp","getTemplateInfo","errorToMessage","_error$error","_error$error$code","_error$error$data","_error$error$message","msg","resourcesurl","showList","closeList","hideList","hidePanel","showTable","closeTable","outputDataPlace","dataPromise","defaultOutputConfig","_options$show","outputConfig","showContentFactory","showResult","showPanelContent","showQueryResults","showForm","_options$split","formComponent","formService","closeForm","_ref12$pop","disableElement","disableContent","disablePanel","hideContent","queryResultsComponent","queryResultService","showContextualContent","getPushContent","addNavbarItem","addItem","removeNavBarItem","disableApplication","dialog","bootbox","showFloatbar","hideFloatbar","showSidebar","reloadComponents","_ref14$element","setPrimaryView","viewName","showMap","showContextualMap","setContextualMapComponent","resetContextualMapComponent","pushContextualContent","getContentLength","contentLength","getCurrentContentTitle","getCurrentContentId","changeCurrentContentTitle","getCurrentContent","getProjectMenuDOM","projectVueMenuComponent","_closeUserMessageBeforeSetContent","_setContent","hideClientMenu","hideChangeMaps","getTemplateClasses","BootstrapVersionClasses","getTemplateClass","isProjectMenuComponent","isChangeMapMenuComponent","compile","postBootstrap","_ref18$error","statusText","./deprecated","./globals","components/App.vue","components/Floatbar.vue","components/GlobalBarLoader","components/GlobalDateTime.vue","components/GlobalDivider.vue","components/GlobalGeo.vue","components/GlobalHelpDiv.vue","components/GlobalImage.vue","components/GlobalLayerPositions.vue","components/GlobalProgressBar","components/GlobalRange.vue","components/GlobalResize.vue","components/GlobalResizeIcon.vue","components/GlobalSkeleton.vue","components/GlobalTabs.vue","components/NavbaritemsLeft.vue","components/NavbaritemsRight.vue","components/Sidebar.vue","components/Viewport.vue","directives/v-checked","directives/v-disabled","directives/v-download","directives/v-online","directives/v-plugins","directives/v-select2","directives/v-selected-first","directives/v-t","directives/v-t-html","directives/v-t-placeholder","directives/v-t-plugin","directives/v-t-title","directives/v-t-tooltip","gui/changemapmenu/changemapmenu","gui/projectsmenu/projectsmenu","gui/spatialbookmarks/vue/spatialbookmarks","gui/viewport/contentsviewer","329","translation","error_page","at_moment","f5","cookie_law","sign_in","layer_selection_filter","nofilter","show_features_on_map","layer_position","sdk","template_dialog","spatialbookmarks","helptext","sections","no_results","error_loading","layer_not_searchable","layer_not_querable","inputshort","pre","no_layers","download_image","fids_instruction","fids_example","querybuilder","error_run","error_test","additem","unsupported_format","add_external_layer","fees","accessconstraints","contactinformation","subfields","contactorganization","ContactOrganization","contactposition","ContactPosition","contactperson","ContactPerson","tooltips","form_to_row","row_to_form","copy_map_extent_url","download_shapefile","show_chart","add_selection","zoom_to_features_extent","add_features_to_results","remove_feature_from_results","zoom_to_feature","relations_charts","download_features_shapefile","download_features_gpx","download_features_gpkg","download_features_csv","download_features_xls","copy_zoom_to_fid_url","choiches","feature_polygon","no_geometry","querybybbox","nolayers_visible","measures","no_valid_scale","metric","nautical","zoom_last","zoom_next","relation_data","no_relations_found","back_to_relations","list_of_relations_feature","error_missing_father_field","input_validation_mutually_exclusive","input_validation_error","input_validation_min_field","input_validation_max_field","input_validation_exclude_values","bigint","varchar","qgis_input_widget_relation","current_map_theme_prefix","choose_map_theme","setwmsopacity","copied","geotiff_map_extent","wps","list_process","g3wSuiteFramework","g3wSuiteDescription","productOf","toggle_color_scheme","logout","no_other_projects","no_other_groups","yes","no","backto","changemap","change_session","create_print","dosearch","externalwms","nobaselayer","street_search","copy_form_data","paste_form_data","copy_form_data_from_feature","error_map_loading","check_internet_connection_or_server_admin","could_not_load_vector_layers","server_saver_error","server_error","cancel","dont_show_again","enlange_reduce","reset_default","exitnosave","annul","layer_is_added","add_wms_layer","delete_wms_url","layer_id_already_added","url_already_added","layer_add_error","list_of_relations","open_link","link_button","geolocations","add_layer_control","select_projection","select_field_to_show","select_csv_separator","select_csv_x_field","select_csv_y_field","select_color","drag_layer","input_relation","catalog_items","zoomtolayer","open_attribute_table","show_metadata","vector_color_menu","layer_opacity","no_data","nodatafilterd","330","331","332","wms_layer_id_already_added","wms_url_already_added","333","_it","_it2","_en","_en2","_fi","_fi2","_se","_se2","_fr","_fr2","_de","_de2","_ro","_ro2","translations","it","en","fi","se","fr","de","ro","./de","./en","./fi","./fr","./it","./ro","./se","334","335","336","337","338","showhelpicon","339","__CLICK_EVENT","timeoutID","callbacks","__resetClickMixin","__clearClickMixin","340","getFieldService","_fieldsService","sanitizeFieldValue","341","342","343","formInputsMixins","_autocomplete","_autocomplete2","_fields2","_media","_media2","_geo","_geo2","_resize","_resize2","_select","_select2","_select3","_select4","_formInputs","_formInputs2","_widget","_widget2","_metadata","_metadata2","_baseInput","_baseInput2","mixins/autocomplete","mixins/base-input","mixins/fields","mixins/form-inputs","mixins/geo","mixins/media","mixins/metadata","mixins/resize","mixins/select","mixins/select2","mixins/widget","344","isMedia","345","346","DELAY_TYPE","delayWrapper","delayResize","347","usecompleter","$container","348","349","350","_apiEndpoints","apiEndpoints","howManyAreLoading","apiEndPoint","completeUrl","351","_config2","_clipboard","_clipboard2","i18ninit","onLine","complete","_applicationServices","_initConfigUrl","_initConfig","_groupId","_gid","_changeProject","replaceState","setOnline","setOffline","_setFilterToken","setApplicationUser","browserLanguage","createApplicationConfig","bootstrap","setupI18n","languageConfig","languageLabel","setApplicationLanguage","ajaxSetup","beforeSend","give_me_a_name_0","give_me_a_name_1","give_me_a_name_2","getDownload","loadingPlugin","loadedPlugin","_plugin","pathArray","pathname","registerOnlineOfflineEvent","registerLeavePage","_ref5$bool","_return","onbeforeunload","unregisterOnlineOfflineEvent","getApplicationLanguage","isOnline","setOfflineItem","localStorage","setItem","removeLocalItem","getItem","getOfflineItem","removeOfflineItem","getProxyUrl","proxyurl","getInterfaceOwsUrl","interfaceowsurl","getClipboardService","obtainInitConfig","initConfigUrl","getMacrogroupsGroups","header_logo_link","terms_of_use_text","terms_of_use_link","initproject","getProjectConfigUrl","views","projectPath","locationsearch","clearInitConfig","queryTuple","getInitConfig","setInitVendorKeys","getInitConfigUrl","setInitConfigUrl","setEPSGApplication","initialized","startIFrameService","initLocalItems","pluginsBaseUrl","pluginsConfigs","otherPluginsConfig","iframeService","unregisterService","errorHandler","apikey","setVendorKeys","changeProjectview","isProjectViewChanging","reloadCurrentProject","projectUrl","getProjectUrl","width_default","height_default","width_100","getCurrentLayout","core/iframe/routerservice","services/clipboard","352","ClipboardService","formLayer","353","ExpressionService","_ref2$params","_ref2$contentType","core/data/service","354","OWSService","wmsCapabilities","owsUrl","355","ProxyService","proxyUrl","_ref2$method","_ref2$headers","356","QueryService","_ref$feature_count","_ref$filterConfig","_ref$multilayers","_ref$condition","_ref$layerName","_ref$excludeSelected","_ref$external","hasExternalLayersSelected","returnExceptionResponse","messagetext","_ref2$feature_count","_ref2$filterConfig","_ref2$multilayers","_ref2$condition","_ref2$excludeSelected","_ref2$addExternal","_ref2$layersFilterObj","_ref4$layerIds","_ref4$multilayers","_ref4$query_point_tol","_ref4$addExternal","layersResults","357","promisesSearch","dataSearch","_value$data","_ref5$fids","layersfids","layersresponses","_ref7$fids","_ref7$formatter","layerresponse","358","DataService","defaultoutputplaces","currentoutputplaces","ouputplaces","_dataQuery2","_dataSearch2","_dataExpression2","proxy","_dataProxy2","_dataOws2","contextAndMethod","_splitContextAndMetho","serviceName","setOutputPlaces","places","addCurrentOutputPlace","addNewOutputPlace","_ref5$method","resetDefaultOutput","_dataExpression","_dataOws","_dataProxy","_dataQuery","_dataSearch","services/data-expression","services/data-ows","services/data-proxy","services/data-query","services/data-search","359","Actions","opposite","360","FloatbarService","sidebarEl","_zindex","_modalOverlay","_modal","_isopen","isOpen","361","isready","showListing","closeListing","hideListing","hideQueryResults","push_content","setPushContent","guiResized","362","AppService","changeMap","_ref$capture","capture","_ref3$capture","getcenter","zoomtocoordinates","_params$coordinates","_params$highlight","getextent","_params$extent","zoomtofeature","_params$highlight2","363","EditingService","subscribevents","startAction","toolboxes","setSaveConfig","toolbox","stopAction","stopEditing","subscribersHandlers","activeTool","_ref4$disableToolboxe","disableToolboxes","setEnabled","setEditing","cancelform","addfeature","addFeatureTool","getToolById","addSubscribeEvents","closeeditingpanel","resetSubscribeEvents","unsubscribe","configQglLayerId","getEditableLayersId","startstopediting","toolboxPromise","setActiveTool","_options$action","startEditingPromise","stopEditingPromises","resetDefault","_g3wsdk$core$utils","core/iframe/services/plugins/service","364","IframePluginService","pendingactions","serviceNames","eventResponseServiceHandler","postMessage","attachEvent","_ref5$data","outputData","writeFeatures","stopPendingActions","_evt$data$id","_evt$data$single","single","detachEvent","core/iframe/services/index","365","navbaritemsService","366","QueryBuilderService","_cacheValues","_items","QUERYBUILDERSEARCHES","getItems","valuesField","_ref3$showResult","confirm","saveitems","editLocalItem","_querybuildersearch","_resetItems","addLocalItem","_querybuildersearches","prompt","searchService","sample","367","createUrl","_options$layer","_options$type","_options$formatter","_nmRelation$fieldRef","relationsNM","responseFids","_ref2$features","368","crossroads","ignoreState","greedy","_initialLocationQuery","_routeQuery","setRouteQuery","routeQuery","_setRouteQueryFromLocationQuery","pattern","removeRoute","removeAllRoutes","defaultArgs","_initialQuery","_stripInitialQuery","makePermalink","_encodeRouteQuery","makeQueryString","queryParams","slicePath","path","sliceFirst","pathAndQuery","queryString","pathArr","firstPath","getQueryParams","queryPairs","queryPair","pair","getQueryString","_getQueryPortion","queryKey","queryPortion","_decodeRouteQuery","locationQuery","encodedRouteQuery","_getRouteQueryFromLocationQuery","previousQuery","previousQueryLength","previousQueryPosition","queryPrefix","trimEnd","querySuffix","trimStart","369","SidebarService","closeSidebarPanel","openCloseItem","_options$before","sidebarItem","SidebarItem","DOMComponent","isPanelSidebarShow","sidebarcomponetsdomid","childrenLength","findElementIndexId","initService","setComponentClickHandler","_ref$open","reloadComponent","sidebarComponent","_SidebarItem","_SidebarItem2","components/SidebarItem.vue","370","runTask","taskUrl","_options$interval","interval","_options$timeout","_options$listener","task_id","intervalId","setInterval","_response","stopTask","clearInterval","taskId","371","ViewportService","primaryView","v","cloasable","_defaultMapComponent","_contextualMapComponent","_secondaryViewMinWidth","_secondaryViewMinHeight","_immediateComponentsLayout","_options$primaryview","primaryview","setResized","_ref$textMessage","getMapState","getContentState","_toggleMapComponentVisibility","_showView","contextualMapComponent","recoverDefaultMap","_layout","getContentPercentageFromCurrentLayout","evenContentName","_prepareContentView","_layoutComponents","prevContentPerc","secondaryVisible","currentRightPanel","isFullViewContent","contentgetCurrentContentData","currentContent","isContentOpen","closeSecondaryView","isPrimaryView","viewTag","showPrimaryView","showSecondaryView","secondaryViewComponent","_otherView","getDefaultViewPerc","_isSecondary","_setPrimaryView","_options$split2","_options$closable","_options$backonclose","_options$style","_options$showgoback","_options$headertools","headertools","_options$perc","_options$split3","_getReducedSizes","contentEl","reducedWidth","reducedHeight","sideBarToggleEl","toggleWidth","_toggleWidth","reducesdSizes","_setViewSizes","secondaryView","_getViewportSize","getViewportSize","viewportWidth","viewportHeight","primaryWidth","primaryHeight","secondaryWidth","secondaryHeight","_viewportWidth","_viewportHeight","topHeight","main_sidebar","sideBarSpace","setContentPercentageFromCurrentLayout","triggerResize","resizeFired","drawResize","drawing","372","WorkFlowsStack","getParent","_getCurrentIndex","getParents","currentWorkflow","workfow","getLast","getFirst","getAt","373","STATE","upload","STATE_METHODS","374","375","ComponentsRegistry","376","ControlsRegistry","_controls","_offlineids","selectedLayer","externalLayers","callControlsEventHandler","unWatch","controlItem","_registerControl","getControl","unregisterControl","_id","377","MapLayersStoresRegistry","378","_configurationPlugins","_loadedPluginUrls","gidProject","setPluginsConfig","addLoadingPlugins","setOtherPlugins","setDependencyPluginConfig","_loadPlugins","pluginLoadPromises","pluginConfig","_setup","dependecyPluginConfig","law","OTHERPLUGINS","reloadPlugins","scripts","getPlugins","scr","pluginUrl","enabledPluginConfig","_loadScript","getScript","_pluginConfig$jsscrip","jsscripts","depedencypluginlibrariespromises","_loop3","script","baseUrl","scriptUrl","379","currentProjectGroup","createProject","projectConfig","setCurrentProject","projectLayersStore","minScale","_groupProjects","_projectConfigs","setupState","setProjects","getProjectType","getProjects","clearProjects","currentProjectId","listable","projectGid","pendingProject","_getProjectFullConfig","projectFullConfig","_setProjectRelations","_updateRelation","getProjectConfigByGid","setProjectAliasUrl","serverConfig","layetstree","380","setSession","getSessions","381"],"mappings":"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","file":"app.min.js","sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){\nvar inserted = exports.cache = {}\n\nfunction noop () {}\n\nexports.insert = function (css) {\n  if (inserted[css]) return noop\n  inserted[css] = true\n\n  var elem = document.createElement('style')\n  elem.setAttribute('type', 'text/css')\n\n  if ('textContent' in elem) {\n    elem.textContent = css\n  } else {\n    elem.styleSheet.cssText = css\n  }\n\n  document.getElementsByTagName('head')[0].appendChild(elem)\n  return function () {\n    document.getElementsByTagName('head')[0].removeChild(elem)\n    inserted[css] = false\n  }\n}\n\n},{}],2:[function(require,module,exports){\nvar _constant = require('constant');\n\nvar _constant2 = _interopRequireDefault(_constant);\n\nvar _applicationState = require('store/application-state');\n\nvar _applicationState2 = _interopRequireDefault(_applicationState);\n\nvar _application = require('services/application');\n\nvar _application2 = _interopRequireDefault(_application);\n\nvar _InputG3W = require('components/InputG3W.vue');\n\nvar _InputG3W2 = _interopRequireDefault(_InputG3W);\n\nvar _InputG3WFormInputs = require('components/InputG3WFormInputs.vue');\n\nvar _InputG3WFormInputs2 = _interopRequireDefault(_InputG3WFormInputs);\n\nvar _inputservice = require('core/expression/inputservice');\n\nvar _inputservice2 = _interopRequireDefault(_inputservice);\n\nvar _FormBody = require('components/FormBody.vue');\n\nvar _FormBody2 = _interopRequireDefault(_FormBody);\n\nvar _FormFooter = require('components/FormFooter.vue');\n\nvar _FormFooter2 = _interopRequireDefault(_FormFooter);\n\nvar _C3XYLine = require('components/C3XYLine.vue');\n\nvar _C3XYLine2 = _interopRequireDefault(_C3XYLine);\n\nvar _catalogLayers = require('store/catalog-layers');\n\nvar _catalogLayers2 = _interopRequireDefault(_catalogLayers);\n\nvar _data = require('services/data');\n\nvar _data2 = _interopRequireDefault(_data);\n\nvar _editing = require('services/editing');\n\nvar _editing2 = _interopRequireDefault(_editing);\n\nvar _sessions = require('store/sessions');\n\nvar _sessions2 = _interopRequireDefault(_sessions);\n\nvar _iframePlugin = require('services/iframe-plugin');\n\nvar _iframePlugin2 = _interopRequireDefault(_iframePlugin);\n\nvar _mapLayers = require('store/map-layers');\n\nvar _mapLayers2 = _interopRequireDefault(_mapLayers);\n\nvar _plugins = require('store/plugins');\n\nvar _plugins2 = _interopRequireDefault(_plugins);\n\nvar _projects = require('store/projects');\n\nvar _projects2 = _interopRequireDefault(_projects);\n\nvar _relations = require('services/relations');\n\nvar _relations2 = _interopRequireDefault(_relations);\n\nvar _tasks = require('services/tasks');\n\nvar _tasks2 = _interopRequireDefault(_tasks);\n\nvar _workflows = require('services/workflows');\n\nvar _workflows2 = _interopRequireDefault(_workflows);\n\nvar _api = require('services/api');\n\nvar _api2 = _interopRequireDefault(_api);\n\nvar _router = require('services/router');\n\nvar _router2 = _interopRequireDefault(_router);\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nvar _mixins = require('mixins');\n\nvar _mixins2 = _interopRequireDefault(_mixins);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * @file api file interface for external plugins\n */\n\nvar G3WObject = require('core/g3wobject');\n//MIXINS\n\n\n/**\n * CORE modules\n */\n\n\n/**\n * Single File Components\n */\n\nvar utils = require('core/utils/utils');\nvar geoutils = require('core/utils/geo');\nvar i18n = require('core/i18n/i18n.service');\nvar Server = require('core/errors/parser/servererrorparser');\nvar Session = require('core/editing/session');\nvar Editor = require('core/editing/editor');\nvar Geom = require('core/utils/geo');\n\nvar _require = require('core/utils/geo'),\n    Geometry = _require.Geometry;\n\nvar Project = require('core/project/project');\nvar LayersStoreRegistry = require('core/layers/layersstoresregistry');\nvar LayersStore = require('core/layers/layersstore');\nvar Layer = require('core/layers/layer');\nvar LayerFactory = require('core/layers/layerfactory');\nvar TableLayer = require('core/layers/tablelayer');\nvar VectorLayer = require('core/layers/vectorlayer');\nvar ImageLayer = require('core/layers/imagelayer');\nvar WmsLayer = require('core/layers/map/wmslayer');\nvar XYZLayer = require('core/layers/map/xyzlayer');\nvar MapLayer = require('core/layers/map/maplayer');\nvar Feature = require('core/layers/features/feature');\nvar FeaturesStore = require('core/layers/features/featuresstore');\nvar OlFeaturesStore = require('core/layers/features/olfeaturesstore');\nvar Filter = require('core/layers/filter/filter');\nvar Expression = require('core/layers/filter/expression');\nvar Plugin = require('core/plugin/plugin');\nvar PluginService = require('core/plugin/pluginservice');\nvar Task = require('core/workflow/task');\nvar Step = require('core/workflow/step');\nvar Flow = require('core/workflow/flow');\nvar Workflow = require('core/workflow/workflow');\n\n/**\n * GUI modules\n */\nvar Panel = require('gui/panel');\nvar ControlFactory = require('gui/map/control/factory');\nvar ComponentsFactory = require('gui/component/componentsfactory');\nvar FieldsService = require('gui/fields/fieldsservice');\nvar Component = require('gui/component/component');\nvar MetadataComponent = require('gui/metadata/vue/metadata');\nvar SearchComponent = require('gui/search/vue/search');\nvar SearchPanel = require('gui/search/vue/panel/searchpanel');\nvar PrintComponent = require('gui/print/vue/print');\nvar CatalogComponent = require('gui/catalog/vue/catalog');\nvar MapComponent = require('gui/map/vue/map');\nvar ToolsComponent = require('gui/tools/vue/tools');\nvar QueryResultsComponent = require('gui/queryresults/vue/queryresults');\nvar FormComponent = require('gui/form/vue/form');\nvar FormService = require('gui/form/formservice');\nvar InputsComponents = require('gui/inputs/inputs');\nvar ChartsFactory = require('gui/charts/chartsfactory');\nvar Fields = require('gui/fields/fields');\nvar SearchPanelService = require('gui/search/vue/panel/searchservice');\n\n/**\n * G3W-OL modules\n */\nvar PickFeatureInteraction = require('g3w-ol/interactions/pickfeatureinteraction');\nvar PickCoordinatesInteraction = require('g3w-ol/interactions/pickcoordinatesinteraction');\nvar DeleteFeatureInteraction = require('g3w-ol/interactions/deletefeatureinteraction');\nvar AreaInteraction = require('g3w-ol/interactions/areainteraction');\nvar LengthInteraction = require('g3w-ol/interactions/lengthinteraction');\nvar g3wolutils = require('core/utils/ol');\n\nmodule.exports = {\n\n  // APP CONSTANTS\n  constant: _constant2.default, // TODO: rename to \"constants\" which is more appropriate (in version 4.0)\n\n  // CORE API METHODS AND OBJECTS\n  core: {\n    G3WObject: G3WObject,\n    utils: utils,\n    geoutils: geoutils,\n    ApplicationService: _application2.default,\n    ApplicationState: _applicationState2.default,\n    ApiService: _api2.default,\n    Router: _router2.default,\n    i18n: i18n,\n    task: {\n      TaskService: _tasks2.default\n    },\n    data: {\n      DataRouterService: _data2.default\n    },\n    iframe: {\n      IFrameRouterService: _iframePlugin2.default\n    },\n    errors: {\n      parsers: {\n        Server: Server\n      }\n    },\n    editing: {\n      Session: Session,\n      SessionsRegistry: _sessions2.default,\n      Editor: Editor,\n      ChangesManager: _editing2.default\n    },\n    geometry: {\n      Geom: Geom,\n      Geometry: Geometry\n    },\n    project: {\n      ProjectsRegistry: _projects2.default,\n      Project: Project\n    },\n    map: {\n      MapLayersStoreRegistry: _mapLayers2.default\n    },\n    catalog: {\n      CatalogLayersStoresRegistry: _catalogLayers2.default\n    },\n    layer: {\n      LayersStoreRegistry: LayersStoreRegistry,\n      LayersStore: LayersStore,\n      Layer: Layer,\n      LayerFactory: LayerFactory,\n      TableLayer: TableLayer,\n      VectorLayer: VectorLayer,\n      ImageLayer: ImageLayer,\n      WmsLayer: WmsLayer,\n      XYZLayer: XYZLayer,\n      MapLayer: MapLayer,\n      geometry: {\n        Geometry: Geometry,\n        geom: Geom /** @FIXME capitalize first letter (ie. \"Geom\") */\n      },\n      features: {\n        Feature: Feature,\n        FeaturesStore: FeaturesStore,\n        OlFeaturesStore: OlFeaturesStore\n      },\n      filter: {\n        Filter: Filter,\n        Expression: Expression\n      }\n    },\n    relations: {\n      RelationsService: _relations2.default\n    },\n    interaction: {\n      PickCoordinatesInteraction: PickCoordinatesInteraction,\n      PickFeatureInteraction: PickFeatureInteraction\n    },\n    plugin: {\n      Plugin: Plugin,\n      PluginsRegistry: _plugins2.default,\n      PluginService: PluginService\n    },\n    workflow: {\n      Task: Task,\n      Step: Step,\n      Flow: Flow,\n      Workflow: Workflow,\n      WorkflowsStack: _workflows2.default\n    },\n    input: {\n      inputService: _inputservice2.default\n    }\n  },\n\n  // APPLICATION INTERFACE (vue)\n  gui: {\n    GUI: _gui2.default,\n    Panel: Panel,\n    ControlFactory: ControlFactory,\n    ComponentsFactory: ComponentsFactory,\n    FieldsService: FieldsService,\n    vue: {\n      Component: Component,\n      Panel: Panel,\n      MetadataComponent: MetadataComponent,\n      SearchComponent: SearchComponent,\n      SearchPanel: SearchPanel,\n      PrintComponent: PrintComponent,\n      CatalogComponent: CatalogComponent,\n      MapComponent: MapComponent,\n      ToolsComponent: ToolsComponent,\n      QueryResultsComponent: QueryResultsComponent,\n      // main Form Component\n      FormComponent: FormComponent,\n      // Form Components\n      FormComponents: {\n        Body: _FormBody2.default,\n        Footer: _FormFooter2.default\n      },\n      Inputs: {\n        G3wFormInputs: _InputG3WFormInputs2.default,\n        G3WInput: _InputG3W2.default,\n        InputsComponents: InputsComponents\n      },\n      Charts: {\n        ChartsFactory: ChartsFactory,\n        c3: {\n          lineXY: _C3XYLine2.default\n        }\n      },\n      Fields: Fields,\n      Mixins: _mixins2.default,\n      services: {\n        SearchPanel: SearchPanelService,\n        FormService: FormService\n      }\n    }\n  },\n\n  // OPEN LAYERS COMPONENTS (g3w-ol)\n  ol: {\n    interactions: {\n      PickFeatureInteraction: PickFeatureInteraction,\n      PickCoordinatesInteraction: PickCoordinatesInteraction,\n      DeleteFeatureInteraction: DeleteFeatureInteraction,\n      measure: {\n        AreaInteraction: AreaInteraction,\n        LengthInteraction: LengthInteraction\n      }\n    },\n    controls: {},\n    utils: g3wolutils\n  },\n\n  // G3W-SUITE debug info\n  info: function info() {\n    $script('https://unpkg.com/platform@1.3.6/platform.js', function () {\n      window.console.info(('\\n[g3wsdk.info]\\n\\n- g3w-admin: __' + initConfig.version + '__\\n- g3-client: __' + _constant2.default.APP_VERSION + '__\\n- browser: __' + platform.name + ' ' + platform.version + '__\\n- operating system: __' + platform.os.toString() + '__\\n').trim());\n    });\n  },\n\n  // G3W-CLIENT version\n  version: _constant2.default.APP_VERSION\n};\n\n},{\"components/C3XYLine.vue\":195,\"components/FormBody.vue\":215,\"components/FormFooter.vue\":216,\"components/InputG3W.vue\":239,\"components/InputG3WFormInputs.vue\":240,\"constant\":4,\"core/editing/editor\":6,\"core/editing/session\":8,\"core/errors/parser/servererrorparser\":9,\"core/expression/inputservice\":10,\"core/g3wobject\":12,\"core/i18n/i18n.service\":13,\"core/layers/features/feature\":26,\"core/layers/features/featuresstore\":27,\"core/layers/features/olfeaturesstore\":28,\"core/layers/filter/expression\":29,\"core/layers/filter/filter\":30,\"core/layers/imagelayer\":33,\"core/layers/layer\":34,\"core/layers/layerfactory\":35,\"core/layers/layersstore\":36,\"core/layers/layersstoresregistry\":37,\"core/layers/map/maplayer\":43,\"core/layers/map/wmslayer\":45,\"core/layers/map/xyzlayer\":47,\"core/layers/tablelayer\":56,\"core/layers/vectorlayer\":57,\"core/plugin/plugin\":58,\"core/plugin/pluginservice\":59,\"core/project/project\":61,\"core/utils/geo\":64,\"core/utils/ol\":66,\"core/utils/utils\":68,\"core/workflow/flow\":70,\"core/workflow/step\":72,\"core/workflow/task\":73,\"core/workflow/workflow\":74,\"g3w-ol/interactions/areainteraction\":101,\"g3w-ol/interactions/deletefeatureinteraction\":102,\"g3w-ol/interactions/lengthinteraction\":103,\"g3w-ol/interactions/pickcoordinatesinteraction\":105,\"g3w-ol/interactions/pickfeatureinteraction\":106,\"gui/catalog/vue/catalog\":113,\"gui/charts/chartsfactory\":116,\"gui/component/component\":117,\"gui/component/componentsfactory\":118,\"gui/fields/fields\":120,\"gui/fields/fieldsservice\":121,\"gui/form/formservice\":122,\"gui/form/vue/form\":123,\"gui/inputs/inputs\":132,\"gui/map/control/factory\":156,\"gui/map/vue/map\":158,\"gui/metadata/vue/metadata\":161,\"gui/panel\":162,\"gui/print/vue/print\":164,\"gui/queryresults/vue/queryresults\":172,\"gui/search/vue/panel/searchpanel\":177,\"gui/search/vue/panel/searchservice\":178,\"gui/search/vue/search\":179,\"gui/tools/vue/tools\":186,\"mixins\":343,\"services/api\":350,\"services/application\":351,\"services/data\":358,\"services/editing\":359,\"services/gui\":361,\"services/iframe-plugin\":364,\"services/relations\":367,\"services/router\":368,\"services/tasks\":370,\"services/workflows\":372,\"store/application-state\":373,\"store/catalog-layers\":374,\"store/map-layers\":377,\"store/plugins\":378,\"store/projects\":379,\"store/sessions\":380}],3:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.utils = exports.server = exports.client = exports._i18n = exports.tools = exports.plugins = undefined;\n\nvar _locales = require('../locales');\n\nvar _locales2 = _interopRequireDefault(_locales);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar apptitle = \"G3W Client\"; /**\n                              * @TODO consolidate configuration parameters in a single location\n                              * (eg. appConfig, ApplicationState, Constants, ...)\n                              */\n\nvar supportedLanguages = ['en', 'it'];\n\nvar plugins = exports.plugins = {};\n\nvar tools = exports.tools = {\n  tools: []\n};\n\n// get message from internationalization\nvar _i18n = exports._i18n = {\n  resources: _locales2.default\n};\n\nvar client = exports.client = {\n  debug: true,\n  local: false\n};\n\nvar server = exports.server = {\n  urls: {\n    baseurl: '/',\n    ows: 'ows',\n    api: 'api',\n    initconfig: 'api/initconfig',\n    config: 'api/config'\n  }\n};\n\nvar utils = exports.utils = {\n  merge: function merge(type) {\n    if (type) {\n      console.log(CONFIG);\n    }\n  }\n};\n\nexports.default = {\n  apptitle: apptitle,\n  client: client,\n  server: server,\n  plugins: plugins,\n  supportedLanguages: supportedLanguages,\n  tools: tools,\n  _i18n: _i18n,\n  utils: utils\n};\n\n},{\"../locales\":333}],4:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.LOGO_GIS3W = exports.LOCAL_ITEM_IDS = exports.FONT_AWESOME_ICONS = exports.API_BASE_URLS = exports.ZINDEXES = exports.VIEWPORT = exports.TOC_THEMES_INIT_STATUS = exports.TOC_LAYERS_INIT_STATUS = exports.TIMEOUT = exports.SEARCH_RETURN_TYPES = exports.SEARCH_ALLVALUE = exports.QUERY_POINT_TOLERANCE = exports.PRINT_SCALES = exports.PRINT_RESOLUTIONS = exports.PRINT_FORMATS = exports.MAP_SETTINGS = exports.LOCALSTORAGE_EXTERNALWMS_ITEM = exports.LIST_OF_RELATIONS_ID = exports.LIST_OF_RELATIONS_TITLE = exports.GEOMETRY_TYPES = exports.GEOMETRY_FIELDS = exports.FILTER_EXPRESSION_OPERATORS = exports.FILTER_OPERATORS = exports.G3W_FID = exports.EPSG = exports.DOWNLOAD_FORMATS = exports.DEFAULT_EDITING_CAPABILITIES = exports.APP_VERSION = undefined;\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; /**\n                                                                                                                                                                                                                                                                   * @file all contants values used on application\n                                                                                                                                                                                                                                                                   */\n\n//@ts-check\n\n/**\n * @TODO we can safely import \"version\" from \"package.json\" when we will use native ES Modules\n */\n// import { version } from '../../package.json';\n\n\nvar _version = require('../version');\n\nvar _version2 = _interopRequireDefault(_version);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * Same as \"package.json\" version\n * \n * @type {string}\n */\nvar APP_VERSION = exports.APP_VERSION = _version2.default;\n\n/**\n * Default editing capabilities \n * \n * @type {string[]}\n */\nvar DEFAULT_EDITING_CAPABILITIES = exports.DEFAULT_EDITING_CAPABILITIES = ['add_feature', 'change_feature', 'change_attr_feature', 'delete_feature'];\n\n/**\n * @type {Object<string, { format: string, url: string }>}\n */\nvar DOWNLOAD_FORMATS = exports.DOWNLOAD_FORMATS = {\n  download: {\n    format: 'shapefile',\n    url: 'shp'\n  },\n  download_gpkg: {\n    format: 'gpkg',\n    url: 'gpkg'\n  },\n  download_gpx: {\n    format: 'gpx',\n    url: 'gpx'\n  },\n  download_csv: {\n    format: 'csv',\n    url: 'csv'\n  },\n  download_xls: {\n    format: 'xls',\n    url: 'xls'\n  },\n  download_raster: {\n    format: 'geotiff',\n    url: 'geotiff'\n  }\n};\n\n/**\n * @type {string[]}\n */\nvar EPSG = exports.EPSG = [\"EPSG:3003\", \"EPSG:3004\", \"EPSG:3045\", \"EPSG:3857\", \"EPSG:4326\", \"EPSG:6708\", \"EPSG:23032\", \"EPSG:23033\", \"EPSG:25833\", \"EPSG:32632\", \"EPSG:32633\"];\n\n/**\n * fid name field referred to fid feature\n * \n * @type {string}\n */\nvar G3W_FID = exports.G3W_FID = 'g3w_fid';\n\n/**\n * @type {Object<string, string>}\n * @since v3.5\n */\nvar FILTER_OPERATORS = exports.FILTER_OPERATORS = {\n  gte: '>=',\n  lte: '<=',\n  NOT: '!=',\n  eq: '=',\n  gt: '>',\n  lt: '<',\n  IN: 'IN',\n  'NOT IN': 'NOT IN',\n  LIKE: 'LIKE',\n  ILIKE: 'ILIKE',\n  AND: 'AND',\n  OR: 'OR'\n};\n\n/**\n * @type {Object<string, string>}\n * @since v3.5\n */\nvar FILTER_EXPRESSION_OPERATORS = exports.FILTER_EXPRESSION_OPERATORS = _extends({\n  lte: '<=',\n  ltgt: '!=',\n  ilike: 'ILIKE',\n  like: 'LIKE'\n}, FILTER_OPERATORS);\n\n/**\n * Geometry fields used to exclude or get geometry information from server request\n * \n * @type {string[]}\n */\nvar GEOMETRY_FIELDS = exports.GEOMETRY_FIELDS = ['geometryProperty', 'boundedBy', 'geom', 'the_geom', 'geometry', 'bbox', 'GEOMETRY', 'geoemtria', 'geometria'];\n\n/**\n * @type {Object<string, string>}\n */\nvar GEOMETRY_TYPES = exports.GEOMETRY_TYPES = {\n  POINT: \"Point\",\n  POINTZ: \"PointZ\",\n  POINTM: \"PointM\",\n  POINTZM: \"PointZM\",\n  POINT25D: \"Point25D\",\n  MULTIPOINT: \"MultiPoint\",\n  MULTIPOINTZ: \"MultiPointZ\",\n  MULTIPOINTM: \"MutliPointM\",\n  MULTIPOINTZM: \"MultiPointZM\",\n  MULTIPOINT25D: \"MultiPoint25D\",\n  LINESTRING: \"LineString\", // QGis definition .GeometryType, Line intead di Linestring.\n  LINESTRINGZ: \"LineStringZ\",\n  LINESTRINGM: \"LineStringM\",\n  LINESTRINGZM: \"LineStringZM\",\n  LINESTRING25D: \"LineString25D\",\n  LINE: \"Line\",\n  LINEZ: \"LineZ\",\n  LINEM: \"LineM\",\n  LINEZM: \"LineZM\",\n  LINE25D: \"Line25D\",\n  MULTILINESTRING: \"MultiLineString\",\n  MULTILINESTRINGZ: \"MultiLineStringZ\",\n  MULTILINESTRINGM: \"MultiLineStringM\",\n  MULTILINESTRINGZM: \"MultiLineStringZM\",\n  MULTILINESTRING25D: \"MultiLineString25D\",\n  MULTILINE: \"MultiLine\",\n  MULTILINEZ: \"MultiLineZ\",\n  MULTILINEM: \"MultiLineM\",\n  MULTILINEZM: \"MultiLineZM\",\n  MULTILINE25D: \"MultiLine25D\",\n  POLYGON: \"Polygon\",\n  POLYGONZ: \"PolygonZ\",\n  POLYGONM: \"PolygonM\",\n  POLYGONZM: \"PolygonZM\",\n  POLYGON25D: \"Polygon25D\",\n  MULTIPOLYGON: \"MultiPolygon\",\n  MULTIPOLYGONZ: \"MultiPolygonZ\",\n  MULTIPOLYGONM: \"MultiPolygonM\",\n  MULTIPOLYGONZM: \"MultiPolygonZM\",\n  MULTIPOLYGON25D: \"MultiPolygon25D\",\n  GEOMETRYCOLLECTION: \"GeometryCollection\",\n  GEOMETRYCOLLECTIONZ: \"GeometryCollectionZ\",\n  GEOMETRYCOLLECTIONM: \"GeometryCollectionM\",\n  GEOMETRYCOLLECTIONZM: \"GeometryCollectionZM\",\n  GEOMETRYCOLLECTION25D: \"GeometryCollection25D\"\n};\n\n/**\n * @type {string}\n */\nvar LIST_OF_RELATIONS_TITLE = exports.LIST_OF_RELATIONS_TITLE = 'info.list_of_relations';\n\n/**\n * @type {string}\n */\nvar LIST_OF_RELATIONS_ID = exports.LIST_OF_RELATIONS_ID = '__G3W_LIST_OF_RELATIONS_ID__';\n\n/**\n * @type {string}\n */\nvar LOCALSTORAGE_EXTERNALWMS_ITEM = exports.LOCALSTORAGE_EXTERNALWMS_ITEM = 'externalwms';\n\n/**\n * @typedef MapSettings\n * @property {{ maxScale: number }} ZOOM\n * @property {{ duration: number }} ANIMATION\n * @property {{ default: string, getPositions: Function }} LAYER_POSITIONS: \n */\n\n/**\n * @type {MapSettings}\n */\nvar MAP_SETTINGS = exports.MAP_SETTINGS = {\n  ZOOM: {\n    maxScale: 1000\n  },\n  ANIMATION: {\n    duration: 2000\n  },\n  LAYER_POSITIONS: {\n    default: 'top',\n    getPositions: function getPositions() {\n      return ['top', 'bottom'];\n    }\n  }\n};\n\n/**\n * @type {Array<{ value: any, label: string }>}\n * @since v3.5\n */\nvar PRINT_FORMATS = exports.PRINT_FORMATS = [{\n  value: 'pdf',\n  label: 'PDF'\n}, {\n  value: 'png',\n  label: 'PNG'\n}];\n\n/**\n * @type {number[]}\n * @since v3.5\n */\nvar PRINT_RESOLUTIONS = exports.PRINT_RESOLUTIONS = [150, 300];\n\n/**\n * @type {Array<{ value: number, label: string }>}\n * @since v3.5\n */\nvar PRINT_SCALES = exports.PRINT_SCALES = [{\n  value: 100,\n  label: '1:100'\n}, {\n  value: 200,\n  label: '1:200'\n}, {\n  value: 500,\n  label: '1:500'\n}, {\n  value: 1000,\n  label: '1:1.000'\n}, {\n  value: 2000,\n  label: '1:2.000'\n}, {\n  value: 2500,\n  label: '1:2.500'\n}, {\n  value: 5000,\n  label: '1:5.000'\n}, {\n  value: 10000,\n  label: '1:10.000'\n}, {\n  value: 20000,\n  label: '1:20.000'\n}, {\n  value: 25000,\n  label: '1:25.000'\n}, {\n  value: 50000,\n  label: '1:50.000'\n}, {\n  value: 100000,\n  label: '1:100.000'\n}, {\n  value: 250000,\n  label: '1:250.000'\n}, {\n  value: 500000,\n  label: '1:500.000'\n}, {\n  value: 1000000,\n  label: '1:1.000.000'\n}, {\n  value: 2500000,\n  label: '1:2.500.000'\n}, {\n  value: 5000000,\n  label: '1:5.000.000'\n}, {\n  value: 10000000,\n  label: '1:10.000.000'\n}, {\n  value: 20000000,\n  label: '1:20.000.000'\n}, {\n  value: 50000000,\n  label: '1:50.000.000'\n}, {\n  value: 100000000,\n  label: '1:100.000.000'\n}, {\n  value: 250000000,\n  label: '1:250.000.000'\n}, {\n  value: 500000000,\n  label: '1:500.000.000'\n}];\n\n/**\n * Point tolerance when clicking on map\n * \n * @type {{unit: string, value: number}}\n */\nvar QUERY_POINT_TOLERANCE = exports.QUERY_POINT_TOLERANCE = {\n  unit: 'pixel',\n  value: 10\n};\n\n/**\n * @type {string}\n * @since v3.5\n */\nvar SEARCH_ALLVALUE = exports.SEARCH_ALLVALUE = '__G3W_ALL__';\n\n/**\n * @type {string[]}\n * @since v3.5\n */\nvar SEARCH_RETURN_TYPES = exports.SEARCH_RETURN_TYPES = ['data', 'search'];\n\n/**\n * TIMEOUT (1 minute = 60000)\n * \n * @type {number}\n */\nvar TIMEOUT = exports.TIMEOUT = 60000;\n\n/**\n * @type {string}\n */\nvar TOC_LAYERS_INIT_STATUS = exports.TOC_LAYERS_INIT_STATUS = 'not_collapsed';\n\n/**\n * @type {string}\n */\nvar TOC_THEMES_INIT_STATUS = exports.TOC_THEMES_INIT_STATUS = 'collapsed';\n\n/**\n * @type {{resize: Object<string, { min: number }>}}\n * @since v3.5\n */\nvar VIEWPORT = exports.VIEWPORT = {\n  resize: {\n    map: {\n      min: 200\n    },\n    content: {\n      min: 200\n    }\n  }\n};\n\n/**\n * @type {Object<string, { tool: number }>}\n */\nvar ZINDEXES = exports.ZINDEXES = {\n  usermessage: {\n    tool: 2\n  }\n};\n\n/**\n * @type {Object<string, string | Object<string, string>>}\n * @since v3.8\n */\nvar API_BASE_URLS = exports.API_BASE_URLS = {\n\n  /**\n   * Info about groups, macrogroups, projects, etc. of G3W-SUITE\n   * \n   * @since 3.8.0\n   */\n  ABOUT: {\n    macrogroups: '/about/api/macrogroup/',\n    nomacrogoups: '/about/api/group/nomacrogroup/',\n    projects: '/about/api/group/__G3W_GROUP_ID__/projects/',\n    group: '/about/api/group/'\n  },\n\n  /**\n   * Coordinate Reference Systems\n   * \n   * @example /crs/<epsg_code>\n   * \n   * @since v3.8\n   */\n  CRS: '/crs/'\n\n};\n\n/**\n * List of default Font Awesome classes for current project\n * \n * @type {Object<string, string>}\n * @since v3.8\n */\nvar FONT_AWESOME_ICONS = exports.FONT_AWESOME_ICONS = {\n  'change-map': \"fas fa-map-signs\",\n  map: \"far fa-map\",\n  file: \"fas fa-file-code\",\n  marker: \"fas fa-map-marker-alt\",\n  relation: \"fas fa-sitemap\",\n  tools: \"fas fa-cogs\",\n  tool: \"fas fa-cog\",\n  search: \"fas fa-search\",\n  print: \"fas fa-print\",\n  info: \"fas fa-info-circle\",\n  'info-circle': \"fas fa-info-circle\",\n  globe: \"fas fa-globe\",\n  mail: \"fas fa-envelope\",\n  mobile: \"fas fa-mobile\",\n  fax: \"fas fa-fax\",\n  user: \"fas fa-user\",\n  bars: \"fas fa-bars\",\n  uncheck: \"far fa-square\",\n  check: \"far fa-check-square\",\n  filluncheck: \"fas fa-square\",\n  table: \"fas fa-table\",\n  trash: \"fas fa-trash\",\n  'trash-o': \"far fa-trash-alt\",\n  pencil: \"fas fa-pencil-alt\",\n  'ellips-h': \"fas fa-ellipsis-h\",\n  'ellips-v': \"fas fa-ellipsis-v\",\n  'arrow-up': \"fas fa-chevron-up\",\n  'arrow-down': \"fas fa-chevron-down\",\n  'arrow-left': \"fas fa-chevron-left\",\n  'arrow-right': \"fas fa-chevron-right\",\n  'resize-h': \"fas fa-arrows-alt-h\",\n  'resize-v': \"fas fa-arrows-alt-v\",\n  'resize-default': \"fas fa-compress\",\n  'caret-up': \"fas fa-caret-up\",\n  'caret-down': \"fas fa-caret-down\",\n  'caret-left': \"fas fa-caret-left\",\n  'caret-right': \"fas fa-caret-right\",\n  'empty-circle': \"far fa-circle\",\n  'cloud-upload': \"fas fa-cloud-upload-alt\",\n  spinner: \"fas fa-spinner\",\n  minus: \"fas fa-minus\",\n  \"minus-square\": \"far fa-minus-square\",\n  plus: \"fas fa-plus\",\n  'plus-circle': \"fas fa-plus-circle\",\n  'plus-square': \"far fa-plus-square\",\n  grid: \"fas fa-th\",\n  home: \"fas fa-home\",\n  folder: \"fas fa-folder\",\n  'sign-out': \"fas fa-sign-out-alt\",\n  close: \"fas fa-times\",\n  time: \"far fa-clock\",\n  calendar: \"fas fa-calendar-alt\",\n  list: \"fas fa-list-alt\",\n  link: \"fas fa-link\",\n  unlink: \"fas fa-unlink\",\n  eye: \"far fa-eye\",\n  'eye-close': \"far fa-eye-slash\",\n  save: \"far fa-save\",\n  pdf: \"fas fa-file-pdf\",\n  image: \"far fa-image\",\n  video: \"far fa-file-video\",\n  unknow: \"far fa-question-circle\",\n  zip: \"far fa-file-archive\",\n  text: \"far fa-file-alt\",\n  excel: \"far fa-file-excel\",\n  xls: \"far fa-file-excel\",\n  gpx: \"fas fa-location-arrow\",\n  gpkg: \"fas fa-box-open\",\n  shapefile: \"fas fa-file-archive\",\n  csv: \"fas fa-file-csv\",\n  geotiff: \"fas fa-th\",\n  ppt: \"far fa-file-powerpoint\",\n  circle: \"fas fa-circle\",\n  calculator: \"fas fa-calculator\",\n  picture: \"far fa-image\",\n  keyboard: \"far fa-keyboard\",\n  'file-download': \"fas fa-file-download\",\n  copy: \"far fa-copy\",\n  draw: \"fas fa-draw-polygon\",\n  chart: \"fas fa-chart-bar\",\n  'chart-line': \"fas fa-chart-line\",\n  'chart-area': \"fas fa-chart-area\",\n  'chart-pie': \"fas fa-chart-pie\",\n  run: \"fas fa-play\",\n  warning: \"fas fa-exclamation-circle\",\n  alert: \"fas fa-exclamation-triangle\",\n  crosshairs: \"fas fa-crosshairs\",\n  success: \"far fa-check-circle\",\n  back: \"fas fa-chevron-circle-left\",\n  'file-upload': \"fas fa-file-upload\",\n  wifi: \"fas fa-wifi\",\n  mouse: \"fas fa-mouse\",\n  'copy-paste': \"far fa-copy\",\n  'vector-square': \"fas fa-vector-square\",\n  download: \"fas fa-download\",\n  credits: \"fas fa-euro-sign\",\n  filter: \"fas fa-filter\",\n  plugin: \"fas fa-plug\",\n  invert: \"fas fa-exchange-alt\",\n  clear: \"fas fa-broom\",\n  palette: \"fas fa-palette\",\n  layers: \"fas fa-layer-group\",\n  'sign-in': \"fas fa-sign-in-alt\",\n  language: \"fas fa-language\",\n  target: \"fas fa-bullseye\",\n  pin: \"fas fa-map-pin\",\n  square: \"far fa-square\",\n  move: \"fas fa-arrows-alt\",\n  moon: \"fas fa-moon\",\n  sun: \"fas fa-sun\",\n  refresh: \"fas fa-sync-alt\",\n  pause: \"fas fa-pause\",\n  'step-backward': \"fas fa-step-backward\",\n  'fast-backward': \"fas fa-fast-backward\",\n  'step-forward': \"fas fa-step-forward\",\n  'fast-forward': \"fas fa-fast-forward\",\n  crop: \"fas fa-crop-alt\",\n  exit: \"fas fa-door-open\",\n  slider: \"fas fa-sliders-h\",\n\n  /**\n   * @since 3.8.0\n   */\n  bookmark: \"fas fa-bookmark\",\n\n  /**\n   * @since 3.8.0\n   */\n  reply: \"fas fa-reply\",\n\n  /**\n   * @since 3.8.0\n   */\n  share: \"fas fa-share\"\n\n};\n\n/**\n * @typedef LocalItem\n * @property {string} id unique identifier\n * @property {any} value initial value\n */\n\n/**\n * LOCAL ITEM IDS - used to store id used by application\n * \n * @type {Object<string, LocalItem>}\n * \n * @since v3.8\n */\nvar LOCAL_ITEM_IDS = exports.LOCAL_ITEM_IDS = {\n\n  MESSAGES: {\n    id: 'MESSAGES',\n    value: {}\n  },\n\n  SPATIALBOOKMARKS: {\n    id: 'SPATIALBOOKMARKS',\n    value: {}\n  }\n\n};\n\n/**\n * @since 3.8.0\n */\n\nvar LOGO_GIS3W = exports.LOGO_GIS3W = 'images/logo_gis3w_156_85.png';\n\nexports.default = {\n  APP_VERSION: APP_VERSION,\n  API_BASE_URLS: API_BASE_URLS,\n  DEFAULT_EDITING_CAPABILITIES: DEFAULT_EDITING_CAPABILITIES,\n  DOWNLOAD_FORMATS: DOWNLOAD_FORMATS,\n  FILTER_OPERATORS: FILTER_OPERATORS,\n  FILTER_EXPRESSION_OPERATORS: FILTER_EXPRESSION_OPERATORS,\n  FONT_AWESOME_ICONS: FONT_AWESOME_ICONS,\n  G3W_FID: G3W_FID,\n  GEOMETRY_FIELDS: GEOMETRY_FIELDS,\n  GEOMETRY_TYPES: GEOMETRY_TYPES,\n  LIST_OF_RELATIONS_TITLE: LIST_OF_RELATIONS_TITLE,\n  LIST_OF_RELATIONS_ID: LIST_OF_RELATIONS_ID,\n  LOCAL_ITEM_IDS: LOCAL_ITEM_IDS,\n  LOCALSTORAGE_EXTERNALWMS_ITEM: LOCALSTORAGE_EXTERNALWMS_ITEM,\n  LOGO_GIS3W: LOGO_GIS3W,\n  MAP_SETTINGS: MAP_SETTINGS,\n  PRINT_FORMATS: PRINT_FORMATS,\n  PRINT_RESOLUTIONS: PRINT_RESOLUTIONS,\n  PRINT_SCALES: PRINT_SCALES,\n  QUERY_POINT_TOLERANCE: QUERY_POINT_TOLERANCE,\n  SEARCH_ALLVALUE: SEARCH_ALLVALUE,\n  SEARCH_RETURN_TYPES: SEARCH_RETURN_TYPES,\n  TIMEOUT: TIMEOUT,\n  TOC_LAYERS_INIT_STATUS: TOC_LAYERS_INIT_STATUS,\n  TOC_THEMES_INIT_STATUS: TOC_THEMES_INIT_STATUS,\n  VIEWPORT: VIEWPORT,\n  ZINDEXES: ZINDEXES\n};\n\n},{\"../version\":381}],5:[function(require,module,exports){\nvar _projects = require('store/projects');\n\nvar _projects2 = _interopRequireDefault(_projects);\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar _require = require('core/utils/utils'),\n    resolve = _require.resolve;\n\nfunction BaseService() {\n  var _this = this;\n\n  _projects2.default.onbefore('setCurrentProject', function (project) {\n    return _this.project = project;\n  });\n  this.project = _projects2.default.getCurrentProject();\n}\n\nvar proto = BaseService.prototype;\n/**\n *\n * @param request is a Promise(jquery promise at moment\n * @returns {Promise<unknown>}\n */\nproto.handleRequest = function (request) {\n  //  OVERWRITE TO SERVICE\n};\n\nproto.handleResponse = function () {\n  var _ref = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(response) {\n    return regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n          case 'end':\n            return _context.stop();\n        }\n      }\n    }, _callee, this);\n  }));\n\n  return function (_x) {\n    return _ref.apply(this, arguments);\n  };\n}();\n\n/**\n * @param {{ type: 'vector' }}\n * \n * @returns { unknown[] } array of external layer add on project\n * \n * @since 3.8.0\n */\nproto.getSelectedExternalLayers = function (_ref2) {\n  var _ref2$type = _ref2.type,\n      type = _ref2$type === undefined ? 'vector' : _ref2$type;\n\n  return _gui2.default.getService('catalog').getExternalSelectedLayers({ type: type });\n};\n\n/**\n * @returns {Promise<[]>} a resolved request (empty array)\n * \n * @since 3.8.0\n */\nproto.getEmptyRequest = function () {\n  return resolve([]);\n};\n\n/**\n * @param {{ type: 'vector' }}\n * \n * @returns {boolean}\n * \n * @since 3.8.0\n */\nproto.hasExternalLayerSelected = function (_ref3) {\n  var _ref3$type = _ref3.type,\n      type = _ref3$type === undefined ? 'vector' : _ref3$type;\n\n  return this.getSelectedExternalLayers({ type: type }).length > 0;\n};\n\nmodule.exports = BaseService;\n\n},{\"core/utils/utils\":68,\"services/gui\":361,\"store/projects\":379}],6:[function(require,module,exports){\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _applicationState = require('store/application-state');\n\nvar _applicationState2 = _interopRequireDefault(_applicationState);\n\nvar _editing = require('services/editing');\n\nvar _editing2 = _interopRequireDefault(_editing);\n\nvar _sessions = require('store/sessions');\n\nvar _sessions2 = _interopRequireDefault(_sessions);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nvar _require = require('core/utils/utils'),\n    inherit = _require.inherit,\n    base = _require.base;\n\nvar G3WObject = require('core/g3wobject');\nvar FeaturesStore = require('core/layers/features/featuresstore');\nvar OlFeaturesStore = require('core/layers/features/olfeaturesstore');\nvar Layer = require('core/layers/layer');\n\n// class Editor bind editor to layer to do main actions\nfunction Editor() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  this.setters = {\n    save: function save() {\n      this._save();\n    },\n    addFeature: function addFeature(feature) {\n      this._addFeature(feature);\n    },\n    updateFeature: function updateFeature(feature) {\n      this._updateFeature(feature);\n    },\n    deleteFeature: function deleteFeature(feature) {\n      this._deleteFeature(feature);\n    },\n    setFeatures: function setFeatures() {\n      var features = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n      this._setFeatures(features);\n    },\n    getFeatures: function getFeatures() {\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      return this._getFeatures(options);\n    }\n  };\n  base(this);\n  // filter to getFeaturerequest\n  this._filter = {\n    bbox: null\n  };\n\n  this._allfeatures = false;\n  // referred layer\n  this._layer = options.layer;\n  // editing featurestore\n  this._featuresstore = this._layer.getType() === Layer.LayerTypes.TABLE ? new FeaturesStore() : new OlFeaturesStore();\n  // editor is active or not\n  this._started = false;\n  // not editable fields\n  this._noteditablefileds = this._layer.getEditingNotEditableFields() || [];\n}\n\ninherit(Editor, G3WObject);\n\nvar proto = Editor.prototype;\n\nproto._canDoGetFeaturesRequest = function () {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  var doRequest = true;\n  if (this._layer.getType() === Layer.LayerTypes.VECTOR) {\n    var _ref = options.filter || {},\n        bbox = _ref.bbox;\n\n    if (bbox) {\n      if (!this._filter.bbox) this._filter.bbox = bbox;else if (!ol.extent.containsExtent(this._filter.bbox, bbox)) {\n        this._filter.bbox = ol.extent.extend(this._filter.bbox, bbox);\n      } else doRequest = false;\n    }\n  }\n  return doRequest;\n};\n\nproto.getEditingSource = function () {\n  return this._featuresstore;\n};\n\n/**\n * get Source\n */\nproto.getSource = function () {\n  this._layer.getSource();\n};\n\nproto._applyChanges = function () {\n  var items = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n  var reverse = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n\n  _editing2.default.execute(this._featuresstore, items, reverse);\n};\n\nproto.setChanges = function (items, reverse) {\n  this._applyChanges(items, reverse);\n};\n\nproto.getLayer = function () {\n  return this._layer;\n};\n\nproto.setLayer = function (layer) {\n  this._layer = layer;\n  return this._layer;\n};\n\nproto.removeNotEditablePropriertiesFromFeature = function (feature) {\n  this._noteditablefileds.forEach(function (field) {\n    return feature.unset([field]);\n  });\n};\n\n//clone features method\nproto._cloneFeatures = function () {\n  var features = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n  return features.map(function (feature) {\n    return feature.clone();\n  });\n};\n\nproto._addFeaturesFromServer = function () {\n  var features = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n  features = this._cloneFeatures(features);\n  this._featuresstore.addFeatures(features);\n};\n\nproto._doGetFeaturesRequest = function () {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  var doRequest = _applicationState2.default.online && !this._allfeatures;\n  return doRequest && this._canDoGetFeaturesRequest(options);\n};\n\n// get features from server method\nproto._getFeatures = function () {\n  var _this = this;\n\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  var d = $.Deferred();\n  var doRequest = this._doGetFeaturesRequest(options);\n  if (!doRequest) d.resolve();else this._layer.getFeatures(options).then(function (promise) {\n    promise.then(function (features) {\n      _this._addFeaturesFromServer(features);\n      _this._allfeatures = !options.filter;\n      return d.resolve(features);\n    }).fail(function (err) {\n      return d.reject(err);\n    });\n  }).fail(function (err) {\n    return d.reject(err);\n  });\n  return d.promise();\n};\n\n// method to revert (cancel) all changes in history and clean session\nproto.revert = function () {\n  var d = $.Deferred();\n  var features = this._cloneFeatures(this._layer.readFeatures());\n  this._featuresstore.setFeatures(features);\n  d.resolve();\n  return d.promise();\n};\n\nproto.rollback = function () {\n  var changes = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n  var d = $.Deferred();\n  this._applyChanges(changes, true);\n  d.resolve();\n  return d.promise();\n};\n\nproto.applyChangesToNewRelationsAfterCommit = function (relationsResponse) {\n  for (var relationLayerId in relationsResponse) {\n    var response = relationsResponse[relationLayerId];\n    var layer = this.getLayerById(relationLayerId);\n    var editingLayerSource = this.getEditingLayer(relationLayerId).getEditingSource();\n    var features = editingLayerSource.readFeatures();\n    features.forEach(function (feature) {\n      return feature.clearState();\n    });\n    layer.getSource().setFeatures(features);\n    layer.applyCommitResponse({\n      response: response,\n      result: true\n    });\n    editingLayerSource.setFeatures(layer.getSource().readFeatures());\n  }\n};\n\nproto.setFieldValueToRelationField = function () {\n  var _ref2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      relationId = _ref2.relationId,\n      ids = _ref2.ids,\n      field = _ref2.field,\n      _ref2$values = _ref2.values,\n      values = _ref2$values === undefined ? [] : _ref2$values;\n\n  var editingLayerSource = _sessions2.default.getSession(relationId).getEditor().getEditingSource();\n  ids.forEach(function (id) {\n    var feature = editingLayerSource.getFeatureById(id);\n    if (feature) {\n      var fieldvalue = feature.get(field);\n      fieldvalue == values[0] && feature.set(field, values[1]);\n    }\n  });\n};\n\n// apply response data from server in case of new inserted feature\nproto.applyCommitResponse = function () {\n  var _this2 = this;\n\n  var response = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var relations = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n\n  if (response && response.result) {\n    var data = response.response;\n\n    var ids = data.new;\n    var lockids = data.new_lockids;\n    ids.forEach(function (idobj) {\n      var feature = _this2._featuresstore.getFeatureById(idobj.clientid);\n      feature.setId(idobj.id);\n      feature.setProperties(idobj.properties);\n      relations.forEach(function (relation) {\n        Object.entries(relation).forEach(function (_ref3) {\n          var _ref4 = _slicedToArray(_ref3, 2),\n              relationId = _ref4[0],\n              options = _ref4[1];\n\n          var value = feature.get(options.fatherField);\n          _this2.setFieldValueToRelationField({\n            relationId: relationId,\n            ids: options.ids,\n            field: options.childField,\n            values: [idobj.clientid, value]\n          });\n        });\n      });\n    });\n    var features = this._featuresstore.readFeatures();\n    features.forEach(function (feature) {\n      return feature.clearState();\n    });\n    this._layer.setFeatures(features);\n    this._layer.getSource().addLockIds(lockids);\n  }\n};\n\nproto.getLockIds = function () {\n  return this._layer.getSource().getLockIds();\n};\n\n// run after server apply changed to origin resource\nproto.commit = function (commitItems) {\n  var _this3 = this;\n\n  var d = $.Deferred();\n  // in case of relations bind to new feature\n  var relations = commitItems.add.length ? Object.keys(commitItems.relations).map(function (relationId) {\n    var layerRelation = _this3._layer.getRelations().getRelationByFatherChildren(_this3._layer.getId(), relationId);\n    var updates = commitItems.relations[relationId].update.map(function (relation) {\n      return relation.id;\n    });\n    var add = commitItems.relations[relationId].add.map(function (relation) {\n      return relation.id;\n    });\n    return _defineProperty({}, relationId, {\n      ids: [].concat(_toConsumableArray(add), _toConsumableArray(updates)),\n      fatherField: layerRelation.getFatherField(),\n      childField: layerRelation.getChildField()\n    });\n  }) : [];\n  this._layer.commit(commitItems).then(function (promise) {\n    promise.then(function (response) {\n      _this3.applyCommitResponse(response, relations);\n      d.resolve(response);\n    }).fail(function (err) {\n      return d.reject(err);\n    });\n  }).fail(function (err) {\n    return d.reject(err);\n  });\n  return d.promise();\n};\n\n//start editing function\nproto.start = function () {\n  var _this4 = this;\n\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  var d = $.Deferred();\n  // load features of layer based on filter type\n  this.getFeatures(options).then(function (promise) {\n    promise.then(function (features) {\n      // the features are already inside featuresstore\n      d.resolve(features);\n      //if all ok set to started\n      _this4._started = true;\n    }).fail(function (err) {\n      return d.reject(err);\n    });\n  }).fail(function (err) {\n    return d.reject(err);\n  });\n  return d.promise();\n};\n\n//action to layer\n\nproto._addFeature = function (feature) {\n  this._featuresstore.addFeature(feature);\n};\n\nproto._deleteFeature = function (feature) {\n  this._featuresstore.deleteFeature(feature);\n};\n\nproto._updateFeature = function (feature) {\n  this._featuresstore.updateFeature(feature);\n};\n\nproto._setFeatures = function (features) {\n  this._featuresstore.setFeatures(features);\n};\n\nproto.readFeatures = function () {\n  return this._layer.readFeatures();\n};\n\nproto.readEditingFeatures = function () {\n  return this._featuresstore.readFeatures();\n};\n\n// stop editor\nproto.stop = function () {\n  var _this5 = this;\n\n  var d = $.Deferred();\n  this._layer.unlock().then(function (response) {\n    _this5.clear();\n    d.resolve(response);\n  }).fail(function (err) {\n    return d.reject(err);\n  });\n  return d.promise();\n};\n\n//run save layer\nproto._save = function () {\n  this._layer.save();\n};\n\nproto.isStarted = function () {\n  return this._started;\n};\n\nproto.clear = function () {\n  this._started = false;\n  this._filter.bbox = null;\n  this._allfeatures = false;\n  this._featuresstore.clear();\n  this._layer.getFeaturesStore().clear();\n  this._layer.getType() === Layer.LayerTypes.VECTOR && this._layer.resetEditingSource(this._featuresstore.getFeaturesCollection());\n};\n\nmodule.exports = Editor;\n\n},{\"core/g3wobject\":12,\"core/layers/features/featuresstore\":27,\"core/layers/features/olfeaturesstore\":28,\"core/layers/layer\":34,\"core/utils/utils\":68,\"services/editing\":359,\"store/application-state\":373,\"store/sessions\":380}],7:[function(require,module,exports){\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit;\n\nvar G3WObject = require('core/g3wobject');\n\nfunction History() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  this.id = options.id;\n  base(this);\n  // registered all changes\n  /*\n  *{\n  * _states: [\n  *     {\n  *       id: unique key\n  *       state: [state] // example: history contsins features state\n  *                      // array because a tool can apply changes to more than one features at time (split di una feature)\n  *     },\n  *     {\n  *       id: unique key\n  *       state: [state]\n  *     },\n  *   ]\n  *     ....\n  *\n  *  _current: unique key // usefult to undo redo\n  *\n  *\n  * */\n  // set maximun \"buffer history\" lenght for  undo redo\n  this._maxSteps = 10;\n  this._states = [];\n  // reactive state of histrory\n  this.state = {\n    commit: false,\n    undo: false,\n    redo: false\n  };\n  this._current = null; // store the current state of history (useful for undo /redo)\n}\n\ninherit(History, G3WObject);\n\nvar proto = History.prototype;\n\nproto.add = function (uniqueId, items) {\n  var _this = this;\n\n  //state object is an array of feature/features changed in a transaction\n  var d = $.Deferred();\n  // before insert an item into the history\n  // check if are at last state step (no redo was done)\n  // in this way avoid starge barch in the history\n  //If we are in the middle of undo, delete all changes in the histroy from the current \"state\"\n  // so i can create a new history\n\n  if (this._current === null) {\n    this._states = [{\n      id: uniqueId,\n      items: items\n    }];\n  } else {\n    if (this._states.length && this._current < this.getLastState().id) this._states = this._states.filter(function (state) {\n      return state.id <= _this._current;\n    });\n    this._states.push({\n      id: uniqueId,\n      items: items\n    });\n  }\n\n  this._current = uniqueId;\n  this._setState();\n  // return unique id key\n  // it can be used in save relation\n  d.resolve(uniqueId);\n  return d.promise();\n};\n\nproto.getRelationStates = function (layerId) {\n  var _ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n      _ref$clear = _ref.clear,\n      clear = _ref$clear === undefined ? false : _ref$clear;\n\n  var relationStates = [];\n  for (var _i = 0; _i < this._states.length; _i++) {\n    var state = this._states[_i];\n    var relationItems = state.items.filter(function (item) {\n      var _layerId = Array.isArray(item) ? item[0].layerId : item.layerId;\n      return _layerId === layerId;\n    });\n    relationItems.length && relationStates.push({\n      id: state.id,\n      items: relationItems\n    });\n  }\n  return relationStates;\n};\n\nproto.insertState = function (state) {\n  var stateId = state.id;\n  var index = this._states.length;\n  for (var _i2 = 0; _i2 < this._states.length; _i2++) {\n    var _state = this._states[_i2];\n    if (_state.id > stateId) {\n      index = _i2;\n      break;\n    } else if (_state.id === stateId) index = -1;\n    break;\n  }\n  if (index > -1) {\n    if (this._current < stateId) this._current = stateId;\n    this._states.splice(index, 0, state);\n  }\n};\n\nproto.removeState = function (stateId) {\n  var index = void 0;\n  for (i = 0; i < this._states.length; i++) {\n    var state = this._states[i];\n    if (state.id === stateId) {\n      index = i;\n      break;\n    }\n  }\n  if (this._current === stateId) this._current = this._states.length > 1 ? this._states[index - 1].id : null;\n  this._states.splice(index, 1);\n};\n\nproto.removeStates = function () {\n  var stateIds = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n  for (var _i3 = 0; _i3 < stateIds.length; _i3++) {\n    var stateId = stateIds[_i3];\n    this.removeState(stateId);\n  }\n};\n\nproto.insertStates = function () {\n  var states = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n  for (var _i4 = 0; _i4 < states.length; _i4++) {\n    this.insertState(states[_i4]);\n  }\n  this.canCommit();\n};\n\n// internal method to change the state of the  history when we check\n// a call to a function that modify the hsitory state\nproto._setState = function () {\n  this.canUndo();\n  this.canCommit();\n  this.canRedo();\n};\n\n//check if was did an update (update are array contains two items , old e new value)\nproto._checkItems = function (items, action) {\n  var _this2 = this;\n\n  /**\n   * action: <reffererd to array index>\n   *  0: undo;\n   *  1: redo;\n   **/\n  var newItems = {\n    own: [], //array of changes of layer of the current session\n    dependencies: {} // dependencies\n  };\n  items.forEach(function (item) {\n    if (Array.isArray(item)) item = item[action];\n    // check if belong to session\n    if (_this2.id === item.layerId) {\n      newItems.own.push(item);\n    } else {\n      if (!newItems.dependencies[item.layerId]) newItems.dependencies[item.layerId] = {\n        own: [],\n        dependencies: {}\n      };\n      newItems.dependencies[item.layerId].own.push(item);\n    }\n  });\n  return newItems;\n};\n\n// method undo\nproto.undo = function () {\n  var _this3 = this;\n\n  var items = void 0;\n  if (this._current === this.getFirstState().id) {\n    this._current = null;\n    items = this._states[0].items;\n  } else {\n    this._states.find(function (state, idx) {\n      if (state.id === _this3._current) {\n        items = _this3._states[idx].items;\n        _this3._current = _this3._states[idx - 1].id;\n        return true;\n      }\n    });\n  }\n  items = this._checkItems(items, 0);\n  this._setState();\n  return items;\n};\n\n//method redo\nproto.redo = function () {\n  var _this4 = this;\n\n  var items = void 0;\n  // if not set get first state\n  if (!this._current) {\n    items = this._states[0].items;\n    // set current to first\n    this._current = this._states[0].id;\n  } else {\n    this._states.find(function (state, idx) {\n      if (_this4._current === state.id) {\n        _this4._current = _this4._states[idx + 1].id;\n        items = _this4._states[idx + 1].items;\n        return true;\n      }\n    });\n  }\n  items = this._checkItems(items, 1);\n  this._setState();\n  return items;\n};\n\nproto.setItemsFeatureIds = function () {\n  var _this5 = this;\n\n  var unsetnewids = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n  unsetnewids.forEach(function (unsetnewid) {\n    var id = unsetnewid.id,\n        clientid = unsetnewid.clientid;\n\n    _this5._states.forEach(function (state) {\n      var items = state.items;\n\n      items.forEach(function (item) {\n        var feature = item.feature.getId() === clientid && item.feature;\n        if (feature) {\n          feature.setId(id);\n        }\n      });\n    });\n  });\n};\n\nproto.clear = function (ids) {\n  var _this6 = this;\n\n  if (ids) this._states.forEach(function (state, idx) {\n    if (ids.indexOf(state.id) !== -1) {\n      if (_this6._current && _this6._current === state.id()) _this6.undo();\n      _this6._states.splice(idx, 1);\n    }\n  });else this._clearAll();\n};\n\nproto._clearAll = function () {\n  this._states = [];\n  this._current = null;\n  this.state.commit = false;\n  this.state.redo = false;\n  this.state.undo = false;\n};\n\nproto.getState = function (id) {\n  return this._states.find(function (state) {\n    return state.id === id;\n  });\n};\n\nproto.getFirstState = function () {\n  return this._states.length ? this._states[0] : null;\n};\n\nproto.getLastState = function () {\n  var length = this._states.length;\n  return length ? this._states[length - 1] : null;\n};\n\nproto.getCurrentState = function () {\n  var _this7 = this;\n\n  var currentState = null;\n  if (this._current && this._states.length) {\n    currentState = this._states.find(function (state) {\n      return _this7._current === state.id;\n    });\n  }\n  return currentState;\n};\n\n// funzione che mi permette di ricavarel'indice dello stato corrente\nproto.getCurrentStateIndex = function () {\n  var _this8 = this;\n\n  var currentStateIndex = null;\n  if (this._current && this._states.length) {\n    this._states.forEach(function (state, idx) {\n      if (_this8._current === state.id) {\n        currentStateIndex = idx;\n        return false;\n      }\n    });\n  }\n  return currentStateIndex;\n};\n\n// method that response true if we can commit\nproto.canCommit = function () {\n  var checkCommitItems = this.commit();\n  var canCommit = false;\n  for (var layerId in checkCommitItems) {\n    var commitItem = checkCommitItems[layerId];\n    canCommit = canCommit || !!commitItem.length;\n  }\n  this.state.commit = canCommit;\n  return this.state.commit;\n};\n\n//cauUdo method\nproto.canUndo = function () {\n  var steps = this._states.length - 1 - this.getCurrentStateIndex();\n  this.state.undo = !_.isNull(this._current) && this._maxSteps > steps;\n  return this.state.undo;\n};\n\n// Caon Redo function\nproto.canRedo = function () {\n  this.state.redo = this.getLastState() && this.getLastState().id != this._current || _.isNull(this._current) && this._states.length > 0;\n  return this.state.redo;\n};\n\nproto._getStatesToCommit = function () {\n  var _this9 = this;\n\n  return this._states.filter(function (state) {\n    return state.id <= _this9._current;\n  });\n};\n\n//get all changes to send to server (mandare al server)\nproto.commit = function () {\n  var commitItems = {};\n  var statesToCommit = this._getStatesToCommit();\n  statesToCommit.forEach(function (state) {\n    state.items.forEach(function (item) {\n      var add = true;\n      if (Array.isArray(item)) item = item[1];\n      commitItems[item.layerId] && commitItems[item.layerId].forEach(function (commitItem, index) {\n        // check if already inserted feature\n        if (commitItem.getUid() === item.feature.getUid()) {\n          if (item.feature.isNew() && !commitItem.isDeleted() && item.feature.isUpdated()) {\n            var _item = item.feature.clone();\n            _item.add();\n            commitItems[item.layerId][index] = _item;\n          } else if (item.feature.isNew() && item.feature.isDeleted()) {\n            commitItems[item.layerId].splice(index, 1);\n          } else if (item.feature.isUpdated() || item.feature.isDeleted()) commitItems[item.layerId][index] = item.feature;\n          add = false;\n          return false;\n        }\n      });\n      if (add) {\n        var feature = item.feature;\n        var layerId = item.layerId;\n        if (!(!feature.isNew() && feature.isAdded())) {\n          if (!commitItems[layerId]) commitItems[layerId] = [];\n          commitItems[layerId].push(feature);\n        }\n      }\n    });\n  });\n  return commitItems;\n};\n\nmodule.exports = History;\n\n},{\"core/g3wobject\":12,\"core/utils/utils\":68}],8:[function(require,module,exports){\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _sessions = require('store/sessions');\n\nvar _sessions2 = _interopRequireDefault(_sessions);\n\nvar _mapLayers = require('store/map-layers');\n\nvar _mapLayers2 = _interopRequireDefault(_mapLayers);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit;\n\nvar G3WObject = require('core/g3wobject');\nvar History = require('core/editing/history');\nvar Layer = require('core/layers/layer');\n\nvar is3DGeometry = require('core/utils/geo').Geometry.is3DGeometry;\n\nfunction Session() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  this.setters = {\n    start: function start() {\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      return this._start(options);\n    },\n    getFeatures: function getFeatures() {\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      return this._getFeatures(options);\n    },\n    stop: function stop() {\n      return this._stop();\n    },\n    saveChangesOnServer: function saveChangesOnServer(commitItems) {} // hook to get informed that are saved on server\n\n  };\n  base(this, options);\n\n  this.state = {\n    id: options.id,\n    started: false,\n    getfeatures: false\n  };\n  // editor\n  this._editor = options.editor;\n  this._history = new History({\n    id: this.state.id\n  });\n  this._temporarychanges = [];\n  this.register();\n}\n\ninherit(Session, G3WObject);\n\nvar proto = Session.prototype;\n\nproto.getId = function () {\n  return this.state.id;\n};\n\nproto.getLastHistoryState = function () {\n  return this._history.getLastState();\n};\n\nproto.getLastStateId = function () {\n  return this._history.getLastState().id;\n};\n\nproto.deleteState = function (stateId) {\n  this._history.removeState(stateId);\n};\n\nproto.register = function () {\n  _sessions2.default.register(this);\n};\n\nproto.unregister = function () {\n  _sessions2.default.unregister(this.getId());\n};\n\nproto._start = function () {\n  var _this = this;\n\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  var d = $.Deferred();\n  this._editor.start(options).then(function (features) {\n    _this.state.started = true;\n    d.resolve(features);\n  }).fail(function (err) {\n    d.reject(err);\n  });\n  return d.promise();\n};\n\n//method to getFeature from server by editor\nproto._getFeatures = function () {\n  var _this2 = this;\n\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  var d = $.Deferred();\n  if (!this._allfeatures) {\n    this._allfeatures = !options.filter;\n    this._editor.getFeatures(options).then(function (promise) {\n      promise.then(function (features) {\n        _this2.state.getfeatures = true;\n        d.resolve(features);\n      }).fail(function (err) {\n        return d.reject(err);\n      });\n    });\n  } else d.resolve([]);\n\n  return d.promise();\n};\n\nproto.isStarted = function () {\n  return this.state.started;\n};\n\nproto.getEditor = function () {\n  return this._editor;\n};\n\nproto.setEditor = function (editor) {\n  this._editor = editor;\n};\n\n// it used to save temporary changes to the layer\n// in history instance and feature store\nproto.save = function () {\n  var _this3 = this;\n\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  //fill history\n  var d = $.Deferred();\n  // add temporary modify to history\n  if (this._temporarychanges.length) {\n    var uniqueId = options.id || Date.now();\n    this._history.add(uniqueId, this._temporarychanges).then(function () {\n      // clear to temporary changes\n      _this3._temporarychanges = [];\n      // resolve if uniqeu id\n      d.resolve(uniqueId);\n    });\n  } else {\n    d.resolve(null);\n  }\n  return d.promise();\n};\n\nproto.updateTemporaryChanges = function (feature) {\n  this._temporarychanges.forEach(function (change) {\n    change.feature.setProperties(feature.getProperties());\n  });\n};\n\n// method to add temporary feature\nproto.pushAdd = function (layerId, feature) {\n  var removeNotEditableProperties = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;\n\n  /**\n   * Please take care of this to understand\n   */\n  removeNotEditableProperties && this._editor.removeNotEditablePropriertiesFromFeature(feature);\n  var newFeature = feature.clone();\n  this.push({\n    layerId: layerId,\n    feature: newFeature.add()\n  });\n  return newFeature;\n};\n\n// delete temporary feature\nproto.pushDelete = function (layerId, feature) {\n  this.push({\n    layerId: layerId,\n    feature: feature.delete()\n  });\n  return feature;\n};\n\n// add temporary feature changes\nproto.pushUpdate = function (layerId, newFeature, oldFeature) {\n  // in case of change attribute immediately after create feature\n  if (newFeature.isNew()) {\n    var temporarynewfeatureIndex = this._temporarychanges.findIndex(function (change) {\n      return change.layerId === layerId && change.feature.getId() === newFeature.getId();\n    });\n    if (temporarynewfeatureIndex !== -1) {\n      var feature = newFeature.clone();\n      feature.add();\n      this._temporarychanges[temporarynewfeatureIndex].feature = feature;\n      return;\n    }\n  }\n  this.push({\n    layerId: layerId,\n    feature: newFeature.update()\n  }, {\n    layerId: layerId,\n    feature: oldFeature.update()\n  });\n};\n\nproto.removeChangesFromHistory = function () {\n  var changeIds = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n  this._history.removeStates(changeIds);\n};\n\nproto.moveRelationStatesOwnSession = function () {\n  var statesIds = {};\n\n  var _getCommitItems = this.getCommitItems(),\n      relationItems = _getCommitItems.relations;\n\n  for (var relationLayerId in relationItems) {\n    var relationStates = this._history.getRelationStates(relationLayerId);\n    var relationSession = _sessions2.default.getSession(relationLayerId);\n    relationSession._history.insertStates(relationStates);\n    statesIds[relationLayerId] = relationStates.map(function (state) {\n      return state.id;\n    });\n  }\n  return statesIds;\n};\n\n// it used to add temporary features\n// that will be added with save method\nproto.push = function (New, Old) {\n  /*\n  New e Old saranno oggetti contenti {\n      layerId: xxxx,\n      feature: feature\n    }\n   */\n  // check is set old (edit)\n  var feature = Old ? [Old, New] : New;\n  this._temporarychanges.push(feature);\n};\n\n// method to revert (cancel) all changes in history and clean session\nproto.revert = function () {\n  var _this4 = this;\n\n  var d = $.Deferred();\n  this._editor.revert().then(function () {\n    _this4._history.clear();\n    d.resolve();\n  });\n  return d.promise();\n};\n\n// handle temporary changes of layer\nproto._filterChanges = function () {\n  var id = this.getId();\n  var changes = {\n    own: [],\n    dependencies: {}\n  };\n  this._temporarychanges.forEach(function (temporarychange) {\n    var change = Array.isArray(temporarychange) ? temporarychange[0] : temporarychange;\n    if (change.layerId === id) changes.own.push(change);else {\n      if (!changes.dependencies[change.layerId]) changes.dependencies[change.layerId] = [];\n      // FILO\n      changes.dependencies[change.layerId].unshift(change);\n    }\n  });\n  return changes;\n};\n\nproto.rollback = function (changes) {\n  if (changes) return this._editor.rollback(changes);else {\n    var d = $.Deferred();\n    var _changes = this._filterChanges();\n    this._editor.rollback(_changes.own).then(function () {\n      var dependencies = _changes.dependencies;\n\n      for (var id in dependencies) {\n        _sessions2.default.getSession(id).rollback(dependencies[id]);\n      }\n      d.resolve(dependencies);\n    });\n    this._temporarychanges = [];\n    return d.promise();\n  }\n};\n\n/**\n * Rollback child changes of current session\n * @param ids [array of child layer id]\n */\nproto.rollbackDependecies = function () {\n  var _this5 = this;\n\n  var ids = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n  ids.forEach(function (id) {\n    var changes = [];\n    _this5._temporarychanges = _this5._temporarychanges.filter(function (temporarychange) {\n      if (temporarychange.layerId === id) {\n        changes.push(temporarychange);\n        return false;\n      }\n    });\n    changes.length && _sessions2.default.getSession(id).rollback(changes);\n  });\n};\n\n// method undo\nproto.undo = function (items) {\n  items = items || this._history.undo();\n  this._editor.setChanges(items.own, true);\n  this._history.canCommit();\n  return items.dependencies;\n};\n\n// method redo\nproto.redo = function (items) {\n  items = items || this._history.redo();\n  this._editor.setChanges(items.own, true);\n  this._history.canCommit();\n  return items.dependencies;\n};\n\nproto._serializeCommit = function (itemsToCommit) {\n  var id = this.getId();\n  var state = void 0;\n  var layer = void 0;\n  var commitObj = {\n    add: [],\n    update: [],\n    delete: [],\n    relations: {}\n  };\n  for (var key in itemsToCommit) {\n    var isRelation = false;\n    var items = itemsToCommit[key];\n    if (key !== id) {\n      isRelation = true;\n      var sessionRelation = _sessions2.default.getSession(key);\n      var lockids = sessionRelation ? sessionRelation.getEditor().getLockIds() : [];\n      commitObj.relations[key] = {\n        lockids: lockids,\n        add: [],\n        update: [],\n        delete: []\n      };\n      layer = commitObj.relations[key];\n    } else layer = commitObj;\n    items.forEach(function (item) {\n      state = item.getState();\n      var GeoJSONFormat = new ol.format.GeoJSON();\n      switch (state) {\n        case 'delete':\n          if (!item.isNew()) layer.delete.push(item.getId());\n          break;\n        default:\n          var value = GeoJSONFormat.writeFeatureObject(item);\n          var childs_properties = item.getProperties();\n          for (var _key in value.properties) {\n            if (value.properties[_key] && _typeof(value.properties[_key]) === 'object' && value.properties[_key].constructor === Object) value.properties[_key] = value.properties[_key].value;\n            if (value.properties[_key] === undefined && childs_properties[_key]) value.properties[_key] = childs_properties[_key];\n          }\n          var action = item.isNew() ? 'add' : item.getState();\n          // in case of add i have to remove non editable properties\n          layer[action].push(value);\n          break;\n      }\n    });\n    // check in case of no edit remove relation key\n    if (isRelation && !layer.add.length && !layer.update.length && !layer.delete.length) {\n      delete commitObj.relations[key];\n    }\n  }\n  return commitObj;\n};\n\nproto.getCommitItems = function () {\n  var commitItems = this._history.commit();\n  return this._serializeCommit(commitItems);\n};\n\n/**\n *\n * Set geometry: {type} of geojson to a 3D type if needed\n * @param layerId\n * @param commitItems\n */\nproto.set3DGeometryType = function () {\n  var _this6 = this;\n\n  var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      _ref$layerId = _ref.layerId,\n      layerId = _ref$layerId === undefined ? this.getId() : _ref$layerId,\n      commitItems = _ref.commitItems;\n\n  var relations = commitItems.relations;\n\n  var editingLayer = _mapLayers2.default.getLayerById(layerId).getEditingLayer();\n  // check id there is a editing layer and if is a vector layer\n  if (editingLayer && editingLayer.getType() === Layer.LayerTypes.VECTOR) {\n    // get Geometry type layer\n    var geometryType = editingLayer.getGeometryType();\n    // if is a 3D layer i set on geoJON before send it to server\n    if (is3DGeometry(geometryType)) {\n      ['add', 'update'].forEach(function (action) {\n        commitItems[action].forEach(function (feature) {\n          return feature.geometry.type = geometryType;\n        });\n      });\n    }\n  }\n  // the same control of relations layers\n  Object.keys(relations).forEach(function (layerId) {\n    return _this6.set3DGeometryType({\n      layerId: layerId,\n      commitItems: relations[layerId]\n    });\n  });\n};\n\nproto.commit = function () {\n  var _this7 = this;\n\n  var _ref2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      _ref2$ids = _ref2.ids,\n      ids = _ref2$ids === undefined ? null : _ref2$ids,\n      items = _ref2.items,\n      _ref2$relations = _ref2.relations,\n      relations = _ref2$relations === undefined ? true : _ref2$relations;\n\n  var d = $.Deferred();\n  var commitItems = void 0;\n  if (ids) {\n    commitItems = this._history.commit(ids);\n    this._history.clear(ids);\n  } else {\n    if (items) commitItems = items;else {\n      commitItems = this._history.commit();\n      commitItems = this._serializeCommit(commitItems);\n    }\n    if (!relations) commitItems.relations = {};\n    this._editor.commit(commitItems).then(function (response) {\n      if (response && response.result) {\n        var data = response.response;\n        var _data$new_relations = data.new_relations,\n            new_relations = _data$new_relations === undefined ? {} : _data$new_relations;\n\n        for (var id in new_relations) {\n          var session = _sessions2.default.getSession(id);\n          session.getEditor().applyCommitResponse({\n            response: new_relations[id],\n            result: true\n          });\n        }\n        _this7._history.clear();\n        _this7.saveChangesOnServer(commitItems);\n        d.resolve(commitItems, response);\n      } else d.reject(response);\n    }).fail(function (err) {\n      return d.reject(err);\n    });\n  }\n  return d.promise();\n};\n\nproto._canStop = function () {\n  return this.state.started || this.state.getfeatures;\n};\n\n//stop session\nproto._stop = function () {\n  var _this8 = this;\n\n  var d = $.Deferred();\n  if (this._canStop()) this._editor.stop().then(function () {\n    _this8.clear();\n    d.resolve();\n  }).fail(function (err) {\n    return d.reject(err);\n  });else d.resolve();\n  return d.promise();\n};\n\n// clear all things bind to session\nproto.clear = function () {\n  this._allfeatures = false;\n  this.state.started = false;\n  this.state.getfeatures = false;\n  this.clearHistory();\n  this._editor.clear();\n};\n\n//return l'history\nproto.getHistory = function () {\n  return this._history;\n};\n\n// clear history\nproto.clearHistory = function () {\n  this._history.clear();\n};\n\nmodule.exports = Session;\n\n},{\"core/editing/history\":7,\"core/g3wobject\":12,\"core/layers/layer\":34,\"core/utils/geo\":64,\"core/utils/utils\":68,\"store/map-layers\":377,\"store/sessions\":380}],9:[function(require,module,exports){\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _require = require('core/i18n/i18n.service'),\n    t = _require.t;\n\nvar serverErrorParser = function serverErrorParser() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  this._error = options.error;\n};\n\nvar proto = serverErrorParser.prototype;\n\nproto.parse = function () {\n  var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      _ref$type = _ref.type,\n      type = _ref$type === undefined ? 'responseJSON' : _ref$type;\n\n  var error_message = \"server_saver_error\";\n  function traverseErrorMessage(errorObject) {\n    var entries = Object.entries(errorObject);\n    var entry = entries.find(function (_ref2) {\n      var _ref3 = _slicedToArray(_ref2, 2),\n          key = _ref3[0],\n          value = _ref3[1];\n\n      return key === 'fields';\n    });\n    if (entry) {\n      var _entry = _slicedToArray(entry, 2),\n          value = _entry[1];\n\n      try {\n        if (typeof value === 'string') {\n          var _entries$find = entries.find(function (_ref4) {\n            var _ref5 = _slicedToArray(_ref4, 2),\n                key = _ref5[0],\n                value = _ref5[1];\n\n            return key !== 'fields';\n          }),\n              _entries$find2 = _slicedToArray(_entries$find, 1),\n              field = _entries$find2[0];\n\n          error_message = '[' + field + '] ' + value;\n        } else {\n          error_message = '';\n          Object.entries(value).forEach(function (_ref6) {\n            var _ref7 = _slicedToArray(_ref6, 2),\n                field = _ref7[0],\n                error = _ref7[1];\n\n            error_message = '' + error_message + field + ' ' + (Array.isArray(error) ? error[0] : error) + ' \\n';\n          });\n        }\n      } catch (err) {}\n      return error_message.replace(/\\:|\\./g, '');\n    } else {\n      var _entries$ = _slicedToArray(entries[0], 2),\n          _value = _entries$[1];\n\n      if (!Array.isArray(_value) && (typeof _value === 'undefined' ? 'undefined' : _typeof(_value)) === 'object') return traverseErrorMessage(_value);\n    }\n  }\n  if (type === 'responseJSON') {\n    if (this._error && this._error.responseJSON && this._error.responseJSON.error.message) return this._error.responseJSON.error.message;else if (this._error && this._error.errors) return traverseErrorMessage(this._error.errors);\n  } else if (type === 'String') {\n    if (typeof this._error === 'string') return this._error;else return traverseErrorMessage(this._error);\n  }\n  return t(\"server_saver_error\");\n};\n\nmodule.exports = serverErrorParser;\n\n},{\"core/i18n/i18n.service\":13}],10:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _data = require('services/data');\n\nvar _data2 = _interopRequireDefault(_data);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar _require = require('core/utils/geo'),\n    convertFeatureToGEOJSON = _require.convertFeatureToGEOJSON;\n\nexports.default = {\n\n  /**\n   * @param expr.field\n   * @param expr.feature\n   * @param expr.qgs_layer_id\n   * @param expr.parentData\n   * \n   * @returns { void | Promise<unknown> }\n   */\n  handleFilterExpressionFormInput: function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n      var _ref2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          field = _ref2.field,\n          feature = _ref2.feature,\n          qgs_layer_id = _ref2.qgs_layer_id,\n          parentData = _ref2.parentData;\n\n      var _field$input$options, key, value, _field$input$options$, layer_id, filter_expression, loading, features, values, i;\n\n      return regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _field$input$options = field.input.options, key = _field$input$options.key, value = _field$input$options.value, _field$input$options$ = _field$input$options.layer_id, layer_id = _field$input$options$ === undefined ? qgs_layer_id : _field$input$options$, filter_expression = _field$input$options.filter_expression, loading = _field$input$options.loading;\n\n              /**\n               * @FIXME should return Promise.reject('some error message') ?\n               */\n\n              if (filter_expression) {\n                _context.next = 3;\n                break;\n              }\n\n              return _context.abrupt('return');\n\n            case 3:\n\n              loading.state = 'loading';\n\n              _context.prev = 4;\n              _context.next = 7;\n              return _data2.default.getData('expression:expression', {\n                inputs: {\n                  field_name: field.name,\n                  layer_id: layer_id,\n                  qgs_layer_id: qgs_layer_id, // layer id owner of the data\n                  form_data: convertFeatureToGEOJSON(feature),\n                  parent: parentData && {\n                    form_data: convertFeatureToGEOJSON(parentData.feature),\n                    qgs_layer_id: parentData.qgs_layer_id,\n                    formatter: 0\n                  },\n                  formatter: 0,\n                  expression: filter_expression.expression\n                },\n                outputs: false\n              });\n\n            case 7:\n              features = _context.sent;\n\n\n              if ('select_autocomplete' === field.input.type) {\n                field.input.options.values = [];\n                // temporary array to sort the keys\n                values = [];\n\n                for (i = 0; i < features.length; i++) {\n                  values.push({\n                    key: features[i].properties[key],\n                    value: features[i].properties[value]\n                  });\n                }\n                values.sort(function (_ref3, _ref4) {\n                  var aKey = _ref3.key;\n                  var bKey = _ref4.key;\n\n                  if ('string' === typeof aKey) {\n                    aKey = aKey.toLowerCase();\n                    bKey = bKey.toLowerCase();\n                  }\n                  if (aKey < bKey) return -1;\n                  if (aKey > bKey) return 1;\n                  return 0;\n                });\n                field.input.options.values = values;\n              }\n\n              return _context.abrupt('return', features);\n\n            case 12:\n              _context.prev = 12;\n              _context.t0 = _context['catch'](4);\n              return _context.abrupt('return', Promise.reject(_context.t0));\n\n            case 15:\n              _context.prev = 15;\n\n              loading.state = 'ready';\n              return _context.finish(15);\n\n            case 18:\n            case 'end':\n              return _context.stop();\n          }\n        }\n      }, _callee, this, [[4, 12, 15, 18]]);\n    }));\n\n    function handleFilterExpressionFormInput() {\n      return _ref.apply(this, arguments);\n    }\n\n    return handleFilterExpressionFormInput;\n  }(),\n\n\n  /**\n   * @param expr.field\n   * @param expr.feature\n   * @param expr.qgs_layer_id\n   * @param expr.parentData\n   *  \n   * @returns { void | Promise<unknown> } \n   */\n  handleDefaultExpressionFormInput: function () {\n    var _ref5 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2() {\n      var _ref6 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          field = _ref6.field,\n          feature = _ref6.feature,\n          qgs_layer_id = _ref6.qgs_layer_id,\n          parentData = _ref6.parentData;\n\n      var _field$input$options2, _field$input$options3, layer_id, default_expression, loading, default_value, value;\n\n      return regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _field$input$options2 = field.input.options, _field$input$options3 = _field$input$options2.layer_id, layer_id = _field$input$options3 === undefined ? qgs_layer_id : _field$input$options3, default_expression = _field$input$options2.default_expression, loading = _field$input$options2.loading, default_value = _field$input$options2.default;\n\n              /**\n               * @FIXME should return Promise.reject('some error message') ?\n               */\n\n              if (default_expression) {\n                _context2.next = 3;\n                break;\n              }\n\n              return _context2.abrupt('return');\n\n            case 3:\n\n              loading.state = 'loading';\n\n              // Call `expression:expression_eval` to get value from expression and set it to field\n              _context2.prev = 4;\n              _context2.next = 7;\n              return _data2.default.getData('expression:expression_eval', {\n                inputs: {\n                  field_name: field.name,\n                  layer_id: layer_id, //\n                  qgs_layer_id: qgs_layer_id, //layer id owner of the data\n                  form_data: convertFeatureToGEOJSON(feature),\n                  formatter: 0,\n                  expression: default_expression.expression,\n                  parent: parentData && {\n                    form_data: convertFeatureToGEOJSON(parentData.feature),\n                    qgs_layer_id: parentData.qgs_layer_id,\n                    formatter: 0\n                  }\n                },\n                outputs: false\n              });\n\n            case 7:\n              value = _context2.sent;\n\n\n              field.value = value;\n\n              return _context2.abrupt('return', value);\n\n            case 12:\n              _context2.prev = 12;\n              _context2.t0 = _context2['catch'](4);\n\n              if (\"undefined\" !== typeof default_value) {\n                field.value = default_value;\n              }\n              return _context2.abrupt('return', Promise.reject(_context2.t0));\n\n            case 16:\n              _context2.prev = 16;\n\n              loading.state = 'ready';\n              return _context2.finish(16);\n\n            case 19:\n            case 'end':\n              return _context2.stop();\n          }\n        }\n      }, _callee2, this, [[4, 12, 16, 19]]);\n    }));\n\n    function handleDefaultExpressionFormInput() {\n      return _ref5.apply(this, arguments);\n    }\n\n    return handleDefaultExpressionFormInput;\n  }()\n};\n\n},{\"core/utils/geo\":64,\"services/data\":358}],11:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _data = require('services/data');\n\nvar _data2 = _interopRequireDefault(_data);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar _require = require('core/utils/geo'),\n    getFormDataExpressionRequestFromFeature = _require.getFormDataExpressionRequestFromFeature,\n    convertFeatureToGEOJSON = _require.convertFeatureToGEOJSON;\n\nexports.default = {\n  getVisibility: function getVisibility(_ref) {\n    var qgs_layer_id = _ref.qgs_layer_id,\n        expression = _ref.expression,\n        _ref$feature = _ref.feature,\n        feature = _ref$feature === undefined ? {} : _ref$feature,\n        contenttype = _ref.contenttype;\n\n    var formatter = contenttype === 'query' ? 1 : 0;\n    var form_data = contenttype === 'editing' ? convertFeatureToGEOJSON(feature) : getFormDataExpressionRequestFromFeature(feature);\n    return _data2.default.getData('expression:expression_eval', {\n      inputs: {\n        qgs_layer_id: qgs_layer_id,\n        form_data: form_data,\n        expression: expression,\n        formatter: formatter\n      },\n      outputs: false\n    });\n  }\n};\n\n},{\"core/utils/geo\":64,\"services/data\":358}],12:[function(require,module,exports){\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _require = require('core/utils/utils'),\n    inherit = _require.inherit,\n    noop = _require.noop,\n    debounce = _require.debounce,\n    throttle = _require.throttle;\n\n/**\n * Base object to handle a setter and its listeners.\n * @constructor\n */\n\n\nvar G3WObject = function G3WObject() {\n  //check if setters property is set. Register the chain of events\n  this.setters && this._setupListenersChain(this.setters);\n  // check debounces\n  this.debounces && this._setupDebounces(this.debounces);\n  //check throttles\n  this.throttles && this._setupThrottles(this.throttles);\n};\n\ninherit(G3WObject, EventEmitter);\n\nvar proto = G3WObject.prototype;\n\n/**\n * Insert a listener on afeter setter was executed\n * @param {string} setter - IMethod name to register a listener function\n * @param {function} listener - listener function (only syncron)\n * @param {number} priority - Priorità di esecuzione: valore minore viene eseuito prima\n */\nproto.onafter = function (setter, listener, priority) {\n  return this._onsetter('after', setter, listener, false, priority);\n};\n\nproto.onceafter = function (setter, listener, priority) {\n  return this._onsetter('after', setter, listener, false, priority, true);\n};\n\n/**\n * Listern before cal sesster\n * @param {string} setter - Method name setter\n * @param {function} listener - function to call\n * @param {number} priority - Priority\n */\nproto.onbefore = function (setter, listener, priority) {\n  return this._onsetter('before', setter, listener, false, priority);\n};\n\n// once before\nproto.oncebefore = function (setter, listener, priority) {\n  return this._onsetter('before', setter, listener, false, priority, true);\n};\n\n/**\n * @param {string} setter - Method name setter\n * @param {function} listener - function to call\n * @param {number} priority - Priority\n */\nproto.onbeforeasync = function (setter, listener, priority) {\n  return this._onsetter('before', setter, listener, true, priority);\n};\n\nproto.un = function (setter, key) {\n  // cicle on after before (key) and for each settersListeners (array) find key\n  Object.entries(this.settersListeners).forEach(function (_ref) {\n    var _ref2 = _slicedToArray(_ref, 2),\n        _key = _ref2[0],\n        settersListeners = _ref2[1];\n\n    if (key === undefined) settersListeners[setter].splice(0);else settersListeners[setter].forEach(function (setterListener, idx) {\n      if (setterListener.key === key) {\n        settersListeners[setter].splice(idx, 1);\n      }\n    });\n  });\n};\n\n// base function to register and handle on<before/after> setter listeners\n/*\n  when=before|after,\n  type=sync|async\n*/\nproto._onsetter = function (when, setter, listener, async) {\n  var priority = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : 0;\n  var once = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : false;\n\n  var listenerKey = void 0;\n  // check if setter function is register.\n  if (typeof this.settersListeners[when][setter] !== \"undefined\") {\n    // set unique listenerKey value\n    listenerKey = '' + (Math.floor(Math.random() * 1000000) + Date.now());\n    // add info object to setters listeners\n    this.settersListeners[when][setter].push({\n      key: listenerKey,\n      fnc: listener,\n      async: async,\n      priority: priority,\n      once: once\n    });\n    // set lineners base on priority\n    this.settersListeners[when][setter] = _.sortBy(this.settersListeners[when][setter], function (setterListener) {\n      return setterListener.priority;\n    });\n  }\n  // return key\n  return listenerKey; // in case of no setter register return undefined listerKey\n};\n\nproto._setupListenersChain = function (setters) {\n  var _this = this;\n\n  // initialize all methods inside object \"setters\" of child class.\n  this.settersListeners = {\n    after: {},\n    before: {}\n  };\n\n  var _loop = function _loop(setter) {\n    var setterOption = setters[setter];\n    var setterFnc = noop;\n    var setterFallback = noop;\n    if (_.isFunction(setterOption)) setterFnc = setterOption;else {\n      setterFnc = setterOption.fnc;\n      setterFallback = setterOption.fallback || noop; // method called in case of error\n    }\n    // create array to push before and after subscribers\n    _this.settersListeners.after[setter] = [];\n    _this.settersListeners.before[setter] = [];\n    // assign the property settern name to the object as own method\n    _this[setter] = function () {\n      var _this2 = this;\n\n      for (var _len = arguments.length, args = Array(_len), _key2 = 0; _key2 < _len; _key2++) {\n        args[_key2] = arguments[_key2];\n      }\n\n      var deferred = $.Deferred();\n      var returnVal = null;\n      var counter = 0;\n      // function to call original function(setter function)\n      var callSetter = function callSetter() {\n        // run setter function\n        returnVal = setterFnc.apply(_this2, args);\n        // resolve promise\n        deferred.resolve(returnVal);\n        //call all subscribed methods afet setter\n        var onceListenerKeys = [];\n        var afterListeners = _this2.settersListeners.after[setter];\n        afterListeners.forEach(function (listener) {\n          listener.fnc.apply(_this2, args);\n          listener.once && onceListenerKeys.push(listener.key);\n        });\n        onceListenerKeys.forEach(function (key) {\n          return _this2.un(setter, key);\n        });\n      };\n      //  abort function\n      var abort = function abort() {\n        setterFallback.apply(_this2, args);\n        deferred.reject();\n      };\n      // get all before listeners functions of setter\n      var beforeListeners = this.settersListeners['before'][setter];\n      // listener counter\n      counter = 0;\n      var next = function next(bool) {\n        // initilize cont to true (continue)\n        var cont = true;\n        // check if bool is Boolean\n        if (_.isBoolean(bool)) cont = bool;\n        // check if count is false or we are arrived to the end of onbefore subscriber\n        if (cont === false) {\n          // found an error so we can abort\n          abort.apply(_this2, args);\n        } else if (counter === beforeListeners.length) {\n          // call complete method methods\n          var completed = callSetter();\n          //verifico che cosa ritorna\n          if (completed === undefined || completed === true) {\n            _this2.emitEvent('set:' + setter, args);\n          }\n        } else if (cont) {\n          var listenerObj = beforeListeners[counter];\n          var currentCounter = counter;\n          // if is async functtion\n          if (beforeListeners[counter].async) {\n            //add function next to argument of listnerFunction\n            args.push(next);\n            // update counter\n            counter += 1;\n            listenerObj.fnc.apply(_this2, args);\n          } else {\n            // return or undefine or a boolen to tell if ok(true) can conitnue or not (false)\n            var _bool = listenerObj.fnc.apply(_this2, args);\n            //update counter\n            counter += 1;\n            next(_bool);\n          }\n          listenerObj.once && beforeListeners.splice(currentCounter, 1);\n        }\n      };\n      // run next to start to run all the subscribers and setrer its self\n      next();\n      // retun a promise\n      return deferred.promise();\n    };\n  };\n\n  for (var setter in setters) {\n    _loop(setter);\n  }\n  return this.settersListeners;\n};\n\nproto._setupDebounces = function (debounces) {\n  for (var name in debounces) {\n    var delay = debounces[name].delay;\n    var fnc = debounces[name].fnc;\n    this[name] = debounce(fnc, delay);\n  }\n};\n\nproto._setupThrottles = function (throttles) {\n  for (var name in throttles) {\n    var delay = throttles[name].delay;\n    var fnc = throttles[name].fnc;\n    this[name] = throttle(fnc, delay);\n  }\n};\n\n//method get\nproto.get = function (key) {\n  return this[key] && !(this[key] instanceof Function) ? this[key] : null;\n};\n\n//method set\nproto.set = function (key, value) {\n  this[key] = value;\n};\n\nmodule.exports = G3WObject;\n\n},{\"core/utils/utils\":68}],13:[function(require,module,exports){\nvar _application = require('services/application');\n\nvar _application2 = _interopRequireDefault(_application);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// main object content for i18n\nvar plugins18nConfig = {};\n\nfunction init(config) {\n  config.appLanguages.forEach(function (language) {\n    plugins18nConfig[language] = {\n      plugins: {}\n    };\n  });\n  i18next.use(i18nextXHRBackend).init({\n    lng: config.language,\n    ns: 'app',\n    fallbackLng: 'en',\n    resources: config.resources\n  });\n  return new Promise(function (resolve, reject) {\n    jqueryI18next.init(i18next, $, {\n      tName: 't', // --> appends $.t = i18next.t\n      i18nName: 'i18n', // --> appends $.i18n = i18next\n      handleName: 'localize', // --> appends $(selector).localize(opts);\n      selectorAttr: 'data-i18n', // selector for translating elements\n      targetAttr: 'data-i18n-target', // element attribute to grab target element to translate (if diffrent then itself)\n      optionsAttr: 'data-i18n-options', // element attribute that contains options, will load/set if useOptionsAttr = true\n      useOptionsAttr: false, // see optionsAttr\n      parseDefaultValueFromContent: true // parses default values from content ele.val or ele.text\n    });\n    addI18n(plugins18nConfig);\n    resolve();\n  });\n}\nvar getAppLanguage = function getAppLanguage() {\n  var config = _application2.default.getConfig();\n  return config.user.i18n || \"en\";\n};\n\n// function to translate\nvar t = function t(text) {\n  return i18next.t(text);\n};\n\n// function to translate plugins\nvar tPlugin = function tPlugin(text) {\n  return i18next.t('plugins.' + text);\n};\n\nvar tPrefix = function tPrefix(filter) {\n  return function (text) {\n    return i18next.t(filter + '.' + text);\n  };\n};\n\nvar addI18nPlugin = function addI18nPlugin(_ref) {\n  var name = _ref.name,\n      config = _ref.config;\n\n  for (var language in config) {\n    var pluginLanguage = plugins18nConfig[language];\n    if (pluginLanguage) pluginLanguage.plugins[name] = config[language];\n  }\n  addI18n(plugins18nConfig);\n};\n\nvar addI18n = function addI18n(i18nObject) {\n  for (var language in i18nObject) {\n    var languageObj = i18nObject[language];\n    for (var key in languageObj) {\n      i18next.addResource(language, 'translation', key, languageObj[key]);\n    }\n  }\n};\n\nvar changeLanguage = function changeLanguage(language) {\n  i18next.changeLanguage(language);\n};\n\nmodule.exports = {\n  init: init,\n  t: t,\n  tPlugin: tPlugin,\n  tPrefix: tPrefix,\n  addI18n: addI18n,\n  addI18nPlugin: addI18nPlugin,\n  changeLanguage: changeLanguage,\n  getAppLanguage: getAppLanguage\n};\n\n},{\"services/application\":351}],14:[function(require,module,exports){\nvar _iframePlugin = require('services/iframe-plugin');\n\nvar _iframePlugin2 = _interopRequireDefault(_iframePlugin);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * @FIXME: application is broken using like the following line\n */\n// import { IframePluginService } from 'services';\n\nmodule.exports = _iframePlugin2.default; /**\n                                          * DEPRECATED: this file will be removed after v3.4 (use \"services/iframe-router.js\" instead)\n                                          */\n\n},{\"services/iframe-plugin\":364}],15:[function(require,module,exports){\nvar _data = require('services/data');\n\nvar _data2 = _interopRequireDefault(_data);\n\nvar _projects = require('store/projects');\n\nvar _projects2 = _interopRequireDefault(_projects);\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit,\n    createFilterFormField = _require.createFilterFormField;\n\nvar G3WObject = require('core/g3wobject');\n\nfunction BaseIframeService() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  base(this);\n  this.ready = false;\n  this.init = function () {\n    //overwrite each service\n  };\n}\n\ninherit(BaseIframeService, G3WObject);\n\nvar proto = BaseIframeService.prototype;\n\n/**\n * Common mapService attribute\n */\nproto.mapService = _gui2.default.getComponent('map').getService();\n\n/**\n * Common current project attribute\n */\nproto.project = _projects2.default.getCurrentProject();\n\n/**\n *\n * @type {null}\n */\nproto.layers = undefined;\n\n/**\n * Return a qgs_layer_id array based on passed qgis_layer_id\n * @param qgs_layer_id : String , Array of Strings or null/undefined)\n * @returns Array oa qgs_layer_id strings\n * @private\n */\nproto.getQgsLayerId = function (_ref) {\n  var qgs_layer_id = _ref.qgs_layer_id,\n      _ref$noValue = _ref.noValue,\n      noValue = _ref$noValue === undefined ? this.layers.map(function (layer) {\n    return layer.id;\n  }) : _ref$noValue;\n\n  return qgs_layer_id ? Array.isArray(qgs_layer_id) ? qgs_layer_id : [qgs_layer_id] : noValue;\n};\n\n/**\n * Method to getFeature from DataProvider\n * @private\n */\nproto.searchFeature = function () {\n  var _ref3 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(_ref2) {\n    var layer = _ref2.layer,\n        feature = _ref2.feature;\n\n    var search_endpoint, field, value, _ref4, _ref4$data, data;\n\n    return regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            search_endpoint = this.project.getSearchEndPoint();\n            field = feature.field, value = feature.value;\n            _context.next = 4;\n            return _data2.default.getData('search:features', {\n              inputs: {\n                layer: layer,\n                search_endpoint: search_endpoint,\n                filter: createFilterFormField({\n                  layer: layer,\n                  search_endpoint: search_endpoint,\n                  field: field,\n                  value: value\n                })\n              },\n              outputs: false\n            });\n\n          case 4:\n            _ref4 = _context.sent;\n            _ref4$data = _ref4.data;\n            data = _ref4$data === undefined ? [] : _ref4$data;\n            return _context.abrupt('return', data);\n\n          case 8:\n          case 'end':\n            return _context.stop();\n        }\n      }\n    }, _callee, this);\n  }));\n\n  return function (_x2) {\n    return _ref3.apply(this, arguments);\n  };\n}();\n\n/**\n * Comme method to search feature/s by field and value\n * @param qgs_layer_id\n * @param feature\n * @param zoom\n * @param highlight\n * @returns {Promise<{qgs_layer_id: null, features: [], found: boolean}>}\n */\nproto.findFeaturesWithGeometry = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2() {\n  var _ref6 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      _ref6$qgs_layer_id = _ref6.qgs_layer_id,\n      qgs_layer_id = _ref6$qgs_layer_id === undefined ? [] : _ref6$qgs_layer_id,\n      feature = _ref6.feature,\n      _ref6$zoom = _ref6.zoom,\n      zoom = _ref6$zoom === undefined ? false : _ref6$zoom,\n      _ref6$highlight = _ref6.highlight,\n      highlight = _ref6$highlight === undefined ? false : _ref6$highlight;\n\n  var response, layersCount, i, layer, data, features;\n  return regeneratorRuntime.wrap(function _callee2$(_context2) {\n    while (1) {\n      switch (_context2.prev = _context2.next) {\n        case 0:\n          response = {\n            found: false,\n            features: [],\n            qgs_layer_id: null\n          };\n          layersCount = qgs_layer_id.length;\n          i = 0;\n\n        case 3:\n          if (!(!response.found && i < layersCount)) {\n            _context2.next = 20;\n            break;\n          }\n\n          layer = this.project.getLayerById(qgs_layer_id[i]);\n          _context2.prev = 5;\n          _context2.t0 = layer;\n\n          if (!_context2.t0) {\n            _context2.next = 11;\n            break;\n          }\n\n          _context2.next = 10;\n          return this.searchFeature({\n            layer: layer,\n            feature: feature\n          });\n\n        case 10:\n          _context2.t0 = _context2.sent;\n\n        case 11:\n          data = _context2.t0;\n\n          if (data.length) {\n            features = data[0].features;\n\n            response.found = features.length > 0 && !!features.find(function (feature) {\n              return feature.getGeometry();\n            });\n            if (response.found) {\n              response.features = features;\n              response.qgs_layer_id = qgs_layer_id[i];\n              zoom && this.mapService.zoomToFeatures(features, {\n                highlight: highlight\n              });\n            } else i++;\n          } else i++;\n          _context2.next = 18;\n          break;\n\n        case 15:\n          _context2.prev = 15;\n          _context2.t1 = _context2['catch'](5);\n          i++;\n\n        case 18:\n          _context2.next = 3;\n          break;\n\n        case 20:\n          // in case of no response zoom too initial extent\n          !response.found && this.mapService.zoomToProjectInitExtent();\n\n          return _context2.abrupt('return', response);\n\n        case 22:\n        case 'end':\n          return _context2.stop();\n      }\n    }\n  }, _callee2, this, [[5, 15]]);\n}));\n\n/**\n * Set layer function\n * @param layers\n */\nproto.setLayers = function () {\n  var layers = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n  proto.layers = layers;\n};\n\nproto.getLayers = function () {\n  return proto.layers;\n};\n\n/**\n * Method to set ready the service\n * @param bool\n */\nproto.setReady = function () {\n  var bool = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n  this.ready = bool;\n};\n\nproto.getReady = function () {\n  return this.ready;\n};\n\n/**\n * Method overwrite single service: Usefult to sto eventually running action\n * * @returns {Promise<void>}\n */\nproto.stop = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee3() {\n  return regeneratorRuntime.wrap(function _callee3$(_context3) {\n    while (1) {\n      switch (_context3.prev = _context3.next) {\n        case 0:\n        case 'end':\n          return _context3.stop();\n      }\n    }\n  }, _callee3, this);\n}));\n\n/**\n * Overwrite each single service\n */\nproto.clear = function () {\n  //overwrite single service\n};\n\nmodule.exports = BaseIframeService;\n\n},{\"core/g3wobject\":12,\"core/utils/utils\":68,\"services/data\":358,\"services/gui\":361,\"store/projects\":379}],16:[function(require,module,exports){\nvar _iframeApp = require('services/iframe-app');\n\nvar _iframeApp2 = _interopRequireDefault(_iframeApp);\n\nvar _iframeEditing = require('services/iframe-editing');\n\nvar _iframeEditing2 = _interopRequireDefault(_iframeEditing);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nmodule.exports = {\n  app: _iframeApp2.default,\n  editing: _iframeEditing2.default\n};\n\n},{\"services/iframe-app\":362,\"services/iframe-editing\":363}],17:[function(require,module,exports){\nvar _plugins = require('store/plugins');\n\nvar _plugins2 = _interopRequireDefault(_plugins);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit;\n\nvar BaseService = require('core/iframe/services/baseservice');\n\nfunction BasePluginService() {\n  base(this);\n  // common attributes between plugin service\n  this.pluginName;\n  this.dependencyApi = {};\n  this.init = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2() {\n    var _this = this;\n\n    var _ref2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        _ref2$layers = _ref2.layers,\n        layers = _ref2$layers === undefined ? {} : _ref2$layers;\n\n    var plugin;\n    return regeneratorRuntime.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            this.layers = layers;\n            // check if the plugin in in configuration\n            if (_plugins2.default.isPluginInConfiguration(this.pluginName)) {\n              plugin = _plugins2.default.getPlugin(this.pluginName);\n\n              if (plugin) {\n                this.setDependencyApi(plugin.getApi());\n                this.setReady(true);\n              } else {\n                _plugins2.default.onafter('registerPlugin', function () {\n                  var _ref3 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(plugin) {\n                    return regeneratorRuntime.wrap(function _callee$(_context) {\n                      while (1) {\n                        switch (_context.prev = _context.next) {\n                          case 0:\n                            _context.next = 2;\n                            return plugin.isReady();\n\n                          case 2:\n                            if (plugin.getName() === _this.pluginName) {\n                              _this.setDependencyApi(plugin.getApi());\n                              _this.setReady(true);\n                            }\n\n                          case 3:\n                          case 'end':\n                            return _context.stop();\n                        }\n                      }\n                    }, _callee, _this);\n                  }));\n\n                  return function (_x2) {\n                    return _ref3.apply(this, arguments);\n                  };\n                }());\n              }\n            }\n\n          case 2:\n          case 'end':\n            return _context2.stop();\n        }\n      }\n    }, _callee2, this);\n  }));\n\n  this.clear = function () {\n    //TO OVERWRITE\n  };\n}\n\ninherit(BasePluginService, BaseService);\n\nvar proto = BasePluginService.prototype;\n\nproto.setDependencyApi = function () {\n  var api = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  this.dependencyApi = api;\n};\n\nproto.getDependecyApi = function () {\n  return this.dependencyApi;\n};\n\nmodule.exports = BasePluginService;\n\n},{\"core/iframe/services/baseservice\":15,\"core/utils/utils\":68,\"store/plugins\":378}],18:[function(require,module,exports){\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit;\n\nvar BaseLayer = require('core/layers/baselayers/baselayer');\nvar BasesLayers = require('g3w-ol/layers/bases');\n\nfunction ARCGISMAPSERVERLayer() {\n  var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  this.config = config;\n  base(this, config, options);\n}\n\ninherit(ARCGISMAPSERVERLayer, BaseLayer);\n\nvar proto = ARCGISMAPSERVERLayer.prototype;\n\nproto._makeOlLayer = function () {\n  // here configuration to create TMS\n  var _config = this.config,\n      url = _config.url,\n      attributions = _config.attributions,\n      crs = _config.crs;\n\n  var projection = this.getProjectionFromCrs(crs);\n  var olLayer = BasesLayers.TMS.get({\n    url: url,\n    source_type: 'arcgismapserver',\n    projection: projection,\n    attributions: attributions\n  });\n  return olLayer;\n};\n\nmodule.exports = ARCGISMAPSERVERLayer;\n\n},{\"core/layers/baselayers/baselayer\":19,\"core/utils/utils\":68,\"g3w-ol/layers/bases\":107}],19:[function(require,module,exports){\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit;\n\nvar Projections = require('g3w-ol/projection/projections');\nvar WMSLayer = require('core/layers/map/wmslayer');\nvar ImageLayer = require('core/layers/imagelayer');\n\nfunction BaseLayer() {\n  var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  base(this, config, options);\n  if (this.isWMS()) {\n    var _config = {\n      url: this.getWmsUrl(),\n      id: this.state.id,\n      tiled: this.state.tiled\n    };\n    this._mapLayer = new WMSLayer(_config);\n    this._mapLayer.addLayer(this);\n  } else this._mapLayer = this;\n}\n\ninherit(BaseLayer, ImageLayer);\n\nvar proto = BaseLayer.prototype;\n\nproto.getProjectionFromCrs = function () {\n  var crs = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  crs.epsg = crs.epsg ? crs.epsg : \"EPSG:3857\";\n  return Projections.get(crs);\n};\n\nproto._makeOlLayer = function () {\n  //TO OVERWRITE\n};\n\nproto._registerLoadingEvent = function () {\n  var _this = this;\n\n  this._olLayer.getSource().on('imageloadstart', function () {\n    _this.emit(\"loadstart\");\n  });\n  this._olLayer.getSource().on('imageloadend', function () {\n    _this.emit(\"loadend\");\n  });\n};\n\nproto.getSource = function () {\n  return this.getOLLayer().getSource();\n};\n\nproto.update = function (mapState, extraParams) {\n  this._updateLayer(mapState, extraParams);\n};\n\nproto.getOLLayer = function () {\n  var olLayer = this._olLayer;\n  if (!olLayer) {\n    olLayer = this._olLayer = this._makeOlLayer();\n    this._registerLoadingEvent();\n    if (this._mapLayer.config.attributions) {\n      this._olLayer.getSource().setAttributions(this._mapLayer.config.attributions);\n    }\n    olLayer.setVisible(this._mapLayer.state.visible);\n  }\n  return olLayer;\n};\n\nproto._updateLayer = function (mapState, extraParams) {\n  if (this.isWMS()) {\n    this._mapLayer.update(mapState, extraParams);\n  }\n};\n\nproto.setVisible = function (bool) {\n  this.getOLLayer().setVisible(bool);\n};\n\nproto.getMapLayer = function () {\n  return this._mapLayer;\n};\n\nmodule.exports = BaseLayer;\n\n},{\"core/layers/imagelayer\":33,\"core/layers/map/wmslayer\":45,\"core/utils/utils\":68,\"g3w-ol/projection/projections\":111}],20:[function(require,module,exports){\nvar BaseLayers = {\n  'OSM': require('./osmlayer'),\n  'Bing': require('./binglayer'),\n  'TMS': require('./tmslayer'),\n  'ARCGISMAPSERVER': require('./arcgislayer'),\n  'WMTS': require('./wmtslayer'),\n  'WMS': require('./wmslayer')\n};\n\nmodule.exports = BaseLayers;\n\n},{\"./arcgislayer\":18,\"./binglayer\":21,\"./osmlayer\":22,\"./tmslayer\":23,\"./wmslayer\":24,\"./wmtslayer\":25}],21:[function(require,module,exports){\nvar _applicationState = require('store/application-state');\n\nvar _applicationState2 = _interopRequireDefault(_applicationState);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit;\n\nvar BaseLayer = require('core/layers/baselayers/baselayer');\nvar BasesLayers = require('g3w-ol/layers/bases');\n\nfunction BingLayer() {\n  var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  base(this, config, options);\n}\n\ninherit(BingLayer, BaseLayer);\n\nvar proto = BingLayer.prototype;\n\nproto._makeOlLayer = function () {\n  var olLayer = void 0;\n  var key = _applicationState2.default.keys.vendorkeys.bing;\n  var subtype = this.config.source ? this.config.source.subtype : null;\n  switch (subtype) {\n    case 'streets':\n      olLayer = BasesLayers.BING.get({\n        imagerySet: 'Road',\n        key: key\n      });\n      break;\n    case 'aerial':\n      olLayer = BasesLayers.BING.get({\n        imagerySet: 'Aerial',\n        key: key\n      });\n      break;\n    case 'aerialwithlabels':\n      olLayer = BasesLayers.BING.get({\n        imagerySet: 'AerialWithLabels',\n        key: key\n      });\n      break;\n    default:\n      olLayer = BasesLayers.BING.get({\n        imagerySet: 'Aerial',\n        key: key\n      });\n  }\n  return olLayer;\n};\n\nmodule.exports = BingLayer;\n\n},{\"core/layers/baselayers/baselayer\":19,\"core/utils/utils\":68,\"g3w-ol/layers/bases\":107,\"store/application-state\":373}],22:[function(require,module,exports){\nvar _require = require('core/utils/utils'),\n    inherit = _require.inherit,\n    base = _require.base;\n\nvar BaseLayer = require('core/layers/baselayers/baselayer');\nvar BasesLayers = require('g3w-ol/layers/bases');\n\nfunction OSMLayer() {\n  var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  base(this, config, options);\n}\n\ninherit(OSMLayer, BaseLayer);\n\nvar proto = OSMLayer.prototype;\n\nproto._makeOlLayer = function () {\n  var olLayer = BasesLayers.OSM.get({\n    id: this.config.name,\n    title: this.config.title,\n    url: this.config.url\n  });\n  return olLayer;\n};\n\nmodule.exports = OSMLayer;\n\n},{\"core/layers/baselayers/baselayer\":19,\"core/utils/utils\":68,\"g3w-ol/layers/bases\":107}],23:[function(require,module,exports){\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit;\n\nvar BaseLayer = require('core/layers/baselayers/baselayer');\nvar BasesLayers = require('g3w-ol/layers/bases');\n\nfunction TMSLayer() {\n  var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  this.config = config;\n  base(this, config, options);\n}\n\ninherit(TMSLayer, BaseLayer);\n\nvar proto = TMSLayer.prototype;\n\nproto._makeOlLayer = function () {\n  // here configuration to create TMS\n  var _config = this.config,\n      url = _config.url,\n      attributions = _config.attributions,\n      minZoom = _config.minZoom,\n      maxZoom = _config.maxZoom,\n      crs = _config.crs;\n\n  var projection = this.getProjectionFromCrs(crs);\n  var olLayer = BasesLayers.TMS.get({\n    url: url,\n    minZoom: minZoom,\n    maxZoom: maxZoom,\n    attributions: attributions,\n    projection: projection\n  });\n  return olLayer;\n};\n\nmodule.exports = TMSLayer;\n\n},{\"core/layers/baselayers/baselayer\":19,\"core/utils/utils\":68,\"g3w-ol/layers/bases\":107}],24:[function(require,module,exports){\nvar _require = require('core/utils/utils'),\n    inherit = _require.inherit,\n    base = _require.base;\n\nvar BaseLayer = require('core/layers/baselayers/baselayer');\nvar BasesLayers = require('g3w-ol/layers/bases');\n\nfunction WMSLayer() {\n  var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  this.config = config;\n  base(this, config, options);\n}\n\ninherit(WMSLayer, BaseLayer);\n\nvar proto = WMSLayer.prototype;\n\nproto._makeOlLayer = function () {\n  //use this config to get params\n  var _config = this.config,\n      url = _config.url,\n      layers = _config.layers,\n      singleTile = _config.singleTile,\n      attributions = _config.attributions,\n      crs = _config.crs,\n      opacity = _config.opacity;\n\n  var projection = this.getProjectionFromCrs(crs);\n  var olLayer = BasesLayers.WMS.get({\n    url: url,\n    layers: layers,\n    singleTile: singleTile,\n    attributions: attributions,\n    projection: projection,\n    opacity: opacity\n  });\n  return olLayer;\n};\n\nmodule.exports = WMSLayer;\n\n},{\"core/layers/baselayers/baselayer\":19,\"core/utils/utils\":68,\"g3w-ol/layers/bases\":107}],25:[function(require,module,exports){\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit;\n\nvar BaseLayer = require('core/layers/baselayers/baselayer');\nvar BasesLayers = require('g3w-ol/layers/bases');\n\nfunction WMTSLayer() {\n  var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  this.config = config;\n  base(this, config, options);\n}\n\ninherit(WMTSLayer, BaseLayer);\n\nvar proto = WMTSLayer.prototype;\n\nproto._makeOlLayer = function () {\n  //use this config to get params\n  var _config = this.config,\n      url = _config.url,\n      layer = _config.layer,\n      attributions = _config.attributions,\n      matrixSet = _config.matrixSet,\n      format = _config.format,\n      style = _config.style,\n      requestEncoding = _config.requestEncoding,\n      crs = _config.crs;\n\n  var projection = this.getProjectionFromCrs(crs);\n  var olLayer = BasesLayers.WMTS.get({\n    url: url,\n    layer: layer,\n    attributions: attributions,\n    format: format,\n    projection: projection,\n    requestEncoding: requestEncoding,\n    matrixSet: matrixSet,\n    style: style\n  });\n  return olLayer;\n};\n\nmodule.exports = WMTSLayer;\n\n},{\"core/layers/baselayers/baselayer\":19,\"core/utils/utils\":68,\"g3w-ol/layers/bases\":107}],26:[function(require,module,exports){\nvar _constant = require('app/constant');\n\nvar _constant2 = _interopRequireDefault(_constant);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar _require = require('core/utils/utils'),\n    uniqueId = _require.uniqueId;\n\nvar geometryFields = _constant2.default.GEOMETRY_FIELDS;\n\nvar Feature = function Feature() {\n  var _this = this;\n\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  ol.Feature.call(this);\n  this._uid = uniqueId();\n  this._newPrefix = '_new_';\n  this._geometry = false;\n  var feature = options.feature,\n      properties = options.properties;\n\n  if (feature) {\n    // check if has to set only some properties or all feature properties\n    if (properties && Array.isArray(properties)) properties.forEach(function (property) {\n      return _this.set(property, feature.get(property));\n    });else this.setProperties(feature.getProperties());\n    this.setId(feature.getId());\n    this.setGeometryName(feature.getGeometryName());\n    var geometry = feature.getGeometry();\n    this._geometry = !!geometry;\n    geometry && this.setGeometry(geometry);\n    var style = this.getStyle();\n    style && this.setStyle(style);\n  }\n  this.state = {\n    new: false,\n    state: null,\n    visible: true\n  };\n};\n\nol.inherits(Feature, ol.Feature);\n\nvar proto = Feature.prototype;\n\n//change constructor\nproto.constructor = 'Feature';\n\n/**\n * Return unique id\n * @returns {*}\n */\nproto.getUid = function () {\n  return this._uid;\n};\n\n/**\n * set new uid\n * @param uid\n * @private\n */\nproto._setUid = function (uid) {\n  this._uid = uid;\n};\n\nproto.isGeometry = function () {\n  return this._geometry;\n};\n\nproto.cloneNew = function () {\n  var clone = this.clone();\n  var uid = uniqueId();\n  clone._setUid(uid);\n  clone.setTemporaryId();\n  return clone;\n};\n\n/**\n * clone existing feature\n * @returns {Feature}\n */\nproto.clone = function () {\n  var feature = ol.Feature.prototype.clone.call(this);\n  feature.setId(this.getId());\n  this.isGeometry() && feature.setGeometry(feature.getGeometry().clone());\n  var clone = new Feature({\n    feature: feature\n  });\n  var uid = this.getUid();\n  clone._setUid(uid);\n  clone.setState(this.getState());\n  this.isNew() && clone.setNew();\n  return clone;\n};\n\nproto.setTemporaryId = function () {\n  var newValue = '' + this._newPrefix + uniqueId();\n  this.setId(newValue);\n  this.setNew();\n};\n\nproto.setNew = function () {\n  this.state.new = true;\n};\n\nproto.delete = function () {\n  this.state.state = 'delete';\n  return this;\n};\n\nproto.update = function () {\n  this.state.state = 'update';\n  return this;\n};\n\nproto.add = function () {\n  this.state.state = 'add';\n  return this;\n};\n\nproto.isNew = function () {\n  return this.state.new;\n};\n\nproto.isAdded = function () {\n  return this.state.state === 'add';\n};\n\nproto.isUpdated = function () {\n  return this.state.state === 'update';\n};\n\nproto.isDeleted = function () {\n  return this.state.state === 'delete';\n};\n\nproto.setFullState = function (state) {\n  this.state = state;\n};\n\nproto.getFullState = function () {\n  return this.state;\n};\n\nproto.setState = function (state) {\n  this.state.state = state;\n};\n\nproto.getState = function () {\n  return this.state.state;\n};\n\nproto.getAlphanumericProperties = function () {\n  var properties = this.getProperties();\n  var alphanumericproperties = {};\n  for (var name in properties) {\n    if (geometryFields.indexOf(name) === -1) alphanumericproperties[name] = properties[name];\n  }\n  return alphanumericproperties;\n};\n\n//clean state of the features\nproto.clearState = function () {\n  this.state.state = null;\n  this.state.new = false;\n};\n\n/**\n * need to filter features visiblity on table\n * @returns {boolean}\n */\nproto.isVisible = function () {\n  return this.state.visible;\n};\n\nproto.setVisible = function () {\n  var bool = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n\n  this.state.visible = bool;\n};\n\nmodule.exports = Feature;\n\n},{\"app/constant\":4,\"core/utils/utils\":68}],27:[function(require,module,exports){\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit;\n\nvar G3WObject = require('core/g3wobject');\n\n// Object to store and handle features of layer\nfunction FeaturesStore() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  this._features = options.features || [];\n  this._provider = options.provider || null;\n  this._loadedIds = []; // store locked ids\n  this._lockIds = []; // store locked features\n  this.hasFeatureLockByOtherUser = false; // property tath i set to true if some feature are locked by other user\n  this.setters = {\n    addFeatures: function addFeatures(features) {\n      var _this = this;\n\n      features.forEach(function (feature) {\n        _this._addFeature(feature);\n      });\n    },\n    addFeature: function addFeature(feature) {\n      this._addFeature(feature);\n    },\n    removeFeature: function removeFeature(feature) {\n      this._removeFeature(feature);\n    },\n    updateFeature: function updateFeature(feature) {\n      this._updateFeature(feature);\n    },\n    clear: function clear() {\n      this._clearFeatures();\n    },\n    getFeatures: function getFeatures() {\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      return this._getFeatures(options);\n    },\n    commit: function commit(commitItems, featurestore) {\n      return this._commit(commitItems, featurestore);\n    },\n\n    /**\n     * setter to know when some feature are locked\n     */\n    featuresLockedByOtherUser: function featuresLockedByOtherUser() {\n      //set to true\n      this.hasFeatureLockByOtherUser = true;\n    }\n  };\n\n  base(this);\n}\n\ninherit(FeaturesStore, G3WObject);\n\nvar proto = FeaturesStore.prototype;\n\nproto.clone = function () {\n  return _.cloneDeep(this);\n};\n\nproto.setProvider = function (provider) {\n  this._provider = provider;\n};\n\nproto.getProvider = function () {\n  return this._provider;\n};\n\n// method unlock features\nproto.unlock = function () {\n  var _this2 = this;\n\n  var d = $.Deferred();\n  this._provider.unlock().then(function (response) {\n    // set to false when featuresstore is unlocked\n    _this2.hasFeatureLockByOtherUser = false;\n    d.resolve(response);\n  }).fail(function (err) {\n    return d.reject(err);\n  });\n  return d.promise();\n};\n\n// method get all features from server or attribute _features\nproto._getFeatures = function () {\n  var _this3 = this;\n\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  var d = $.Deferred();\n  if (this._provider) {\n    this._provider.getFeatures(options).then(function (options) {\n      var features = _this3._filterFeaturesResponse(options);\n      _this3.addFeatures(features);\n      d.resolve(features);\n    }).fail(function (err) {\n      return d.reject(err);\n    });\n  } else d.resolve(this._readFeatures());\n  return d.promise();\n};\n\n//filter features to add\nproto._filterFeaturesResponse = function () {\n  var _this4 = this;\n\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  /**\n   * get features returned from server and feature that are current locked.\n   * If featurelocks are less that a features, it means that other user is editing these feature\n   * @type {*[]}\n   */\n  var _options$features = options.features,\n      features = _options$features === undefined ? [] : _options$features,\n      _options$featurelocks = options.featurelocks,\n      featurelocks = _options$featurelocks === undefined ? [] : _options$featurelocks,\n      count = options.count;\n\n  var featuresToAdd = features.filter(function (feature) {\n    var featureId = feature.getId();\n    var added = _this4._loadedIds.indexOf(featureId) !== -1;\n    if (!added) _this4._loadedIds.push(featureId);\n    return !added;\n  });\n  this._filterLockIds(featurelocks);\n  if (features.length < count && !this.hasFeatureLockByOtherUser) this.featuresLockedByOtherUser();\n  return featuresToAdd;\n};\n\n// method get features locked\nproto._filterLockIds = function (featurelocks) {\n  var _lockIds = this._lockIds.map(function (lockid) {\n    return lockid.featureid;\n  });\n  var toAddLockId = featurelocks.filter(function (featurelock) {\n    return _lockIds.indexOf(featurelock.featureid) === -1;\n  });\n  this._lockIds = [].concat(_toConsumableArray(this._lockIds), _toConsumableArray(toAddLockId));\n};\n\nproto.addLoadedIds = function (id) {\n  this._loadedIds.push(id);\n};\n\nproto.getLockIds = function () {\n  return this._lockIds;\n};\n\n//method to add new lockid\nproto.addLockIds = function (lockIds) {\n  var _this5 = this;\n\n  this._lockIds = _.union(this._lockIds, lockIds);\n  this._lockIds.forEach(function (lockId) {\n    return _this5._loadedIds.push(lockId.featureid);\n  });\n};\n\nproto._readFeatures = function () {\n  return this._features;\n};\n\nproto._commit = function (commitItems) {\n  var d = $.Deferred();\n  if (commitItems && this._provider) {\n    commitItems.lockids = this._lockIds;\n    this._provider.commit(commitItems).then(function (response) {\n      return d.resolve(response);\n    }).fail(function (err) {\n      return d.reject(err);\n    });\n  } else d.reject();\n  return d.promise();\n};\n\n// get feature from id\nproto.getFeatureById = function (featureId) {\n  return this._features.find(function (feature) {\n    return feature.getId() == featureId;\n  });\n};\n\nproto.getFeatureByUid = function (uid) {\n  return this._features.find(function (feature) {\n    return feature.getUid() === uid;\n  });\n};\n\nproto._addFeature = function (feature) {\n  this._features.push(feature);\n};\n\n//substitute feature after update\nproto._updateFeature = function (feature) {\n  var _this6 = this;\n\n  this._features.find(function (feat, idx) {\n    if (feat.getUid() === feature.getUid()) {\n      _this6._features[idx] = feature;\n      return true;\n    }\n  });\n};\n\nproto.setFeatures = function (features) {\n  this._features = features;\n};\n\nproto._removeFeature = function (feature) {\n  this._features = this._features.filter(function (feat) {\n    return feature.getUid() !== feat.getUid();\n  });\n};\n\nproto._clearFeatures = function () {\n  this._features = null;\n  this._features = [];\n  this._lockIds = [];\n  this._loadedIds = [];\n};\n\nproto.getDataProvider = function () {\n  return this._provider;\n};\n\n// only read downloaded features\nproto.readFeatures = function () {\n  return this._features;\n};\n\nmodule.exports = FeaturesStore;\n\n},{\"core/g3wobject\":12,\"core/utils/utils\":68}],28:[function(require,module,exports){\nvar _require = require('core/utils/utils'),\n    inherit = _require.inherit,\n    base = _require.base;\n\nvar FeaturesStore = require('core/layers/features/featuresstore');\n\n// Storage of the feature in vector layer\nfunction OlFeaturesStore() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  base(this, options);\n  this._features = options.features || new ol.Collection([]);\n}\n\ninherit(OlFeaturesStore, FeaturesStore);\n\nvar proto = OlFeaturesStore.prototype;\n\nproto.getLength = function () {\n  return this._features.getLength();\n};\n\n//overwrite\nproto.setFeatures = function () {\n  var _this = this;\n\n  var features = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n  features.forEach(function (feature) {\n    return _this._features.push(feature);\n  });\n};\n// overwrite\nproto.readFeatures = function () {\n  return this._features.getArray();\n};\n\nproto.getFeaturesCollection = function () {\n  return this._features;\n};\n\nproto.getFeatureById = function (featureId) {\n  return this._features.getArray().find(function (feature) {\n    return feature.getId() == featureId;\n  });\n};\n\nproto.getFeatureByUid = function (uid) {\n  return this._features.getArray().find(function (feature) {\n    return feature.getUid() === uid;\n  });\n};\n\nproto._addFeature = function (feature) {\n  this._features.push(feature);\n  // useful for ol.source.Vector\n  this._features.dispatchEvent('change');\n};\n\n//sobtitute the feature after modify\nproto._updateFeature = function (feature) {\n  // set index at -1\n  var index = -1;\n  var featuresArray = this._features.getArray();\n  for (var i = 0; featuresArray.length; i++) {\n    var _feature = featuresArray[i];\n    if (_feature.getUid() === feature.getUid()) {\n      index = i;\n      break;\n    }\n  }\n  if (index >= 0) {\n    this._features.removeAt(index);\n    this._features.insertAt(index, feature);\n    this._features.dispatchEvent('change');\n  }\n};\n\n// remove feature from store\nproto._removeFeature = function (feature) {\n  var featuresArray = this._features.getArray();\n  for (var i = 0; i < featuresArray.length; i++) {\n    var feat = featuresArray[i];\n    if (feature.getUid() === feat.getUid()) {\n      this._features.removeAt(i);\n      break;\n    }\n  }\n  this._features.dispatchEvent('change');\n};\n\nproto._clearFeatures = function () {\n  try {\n    this._features.clear();\n  } catch (err) {}\n  this._features = null;\n  this._features = new ol.Collection([]);\n};\n\nmodule.exports = OlFeaturesStore;\n\n},{\"core/layers/features/featuresstore\":27,\"core/utils/utils\":68}],29:[function(require,module,exports){\nvar _constant = require('app/constant');\n\n//Expression\nfunction Expression() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  this._layerName = options.layerName;\n  var filter = options.filter;\n  this._expression = filter && filter || '';\n}\n\nvar proto = Expression.prototype;\n\nproto.and = function (field, value) {\n  this._expression = this._expression ? this._expression + ' AND ' : this._expression;\n  if (field && value) {\n    this.eq(field, value);\n  }\n  return this;\n};\n\nproto.or = function () {\n  if (field && value) {\n    this._expression = this._expression ? this._expression + ' OR ' : this._expression;\n    this.eq(field, value);\n  }\n  return this;\n};\n\nproto.eq = function (field, value) {\n  this._expression = this._expression + this._build('eq', field, value);\n  return this;\n};\n\nproto.like = function (field, value) {\n  this._expression = this._expression + this._build('LIKE', field, value);\n  return this;\n};\n\nproto.ilike = function (field, value) {\n  this._expression = this._expression + this._build('ILIKE', field, value);\n  return this;\n};\n\nproto.not = function (field, value) {\n  this._expression = this._expression + this._build('NOT', field, value);\n  return this;\n};\n\nproto.gt = function (field, value) {\n  this._expression = this._expression + this._build('gt', field, value);\n  return this;\n};\n\nproto.gte = function (field, value) {\n  this._expression = this._expression + this._build('gte', field, value);\n  return this;\n};\n\nproto.lt = function (field, value) {\n  this._expression = this._expression + this._build('lt', field, value);\n  return this;\n};\n\nproto.lte = function (field, value) {\n  this._expression = this._expression + this._build('lte', field, value);\n  return this;\n};\n\nproto.clear = function () {\n  this._expression = '';\n  return this;\n};\n\n// get expression method to get the realt value of the expression\nproto.get = function () {\n  return this._layerName ? this._layerName + ': ' + this._expression : this._expression;\n};\n\nproto._build = function (operator, field, value) {\n  return ['\"' + field + '\"', _constant.FILTER_EXPRESSION_OPERATORS[operator], '' + value].join(' ');\n};\n\nproto.createSingleExpressionElement = function () {\n  var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      value = _ref.value,\n      attribute = _ref.attribute,\n      operator = _ref.operator,\n      logicop = _ref.logicop;\n\n  var filterElement = void 0;\n  var valueExtra = operator === 'LIKE' || operator === 'ILIKE' ? \"%\" : \"\";\n  var filterOp = _constant.FILTER_EXPRESSION_OPERATORS[operator];\n  var filterLogicOperator = logicop && ' ' + logicop + ' ' || '';\n  if (operator === 'IN') {\n    var _value = Array.isArray(value) ? value : [value];\n    var filterValue = '( ' + _value.map(function (value) {\n      return '\\'' + value + '\\'';\n    }).join(',').replace(/,/g, ' , ') + ' )';\n    filterElement = '\"' + attribute + '\" ' + filterOp + ' ' + filterValue + filterLogicOperator;\n  } else if (value !== null && value !== undefined && !(Number.isNaN(value) || !value.toString().trim())) {\n    var singolequote = typeof value !== 'number' ? value.split(\"'\") : [];\n    if (singolequote.length > 1) {\n      var _filterElements = [];\n      for (var i = 0; i < singolequote.length; i++) {\n        var _value2 = singolequote[i];\n        if (!_value2) continue;\n        var _filterOp = 'ILIKE';\n        var _filterValue = ('%' + _value2 + '%').trim();\n        var _filterElement = '\"' + attribute + '\" ' + _filterOp + ' \\'' + _filterValue + '\\'';\n        _filterElements.push(_filterElement);\n      }\n      filterElement = '' + _filterElements.join(' AND ') + filterLogicOperator;\n    } else filterElement = '\"' + attribute + '\" ' + filterOp + ' \\'' + valueExtra + value + valueExtra + '\\'' + filterLogicOperator;\n  }\n  return filterElement;\n};\n\nproto.createExpressionFromFilterObject = function () {\n  var _this = this;\n\n  var filter = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  var filterElements = [];\n  var rootFilter = void 0;\n  for (var operator in filter) {\n    rootFilter = _constant.FILTER_EXPRESSION_OPERATORS[operator];\n    var inputs = filter[operator];\n    inputs.forEach(function (input) {\n      for (var _operator in input) {\n        var _value3 = input[_operator];\n        if (Array.isArray(_value3)) {\n          _this.createExpressionFromFilterObject(input);\n        } else {\n          var _field = input[_operator];\n          for (var attribute in _field) {\n            var _value4 = _field[attribute];\n            var fieldElement = _this.createSingleExpressionElement({\n              value: _value4,\n              operator: _operator,\n              attribute: attribute\n            });\n            filterElements.push(fieldElement);\n          }\n        }\n      }\n    });\n    rootFilter = filterElements.length > 0 ? filterElements.join(\" \" + rootFilter + \" \") : false;\n  }\n  return rootFilter;\n};\n\nproto.createExpressionFromField = function (_ref2) {\n  var layerName = _ref2.layerName,\n      field = _ref2.field,\n      value = _ref2.value,\n      _ref2$operator = _ref2.operator,\n      operator = _ref2$operator === undefined ? 'eq' : _ref2$operator;\n\n  var filter = this.createSingleExpressionElement({\n    attribute: field,\n    value: value,\n    operator: operator\n  });\n  this._expression = layerName + ':' + filter;\n  return this;\n};\n\nproto.createExpressionFromFilterArray = function () {\n  var _this2 = this;\n\n  var inputs = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n  var filter = '';\n  // set logicop of last element to null\n  var inputsLength = inputs.length ? inputs.length - 1 : inputs.length;\n  inputs.forEach(function (input, index) {\n    var filterElement = _this2.createSingleExpressionElement(input);\n    filter = '' + filter + (input.logicop && index === inputsLength ? filterElement.substring(0, filterElement.length - (input.logicop.length + 1)) : filterElement);\n  });\n  return filter || undefined;\n};\n\nproto.createExpressionFromFilter = function (filter, layerName) {\n  var filterParam = Array.isArray(filter) ? this.createExpressionFromFilterArray(filter) : this.createExpressionFromFilterObject(filter);\n  if (filterParam) this._expression = layerName + ':' + filterParam;\n  return this;\n};\n\nmodule.exports = Expression;\n\n},{\"app/constant\":4}],30:[function(require,module,exports){\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\n// class Filter to build filter\n// useful by provider providers to get data\nfunction Filter() {\n  var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  this._filter = null;\n  this._type = null;\n  this.config = config;\n}\n\nvar proto = Filter.prototype;\n\n/**\n * Config methods\n */\n\nproto.getConfig = function () {\n  return this.config;\n};\n\nproto.setConfig = function () {\n  var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  this.config = config;\n};\n\nproto.mergeConfig = function () {\n  var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  this.config = _extends({}, this.config, config);\n};\n\n/***\n *  end config methods\n */\n\nproto.getAll = function () {\n  this._type = Filter.TYPES.all;\n  this._filter = null;\n};\n\n// to create complex filter\nproto.setExpression = function (expression) {\n  this._type = Filter.TYPES.expression;\n  this._filter = expression;\n};\n\nproto.setGeometry = function (geometry) {\n  this._type = Filter.TYPES.geometry;\n  this._filter = geometry;\n  return this;\n};\n\nproto.setBBOX = function (bbox) {\n  this._type = Filter.TYPES.bbox;\n  this._filter = bbox;\n  return this;\n};\n\nproto.setFids = function (ids) {\n  this._type = Filter.TYPES.fids;\n  this._filter = ids;\n  return this;\n};\n\nproto.serialize = function () {\n  return JSON.stringify(this);\n};\n\n// get filter value\nproto.get = function () {\n  return this._filter;\n};\n\nproto.getType = function () {\n  return this._type;\n};\n\nproto.clear = function () {\n  this._filter = null;\n};\n\nFilter.TYPES = {\n  bbox: 'bbox',\n  geometry: 'geometry',\n  expression: 'expression',\n  fids: 'fids',\n  all: 'all'\n};\n\nmodule.exports = Filter;\n\n},{}],31:[function(require,module,exports){\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit;\n\nvar VectorLayer = require('core/layers/vectorlayer');\nvar GeojsonMapLayer = require('core/layers/map/geojson');\n\nfunction GeojsonLayer(config, options) {\n  base(this, config, options);\n  this.config.style = config.style;\n  this.setup(config);\n}\n\ninherit(GeojsonLayer, VectorLayer);\n\nvar proto = GeojsonLayer.prototype;\n\nproto.getMapLayer = function () {\n  if (this._mapLayer) return this._mapLayer;\n  var url = this.get('source').url;\n  var name = this.getName();\n  var id = this.getId();\n  var style = this.get('style');\n  var provider = this.getProvider('data');\n  var options = {\n    url: url,\n    projection: this.getProjection().getCode(),\n    id: id,\n    name: name,\n    style: style,\n    provider: provider\n  };\n  this._mapLayer = new GeojsonMapLayer(options);\n  return this._mapLayer;\n};\n\nmodule.exports = GeojsonLayer;\n\n},{\"core/layers/map/geojson\":42,\"core/layers/vectorlayer\":57,\"core/utils/utils\":68}],32:[function(require,module,exports){\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nvar _application = require('services/application');\n\nvar _application2 = _interopRequireDefault(_application);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar Projections = require('g3w-ol/projection/projections');\n\nvar _require = require('core/utils/ol'),\n    getScaleFromResolution = _require.getScaleFromResolution;\n\nvar _require2 = require('core/utils/geo'),\n    createFeatureFromFeatureObject = _require2.createFeatureFromFeatureObject;\n\nvar _require3 = require('core/utils/utils'),\n    XHR = _require3.XHR,\n    sanitizeUrl = _require3.sanitizeUrl;\n\nvar RESERVERDPARAMETRS = {\n  wms: ['VERSION', 'REQUEST', 'BBOX', 'LAYERS', 'WIDTH', 'HEIGHT', 'DPI', 'FORMAT', 'CRS']\n};\n\nfunction GeoLayerMixin() {\n  var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n}\n\nvar proto = GeoLayerMixin.prototype;\n\nproto.setup = function () {\n  var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  if (!this.config) {\n    console.log(\"GeoLayerMixin must be used from a valid (geo) Layer instance\");\n    return;\n  }\n  var project = options.project;\n\n  this.config.map_crs = project.getProjection().getCode();\n  this.config.multilayerid = config.multilayer;\n  this.legendCategories = {};\n  // Features that contain\n  this.olSelectionFeatures = {}; // key id / fid of feature and values is an object with feature and added\n  // state extend of layer setting geolayer property to true\n  // and adding information of bbox\n  _.extend(this.state, {\n    geolayer: config.geometrytype !== \"NoGeometry\",\n    legend: {\n      url: null,\n      loading: false,\n      error: false,\n      /**\n       * @deprecated since 3.8. Will be removed in 4.x. Use `expanded` attribute instead\n       */\n      show: true,\n      change: false // used for when categories changed (checkbox on TOC) and legend is on TAB\n    },\n    external: config.source && config.source.external || false,\n    bbox: config.bbox || null,\n    visible: config.visible || false,\n    checked: config.visible || false,\n    epsg: config.crs.epsg,\n    hidden: config.hidden || false,\n    scalebasedvisibility: config.scalebasedvisibility || false,\n    minscale: config.minscale,\n    maxscale: config.maxscale,\n    ows_method: config.ows_method,\n\n    /**\n     * @type {boolean}\n     */\n    exclude_from_legend: typeof config.exclude_from_legend == 'boolean' ? config.exclude_from_legend : true,\n\n    /**\n     * Has more than one categories legend\n     * \n     * @type {boolean}\n     */\n    categories: false,\n\n    /**\n     * Toggle legend item state (expandend or collapsed) in catalog layers (TOC)\n     * \n     * @type {number}\n     *\n     * @since v3.8\n     */\n    expanded: config.expanded,\n\n    /**\n     * Layer opacity\n     * \n     * @type {number} opacity range = [0, 100]\n     * \n     * @since v3.8\n     */\n    opacity: config.opacity || 100\n\n  });\n  if (config.projection) this.config.projection = config.projection.getCode() === config.crs.epsg ? config.projection : Projections.get(config.crs);\n  if (config.attributions) this.config.attributions = config.attributions;\n  config.source && config.source.url && this._sanitizeSourceUrl();\n};\n\n/**\n * Legend Graphic section\n */\nproto.getLegendGraphic = function () {\n  var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      _ref$all = _ref.all,\n      all = _ref$all === undefined ? true : _ref$all;\n\n  var legendParams = _application2.default.getConfig().layout ? _application2.default.getConfig().layout.legend : {};\n  var legendurl = this.getLegendUrl(legendParams, {\n    categories: true,\n    all: all, // true meaning no bbox no filter just all referred to\n    format: 'application/json' // is the format to request categories (icon and label of each category)\n  });\n  return XHR.get({\n    url: legendurl\n  });\n};\n\n/**\n * Set layer categories legend\n * @param categories\n */\nproto.setCategories = function () {\n  var categories = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n  this.legendCategories[this.getCurrentStyle().name] = categories;\n  //set categories state attribute to true only if exist at least a rule key\n  this.state.categories = categories.length > 0 && categories.filter(function (category) {\n    return category.ruleKey;\n  }).length > 0;\n};\n\n/**\n * Return eventually categories of layers legend\n * @returns {string[] | string | [] | *[] | boolean | {default: {level: *, appenders: string[]}}}\n */\nproto.getCategories = function () {\n  return this.legendCategories[this.getCurrentStyle().name];\n};\n\nproto.clearCategories = function () {\n  this.legendCategories = {};\n  this.state.categories = false;\n};\n\n/**\n * End Legend Graphic section\n */\n\n/**\n * Clear all selection openlayer features\n */\nproto.clearOlSelectionFeatures = function () {\n  this.olSelectionFeatures = null;\n};\n\n/**\n * Get openlayer selection feature by feature id\n * @param id\n * @returns {*}\n */\nproto.getOlSelectionFeature = function (id) {\n  return this.olSelectionFeatures[id];\n};\n\nproto.updateOlSelectionFeature = function () {\n  var _ref2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      id = _ref2.id,\n      feature = _ref2.feature;\n\n  var featureObject = this.getOlSelectionFeature(id);\n  if (featureObject) {\n    featureObject.feature = feature;\n    var _mapService = _gui2.default.getService('map');\n    _mapService.setSelectionFeatures('update', {\n      feature: feature\n    });\n  }\n};\n\n/**\n * Delete openlayer feature selection by feature id\n * @param id\n */\nproto.deleteOlSelectionFeature = function (id) {\n  var featureObject = this.olSelectionFeatures[id];\n  if (featureObject) {\n    mapService.setSelectionFeatures('remove', {\n      feature: featureObject.feature\n    });\n    delete this.olSelectionFeatures[id];\n  }\n};\n\n/**\n * Get all openlyare feature selection\n * @returns {{}|null}\n */\nproto.getOlSelectionFeatures = function () {\n  return this.olSelectionFeatures;\n};\n\nproto.addOlSelectionFeature = function () {\n  var _ref3 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      id = _ref3.id,\n      feature = _ref3.feature;\n\n  this.olSelectionFeatures[id] = this.olSelectionFeatures[id] || {\n    feature: createFeatureFromFeatureObject({ id: id, feature: feature }),\n    added: false\n  };\n  return this.olSelectionFeatures[id];\n};\n\nproto.showAllOlSelectionFeatures = function () {\n  var mapService = _gui2.default.getService('map');\n  Object.values(this.olSelectionFeatures).forEach(function (featureObject) {\n    !featureObject.added && mapService.setSelectionFeatures('add', {\n      feature: featureObject.feature\n    });\n    featureObject.added = true;\n  });\n};\n\nproto.setInversionOlSelectionFeatures = function () {\n  var mapService = _gui2.default.getComponent('map').getService();\n  Object.values(this.olSelectionFeatures).forEach(function (featureObject) {\n    mapService.setSelectionFeatures(featureObject.added ? 'remove' : 'add', {\n      feature: featureObject.feature\n    });\n    featureObject.added = !featureObject.added;\n  });\n};\n\nproto.setOlSelectionFeatureByFid = function (fid, action) {\n  var feature = this.olSelectionFeatures[fid] && this.olSelectionFeatures[fid].feature;\n  return feature && this.setOlSelectionFeatures({ id: fid, feature: feature }, action);\n};\n\nproto.setOlSelectionFeatures = function (feature) {\n  var action = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'add';\n\n  var mapService = _gui2.default.getComponent('map').getService();\n  if (!feature) {\n    Object.values(this.olSelectionFeatures).forEach(function (featureObject) {\n      featureObject.added && mapService.setSelectionFeatures('remove', {\n        feature: featureObject.feature\n      });\n      featureObject.added = false;\n    });\n  } else {\n    var featureObject = this.olSelectionFeatures[feature.id] || this.addOlSelectionFeature(feature);\n    if (action === 'add') {\n      if (!featureObject.added) {\n        /**\n         * add a property of feature __layerId used whe we work with selected Layer features\n         */\n        featureObject.feature.__layerId = this.getId();\n        mapService.setSelectionFeatures(action, {\n          feature: featureObject.feature\n        });\n        featureObject.added = true;\n      }\n    } else {\n      mapService.setSelectionFeatures(action, {\n        feature: featureObject.feature\n      });\n      featureObject.added = false;\n    }\n  }\n  return !Object.values(this.olSelectionFeatures).find(function (featureObject) {\n    return featureObject.added;\n  });\n};\n\n/**\n * Create a get parameter url right\n * @param type\n * @private\n */\nproto._sanitizeSourceUrl = function () {\n  var type = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'wms';\n\n  var sanitizedUrl = sanitizeUrl({\n    url: this.config.source.url,\n    reserverParameters: RESERVERDPARAMETRS[type]\n  });\n  this.config.source.url = sanitizedUrl;\n};\n\nproto.isLayerCheckedAndAllParents = function () {\n  var checked = this.isChecked();\n  if (checked) {\n    var parentGroup = this.state.parentGroup;\n    while (checked && parentGroup) {\n      checked = checked && parentGroup.checked;\n      parentGroup = parentGroup.parentGroup;\n    }\n  }\n  return checked;\n};\n\nproto.setChecked = function (bool) {\n  this.state.checked = bool;\n};\n\nproto.isChecked = function () {\n  return this.state.checked;\n};\n\n/**\n * Is a method that check for visiblitity dissabled (based on scalevisibility) and checked on toc\n * @param bool\n * @returns {*}\n */\nproto.setVisible = function (bool) {\n  //check if is changed\n  var oldVisibile = this.state.visible;\n  this.state.visible = bool && this.isChecked(); // bool and is checked\n  var changed = oldVisibile !== this.state.visible;\n  //if changed call change\n  changed && this.change();\n  return this.state.visible;\n};\n\nproto.isVisible = function () {\n  return this.state.visible;\n};\n\nproto.isDisabled = function () {\n  return this.state.disabled;\n};\n\nproto.isPrintable = function () {\n  var _ref4 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      scale = _ref4.scale;\n\n  return this.isLayerCheckedAndAllParents() && (!this.state.scalebasedvisibility || scale >= this.state.maxscale && scale <= this.state.minscale);\n};\n\n//get style form layer\nproto.getStyles = function () {\n  return this.config.source.external ? this.config.source.styles : this.config.styles;\n};\n\nproto.getStyle = function () {\n  return this.config.source.external ? this.config.source.styles : this.config.styles ? this.config.styles.find(function (style) {\n    return style.current;\n  }).name : '';\n};\n\n/**\n * Get transparency property\n * \n * @returns {number}\n * \n * @since v3.8\n */\n\nproto.getOpacity = function () {\n  return this.state.opacity;\n};\n\n/**\n * Method to change current style  of layer\n * @param currentStyleName\n * @returns {boolean}\n */\nproto.setCurrentStyle = function (currentStyleName) {\n  var changed = false;\n  this.config.styles.forEach(function (style) {\n    if (style.name === currentStyleName) changed = !style.current;\n    style.current = style.name === currentStyleName;\n  });\n  return changed;\n};\n\nproto.getCurrentStyle = function () {\n  return this.config.styles.find(function (style) {\n    return style.current;\n  });\n};\n\n/**\n * Disable layer by check scalevisibility configuration value\n * @param resolution\n * @param mapUnits\n */\nproto.setDisabled = function (resolution) {\n  var mapUnits = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'm';\n\n  if (this.state.scalebasedvisibility) {\n    var mapScale = getScaleFromResolution(resolution, mapUnits);\n    this.state.disabled = !(mapScale >= this.state.maxscale && mapScale <= this.state.minscale);\n    this.state.disabled = this.state.minscale === 0 ? !(mapScale >= this.state.maxscale) : this.state.disabled;\n    // needed to check if call setVisible if change disable property\n    // looping through parentfolter checked\n    var setVisible = true;\n    var parentGroup = this.state.parentGroup;\n    while (parentGroup) {\n      setVisible = setVisible && parentGroup.checked;\n      parentGroup = parentGroup.parentGroup;\n    }\n    setVisible && this.setVisible(!this.state.disabled);\n    // change toc highlight property based on disabled otr not\n    this.isFilterable() && this.setTocHighlightable(!this.state.disabled);\n  } else this.state.disabled = false;\n};\n\nproto.getMultiLayerId = function () {\n  return this.config.multilayerid;\n};\n\nproto.getGeometryType = function () {\n  return this.config.geometrytype;\n};\n\nproto.getOwsMethod = function () {\n  return this.config.ows_method;\n};\n\nproto.setProjection = function () {\n  var crs = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  this.config.projection = Projections.get(crs);\n};\n\nproto.getProjection = function () {\n  return this.config.projection;\n};\n\nproto.getEpsg = function () {\n  return this.config.crs.epsg;\n};\n\nproto.getCrs = function () {\n  return this.config.projection && this.config.projection.getCode() || null;\n};\n\nproto.getMapCrs = function () {\n  return this.config.map_crs;\n};\n\nproto.isCached = function () {\n  return this.config.cache_url && this.config.cache_url !== '';\n};\n\nproto.getCacheUrl = function () {\n  if (this.isCached()) return this.config.cache_url;\n};\n\n// return if layer has inverted axis\nproto.hasAxisInverted = function () {\n  var projection = this.getProjection();\n  var axisOrientation = projection.getAxisOrientation ? projection.getAxisOrientation() : \"enu\";\n  return axisOrientation.substr(0, 2) === 'ne';\n};\n\nproto.getMapLayer = function () {\n  console.log('overwrite by single layer');\n};\n\nproto.setMapProjection = function (mapProjection) {\n  this._mapProjection = mapProjection;\n};\n\nproto.getMapProjection = function () {\n  return this._mapProjection;\n};\n\nmodule.exports = GeoLayerMixin;\n\n},{\"core/utils/geo\":64,\"core/utils/ol\":66,\"core/utils/utils\":68,\"g3w-ol/projection/projections\":111,\"services/application\":351,\"services/gui\":361}],33:[function(require,module,exports){\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _projects = require('store/projects');\n\nvar _projects2 = _interopRequireDefault(_projects);\n\nvar _application = require('services/application');\n\nvar _application2 = _interopRequireDefault(_application);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit,\n    mixin = _require.mixin;\n\nvar Layer = require('core/layers/layer');\nvar VectorLayer = require('core/layers/vectorlayer');\nvar WMSLayer = require('core/layers/map/wmslayer');\nvar WMSTLayer = require('core/layers/map/wmstlayer');\nvar ARCGISMAPSERVERLayer = require('core/layers/map/arcgismapserverlayer');\nvar XYZLayer = require('core/layers/map/xyzlayer');\nvar LegendService = require('core/layers/legend/legendservice');\nvar GeoLayerMixin = require('core/layers/geolayermixin');\n\nfunction ImageLayer() {\n  var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  /*{\n    id,\n    title,\n    name,\n    origname,\n    multilayerid,\n    servertype,\n    source,\n    crs,\n    projection,\n    bbox,\n    capabilities,\n    cache_url,\n    baselayer,\n    geometrytype,\n    editops,\n    expanded,\n    fields,\n    wmsUrl,\n    infoformat,\n    infourl,\n    maxscale,\n    minscale,\n    visible,\n    scalebasedvisibility,\n    wfscapabilities\n    ows_method\n    wms_use_layer_ids,\n    styles\n  }*/\n  this.setters = {\n    change: function change() {}\n  };\n\n  base(this, config, options);\n  this.config.baselayer = config.baselayer || false;\n  this.type = Layer.LayerTypes.IMAGE;\n  this.legendUrl = null;\n  this.customParams = {};\n  this.setup(config, options);\n}\n\ninherit(ImageLayer, Layer);\n\nmixin(ImageLayer, GeoLayerMixin);\n\nvar proto = ImageLayer.prototype;\n\nproto.getLayerForEditing = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n  var _ref2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      _ref2$force = _ref2.force,\n      force = _ref2$force === undefined ? false : _ref2$force,\n      vectorurl = _ref2.vectorurl,\n      project_type = _ref2.project_type,\n      project = _ref2.project;\n\n  var _project, editableLayer, editingLayer;\n\n  return regeneratorRuntime.wrap(function _callee$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          if (!(this.isEditable() || force)) {\n            _context.next = 16;\n            break;\n          }\n\n          _project = _project || _projects2.default.getCurrentProject();\n          editableLayer = new VectorLayer(this.config, {\n            vectorurl: vectorurl,\n            project_type: project_type,\n            project: _project\n          });\n          // set editing layer\n\n          _context.prev = 3;\n          _context.next = 6;\n          return editableLayer.layerForEditing;\n\n        case 6:\n          editingLayer = _context.sent;\n\n          this.setEditingLayer(editingLayer);\n          return _context.abrupt('return', editingLayer);\n\n        case 11:\n          _context.prev = 11;\n          _context.t0 = _context['catch'](3);\n          return _context.abrupt('return', Promise.reject(_context.t0));\n\n        case 14:\n          _context.next = 17;\n          break;\n\n        case 16:\n          return _context.abrupt('return', null);\n\n        case 17:\n        case 'end':\n          return _context.stop();\n      }\n    }\n  }, _callee, this, [[3, 11]]);\n}));\n\nproto.isBaseLayer = function () {\n  return this.config.baselayer;\n};\n\nproto.isWMS = function () {\n  return ImageLayer.WMSServerTypes.indexOf(this.config.servertype) > -1;\n};\n\nproto.isLayerProjectionASMapProjection = function () {\n  return this.config.crs.epsg === this.config.map_crs;\n};\n\nproto.getCrs = function () {\n  return this.config.crs.epsg;\n};\n\nproto.isExternalWMS = function () {\n  return !!(this.config.source && this.config.source.external && this.config.source.url);\n};\n\nproto.isArcgisMapserver = function () {\n  return this.isExternalWMS() && this.config.source.type === Layer.SourceTypes.ARCGISMAPSERVER;\n};\n\nproto._getBaseLayerName = function () {\n  return this.isWmsUseLayerIds() ? this.getId() : this.getName();\n};\n\nproto.getWMSLayerName = function () {\n  var _ref3 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      _ref3$type = _ref3.type,\n      type = _ref3$type === undefined ? 'map' : _ref3$type;\n\n  var legendMapBoolean = type === 'map' ? this.isExternalWMS() && this.isLayerProjectionASMapProjection() : true;\n  var layerName = this._getBaseLayerName();\n  if (legendMapBoolean && this.config.source && (type === 'legend' || this.config.source.external) && (this.config.source.layers || this.config.source.layer)) {\n    layerName = this.config.source.layers || this.config.source.layer;\n  }\n  return layerName;\n};\n\n// values: map, legend\nproto.getWmsUrl = function () {\n  var _ref4 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      _ref4$type = _ref4.type,\n      type = _ref4$type === undefined ? 'map' : _ref4$type;\n\n  var legendMapBoolean = type === 'map' ? this.isExternalWMS() && this.isLayerProjectionASMapProjection() : true;\n  var wmsUrl = legendMapBoolean && this.config.source && (type === 'legend' || this.config.source.external) && (this.config.source.type === 'wms' || this.config.source.type === 'wmst') && this.config.source.url ? this.config.source.url : this.config.wmsUrl;\n  return wmsUrl;\n};\n\nproto.getWFSLayerName = function () {\n  return this.getQueryLayerName().replace(/[/\\s]/g, '_');\n};\n\nproto.useProxy = function () {\n  return this.isExternalWMS() && this.isLayerProjectionASMapProjection() && this.getInfoFormats();\n};\n\nproto.getWMSInfoLayerName = function () {\n  if (this.isExternalWMS() && this.isLayerProjectionASMapProjection() && this.getInfoFormats()) {\n    return this.getSource().layers;\n  } else return this._getBaseLayerName();\n};\n\nproto.getPrintLayerName = function () {\n  return this.isWmsUseLayerIds() ? this.getId() : this.getName();\n};\n\nproto.getStringBBox = function () {\n  var bbox = this.config.bbox;\n  return bbox.minx + ',' + bbox.miny + ',' + bbox.maxx + ',' + bbox.maxy;\n};\n\nproto.isWfsActive = function () {\n  return Array.isArray(this.config.ows) && this.config.ows.find(function (ows_type) {\n    return ows_type === 'WFS';\n  }) !== undefined;\n};\n\n/**\n * Metyhod to get wms url of the layer\n * @returns {*}\n */\nproto.getFullWmsUrl = function () {\n  var metadata_wms_url = _projects2.default.getCurrentProject().getState().metadata.wms_url;\n  return this.isExternalWMS() || !metadata_wms_url ? this.getWmsUrl() : metadata_wms_url;\n};\n\n//used to Catalog layer menu to show wms url\nproto.getCatalogWmsUrl = function () {\n  var metadata_wms_url = _projects2.default.getCurrentProject().getMetadata().wms_url;\n  var catalogWmsUrl = this.isExternalWMS() || !metadata_wms_url ? this.getWmsUrl() + '?service=WMS&version=1.3.0&request=GetCapabilities' : metadata_wms_url;\n  return catalogWmsUrl;\n};\n\n//used to Catalog layer menu to show wfs url\nproto.getCatalogWfsUrl = function () {\n  return this.getWfsUrl() + '?service=WFS&version=1.1.0&request=GetCapabilities';\n};\n\nproto.getWfsUrl = function () {\n  return _projects2.default.getCurrentProject().getMetadata().wms_url || this.config.wmsUrl;\n};\n\n/**\n * Get query url based on type, external or same projection of map\n * @returns {string}\n */\nproto.getQueryUrl = function () {\n  var url = base(this, 'getQueryUrl');\n  if (this.getServerType() === Layer.ServerTypes.QGIS && this.isExternalWMS() && this.isLayerProjectionASMapProjection()) {\n    if (this.getInfoFormats()) url = this.getSource().url;else url = url + 'SOURCE=' + this.config.source.type;\n  }\n  return url;\n};\n\nproto.getIconUrlFromLegend = function () {\n  return this.getLegendUrl({\n    layertitle: false\n  });\n};\n\nproto.getLegendUrl = function () {\n  var params = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  this.legendUrl = LegendService.get({\n    layer: this,\n    params: _extends({}, params, this.customParams),\n    options: options\n  });\n  return this.legendUrl;\n};\n\nproto.setMapParamstoLegendUrl = function (_ref5) {\n  var bbox = _ref5.bbox,\n      crs = _ref5.crs;\n\n  this.customParams = _extends({}, this.customParams, {\n    bbox: bbox,\n    crs: crs\n  });\n};\n\nproto.getWfsCapabilities = function () {\n  return this.config.wfscapabilities || this.config.capabilities === 1;\n};\n\nproto.getMapLayer = function () {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var extraParams = arguments[1];\n\n  var iframe_internal = _application2.default.isIframe() && !this.isExternalWMS();\n  options.iframe_internal = iframe_internal;\n  var mapLayer = void 0;\n  var method = this.isExternalWMS() ? 'GET' : this.getOwsMethod();\n  if (this.isCached()) {\n    options.extent = this.config.bbox ? [this.config.bbox.minx, this.config.bbox.miny, this.config.bbox.maxx, this.config.bbox.maxy] : null;\n    mapLayer = new XYZLayer(options, method);\n  } else {\n    if (this.isExternalWMS() && this.config.source && this.config.source.type === Layer.SourceTypes.ARCGISMAPSERVER) {\n      options = _extends({}, options, this.config.source);\n      mapLayer = new ARCGISMAPSERVERLayer(options, extraParams);\n    } else {\n      options.url = options.url || this.getWmsUrl();\n      /** check in case WMST Layer\n       *\n       */\n      if (this.isExternalWMS() && this.config.source && this.config.source.type === Layer.SourceTypes.WMST) mapLayer = new WMSTLayer(options, extraParams, method);else mapLayer = new WMSLayer(options, extraParams, method);\n    }\n  }\n  return mapLayer;\n};\n\nImageLayer.WMSServerTypes = [Layer.ServerTypes.QGIS, Layer.ServerTypes.Mapserver, Layer.ServerTypes.Geoserver, Layer.ServerTypes.OGC];\n\nmodule.exports = ImageLayer;\n\n},{\"core/layers/geolayermixin\":32,\"core/layers/layer\":34,\"core/layers/legend/legendservice\":39,\"core/layers/map/arcgismapserverlayer\":41,\"core/layers/map/wmslayer\":45,\"core/layers/map/wmstlayer\":46,\"core/layers/map/xyzlayer\":47,\"core/layers/vectorlayer\":57,\"core/utils/utils\":68,\"services/application\":351,\"store/projects\":379}],34:[function(require,module,exports){\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _applicationState = require('store/application-state');\n\nvar _applicationState2 = _interopRequireDefault(_applicationState);\n\nvar _constant = require('app/constant');\n\nvar _data = require('services/data');\n\nvar _data2 = _interopRequireDefault(_data);\n\nvar _projects = require('store/projects');\n\nvar _projects2 = _interopRequireDefault(_projects);\n\nvar _application = require('services/application');\n\nvar _application2 = _interopRequireDefault(_application);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar _require = require('core/i18n/i18n.service'),\n    t = _require.t;\n\nvar _require2 = require('core/utils/utils'),\n    inherit = _require2.inherit,\n    base = _require2.base,\n    XHR = _require2.XHR;\n\nvar G3WObject = require('core/g3wobject');\n\nvar _require3 = require('core/utils/geo'),\n    geometryFields = _require3.geometryFields,\n    parseAttributes = _require3.parseAttributes;\n\nvar Relations = require('core/relations/relations');\nvar ProviderFactory = require('core/layers/providers/providersfactory');\n\n// Base Class of all Layer\nfunction Layer() {\n  var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n\n  this.config = config;\n\n  // assign some attribute\n  config.id = config.id || 'Layer';\n  config.title = config.title || config.name;\n  config.download = !!config.download;\n  config.geolayer = false;\n  config.baselayer = !!config.baselayer;\n  config.fields = config.fields || {};\n  config.urls = _extends({\n    query: config.infourl && '' !== config.infourl ? config.infourl : config.wmsUrl\n  }, config.urls || {});\n\n  var _options$project = options.project,\n      project = _options$project === undefined ? _projects2.default.getCurrentProject() : _options$project;\n\n\n  this.config.search_endpoint = project.getSearchEndPoint();\n\n  // create relations\n  this._relations = this._createRelations(project.getRelations());\n\n  // set URLs to get varios type of data\n  if (!this.isBaseLayer()) {\n    var suffixUrl = project.getType() + '/' + project.getId() + '/' + config.id + '/';\n    var vectorUrl = project.getVectorUrl();\n    var rasterUrl = project.getRasterUrl();\n\n    this.config.urls.filtertoken = vectorUrl + 'filtertoken/' + suffixUrl;\n    this.config.urls.data = vectorUrl + 'data/' + suffixUrl;\n    this.config.urls.shp = vectorUrl + 'shp/' + suffixUrl;\n    this.config.urls.csv = vectorUrl + 'csv/' + suffixUrl;\n    this.config.urls.xls = vectorUrl + 'xls/' + suffixUrl;\n    this.config.urls.gpx = vectorUrl + 'gpx/' + suffixUrl;\n    this.config.urls.gpkg = vectorUrl + 'gpkg/' + suffixUrl;\n    this.config.urls.geotiff = rasterUrl + 'geotiff/' + suffixUrl;\n    this.config.urls.editing = vectorUrl + 'editing/' + suffixUrl;\n    this.config.urls.commit = vectorUrl + 'commit/' + suffixUrl;\n    this.config.urls.config = vectorUrl + 'config/' + suffixUrl;\n    this.config.urls.unlock = vectorUrl + 'unlock/' + suffixUrl;\n    this.config.urls.widget = {\n      unique: vectorUrl + 'widget/unique/data/' + suffixUrl\n    };\n\n    /**\n     * @since 3.8.0\n     */\n    this.config.urls.featurecount = project.getUrl('featurecount');\n\n    /**\n     * Custom parameters based on project qgis version\n     */\n    this.config.searchParams = { I: 0, J: 0 };\n  }\n\n  // dinamic layer values useful for layerstree\n  var defaultstyle = config.styles && config.styles.find(function (style) {\n    return style.current;\n  }).name;\n\n  this.state = {\n\n    id: config.id,\n\n    title: config.title,\n\n    selected: config.selected || false,\n\n    disabled: config.disabled || false,\n\n    metadata: config.metadata,\n\n    metadata_querable: this.isBaseLayer() ? false : this.isQueryable({ onMap: false }),\n\n    openattributetable: this.isBaseLayer() ? false : this.canShowTable(),\n\n    removable: config.removable || false,\n\n    downloadable: this.isDownloadable(),\n\n    source: config.source,\n\n    styles: config.styles,\n\n    defaultstyle: defaultstyle,\n\n    /**\n     * state of if is in editing (setted by editing plugin)\n     */\n    inediting: false,\n\n    infoformat: this.getInfoFormat(),\n\n    infoformats: this.config.infoformats || [],\n\n    projectLayer: true,\n\n    geolayer: false,\n\n    /**\n     * Reactive selection attribute \n     */\n    selection: {\n      active: false\n    },\n\n    /**\n     * Reactive filter attribute \n     */\n    filter: {\n      active: false\n    },\n\n    attributetable: {\n      pageLength: null\n    },\n\n    visible: config.visible || false,\n\n    tochighlightable: false,\n\n    /**\n     * @type {number}\n     * \n     * @since 3.8.0\n     */\n    featurecount: config.featurecount,\n\n    /**\n     * @FIXME add type tag\n     * \n     * @since 3.8.0\n     */\n    stylesfeaturecount: config.featurecount && defaultstyle && _defineProperty({}, defaultstyle, config.featurecount)\n\n  };\n\n  // add selectionFids\n  this.selectionFids = new Set();\n\n  // referred to (layersstore);\n  this._layersstore = config.layersstore || null;\n\n  /*\n    Providers that layer can use\n     Three type of provider:\n      1 - query\n      2 - filter\n      3 - data -- raw data del layer (editing)\n   */\n  var serverType = this.config.servertype;\n  var sourceType = this.config.source ? this.config.source.type : null; // NB: sourceType = source of layer\n\n  if (serverType && sourceType) {\n    this.providers = {\n      query: ProviderFactory.build('query', serverType, sourceType, { layer: this }),\n      filter: ProviderFactory.build('filter', serverType, sourceType, { layer: this }),\n      filtertoken: ProviderFactory.build('filtertoken', serverType, sourceType, { layer: this }),\n      search: ProviderFactory.build('search', serverType, sourceType, { layer: this }),\n      data: ProviderFactory.build('data', serverType, sourceType, { layer: this })\n    };\n  }\n\n  /**\n   * Store last proxy params (useful for repeat request info formats for wms external layer)\n   */\n  this.proxyData = {\n    wms: null // at the moment only wms data from server\n  };\n\n  base(this);\n}\n\ninherit(Layer, G3WObject);\n\nvar proto = Layer.prototype;\n\n/**\n * Proxyparams\n */\nproto.getProxyData = function (type) {\n  return type ? this.proxyData[type] : this.proxyData;\n};\n\nproto.setProxyData = function (type) {\n  var data = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  this.proxyData[type] = data;\n};\n\nproto.clearProxyData = function (type) {\n  this.proxyData[type] = null;\n};\n\nproto.getDataProxyFromServer = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n  var type = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'wms';\n  var proxyParams = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  var _ref3, response, data;\n\n  return regeneratorRuntime.wrap(function _callee$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          _context.prev = 0;\n          _context.next = 3;\n          return _data2.default.getData('proxy:' + type, {\n            inputs: proxyParams,\n            outputs: false\n          });\n\n        case 3:\n          _ref3 = _context.sent;\n          response = _ref3.response;\n          data = _ref3.data;\n\n          this.setProxyData(type, JSON.parse(data));\n          return _context.abrupt('return', response);\n\n        case 10:\n          _context.prev = 10;\n          _context.t0 = _context['catch'](0);\n          return _context.abrupt('return');\n\n        case 13:\n        case 'end':\n          return _context.stop();\n      }\n    }\n  }, _callee, this, [[0, 10]]);\n}));\n\nproto.changeProxyDataAndReloadFromServer = function () {\n  var _this = this;\n\n  var type = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'wms';\n  var changes = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  Object.keys(changes).forEach(function (changeParam) {\n    Object.keys(changes[changeParam]).forEach(function (param) {\n      _this.proxyData[type][changeParam][param] = changes[changeParam][param];\n    });\n  });\n  return this.getDataProxyFromServer(type, this.proxyData[type]);\n};\n\n/**\n * editing method used by plugin\n */\n\nproto.isInEditing = function () {\n  return this.state.inediting;\n};\n\nproto.setInEditing = function () {\n  var bool = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n  this.state.inediting = bool;\n};\n\n/**\n * end proxy params\n */\n\nproto.getSearchParams = function () {\n  return this.config.searchParams;\n};\n\n/**\n *\n * @returns {*}\n */\nproto.getSearchEndPoint = function () {\n  return this.getType() !== Layer.LayerTypes.TABLE ? this.config.search_endpoint : \"api\";\n};\n\n//relations\nproto._createRelations = function (projectRelations) {\n  var layerId = this.getId();\n  return new Relations({\n    relations: projectRelations.filter(function (relation) {\n      return -1 !== [relation.referencedLayer, relation.referencingLayer].indexOf(layerId);\n    })\n  });\n};\n\n// return relations of layer\nproto.getRelations = function () {\n  return this._relations;\n};\n\nproto.getRelationById = function (id) {\n  return this._relations.getArray().find(function (relation) {\n    return relation.getId() === id;\n  });\n};\n\nproto.getRelationAttributes = function (relationName) {\n  var relation = this._relations.find(function (relation) {\n    return relation.name === relationName;\n  });\n  return relation ? relation.fields : [];\n};\n\nproto.getRelationsAttributes = function () {\n  var fields = {};\n  this.state.relations.forEach(function (relation) {\n    return fields[relation.name] = relation.fields;\n  });\n  return fields;\n};\n\nproto.isChild = function () {\n  return this.getRelations() ? this._relations.isChild(this.getId()) : false;\n};\n\nproto.isFather = function () {\n  return this.getRelations() ? this._relations.isFather(this.getId()) : false;\n};\n\nproto.getChildren = function () {\n  return this.isFather() ? this._relations.getChildren(this.getId()) : [];\n};\n\nproto.getFathers = function () {\n  return this.isChild() ? this._relations.getFathers(this.getId()) : [];\n};\n\nproto.hasChildren = function () {\n  return this.hasRelations() ? this._relations.hasChildren(this.getId()) : false;\n};\n\nproto.hasFathers = function () {\n  return this.hasRelations() ? this._relations.hasFathers(this.getId()) : false;\n};\n\nproto.hasRelations = function () {\n  return !!this._relations;\n};\n//end relations\n\n\n// global state\nproto.setAttributeTablePageLength = function (pageLength) {\n  this.state.attributetable.pageLength = pageLength;\n};\n\nproto.getAttributeTablePageLength = function () {\n  return this.state.attributetable.pageLength;\n};\n\n// end global state\n\n//filter token\nproto.setFilter = function () {\n  var bool = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n  this.state.filter.active = bool;\n};\n\nproto.getFilterActive = function () {\n  return this.state.filter.active;\n};\n\nproto.toggleFilterToken = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2() {\n  return regeneratorRuntime.wrap(function _callee2$(_context2) {\n    while (1) {\n      switch (_context2.prev = _context2.next) {\n        case 0:\n          this.state.filter.active = !this.state.filter.active;\n          _context2.next = 3;\n          return this.activeFilterToken(this.state.filter.active);\n\n        case 3:\n          return _context2.abrupt('return', this.state.filter.active);\n\n        case 4:\n        case 'end':\n          return _context2.stop();\n      }\n    }\n  }, _callee2, this);\n}));\n\nproto.activeFilterToken = function () {\n  var _ref5 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee3(bool) {\n    return regeneratorRuntime.wrap(function _callee3$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            _context3.next = 2;\n            return bool;\n\n          case 2:\n            if (!_context3.sent) {\n              _context3.next = 6;\n              break;\n            }\n\n            this.createFilterToken();\n            _context3.next = 7;\n            break;\n\n          case 6:\n            this.deleteFilterToken();\n\n          case 7:\n          case 'end':\n            return _context3.stop();\n        }\n      }\n    }, _callee3, this);\n  }));\n\n  return function (_x10) {\n    return _ref5.apply(this, arguments);\n  };\n}();\n\n/**\n * @fires filtertokenchange\n */\nproto.deleteFilterToken = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee4() {\n  return regeneratorRuntime.wrap(function _callee4$(_context4) {\n    while (1) {\n      switch (_context4.prev = _context4.next) {\n        case 0:\n          _context4.prev = 0;\n\n          if (this.providers['filtertoken']) {\n            _context4.next = 3;\n            break;\n          }\n\n          return _context4.abrupt('return');\n\n        case 3:\n          _context4.next = 5;\n          return this.providers['filtertoken'].deleteFilterToken();\n\n        case 5:\n          _application2.default.setFilterToken(null);\n          this.emit('filtertokenchange', { layerId: this.getId() });\n          _context4.next = 12;\n          break;\n\n        case 9:\n          _context4.prev = 9;\n          _context4.t0 = _context4['catch'](0);\n\n          console.log('Error deleteing filtertoken');\n\n        case 12:\n        case 'end':\n          return _context4.stop();\n      }\n    }\n  }, _callee4, this, [[0, 9]]);\n}));\n\n/**\n * @fires filtertokenchange\n */\nproto.createFilterToken = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee5() {\n  var filtertoken, params;\n  return regeneratorRuntime.wrap(function _callee5$(_context5) {\n    while (1) {\n      switch (_context5.prev = _context5.next) {\n        case 0:\n          filtertoken = null;\n          _context5.prev = 1;\n\n          if (!(!this.providers['filtertoken'] || !this.selectionFids.size > 0)) {\n            _context5.next = 4;\n            break;\n          }\n\n          return _context5.abrupt('return');\n\n        case 4:\n          if (!this.selectionFids.has(Layer.SELECTION_STATE.ALL)) {\n            _context5.next = 9;\n            break;\n          }\n\n          _context5.next = 7;\n          return this.providers['filtertoken'].deleteFilterToken();\n\n        case 7:\n          _context5.next = 14;\n          break;\n\n        case 9:\n          params = {};\n\n          if (this.selectionFids.has(Layer.SELECTION_STATE.EXCLUDE)) {\n            params.fidsout = Array.from(this.selectionFids).filter(function (id) {\n              return id !== Layer.SELECTION_STATE.EXCLUDE;\n            }).join(',');\n          } else {\n            params.fidsin = Array.from(this.selectionFids).join(',');\n          }\n          _context5.next = 13;\n          return this.providers['filtertoken'].getFilterToken(params);\n\n        case 13:\n          filtertoken = _context5.sent;\n\n        case 14:\n          _application2.default.setFilterToken(filtertoken);\n          this.emit('filtertokenchange', { layerId: this.getId() });\n          _context5.next = 21;\n          break;\n\n        case 18:\n          _context5.prev = 18;\n          _context5.t0 = _context5['catch'](1);\n\n          console.log('Error create update token');\n\n        case 21:\n        case 'end':\n          return _context5.stop();\n      }\n    }\n  }, _callee5, this, [[1, 18]]);\n}));\n// end filter token\n//selection Ids layer methods\n\nproto.setSelectionFidsAll = function () {\n  this.selectionFids.clear();\n  this.selectionFids.add(Layer.SELECTION_STATE.ALL);\n  this.isGeoLayer() && this.showAllOlSelectionFeatures();\n  this.setSelection(true);\n  this.state.filter.active && this.createFilterToken();\n};\n\nproto.getSelectionFids = function () {\n  return this.selectionFids;\n};\n\nproto.invertSelectionFids = function () {\n  if (this.selectionFids.has(Layer.SELECTION_STATE.EXCLUDE)) this.selectionFids.delete(Layer.SELECTION_STATE.EXCLUDE);else if (this.selectionFids.has(Layer.SELECTION_STATE.ALL)) this.selectionFids.delete(Layer.SELECTION_STATE.ALL);else if (this.selectionFids.size > 0) this.selectionFids.add(Layer.SELECTION_STATE.EXCLUDE);\n  if (this.isGeoLayer()) this.setInversionOlSelectionFeatures();\n  if (this.state.filter.active) this.createFilterToken();\n  this.setSelection(this.selectionFids.size > 0);\n};\n\nproto.hasSelectionFid = function (fid) {\n  if (this.selectionFids.has(Layer.SELECTION_STATE.ALL)) return true;else if (this.selectionFids.has(Layer.SELECTION_STATE.EXCLUDE)) return !this.selectionFids.has(fid);else return this.selectionFids.has(fid);\n};\n\nproto.includeSelectionFid = function () {\n  var _ref8 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee6(fid) {\n    var createToken = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n    var GIVE_ME_A_NAME;\n    return regeneratorRuntime.wrap(function _callee6$(_context6) {\n      while (1) {\n        switch (_context6.prev = _context6.next) {\n          case 0:\n            GIVE_ME_A_NAME = this.selectionFids.has(Layer.SELECTION_STATE.EXCLUDE) && this.selectionFids.has(fid);\n\n\n            if (GIVE_ME_A_NAME) {\n              this.selectionFids.delete(fid);\n            }\n\n            if (GIVE_ME_A_NAME && 1 === this.selectionFids.size) {\n              this.setSelectionFidsAll();\n            }\n\n            if (!GIVE_ME_A_NAME) {\n              this.selectionFids.add(fid);\n            }\n\n            if (!GIVE_ME_A_NAME && !this.isSelectionActive()) {\n              this.setSelection(true);\n            }\n\n            if (this.isGeoLayer()) {\n              this.setOlSelectionFeatureByFid(fid, 'add');\n            }\n\n            if (!(createToken && this.state.filter.active)) {\n              _context6.next = 9;\n              break;\n            }\n\n            _context6.next = 9;\n            return this.createFilterToken();\n\n          case 9:\n          case 'end':\n            return _context6.stop();\n        }\n      }\n    }, _callee6, this);\n  }));\n\n  return function (_x12) {\n    return _ref8.apply(this, arguments);\n  };\n}();\n\nproto.includeSelectionFids = function () {\n  var _this2 = this;\n\n  var fids = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n  fids.forEach(function (fid) {\n    return _this2.includeSelectionFid(fid);\n  });\n};\n\nproto.excludeSelectionFid = function () {\n  var _ref9 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee7(fid) {\n    var isLastFeatureSelected;\n    return regeneratorRuntime.wrap(function _callee7$(_context7) {\n      while (1) {\n        switch (_context7.prev = _context7.next) {\n          case 0:\n\n            if (this.selectionFids.has(Layer.SELECTION_STATE.ALL) || this.selectionFids.size === 0) {\n              this.selectionFids.clear();\n              this.selectionFids.add(Layer.SELECTION_STATE.EXCLUDE);\n            }\n\n            this.selectionFids[this.selectionFids.has(Layer.SELECTION_STATE.EXCLUDE) ? 'add' : 'delete'](fid);\n\n            if (1 === this.selectionFids.size && this.selectionFids.has(Layer.SELECTION_STATE.EXCLUDE)) {\n              this.setselectionFidsAll();\n            }\n\n            isLastFeatureSelected = this.isGeoLayer() && this.setOlSelectionFeatureByFid(fid, 'remove');\n            _context7.t0 = this.state.filter.active;\n\n            if (!_context7.t0) {\n              _context7.next = 8;\n              break;\n            }\n\n            _context7.next = 8;\n            return this.createFilterToken();\n\n          case 8:\n\n            if (0 === this.selectionFids.size || isLastFeatureSelected) {\n              this.selectionFids.clear();\n              this.setSelection(false);\n            }\n\n          case 9:\n          case 'end':\n            return _context7.stop();\n        }\n      }\n    }, _callee7, this);\n  }));\n\n  return function (_x14) {\n    return _ref9.apply(this, arguments);\n  };\n}();\n\nproto.excludeSelectionFids = function () {\n  var _this3 = this;\n\n  var fids = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n  fids.forEach(function (fid) {\n    return _this3.excludeSelectionFid(fid);\n  });\n};\n\nproto.clearSelectionFids = function () {\n  this.selectionFids.clear();\n  this.isGeoLayer() && this.setOlSelectionFeatures();\n  this.setSelection(false);\n};\n// end selection ids methods\n\nproto.getWMSLayerName = function () {\n  return this.isWmsUseLayerIds() ? this.getId() : this.getName();\n};\n\nproto.isWmsUseLayerIds = function () {\n  return this.config.wms_use_layer_ids;\n};\n\nproto.getFilterToken = function () {\n  return _application2.default.getFilterToken();\n};\n\n/**\n *\n * DOWNLOAD METHODS\n */\n\n/** \n * @returns promise\n */\nproto.getDownloadFilefromDownloadDataType = function (type, _ref10) {\n  var _ref10$data = _ref10.data,\n      data = _ref10$data === undefined ? {} : _ref10$data,\n      options = _ref10.options;\n\n  data.filtertoken = this.getFilterToken();\n  switch (type) {\n    case 'shapefile':\n      return this.getShp({ data: data, options: options });\n    case 'xls':\n      return this.getXls({ data: data, options: options });\n    case 'csv':\n      return this.getCsv({ data: data, options: options });\n    case 'gpx':\n      return this.getGpx({ data: data, options: options });\n    case 'gpkg':\n      return this.getGpkg({ data: data, options: options });\n    case 'geotiff':\n      return this.getGeoTIFF({ data: data, options: options });\n  }\n};\n\nproto.getGeoTIFF = function () {\n  var _ref11 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      _ref11$data = _ref11.data,\n      data = _ref11$data === undefined ? {} : _ref11$data;\n\n  data.filtertoken = this.getFilterToken();\n  return XHR.fileDownload({\n    url: this.getUrl('geotiff'),\n    data: data,\n    httpMethod: \"POST\"\n  });\n};\n\nproto.getXls = function () {\n  var _ref12 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      _ref12$data = _ref12.data,\n      data = _ref12$data === undefined ? {} : _ref12$data;\n\n  data.filtertoken = this.getFilterToken();\n  return XHR.fileDownload({\n    url: this.getUrl('xls'),\n    data: data,\n    httpMethod: \"POST\"\n  });\n};\n\nproto.getShp = function () {\n  var _ref13 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      _ref13$data = _ref13.data,\n      data = _ref13$data === undefined ? {} : _ref13$data;\n\n  data.filtertoken = this.getFilterToken();\n  return XHR.fileDownload({\n    url: this.getUrl('shp'),\n    data: data,\n    httpMethod: \"POST\"\n  });\n};\n\nproto.getGpx = function () {\n  var _ref14 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      _ref14$data = _ref14.data,\n      data = _ref14$data === undefined ? {} : _ref14$data;\n\n  data.filtertoken = this.getFilterToken();\n  return XHR.fileDownload({\n    url: this.getUrl('gpx'),\n    data: data,\n    httpMethod: \"POST\"\n  });\n};\n\nproto.getGpkg = function () {\n  var _ref15 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      _ref15$data = _ref15.data,\n      data = _ref15$data === undefined ? {} : _ref15$data;\n\n  data.filtertoken = this.getFilterToken();\n  return XHR.fileDownload({\n    url: this.getUrl('gpkg'),\n    data: data,\n    httpMethod: \"POST\"\n  });\n};\n\nproto.getCsv = function () {\n  var _ref16 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      _ref16$data = _ref16.data,\n      data = _ref16$data === undefined ? {} : _ref16$data;\n\n  data.filtertoken = this.getFilterToken();\n  return XHR.fileDownload({\n    url: this.getUrl('csv'),\n    data: data,\n    httpMethod: \"POST\"\n  });\n};\n\nproto.getSourceType = function () {\n  return this.config.source ? this.config.source.type : null;\n};\n\nproto.isGeoLayer = function () {\n  return this.state.geolayer;\n};\n\nproto.getDataTable = function () {\n  var _this4 = this;\n\n  var _ref17 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      _ref17$page = _ref17.page,\n      page = _ref17$page === undefined ? null : _ref17$page,\n      _ref17$page_size = _ref17.page_size,\n      page_size = _ref17$page_size === undefined ? null : _ref17$page_size,\n      _ref17$ordering = _ref17.ordering,\n      ordering = _ref17$ordering === undefined ? null : _ref17$ordering,\n      _ref17$search = _ref17.search,\n      search = _ref17$search === undefined ? null : _ref17$search,\n      field = _ref17.field,\n      _ref17$suggest = _ref17.suggest,\n      suggest = _ref17$suggest === undefined ? null : _ref17$suggest,\n      _ref17$formatter = _ref17.formatter,\n      formatter = _ref17$formatter === undefined ? 0 : _ref17$formatter,\n      in_bbox = _ref17.in_bbox,\n      _ref17$custom_params = _ref17.custom_params,\n      custom_params = _ref17$custom_params === undefined ? {} : _ref17$custom_params;\n\n  var d = $.Deferred();\n  var provider = void 0;\n  var params = _extends({}, custom_params, {\n    field: field,\n    page: page,\n    page_size: page_size,\n    ordering: ordering,\n    search: search,\n    formatter: formatter,\n    suggest: suggest,\n    in_bbox: in_bbox,\n    filtertoken: _applicationState2.default.tokens.filtertoken\n  });\n  if (!(this.getProvider('filter') || this.getProvider('data'))) {\n    d.reject();\n  } else {\n    provider = this.getProvider('data');\n    provider.getFeatures({ editing: false }, params).done(function (response) {\n      var features = response.data.features && response.data.features || [];\n      d.resolve({\n        headers: parseAttributes(_this4.getAttributes(), features.length ? features[0].properties : []),\n        features: features,\n        title: _this4.getTitle(),\n        count: response.count\n      });\n    }).fail(function (err) {\n      return d.reject(err);\n    });\n  }\n  return d.promise();\n};\n\n/**\n * Search layer feature by fids\n * @param fids formatter\n */\nproto.getFeatureByFids = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee8() {\n  var _ref19 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      _ref19$fids = _ref19.fids,\n      fids = _ref19$fids === undefined ? [] : _ref19$fids,\n      _ref19$formatter = _ref19.formatter,\n      formatter = _ref19$formatter === undefined ? 0 : _ref19$formatter;\n\n  var url, features, response;\n  return regeneratorRuntime.wrap(function _callee8$(_context8) {\n    while (1) {\n      switch (_context8.prev = _context8.next) {\n        case 0:\n          url = this.getUrl('data');\n          features = void 0;\n          _context8.prev = 2;\n          _context8.next = 5;\n          return XHR.get({\n            url: url,\n            params: {\n              fids: fids.toString(),\n              formatter: formatter\n            }\n          });\n\n        case 5:\n          response = _context8.sent;\n\n          features = response && response.result && response.vector && response.vector.data && response.vector.data.features;\n          _context8.next = 11;\n          break;\n\n        case 9:\n          _context8.prev = 9;\n          _context8.t0 = _context8['catch'](2);\n\n        case 11:\n          return _context8.abrupt('return', features);\n\n        case 12:\n        case 'end':\n          return _context8.stop();\n      }\n    }\n  }, _callee8, this, [[2, 9]]);\n}));\n\n//search Features methods\nproto.searchFeatures = function () {\n  var _this5 = this;\n\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var params = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var _options$search_endpo = options.search_endpoint,\n      search_endpoint = _options$search_endpo === undefined ? this.config.search_endpoint : _options$search_endpo;\n\n  return new Promise(function () {\n    var _ref20 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee9(resolve, reject) {\n      var _options$raw, raw, field, _options$suggest, suggest, unique, queryUrl, ordering;\n\n      return regeneratorRuntime.wrap(function _callee9$(_context9) {\n        while (1) {\n          switch (_context9.prev = _context9.next) {\n            case 0:\n              _context9.t0 = search_endpoint;\n              _context9.next = _context9.t0 === 'ows' ? 3 : _context9.t0 === 'api' ? 5 : 18;\n              break;\n\n            case 3:\n              _this5.search(options, params).then(function (results) {\n                resolve({ data: results });\n              }).fail(function (error) {\n                return reject(error);\n              });\n              return _context9.abrupt('break', 18);\n\n            case 5:\n              _options$raw = options.raw, raw = _options$raw === undefined ? false : _options$raw, field = options.filter, _options$suggest = options.suggest, suggest = _options$suggest === undefined ? {} : _options$suggest, unique = options.unique, queryUrl = options.queryUrl, ordering = options.ordering;\n              _context9.prev = 6;\n              _context9.t1 = resolve;\n              _context9.next = 10;\n              return _this5.getFilterData({ queryUrl: queryUrl, raw: raw, field: field, ordering: ordering, suggest: suggest, unique: unique });\n\n            case 10:\n              _context9.t2 = _context9.sent;\n              (0, _context9.t1)(_context9.t2);\n              _context9.next = 17;\n              break;\n\n            case 14:\n              _context9.prev = 14;\n              _context9.t3 = _context9['catch'](6);\n\n              reject(_context9.t3);\n\n            case 17:\n              return _context9.abrupt('break', 18);\n\n            case 18:\n            case 'end':\n              return _context9.stop();\n          }\n        }\n      }, _callee9, _this5, [[6, 14]]);\n    }));\n\n    return function (_x26, _x27) {\n      return _ref20.apply(this, arguments);\n    };\n  }());\n};\n\n/*\n* getFilterData is a function to get data feature based on fields and suggets\n* params:\n* - suggest (mandatory): object with key is a field of layer and value is value of the field to filter\n* - fields: Array of object with type of suggest (see above)\n* */\nproto.getFilterData = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee10() {\n  var _ref22 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      field = _ref22.field,\n      _ref22$raw = _ref22.raw,\n      raw = _ref22$raw === undefined ? false : _ref22$raw,\n      _ref22$suggest = _ref22.suggest,\n      suggest = _ref22$suggest === undefined ? {} : _ref22$suggest,\n      unique = _ref22.unique,\n      _ref22$formatter = _ref22.formatter,\n      formatter = _ref22$formatter === undefined ? 1 : _ref22$formatter,\n      queryUrl = _ref22.queryUrl,\n      ordering = _ref22.ordering;\n\n  return regeneratorRuntime.wrap(function _callee10$(_context10) {\n    while (1) {\n      switch (_context10.prev = _context10.next) {\n        case 0:\n          _context10.next = 2;\n          return this.getProvider('data').getFilterData({\n            queryUrl: queryUrl,\n            field: field,\n            raw: raw,\n            ordering: ordering,\n            suggest: suggest,\n            formatter: formatter,\n            unique: unique\n          });\n\n        case 2:\n          return _context10.abrupt('return', _context10.sent);\n\n        case 3:\n        case 'end':\n          return _context10.stop();\n      }\n    }\n  }, _callee10, this);\n}));\n\n/**\n * search method \n */\nproto.search = function () {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var params = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  // check option feature_count\n  options.feature_count = options.feature_count || 10;\n  options = _extends({}, options, this.config.searchParams, params);\n  var d = $.Deferred();\n  var provider = this.getProvider('search');\n  if (provider) {\n    provider.query(options).done(function (response) {\n      return d.resolve(response);\n    }).fail(function (err) {\n      return d.reject(err);\n    });\n  } else {\n    d.reject(t('sdk.search.layer_not_searchable'));\n  }\n  return d.promise();\n};\n\n/**\n * Info from layer (only for querable layers) \n */\nproto.query = function () {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  var d = $.Deferred();\n  var provider = this.getProvider(options.filter ? 'filter' : 'query');\n  if (provider) {\n    provider.query(options).done(function (response) {\n      return d.resolve(response);\n    }).fail(function (err) {\n      return d.reject(err);\n    });\n  } else {\n    d.reject(t('sdk.search.layer_not_querable'));\n  }\n  return d.promise();\n};\n\n/**\n * General way to get an attribute \n */\nproto.get = function (property) {\n  return this.config[property] ? this.config[property] : this.state[property];\n};\n\nproto.getFields = function () {\n  return this.config.fields;\n};\n\n/**\n * Get field by name\n * \n * @param fieldName\n * @returns {*}\n */\nproto.getFieldByName = function (fieldName) {\n  return this.getFields().find(function (field) {\n    return field.name === fieldName;\n  });\n};\n\nproto.getEditingFields = function () {\n  return this.config.editing.fields;\n};\n\n/**\n * Return only show fields\n * \n * @returns {T[]}\n */\nproto.getTableFields = function () {\n  return (this.config.fields || []).filter(function (field) {\n    return field.show;\n  });\n};\n\nproto.getTableHeaders = function () {\n  return this.getTableFields().filter(function (field) {\n    return -1 === geometryFields.indexOf(field.name);\n  });\n};\n\nproto.getProject = function () {\n  return this.config.project;\n};\n\nproto.getConfig = function () {\n  return this.config;\n};\n\n/**\n * Get form structure to show on form editing\n * \n * @param fields\n * @returns {[]}\n */\nproto.getLayerEditingFormStructure = function (fields) {\n  return this.config.editor_form_structure;\n};\n\n/**\n * Duplicated beacuase we had to check if it\n * is used by some plugins to avoid to break\n * backward compatibility\n */\nproto.getEditorFormStructure = function () {\n  return this.getLayerEditingFormStructure();\n};\n\nproto.getFieldsOutOfFormStructure = function () {\n  return this.config.editor_form_structure ? this.config.editor_form_structure.filter(function (structure) {\n    return structure.field_name;\n  }) : [];\n};\n\nproto.hasFormStructure = function () {\n  return !!this.config.editor_form_structure;\n};\n\n/**\n * Get custom style (for future implementation) \n */\nproto.getCustomStyle = function () {\n  return this.config.customstyle;\n};\n\nproto.getState = function () {\n  return this.state;\n};\n\nproto.getSource = function () {\n  return this.state.source;\n};\n\nproto.isDownloadable = function () {\n  return this.isShpDownlodable() || this.isXlsDownlodable() || this.isGpxDownlodable() || this.isGpkgDownlodable() || this.isCsvDownlodable();\n};\n\nproto.getDownloadableFormats = function () {\n  var _this6 = this;\n\n  return Object.keys(_constant.DOWNLOAD_FORMATS).filter(function (download_format) {\n    return _this6.config[download_format];\n  }).map(function (format) {\n    return _constant.DOWNLOAD_FORMATS[format].format;\n  });\n};\n\nproto.getDownloadUrl = function (format) {\n  var find = Object.values(_constant.DOWNLOAD_FORMATS).find(function (download_format) {\n    return download_format.format === format;\n  });\n  return find && find.url;\n};\n\nproto.isGeoTIFFDownlodable = function () {\n  return !this.isBaseLayer() && this.config.download && 'gdal' === this.config.source.type;\n};\n\nproto.isShpDownlodable = function () {\n  return !this.isBaseLayer() && this.config.download && 'gdal' !== this.config.source.type;\n};\n\nproto.isXlsDownlodable = function () {\n  return !this.isBaseLayer() && this.config.download_xls;\n};\n\nproto.isGpxDownlodable = function () {\n  return !this.isBaseLayer() && this.config.download_gpx;\n};\n\nproto.isGpkgDownlodable = function () {\n  return !this.isBaseLayer() && this.config.download_gpkg;\n};\n\nproto.isCsvDownlodable = function () {\n  return !this.isBaseLayer() && this.config.download_csv;\n};\n\nproto.getEditingLayer = function () {\n  return this._editingLayer;\n};\n\nproto.setEditingLayer = function (editingLayer) {\n  this._editingLayer = editingLayer;\n};\n\nproto.isHidden = function () {\n  return this.state.hidden;\n};\n\nproto.setHidden = function () {\n  var bool = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n\n  this.state.hidden = bool;\n};\n\nproto.isModified = function () {\n  return this.state.modified;\n};\n\nproto.getId = function () {\n  return this.config.id;\n};\n\nproto.getMetadata = function () {\n  return this.state.metadata;\n};\n\nproto.getTitle = function () {\n  return this.config.title;\n};\n\nproto.getName = function () {\n  return this.config.name;\n};\n\nproto.getOrigName = function () {\n  return this.config.origname;\n};\n\nproto.getServerType = function () {\n  return this.config.servertype && this.config.servertype !== '' ? this.config.servertype : ServerTypes.QGIS;\n};\n\nproto.getType = function () {\n  return this.type;\n};\n\nproto.isType = function (type) {\n  return this.getType() === type;\n};\n\nproto.setType = function (type) {\n  this.type = type;\n};\n\nproto.isSelected = function () {\n  return this.state.selected;\n};\n\nproto.setSelected = function (bool) {\n  this.state.selected = bool;\n};\n\nproto.setSelection = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee11() {\n  var bool = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n  return regeneratorRuntime.wrap(function _callee11$(_context11) {\n    while (1) {\n      switch (_context11.prev = _context11.next) {\n        case 0:\n          this.state.selection.active = bool;\n\n          if (bool) {\n            _context11.next = 8;\n            break;\n          }\n\n          _context11.t0 = this.state.filter.active;\n\n          if (!_context11.t0) {\n            _context11.next = 6;\n            break;\n          }\n\n          _context11.next = 6;\n          return this.deleteFilterToken();\n\n        case 6:\n          this.state.filter.active = bool;\n          this.emit('unselectionall', this.getId());\n\n        case 8:\n        case 'end':\n          return _context11.stop();\n      }\n    }\n  }, _callee11, this);\n}));\n\nproto.isSelectionActive = function () {\n  return this.state.selection.active;\n};\n\nproto.getSelection = function () {\n  return this.state.selection;\n};\n\nproto.getFilter = function () {\n  return this.state.filter;\n};\n\nproto.setDisabled = function (bool) {\n  this.state.disabled = bool;\n};\n\nproto.isDisabled = function () {\n  return this.state.disabled;\n};\n\nproto.isVisible = function () {\n  return this.state.visible;\n};\n\nproto.setVisible = function (bool) {\n  this.state.visible = bool;\n};\n\n/**\n * Set a parameter map to check if request from map point of\n * view or just a capabilities info layer\n */\nproto.isQueryable = function () {\n  var _ref24 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : { onMap: false },\n      onMap = _ref24.onMap;\n\n  var queryEnabled = false;\n  var queryableForCababilities = !!(this.config.capabilities && this.config.capabilities & Layer.CAPABILITIES.QUERYABLE);\n  if (!onMap) return queryableForCababilities;\n  // if querable check if is visible or disabled\n  if (queryableForCababilities) {\n    queryEnabled = this.isVisible() && !this.isDisabled();\n    if (this.config.infowhennotvisible !== undefined && this.config.infowhennotvisible === true) queryEnabled = true;\n  }\n  return queryEnabled;\n};\n\nproto.getOws = function () {\n  return this.config.ows;\n};\n\nproto.getTocHighlightable = function () {\n  return this.state.tochighlightable;\n};\n\nproto.setTocHighlightable = function () {\n  var bool = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n  this.state.tochighlightable = bool;\n};\n\n/**\n * @param conditions plain object with configuration layer attribute and value\n */\nproto.isFilterable = function () {\n  var _this7 = this;\n\n  var conditions = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n\n  var isFiltrable = !!(this.config.capabilities && this.config.capabilities & Layer.CAPABILITIES.FILTERABLE);\n  if (isFiltrable && conditions) {\n    var conditionalFiltrable = Object.keys(conditions).reduce(function (bool, attribute) {\n      var layer_config_value = _this7.get(attribute);\n      var condition_attribute_values = conditions[attribute];\n      return bool && Array.isArray(layer_config_value) ? layer_config_value.indexOf(condition_attribute_values) !== -1 : condition_attribute_values === layer_config_value;\n    }, true);\n    isFiltrable = isFiltrable && conditionalFiltrable;\n  }\n  return isFiltrable;\n};\n\n/**\n * Check if layer is setup as time series\n */\nproto.isQtimeseries = function () {\n  return this.config.qtimeseries;\n};\n\nproto.isEditable = function () {\n  return !!(this.config.capabilities && this.config.capabilities & Layer.CAPABILITIES.EDITABLE);\n};\n\nproto.isBaseLayer = function () {\n  return this.config.baselayer;\n};\n\n/**\n * @param type get url by type (data, shp, csv, xls,  editing, ...) \n */\nproto.getUrl = function (type) {\n  return this.config.urls[type];\n};\n\n/**\n * Set config url\n * \n * @param url.type\n * @param url.url\n */\nproto.setUrl = function () {\n  var _ref25 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      type = _ref25.type,\n      url = _ref25.url;\n\n  this.config.urls[type] = url;\n};\n\n/**\n * @returns config.urls\n */\nproto.getUrls = function () {\n  return this.config.urls;\n};\n\nproto.setEditingUrl = function (url) {\n  this.config.urls.editing = url || this.config.urls.editing;\n};\n\nproto.getQueryUrl = function () {\n  return this.config.urls.query;\n};\n\nproto.setQueryUrl = function (queryUrl) {\n  this.config.urls.query = queryUrl;\n};\n\nproto.getQueryLayerName = function () {\n  return this.config.infolayer && this.config.infolayer !== '' ? this.config.infolayer : this.getName();\n};\n\nproto.getQueryLayerOrigName = function () {\n  return this.state.infolayer && this.config.infolayer !== '' ? this.config.infolayer : this.config.origname;\n};\n\nproto.getInfoFormat = function (ogcService) {\n  // In case of NETCDF (qtime series)\n  if (this.config.qtimeseries === true || this.getSourceType() === 'gdal') {\n    return 'application/json';\n  }\n  if (this.config.infoformat && '' !== this.config.infoformat && 'wfs' !== ogcService) {\n    return this.config.infoformat;\n  }\n  return 'application/vnd.ogc.gml';\n};\n\nproto.getInfoFormats = function () {\n  return this.state.infoformats;\n};\n\nproto.getInfoUrl = function () {\n  return this.config.infourl;\n};\n\nproto.setInfoFormat = function (infoFormat) {\n  this.config.infoformat = infoFormat;\n};\n\nproto.getAttributes = function () {\n  return this.config.fields;\n};\n\nproto.changeAttribute = function (attribute, type, options) {\n  var _iteratorNormalCompletion = true;\n  var _didIteratorError = false;\n  var _iteratorError = undefined;\n\n  try {\n    for (var _iterator = this.config.fields[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n      var field = _step.value;\n\n      if (field.name === attribute) {\n        field.type = type;\n        field.options = options;\n        break;\n      }\n    }\n  } catch (err) {\n    _didIteratorError = true;\n    _iteratorError = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion && _iterator.return) {\n        _iterator.return();\n      }\n    } finally {\n      if (_didIteratorError) {\n        throw _iteratorError;\n      }\n    }\n  }\n};\n\nproto.getAttributeLabel = function (name) {\n  var field = this.getAttributes().find(function (field) {\n    return field.name === name;\n  });\n  return field && field.label;\n};\n\nproto.getProvider = function (type) {\n  return this.providers[type];\n};\n\nproto.getProviders = function () {\n  return this.providers;\n};\n\nproto.getLayersStore = function () {\n  return this._layersstore;\n};\n\nproto.setLayersStore = function (layerstore) {\n  this._layersstore = layerstore;\n};\n\nproto.canShowTable = function () {\n  if (this.config.not_show_attributes_table) {\n    return false;\n  }\n\n  if (this.getServerType() === Layer.ServerTypes.QGIS && [Layer.SourceTypes.POSTGIS, Layer.SourceTypes.ORACLE, Layer.SourceTypes.WFS, Layer.SourceTypes.OGR, Layer.SourceTypes.MSSQL, Layer.SourceTypes.SPATIALITE].indexOf(this.config.source.type) > -1 && this.isQueryable()) {\n    return this.getTableFields().length > 0;\n  }\n\n  if (this.getServerType() === Layer.ServerTypes.G3WSUITE && \"geojson\" === this.get('source').type) {\n    return true;\n  }\n\n  if (this.getServerType() !== Layer.ServerTypes.G3WSUITE && this.isFilterable()) {\n    return true;\n  }\n\n  return false;\n};\n\nproto.changeFieldType = function () {\n  var _ref26 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      name = _ref26.name,\n      type = _ref26.type,\n      _ref26$options = _ref26.options,\n      options = _ref26$options === undefined ? {} : _ref26$options,\n      _ref26$reset = _ref26.reset,\n      reset = _ref26$reset === undefined ? false : _ref26$reset;\n\n  var field = this.getFields().find(function (field) {\n    return field.name === name;\n  });\n\n  if (field && reset) {\n    field.type = field._type;\n    delete field._type;\n    delete field[type + 'options'];\n    return field.type;\n  }\n\n  if (field && !reset) {\n    field._type = field.type;\n    field.type = type;\n    field[type + 'options'] = options;\n    return field._type;\n  }\n};\n\nproto.changeConfigFieldType = function (_ref27) {\n  var name = _ref27.name,\n      type = _ref27.type,\n      _ref27$options = _ref27.options,\n      options = _ref27$options === undefined ? {} : _ref27$options,\n      _ref27$reset = _ref27.reset,\n      reset = _ref27$reset === undefined ? false : _ref27$reset;\n\n  return this.changeFieldType({ name: name, type: type, options: options, reset: reset });\n};\n\nproto.resetConfigField = function (_ref28) {\n  var name = _ref28.name;\n\n  this.changeConfigFieldType({ name: name, reset: true });\n};\n\n/**\n * Function called in case of change project to remove all stored information \n */\nproto.clear = function () {};\n\nproto.isVector = function () {\n  return this.getType() === Layer.LayerTypes.VECTOR;\n};\n\nproto.isTable = function () {\n  return this.getType() === Layer.LayerTypes.TABLE;\n};\n\n/**\n * @since 3.8.0\n */\nproto.getFeatureCount = function () {\n  return this.state.featurecount;\n};\n\n/**\n * @param style\n * \n * @returns {Promise<Object>}\n * \n * @since 3.8.0\n */\nproto.getStyleFeatureCount = function () {\n  var _ref29 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee12(style) {\n    var _ref30, result, data;\n\n    return regeneratorRuntime.wrap(function _callee12$(_context12) {\n      while (1) {\n        switch (_context12.prev = _context12.next) {\n          case 0:\n            if (!(\"undefined\" === typeof this.state.stylesfeaturecount[style])) {\n              _context12.next = 13;\n              break;\n            }\n\n            _context12.prev = 1;\n            _context12.next = 4;\n            return XHR.post({\n              url: '' + this.config.urls.featurecount + this.getId() + '/',\n              data: JSON.stringify({ style: style }),\n              contentType: 'application/json'\n            });\n\n          case 4:\n            _ref30 = _context12.sent;\n            result = _ref30.result;\n            data = _ref30.data;\n\n            this.state.stylesfeaturecount[style] = true === result ? data : {};\n            _context12.next = 13;\n            break;\n\n          case 10:\n            _context12.prev = 10;\n            _context12.t0 = _context12['catch'](1);\n\n            this.state.stylesfeaturecount[style] = {};\n\n          case 13:\n            return _context12.abrupt('return', this.state.stylesfeaturecount[style]);\n\n          case 14:\n          case 'end':\n            return _context12.stop();\n        }\n      }\n    }, _callee12, this, [[1, 10]]);\n  }));\n\n  return function (_x39) {\n    return _ref29.apply(this, arguments);\n  };\n}();\n\n/// LAYER PROPERTIES\n\n/**\n * Layer Types\n */\nLayer.LayerTypes = {\n  TABLE: \"table\",\n  IMAGE: \"image\",\n  VECTOR: \"vector\"\n};\n\n/**\n * Server Types\n */\nLayer.ServerTypes = {\n  OGC: \"OGC\",\n  QGIS: \"QGIS\",\n  Mapserver: \"Mapserver\",\n  Geoserver: \"Geoserver\",\n  ARCGISMAPSERVER: \"ARCGISMAPSERVER\",\n  OSM: \"OSM\",\n  BING: \"Bing\",\n  LOCAL: \"Local\",\n  TMS: \"TMS\",\n  WMS: \"WMS\",\n  WMTS: \"WMTS\",\n  G3WSUITE: \"G3WSUITE\"\n  /** \n   * ADD ALSO TO PROVIDER FACTORY (@TODO or already done?) \n   */\n};\n\n/**\n * Source Types\n */\nLayer.SourceTypes = {\n  VIRTUAL: 'virtual',\n  POSTGIS: 'postgres',\n  SPATIALITE: 'spatialite',\n  ORACLE: 'oracle',\n  MSSQL: 'mssql',\n  CSV: 'delimitedtext',\n  OGR: 'ogr',\n  GDAL: 'gdal',\n  WMS: 'wms',\n  WMST: \"wmst\",\n  WFS: 'wfs',\n  WCS: \"wcs\",\n  MDAL: \"mdal\",\n  \"VECTOR-TILE\": \"vector-tile\",\n  VECTORTILE: \"vectortile\",\n  ARCGISMAPSERVER: 'arcgismapserver',\n  GEOJSON: \"geojson\"\n  /**\n   * ADD TO PROVIDER FACTORY (@TODO or already done?)\n   */\n};\n\n/**\n * Layer Capabilities\n */\nLayer.CAPABILITIES = {\n  QUERYABLE: 1,\n  FILTERABLE: 2,\n  EDITABLE: 4\n};\n\n/**\n * Editing types \n */\nLayer.EDITOPS = {\n  INSERT: 1,\n  UPDATE: 2,\n  DELETE: 4\n};\n\n/**\n * Selection state \n */\nLayer.SELECTION_STATE = {\n  ALL: '__ALL__',\n  EXCLUDE: '__EXCLUDE__'\n};\n\nmodule.exports = Layer;\n\n},{\"app/constant\":4,\"core/g3wobject\":12,\"core/i18n/i18n.service\":13,\"core/layers/providers/providersfactory\":51,\"core/relations/relations\":63,\"core/utils/geo\":64,\"core/utils/utils\":68,\"services/application\":351,\"services/data\":358,\"store/application-state\":373,\"store/projects\":379}],35:[function(require,module,exports){\nvar Layer = require('core/layers/layer');\nvar TableLayer = require('core/layers/tablelayer');\nvar VectorLayer = require('core/layers/vectorlayer');\nvar ImageLayer = require('core/layers/imagelayer');\nvar BaseLayers = require('core/layers/baselayers/baselayers');\nvar GeojsonLayer = require('core/layers/geojson');\n\n// Class to build layer based on configuration\nfunction LayerFactory() {\n  this.build = function (config, options) {\n    // return the layer instance\n    var layerClass = this.get(config);\n    return layerClass ? new layerClass(config, options) : null;\n  };\n\n  this.get = function () {\n    var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    var LayerClass = void 0;\n    var serverType = config.servertype;\n    switch (serverType) {\n      case Layer.ServerTypes.QGIS:\n        if (config.source) {\n          if (config.geometrytype) {\n            if ([Layer.SourceTypes.VIRTUAL, Layer.SourceTypes.POSTGIS, Layer.SourceTypes.MSSQL, Layer.SourceTypes.SPATIALITE, Layer.SourceTypes.WFS, Layer.SourceTypes.CSV, Layer.SourceTypes.ORACLE, Layer.SourceTypes.OGR, Layer.SourceTypes.MDAL].find(function (sourcetype) {\n              return sourcetype === config.source.type;\n            })) {\n              if (config.geometrytype && config.geometrytype === 'NoGeometry') LayerClass = TableLayer;else LayerClass = ImageLayer;\n            }\n          } else if ([// here set new layer has to be threat as wms\n          Layer.SourceTypes.WMST, Layer.SourceTypes.WCS, Layer.SourceTypes.WMS, Layer.SourceTypes.GDAL, Layer.SourceTypes.VECTORTILE, Layer.SourceTypes[\"VECTOR-TILE\"], Layer.SourceTypes.MDAL].find(function (sourcetype) {\n            return sourcetype === config.source.type;\n          })) LayerClass = ImageLayer;\n        }\n        break;\n      case Layer.ServerTypes.OGC:\n        if (config.source) {\n          var type = config.source.type;\n          switch (type) {\n            case Layer.SourceTypes.WMS:\n              LayerClass = ImageLayer;\n              break;\n            case Layer.SourceTypes.WFS:\n              LayerClass = VectorLayer;\n          }\n        }\n        break;\n      case Layer.ServerTypes.LOCAL:\n        LayerClass = VectorLayer;\n        break;\n      case Layer.ServerTypes.OSM:\n      case Layer.ServerTypes.BING:\n      case Layer.ServerTypes.TMS:\n      case Layer.ServerTypes.WMS:\n      case Layer.ServerTypes.WMTS:\n      case Layer.ServerTypes.ARCGISMAPSERVER:\n        LayerClass = BaseLayers[serverType];\n        break;\n      case Layer.ServerTypes.G3WSUITE:\n        LayerClass = VectorLayer;\n        if (config.source) {\n          switch (config.source.type) {\n            case 'geojson':\n              LayerClass = GeojsonLayer;\n              break;\n          }\n        }\n        break;\n    }\n    return LayerClass;\n  };\n}\n\nmodule.exports = new LayerFactory();\n\n},{\"core/layers/baselayers/baselayers\":20,\"core/layers/geojson\":31,\"core/layers/imagelayer\":33,\"core/layers/layer\":34,\"core/layers/tablelayer\":56,\"core/layers/vectorlayer\":57}],36:[function(require,module,exports){\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit,\n    uniqueId = _require.uniqueId;\n\nvar G3WObject = require('core/g3wobject');\n\n// Interface for Layers\nfunction LayersStore() {\n  var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  this.config = {\n    id: config.id || Date.now(),\n    projection: config.projection,\n    extent: config.extent,\n    initextent: config.initextent,\n    wmsUrl: config.wmsUrl,\n    //set catalogable property\n    catalog: _.isBoolean(config.catalog) ? config.catalog : true\n  };\n  this.state = {\n    //useful to build layerstree\n    layerstree: [],\n    relations: null // useful to build tree of relations\n  };\n  this._isQueryable = _.isBoolean(config.queryable) ? config.queryable : true;\n  this._layers = this.config.layers || {};\n  this.setters = {\n    setLayerSelection: function setLayerSelection(_ref) {\n      var layerId = _ref.layerId,\n          selection = _ref.selection;\n\n      var layer = this.getLayerById(layerId);\n    },\n    setLayerSelected: function setLayerSelected(layerId, selected) {\n      this.getLayers().forEach(function (layer) {\n        return layer.state.selected = layerId === layer.getId() ? selected : false;\n      });\n    },\n    addLayers: function addLayers(layers) {\n      var _this = this;\n\n      layers.forEach(function (layer) {\n        return _this.addLayer(layer);\n      });\n    },\n    addLayer: function addLayer(layer) {\n      this._addLayer(layer);\n    },\n    removeLayer: function removeLayer(layerId) {\n      this._removeLayer(layerId);\n    }\n  };\n\n  base(this);\n}\n\ninherit(LayersStore, G3WObject);\n\nvar proto = LayersStore.prototype;\n\nproto.isQueryable = function () {\n  return this._isQueryable;\n};\n\nproto.setQueryable = function (bool) {\n  this._isQueryable = !!bool;\n};\n\nproto.showOnCatalog = function () {\n  return this.config.catalog;\n};\n\nproto.setOptions = function (config) {\n  this.config = config;\n};\n\nproto.getId = function () {\n  return this.config.id;\n};\n\nproto._addLayer = function (layer) {\n  this._layers[layer.getId()] = layer;\n};\n\nproto._removeLayer = function (layer) {\n  var layerId = layer.getId();\n  delete this._layers[layerId];\n};\n\nproto.removeLayers = function () {\n  var _this2 = this;\n\n  Object.entries(this._layers).forEach(function (_ref2) {\n    var _ref3 = _slicedToArray(_ref2, 2),\n        layerId = _ref3[0],\n        layer = _ref3[1];\n\n    _this2.removeLayer(layer);\n  });\n};\n\nproto.getLayersDict = function () {\n  var filter = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  // in case  we pass filter = null\n  if (!filter) return this._layers;\n  var PRINTABLE = filter.PRINTABLE,\n      QUERYABLE = filter.QUERYABLE,\n      FILTERABLE = filter.FILTERABLE,\n      EDITABLE = filter.EDITABLE,\n      VISIBLE = filter.VISIBLE,\n      SELECTED = filter.SELECTED,\n      CACHED = filter.CACHED,\n      SELECTED_OR_ALL = filter.SELECTED_OR_ALL,\n      SERVERTYPE = filter.SERVERTYPE,\n      BASELAYER = filter.BASELAYER,\n      GEOLAYER = filter.GEOLAYER,\n      VECTORLAYER = filter.VECTORLAYER,\n      HIDDEN = filter.HIDDEN,\n      DISABLED = filter.DISABLED,\n      IDS = filter.IDS;\n\n  // if filter is passed\n\n  if (_.isUndefined(QUERYABLE) && _.isUndefined(FILTERABLE) && _.isUndefined(EDITABLE) && _.isUndefined(VISIBLE) && _.isUndefined(SERVERTYPE) && _.isUndefined(CACHED) && _.isUndefined(SELECTED_OR_ALL) && _.isUndefined(SERVERTYPE) && _.isUndefined(GEOLAYER) && _.isUndefined(HIDDEN) && _.isUndefined(DISABLED) && _.isUndefined(BASELAYER) && _.isUndefined(VECTORLAYER) && _.isUndefined(PRINTABLE) && _.isUndefined(IDS)) return this._layers;\n\n  var layers = [];\n\n  for (var key in this._layers) {\n    layers.push(this._layers[key]);\n  }\n\n  if (IDS) {\n    var ids = Array.isArray(IDS) ? IDS : [IDS];\n    layers = layers.filter(function (layer) {\n      return ids.indexOf(layer.getId()) !== -1;\n    });\n  }\n\n  // return only selected if some one are selected\n  if (SELECTED_OR_ALL) {\n    var _layers = layers;\n    layers = layers.filter(function (layer) {\n      return layer.isSelected();\n    });\n    layers = layers.length ? layers : _layers;\n  }\n\n  if ('boolean' === typeof SELECTED && !SELECTED_OR_ALL) layers = layers.filter(function (layer) {\n    return SELECTED === layer.isSelected();\n  });\n\n  if ('boolean' === typeof QUERYABLE) layers = layers.filter(function (layer) {\n    return QUERYABLE === layer.isQueryable();\n  });\n  if ('boolean' === typeof FILTERABLE) layers = layers.filter(function (layer) {\n    return FILTERABLE === layer.isFilterable(options.filtrable || null);\n  });\n  if ('boolean' === typeof EDITABLE) layers = layers.filter(function (layer) {\n    return EDITABLE === layer.isEditable();\n  });\n  if ('boolean' === typeof VISIBLE) layers = layers.filter(function (layer) {\n    return VISIBLE === layer.isVisible();\n  });\n  if ('boolean' === typeof CACHED) layers = layers.filter(function (layer) {\n    return CACHED === layer.isCached();\n  });\n  if ('boolean' === typeof BASELAYER) layers = layers.filter(function (layer) {\n    return BASELAYER === layer.isBaseLayer();\n  });\n  if ('boolean' === typeof GEOLAYER) layers = layers.filter(function (layer) {\n    return GEOLAYER === layer.state.geolayer;\n  });\n  if ('boolean' === typeof VECTORLAYER) layers = layers.filter(function (layer) {\n    return VECTORLAYER === layer.isType('vector');\n  });\n  if ('boolean' === typeof HIDDEN) layers = layers.filter(function (layer) {\n    return HIDDEN == layer.isHidden();\n  });\n  if ('boolean' === typeof DISABLED) layers = layers.filter(function (layer) {\n    return DISABLED === layer.isDisabled();\n  });\n\n  if ('string' === typeof SERVERTYPE && '' !== SERVERTYPE) layers = layers.filter(function (layer) {\n    return SERVERTYPE === layer.getServerType();\n  });\n\n  if (PRINTABLE) layers = layers.filter(function (layer) {\n    return layer.state.geolayer && layer.isPrintable({ scale: PRINTABLE.scale });\n  });\n\n  return layers;\n};\n\n// return layers array\nproto.getLayers = function () {\n  var filter = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  return Object.values(this.getLayersDict(filter, options));\n};\n\nproto.getBaseLayers = function () {\n  return this.getLayersDict({\n    BASELAYER: true\n  });\n};\n\nproto.getLayerById = function (layerId) {\n  return this.getLayersDict()[layerId];\n};\n\nproto.getLayerByName = function (name) {\n  return this._layers.find(function (layer) {\n    return layer.getName() === name;\n  });\n};\n\nproto.getLayerAttributes = function (layerId) {\n  return this.getLayerById(layerId).getAttributes();\n};\n\nproto.getLayerAttributeLabel = function (layerId, name) {\n  return this.getLayerById(layerId).getAttributeLabel(name);\n};\n\nproto.getGeoLayers = function () {\n  return this.getLayers({\n    GEOLAYER: true\n  });\n};\n\nproto._getAllSiblingsChildrenLayersId = function (layerstree) {\n  var nodeIds = [];\n  var traverse = function traverse(layerstree) {\n    layerstree.nodes.forEach(function (node) {\n      if (node.id) nodeIds.push(node.id);else traverse(node);\n    });\n  };\n  traverse(layerstree);\n  return nodeIds;\n};\n\nproto._getAllParentLayersId = function (layerstree, node) {\n  var nodeIds = [];\n  var traverse = function traverse(layerstree) {\n    layerstree.nodes.forEach(function (node) {\n      if (node.id) nodeIds.push(node.id);\n      //else traverse(node);\n    });\n  };\n\n  traverse({\n    nodes: layerstree.nodes.filter(function (_node) {\n      return _node !== node;\n    })\n  });\n\n  return nodeIds;\n};\n\nproto.selectLayer = function (layerId, selected) {\n  this.setLayerSelected(layerId, selected);\n};\n\nproto.getProjection = function () {\n  return this.config.projection;\n};\n\nproto.getExtent = function () {\n  return this.config.extent;\n};\n\nproto.getInitExtent = function () {\n  return this.config.initextent;\n};\n\nproto.getWmsUrl = function () {\n  return this.config.wmsUrl;\n};\n\nproto.removeLayersTree = function () {\n  this.state.layerstree.splice(0, this.state.layerstree.length);\n};\n\nproto.getLayersTree = function () {\n  return this.state.layerstree;\n};\n\n/**\n * Set layersstree of layers inside the layersstore\n *\n * @param {unknown[]} layerstree nodes\n * @param {string}    name\n * @param {boolean}   [expanded = true]\n */\nproto.setLayersTree = function () {\n  var layerstree = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n  var name = arguments[1];\n  var expanded = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;\n\n  var _getInitExtent = this.getInitExtent(),\n      _getInitExtent2 = _slicedToArray(_getInitExtent, 4),\n      minx = _getInitExtent2[0],\n      miny = _getInitExtent2[1],\n      maxx = _getInitExtent2[2],\n      maxy = _getInitExtent2[3];\n\n  // Root group project that contain all layerstree of qgis project\n\n\n  var rootGroup = {\n    title: name || this.config.id,\n    root: true,\n    parentGroup: null,\n    expanded: expanded,\n    disabled: false,\n    checked: true,\n    /**\n     * @since 3.8.0\n     */\n    bbox: { minx: minx, miny: miny, maxx: maxx, maxy: maxy },\n    nodes: layerstree\n  };\n\n  if (layerstree.length) {\n    this._traverseLayersTree(layerstree, rootGroup);\n    this.state.layerstree.splice(0, 0, rootGroup); // at the end\n  }\n};\n\n/**\n * Used by external plugins to build layerstree\n *\n * @param {string}  groupName is a ProjectName\n * @param {unknown} [options.layerstree = null ]\n * @param {boolean} [options.expanded   = false]\n * @param {boolean} [options.full       = false]\n */\nproto.createLayersTree = function (groupName) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {\n    layerstree: null,\n    expanded: false,\n    full: false\n  };\n\n\n  var layerstree = [];\n\n  // return layerstree from server project config (when setted)\n  if (options.layerstree && true === options.full) {\n    return this.state.layerstree;\n  }\n\n  // compare all layer ids from server config with all layer nodes on layerstree server property\n  if (options.layerstree && true !== options.full) {\n    var tocLayersId = this.getLayers({ BASELAYER: false }).map(function (layer) {\n      return layer.getId();\n    });\n    this._traverseLightLayersTree(options.layerstree, layerstree, tocLayersId);\n  }\n\n  // retrieve all project layers that have geometry\n  if (!options.layerstree) {\n    layerstree = this.getGeoLayers().map(function (layer) {\n      return {\n        id: layer.getId(),\n        name: layer.getName(),\n        title: layer.getTitle(),\n        visible: layer.isVisible() || false\n      };\n    });\n  }\n\n  // setLayerstree\n  this.setLayersTree(layerstree, groupName, options.expanded);\n};\n\n/**\n * @since 3.8.0\n */\nproto._traverseLightLayersTree = function (nodes, layerstree, tocLayersId) {\n  var _this3 = this;\n\n  nodes.forEach(function (node) {\n    var lightlayer = null;\n\n    // case TOC has layer ID\n    if (null !== node.id && \"undefined\" !== typeof node.id && tocLayersId.find(function (id) {\n      return id === node.id;\n    })) {\n      lightlayer = _extends({}, lightlayer, node);\n    }\n\n    // case group\n    if (null !== node.nodes && \"undefined\" !== typeof node.nodes) {\n      lightlayer = _extends({}, lightlayer, {\n        title: node.name,\n        groupId: uniqueId(),\n        root: false,\n        nodes: [],\n        checked: node.checked,\n        mutually_exclusive: node[\"mutually-exclusive\"]\n      });\n      _this3._traverseLightLayersTree(node.nodes, lightlayer.nodes, tocLayersId); // recursion step\n    }\n\n    // check if lightlayer is not null\n    if (null !== lightlayer) {\n      lightlayer.expanded = node.expanded; // expand legend item (TOC)\n      layerstree.push(lightlayer);\n    }\n  });\n};\n\n/**\n * @since 3.8.0\n */\nproto._traverseLayersTree = function (nodes, parentGroup) {\n  var _this4 = this;\n\n  nodes.forEach(function (node, index) {\n    // substitute node layer with layer state\n    if (\"undefined\" !== typeof node.id) {\n      nodes[index] = _this4.getLayerById(node.id).getState();\n    }\n    // case of layer substitute node with layer state\n    if (\"undefined\" !== typeof node.id) {\n      nodes[index] = _this4.getLayerById(node.id).getState();\n      // pass bbox and epsg of layer\n      if (\"undefined\" !== typeof nodes[index].bbox) {\n        _this4._setLayersTreeGroupBBox(parentGroup, { bbox: nodes[index].bbox, epsg: nodes[index].epsg });\n      }\n    }\n    if (Array.isArray(node.nodes)) {\n      node.nodes.forEach(function (node) {\n        return node.parentGroup = parentGroup;\n      });\n      _this4._traverseLayersTree(node.nodes, node);\n    }\n    //SET PARENT GROUP\n    nodes[index].parentGroup = parentGroup;\n  });\n};\n\n/**\n * @since 3.8.0\n */\nproto._setLayersTreeGroupBBox = function (group) {\n  var _ref4 = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n      bbox = _ref4.bbox,\n      epsg = _ref4.epsg;\n\n  var project_epsg = this.getProjection().getCode();\n\n  // translate bbox epsg to project epsg code (when they differ)\n  if (epsg !== project_epsg) {\n    var _ol$proj$transformExt = ol.proj.transformExtent([bbox.minx, bbox.miny, bbox.maxx, bbox.maxy], epsg, project_epsg),\n        _ol$proj$transformExt2 = _slicedToArray(_ol$proj$transformExt, 4),\n        minx = _ol$proj$transformExt2[0],\n        miny = _ol$proj$transformExt2[1],\n        maxx = _ol$proj$transformExt2[2],\n        maxy = _ol$proj$transformExt2[3];\n\n    bbox = { minx: minx, miny: miny, maxx: maxx, maxy: maxy };\n  }\n\n  // get current bbox or compute bbox from ol extent\n  if (undefined === group.bbox) {\n    group.bbox = bbox;\n  } else {\n    group.bbox = ol.extent.extend([group.bbox.minx, group.bbox.miny, group.bbox.maxx, group.bbox.maxy], [bbox.minx, bbox.miny, bbox.maxx, bbox.maxy]).reduce(function (bbox, extentCoordinate, index) {\n      switch (index) {\n        case 0:\n          bbox.minx = extentCoordinate;break;\n        case 1:\n          bbox.miny = extentCoordinate;break;\n        case 2:\n          bbox.maxx = extentCoordinate;break;\n        case 3:\n          bbox.maxy = extentCoordinate;break;\n      }\n      return bbox;\n    }, { minxx: null, miny: null, maxx: null, maxy: null });\n  }\n\n  // Recursion\n  if (group.parentGroup && false === group.parentGroup.root) {\n    this._setLayersTreeGroupBBox(group.parentGroup, { bbox: group.bbox, epsg: project_epsg });\n  }\n};\n\nmodule.exports = LayersStore;\n\n},{\"core/g3wobject\":12,\"core/utils/utils\":68}],37:[function(require,module,exports){\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit;\n\nvar G3WObject = require('core/g3wobject');\n\n// Registy Layers\nfunction LayersStoresRegistry() {\n  this.stores = {};\n  this.storesArray = [];\n  // to react some application components that are binding to Layerstore\n  this.setters = {\n    addLayersStore: function addLayersStore(layersStore, idx) {\n      this._addLayersStore(layersStore, idx);\n    },\n    removeLayersStore: function removeLayersStore(layerStore) {\n      this._removeLayersStore(layerStore);\n    },\n    removeLayersStores: function removeLayersStores() {\n      this._removeLayersStores();\n    }\n  };\n\n  base(this);\n}\n\ninherit(LayersStoresRegistry, G3WObject);\n\nvar proto = LayersStoresRegistry.prototype;\n\nproto.getLayerById = function (layerId) {\n  var layer = void 0;\n  for (var storeId in this.stores) {\n    var layerStore = this.stores[storeId];\n    layer = layerStore.getLayerById(layerId);\n    if (layer) break;\n  }\n  return layer;\n};\n\nproto.getLayers = function (filter) {\n  var layers = [];\n  Object.entries(this.stores).forEach(function (_ref) {\n    var _ref2 = _slicedToArray(_ref, 2),\n        storeId = _ref2[0],\n        layersStore = _ref2[1];\n\n    layers = layers.concat(layersStore.getLayers(filter));\n  });\n  return layers;\n};\n\nproto.getQuerableLayersStores = function () {\n  return this.getLayersStores().filter(function (layersStore) {\n    return layersStore.isQueryable();\n  });\n};\n\nproto.getLayersStore = function (id) {\n  return this.stores[id];\n};\n\nproto.getLayersStores = function () {\n  var _this = this;\n\n  var stores = [];\n  this.storesArray.forEach(function (storeId) {\n    stores.push(_this.stores[storeId]);\n  });\n  return stores;\n};\n\nproto._addLayersStore = function (layersStore, idx) {\n  var storeId = layersStore.getId();\n  this.stores[storeId] = layersStore;\n  if (!_.isNil(idx)) this.storesArray.splice(idx, 0, storeId);else this.storesArray.push(storeId);\n};\n\nproto._removeLayersStore = function (layerStore) {\n  if (layerStore) {\n    var storeId = layerStore.getId();\n    this.storesArray = this.storesArray.filter(function (_storeId) {\n      return _storeId != storeId;\n    });\n    delete this.stores[storeId];\n  }\n};\n\nproto._removeLayersStores = function () {\n  this.storesArray = [];\n  this.stores = {};\n};\n\nmodule.exports = LayersStoresRegistry;\n\n},{\"core/g3wobject\":12,\"core/utils/utils\":68}],38:[function(require,module,exports){\nfunction ARGISMAPSERVERLegend(_ref) {\n  var layer = _ref.layer,\n      params = _ref.params;\n  var _layer$getConfig$sour = layer.getConfig().source,\n      url = _layer$getConfig$sour.url,\n      layername = _layer$getConfig$sour.layer;\n\n  var serviceUrl = url.replace('/rest/', '/');\n  return serviceUrl + '/WMSServer?request=GetLegendGraphic&version=1.3.0&format=image/png&LAYER=' + layername;\n};\n\nmodule.exports = ARGISMAPSERVERLegend;\n\n},{}],39:[function(require,module,exports){\nvar TYPES = {\n  'wms': require('./wmslegend'),\n  'arcgismapserver': require('./arcgismapserverlegend')\n};\n\nvar Legendservice = {\n  get: function get() {\n    var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        layer = _ref.layer,\n        params = _ref.params,\n        _ref$options = _ref.options,\n        options = _ref$options === undefined ? {} : _ref$options;\n\n    var type = layer.isArcgisMapserver() ? 'arcgismapserver' : 'wms';\n    return TYPES[type]({\n      layer: layer,\n      params: params,\n      options: options\n    });\n  }\n};\n\nmodule.exports = Legendservice;\n\n},{\"./arcgismapserverlegend\":38,\"./wmslegend\":40}],40:[function(require,module,exports){\nvar _projects = require('store/projects');\n\nvar _projects2 = _interopRequireDefault(_projects);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar _require = require('core/utils/geo'),\n    get_LEGEND_ON_LEGEND_OFF_Params = _require.get_LEGEND_ON_LEGEND_OFF_Params;\n\nfunction WMSLegend(_ref) {\n  var layer = _ref.layer,\n      params = _ref.params,\n      _ref$options = _ref.options,\n      options = _ref$options === undefined ? {} : _ref$options;\n  var width = params.width,\n      height = params.height,\n      _params$color = params.color,\n      color = _params$color === undefined ? \"white\" : _params$color,\n      _params$fontsize = params.fontsize,\n      fontsize = _params$fontsize === undefined ? 10 : _params$fontsize,\n      _params$transparent = params.transparent,\n      transparent = _params$transparent === undefined ? true : _params$transparent,\n      boxspace = params.boxspace,\n      layerspace = params.layerspace,\n      _params$layertitle = params.layertitle,\n      layertitle = _params$layertitle === undefined ? true : _params$layertitle,\n      layertitlespace = params.layertitlespace,\n      symbolspace = params.symbolspace,\n      iconlabelspace = params.iconlabelspace,\n      symbolwidth = params.symbolwidth,\n      symbolheight = params.symbolheight,\n      itemfontfamily = params.itemfontfamily,\n      layerfontfamily = params.layerfontfamily,\n      layerfontbold = params.layerfontbold,\n      itemfontbold = params.itemfontbold,\n      layerfontitalic = params.layerfontitalic,\n      itemfontitalic = params.itemfontitalic,\n      rulelabel = params.rulelabel,\n      crs = params.crs,\n      bbox = params.bbox,\n      _params$sld_version = params.sld_version,\n      sld_version = _params$sld_version === undefined ? '1.1.0' : _params$sld_version;\n  var _options$categories = options.categories,\n      categories = _options$categories === undefined ? false : _options$categories,\n      _options$all = options.all,\n      all = _options$all === undefined ? false : _options$all,\n      _options$format = options.format,\n      format = _options$format === undefined ? 'image/png' : _options$format;\n\n\n  var LAYER = layer.getWMSLayerName({ type: 'legend' });\n  var FORMAT = format;\n  var STYLES = void 0,\n      LEGEND_ON = void 0,\n      LEGEND_OFF = void 0,\n      url = layer.getWmsUrl({ type: 'legend' });\n\n  if (all) {\n    // all=true means no filter parameters as BBOX\n    bbox = null;\n  }\n\n  if (categories && 'application/json' === FORMAT) {\n    symbolwidth = symbolheight = 16; //set 16 for symbol of chart or other legend symbol\n    STYLES = encodeURIComponent(layer.getCurrentStyle().name);\n  }\n\n  // in case of GetLegendGraphic of format `application/json`\n  // LEGEND_ON and LEGEND_OFF need to be undefined because\n  // it create some strange behaviour on WMS `getMap` when\n  // switching between layer styles\n  if (categories && (_projects2.default.getCurrentProject().getContextBaseLegend() || 'image/png' === FORMAT)) {\n    var _get_LEGEND_ON_LEGEND = get_LEGEND_ON_LEGEND_OFF_Params(layer);\n\n    LEGEND_ON = _get_LEGEND_ON_LEGEND.LEGEND_ON;\n    LEGEND_OFF = _get_LEGEND_ON_LEGEND.LEGEND_OFF;\n  }\n\n  return ['' + url + (url.indexOf('?') > -1 ? '&' : '?') + 'SERVICE=WMS&VERSION=1.3.0&REQUEST=GetLegendGraphic&SLD_VERSION=' + sld_version, '' + (width ? '&WIDTH=' + width : ''), '' + (height ? '&HEIGHT=' + height : ''), '&FORMAT=' + FORMAT, '&TRANSPARENT=' + transparent, '&ITEMFONTCOLOR=' + color, '&LAYERFONTCOLOR=' + color, '&LAYERTITLE=' + layertitle, '&ITEMFONTSIZE=' + fontsize, '' + (crs ? '&CRS=' + crs : ''), '' + (bbox ? '&BBOX=' + bbox.join(',') : ''), '' + (boxspace ? '&BOXSPACE=' + boxspace : ''), '' + (layerspace ? '&LAYERSPACE=' + layerspace : ''), '' + (layertitlespace ? '&LAYERTITLESPACE=' + layertitlespace : ''), '' + (symbolspace ? '&SYMBOLSPACE=' + symbolspace : ''), '' + (iconlabelspace ? '&ICONLABELSPACE=' + iconlabelspace : ''), '' + (symbolwidth ? '&SYMBOLWIDTH=' + symbolwidth : ''), '' + (symbolheight ? '&SYMBOLHEIGHT=' + symbolheight : ''), '' + (layerfontfamily ? '&LAYERFONTFAMILY=' + layerfontfamily : ''), '' + (itemfontfamily ? '&ITEMFONTFAMILY=' + itemfontfamily : ''), '' + (layerfontbold ? '&LAYERFONTBOLD=' + layerfontbold : ''), '' + (itemfontbold ? '&ITEMFONTBOLD=' + itemfontbold : ''), '' + (layerfontitalic ? '&LAYERFONTITALIC=' + layerfontitalic : ''), '' + (itemfontitalic ? '&ITEMFONTITALIC=' + itemfontitalic : ''), '' + (rulelabel ? '&RULELABEL=' + rulelabel : ''), '' + (LEGEND_ON ? '&LEGEND_ON=' + LEGEND_ON : ''), '' + (LEGEND_OFF ? '&LEGEND_OFF=' + LEGEND_OFF : ''), '' + (STYLES ? '&STYLES=' + STYLES : ''), '&LAYER=' + LAYER].join('');\n}\n\nmodule.exports = WMSLegend;\n\n},{\"core/utils/geo\":64,\"store/projects\":379}],41:[function(require,module,exports){\nvar _require = require('core/utils/utils'),\n    inherit = _require.inherit,\n    base = _require.base;\n\nvar WMSLAYER = require('core/layers/map/wmslayer');\nvar RasterLayers = require('g3w-ol/layers/rasters');\n\nfunction ARCGISMAPSERVERLayer() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var extraParams = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  base(this, options, extraParams);\n}\n\ninherit(ARCGISMAPSERVERLayer, WMSLAYER);\n\nvar proto = ARCGISMAPSERVERLayer.prototype;\n\nproto._makeOlLayer = function () {\n  var _this = this;\n\n  var config = {\n    url: this.config.url,\n    id: this.config.id,\n    projection: this.config.projection,\n    format: this.config.format\n  };\n  var olLayer = new RasterLayers.TiledArgisMapServer(config);\n  olLayer.getSource().on('imageloadstart', function () {\n    _this.emit(\"loadstart\");\n  });\n  olLayer.getSource().on('imageloadend', function () {\n    _this.emit(\"loadend\");\n  });\n\n  olLayer.getSource().on('imageloaderror', function () {\n    _this.emit(\"loaderror\");\n  });\n  return olLayer;\n};\n\nmodule.exports = ARCGISMAPSERVERLayer;\n\n},{\"core/layers/map/wmslayer\":45,\"core/utils/utils\":68,\"g3w-ol/layers/rasters\":108}],42:[function(require,module,exports){\nvar _require = require('core/utils/utils'),\n    inherit = _require.inherit,\n    base = _require.base;\n\nvar VectorLayer = require('core/layers/map/vectorlayer');\n\nfunction GeojsonLayer() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  var provider = options.provider;\n  this.setProvider(provider);\n  base(this, options);\n  this.getFeatures({\n    url: options.url,\n    mapProjection: this.mapProjection\n  });\n}\n\ninherit(GeojsonLayer, VectorLayer);\n\nmodule.exports = GeojsonLayer;\n\n},{\"core/layers/map/vectorlayer\":44,\"core/utils/utils\":68}],43:[function(require,module,exports){\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit;\n\nvar G3WObject = require('core/g3wobject');\n\nfunction MapLayer() {\n  var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  this.config = config;\n  this.id = config.id;\n  this.iframe_internal = config.iframe_internal || false;\n  this.extent = config.extent;\n  this.projection = config.projection;\n  this.layer = null;\n  this.layers = config.layers || []; // store all enabled layers\n  this.allLayers = []; // store all layers\n  this.showSpinnerWhenLoading = true;\n  base(this);\n}\n\ninherit(MapLayer, G3WObject);\n\nvar proto = MapLayer.prototype;\n\nproto.getId = function () {\n  return this.id;\n};\n\nproto.getOLLayer = function () {\n  console.log('every sub classes has to be override');\n};\n\nproto.update = function () {\n  var mapState = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var extraParams = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  this._updateLayers(mapState, extraParams);\n};\n\nproto.checkLayerDisabled = function (layer, resolution, mapUnits) {\n  layer.setDisabled(resolution, mapUnits);\n  return layer.isDisabled();\n};\n\n// check which layers has to be disabled\nproto.checkLayersDisabled = function (resolution, mapUnits) {\n  var _this = this;\n\n  this.allLayers.forEach(function (layer) {\n    return _this.checkLayerDisabled(layer, resolution, mapUnits);\n  });\n};\n\nproto.setupCustomMapParamsToLegendUrl = function () {\n  //to owerwrite for each map layer subclass\n\n  var params = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n};\n\nmodule.exports = MapLayer;\n\n},{\"core/g3wobject\":12,\"core/utils/utils\":68}],44:[function(require,module,exports){\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar _require = require('core/utils/utils'),\n    inherit = _require.inherit;\n\nvar _require2 = require('core/utils/geo'),\n    createOlLayer = _require2.createOlLayer,\n    createLayerStyle = _require2.createLayerStyle;\n\nvar G3WObject = require('core/g3wobject');\n\nfunction VectorLayer() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  this.mapService = _gui2.default.getComponent('map').getService();\n  this.geometrytype = options.geometrytype || null;\n  this.type = options.type || null;\n  this.crs = options.crs || null;\n  this.id = options.id;\n  this.name = options.name || \"\";\n  this.style = options.style;\n  this.color = options.color;\n  this.geometryType = options.geometryType;\n  this.mapProjection = this.mapService.getProjection().getCode();\n  this.projection = options.projection || this.mapProjection;\n  this.url = options.url;\n  this.provider = options.provider;\n  this._features = options.features || [];\n  this._olLayer = options.olLayer || this.getOLLayer();\n}\n\ninherit(VectorLayer, G3WObject);\n\nmodule.exports = VectorLayer;\n\nvar proto = VectorLayer.prototype;\n\nproto.setProvider = function (provider) {\n  this._provider = provider;\n};\n\nproto.getProvider = function () {\n  return this._provider;\n};\n\nproto.resetSource = function () {\n  var features = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n  var source = new ol.source.Vector({\n    features: features\n  });\n  this.setSource(source);\n};\n\nproto._makeOlLayer = function () {\n  var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      style = _ref.style;\n\n  var _style = this._makeStyle(style);\n  this._olLayer = new ol.layer.Vector({\n    name: this.name,\n    id: this.id,\n    style: _style,\n    source: new ol.source.Vector({})\n  });\n};\n\nproto._makeStyle = function (styleConfig) {\n  var style = void 0;\n  var styles = {};\n  if (styleConfig) {\n    Object.entries(styleConfig).forEach(function (_ref2) {\n      var _ref3 = _slicedToArray(_ref2, 2),\n          type = _ref3[0],\n          config = _ref3[1];\n\n      switch (type) {\n        case 'point':\n          if (config.icon) {\n            styles.image = new ol.style.Icon({\n              src: config.icon.url,\n              imageSize: config.icon.width\n            });\n          }\n          break;\n        case 'line':\n          styles.stroke = new ol.style.Stroke({\n            color: config.color,\n            width: config.width\n          });\n          break;\n        case 'polygon':\n          styles.fill = new ol.style.Fill({\n            color: config.color\n          });\n          break;\n      }\n    });\n    style = new ol.style.Style(styles);\n  }\n  return style;\n};\n\nproto.getFeatures = function () {\n  var _this = this;\n\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  var d = $.Deferred();\n  this.provider.getFeatures(options).then(function (features) {\n    _this.addFeatures(features);\n    d.resolve(features);\n  }).fail(function (err) {\n    return d.reject(err);\n  });\n  return d.promise();\n};\n\nproto.addFeatures = function () {\n  var features = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n  this.getSource().addFeatures(features);\n};\n\nproto.addFeature = function (feature) {\n  feature && this.getSource().addFeature(feature);\n};\n\nproto.getOLLayer = function () {\n  if (this._olLayer) return this._olLayer;else {\n    var id = this.id;\n    var geometryType = this.geometryType;\n    var color = this.color;\n    var style = this.style ? createLayerStyle(this.style) : null;\n    this._olLayer = createOlLayer({\n      id: id,\n      geometryType: geometryType,\n      color: color,\n      style: style,\n      features: this._features\n    });\n  }\n  return this._olLayer;\n};\n\nproto.setOLLayer = function (olLayer) {\n  this._olLayer = olLayer;\n};\n\nproto.getSource = function () {\n  !this._olLayer && this.getOLLayer();\n  return this._olLayer.getSource();\n};\n\nproto.setSource = function (source) {\n  this._olLayer.setSource(source);\n};\n\nproto.setStyle = function (style) {\n  this._olLayer.setStyle(style);\n};\n\nproto.getFeatureById = function (fid) {\n  return fid ? this._olLayer.getSource().getFeatureById(fid) : null;\n};\n\nproto.isVisible = function () {\n  return this._olLayer.getVisible();\n};\n\nproto.setVisible = function (bool) {\n  this._olLayer.setVisible(bool);\n};\n\nproto.clear = function () {\n  this.getSource().clear();\n};\n\nproto.addToMap = function (map) {\n  map.addLayer(this._olLayer);\n};\n\n},{\"core/g3wobject\":12,\"core/utils/geo\":64,\"core/utils/utils\":68,\"services/gui\":361}],45:[function(require,module,exports){\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _applicationState = require('store/application-state');\n\nvar _applicationState2 = _interopRequireDefault(_applicationState);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit;\n\nvar MapLayer = require('core/layers/map/maplayer');\nvar RasterLayers = require('g3w-ol/layers/rasters');\n\nfunction WMSLayer() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var extraParams = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var method = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 'GET';\n\n  this.LAYERTYPE = {\n    LAYER: 'layer',\n    MULTILAYER: 'multilayer'\n  };\n  this.extraParams = extraParams;\n  this._method = method;\n  base(this, options);\n}\n\ninherit(WMSLayer, MapLayer);\n\nvar proto = WMSLayer.prototype;\n\nproto.getOLLayer = function (withLayers) {\n  if (!this._olLayer) this._olLayer = this._makeOlLayer(withLayers);\n  return this._olLayer;\n};\n\nproto.getSource = function () {\n  return this.getOLLayer().getSource();\n};\n\nproto.getInfoFormat = function () {\n  return 'application/vnd.ogc.gml';\n};\n\nproto.getGetFeatureInfoUrl = function (coordinate, resolution, epsg, params) {\n  return this.getOLLayer().getSource().getGetFeatureInfoUrl(coordinate, resolution, epsg, params);\n};\n\nproto.getLayerConfigs = function () {\n  return this.layers;\n};\n\nproto.addLayer = function (layer) {\n  if (!this.allLayers.find(function (_layer) {\n    return layer === _layer;\n  })) this.allLayers.push(layer);\n  if (!this.layers.find(function (_layer) {\n    return layer === _layer;\n  })) this.layers.push(layer);\n};\n\nproto.removeLayer = function (layer) {\n  this.layers = this.layers.filter(function (_layer) {\n    return layer !== _layer;\n  });\n};\n\nproto.isVisible = function () {\n  return this._getVisibleLayers().length > 0;\n};\n\nproto.getQueryUrl = function () {\n  var layer = this.layers[0];\n  if (layer.infourl && layer.infourl !== '') return layer.infourl;\n  return this.config.url;\n};\n\nproto.getQueryableLayers = function () {\n  return this.layers.filter(function (layer) {\n    return layer.isQueryable();\n  });\n};\n\nproto._getVisibleLayers = function () {\n  return this.layers.filter(function (layer) {\n    return layer.isVisible();\n  });\n};\n\n/**\n * @param {boolean} withLayers\n * \n * @returns {RasterLayers.WMSLayer}\n * \n * @listens ol.source.ImageWMS~imageloadstart\n * @listens ol.source.ImageWMS~imageloadend\n * @listens ol.source.ImageWMS~imageloaderror\n */\nproto._makeOlLayer = function (withLayers) {\n  var _this = this;\n\n  var olLayer = new RasterLayers.WMSLayer(\n  // wmsConfig\n  {\n    url: this.layers[0] && this.layers[0].getWmsUrl ? this.layers[0].getWmsUrl() : this.config.url,\n    id: this.config.id,\n    projection: this.config.projection,\n    iframe_internal: this.iframe_internal,\n    layers: withLayers ? this.layers.map(function (layer) {\n      return layer.getWMSLayerName();\n    }) : this.layers,\n    /** @since 3.7.11 */\n    format: this.config.format\n  }, this.extraParams, this._method);\n  olLayer.getSource().on('imageloadstart', function () {\n    return _this.emit(\"loadstart\");\n  });\n  olLayer.getSource().on('imageloadend', function () {\n    return _this.emit(\"loadend\");\n  });\n  olLayer.getSource().on('imageloaderror', function () {\n    return _this.emit(\"loaderror\");\n  });\n  return olLayer;\n};\n\n//update Layers\nproto._updateLayers = function () {\n  var mapState = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var extraParams = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  var _extraParams$force = extraParams.force,\n      force = _extraParams$force === undefined ? false : _extraParams$force,\n      params = _objectWithoutProperties(extraParams, ['force']);\n  //check disabled layers\n\n\n  !force && this.checkLayersDisabled(mapState.resolution, mapState.mapUnits);\n  var visibleLayers = this._getVisibleLayers(mapState) || [];\n\n  var _require2 = require('core/utils/geo'),\n      get_LEGEND_ON_LEGEND_OFF_Params = _require2.get_LEGEND_ON_LEGEND_OFF_Params;\n\n  if (visibleLayers.length > 0) {\n    var CATEGORIES_LAYERS = {};\n    var STYLES = [];\n    var OPACITIES = [];\n    visibleLayers.map(function (layer) {\n      var layerId = layer.getWMSLayerName();\n      CATEGORIES_LAYERS[layerId] = _extends({}, get_LEGEND_ON_LEGEND_OFF_Params(layer));\n      STYLES.push(layer.getStyle());\n      OPACITIES.push(parseInt(layer.getOpacity() / 100 * 255));\n    });\n\n    var LEGEND_ON = void 0;\n    var LEGEND_OFF = void 0;\n    Object.keys(CATEGORIES_LAYERS).forEach(function (layerId) {\n      if (CATEGORIES_LAYERS[layerId].LEGEND_OFF) {\n        if (typeof LEGEND_OFF === 'undefined') LEGEND_OFF = CATEGORIES_LAYERS[layerId].LEGEND_OFF;else LEGEND_OFF = LEGEND_OFF + ';' + CATEGORIES_LAYERS[layerId].LEGEND_OFF;\n      }\n      if (CATEGORIES_LAYERS[layerId].LEGEND_ON) {\n        if (typeof LEGEND_ON === 'undefined') LEGEND_ON = CATEGORIES_LAYERS[layerId].LEGEND_ON;else LEGEND_ON = LEGEND_ON + ';' + CATEGORIES_LAYERS[layerId].LEGEND_ON;\n      }\n    });\n    var prefix = visibleLayers[0].isArcgisMapserver() ? 'show:' : '';\n    params = _extends({}, params, {\n      filtertoken: _applicationState2.default.tokens.filtertoken,\n      STYLES: STYLES.join(','),\n      /** @since v3.8 */\n      OPACITIES: OPACITIES.join(','),\n      LEGEND_ON: LEGEND_ON,\n      LEGEND_OFF: LEGEND_OFF,\n      LAYERS: '' + prefix + visibleLayers.map(function (layer) {\n        return layer.getWMSLayerName();\n      }).join(',')\n    });\n    this._olLayer.setVisible(true);\n    this._olLayer.getSource().updateParams(params);\n  } else this._olLayer.setVisible(false);\n};\n\nproto.setupCustomMapParamsToLegendUrl = function () {\n  var params = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  if (this.layer) this.layer.setMapParamstoLegendUrl(params);else this.layers.forEach(function (layer) {\n    return layer.setMapParamstoLegendUrl(params);\n  });\n};\n\nmodule.exports = WMSLayer;\n\n},{\"core/layers/map/maplayer\":43,\"core/utils/geo\":64,\"core/utils/utils\":68,\"g3w-ol/layers/rasters\":108,\"store/application-state\":373}],46:[function(require,module,exports){\nvar _applicationState = require('store/application-state');\n\nvar _applicationState2 = _interopRequireDefault(_applicationState);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit;\n\nvar WMSLayer = require('core/layers/map/wmslayer');\nvar RasterLayers = require('g3w-ol/layers/rasters');\n\nfunction WMSTLayer() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var extraParams = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var method = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 'GET';\n\n  this.LAYERTYPE = {\n    LAYER: 'layer',\n    MULTILAYER: 'multilayer'\n  };\n  this.extraParams = extraParams;\n  this._method = method;\n  base(this, options);\n}\n\ninherit(WMSTLayer, WMSLayer);\n\nvar proto = WMSTLayer.prototype;\n\nproto._makeOlLayer = function (withLayers) {\n  var _this = this;\n\n  var wmsConfig = {\n    url: this.config.url,\n    id: this.config.id,\n    projection: this.config.projection,\n    iframe_internal: this.iframe_internal,\n    layers: this.layers\n  };\n  if (withLayers) wmsConfig.layers = this.layers.map(function (layer) {\n    return layer.getWMSLayerName();\n  });\n  var representativeLayer = this.layers[0];\n  if (representativeLayer && representativeLayer.getWmsUrl) wmsConfig.url = representativeLayer.getWmsUrl();\n  var olLayer = new RasterLayers.TiledWMSLayer(wmsConfig, this.extraParams, this._method);\n  olLayer.getSource().on('tileloadstart', function () {\n    return _this.emit(\"loadstart\");\n  });\n  olLayer.getSource().on('tileloadend', function () {\n    return _this.emit(\"loadend\");\n  });\n  olLayer.getSource().on('tileloaderror', function () {\n    return _this.emit(\"loaderror\");\n  });\n  return olLayer;\n};\n\nmodule.exports = WMSTLayer;\n\n},{\"core/layers/map/wmslayer\":45,\"core/utils/utils\":68,\"g3w-ol/layers/rasters\":108,\"store/application-state\":373}],47:[function(require,module,exports){\nvar _require = require('core/utils/utils'),\n    inherit = _require.inherit,\n    base = _require.base;\n\nvar MapLayer = require('core/layers/map/maplayer');\nvar RasterLayers = require('g3w-ol/layers/rasters');\n\nfunction XYZLayer(options) {\n  var method = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : \"GET\";\n\n  base(this, options);\n  this._method = method;\n}\n\ninherit(XYZLayer, MapLayer);\n\nvar proto = XYZLayer.prototype;\n\nproto.getOLLayer = function () {\n  var olLayer = this._olLayer;\n  if (!olLayer) olLayer = this._olLayer = this._makeOlLayer();\n  return olLayer;\n};\n\nproto.getSource = function () {\n  return this.getOLLayer().getSource();\n};\n\nproto.getLayerConfigs = function () {\n  return this.layer;\n};\n\nproto.addLayer = function (layer) {\n  this.layer = layer;\n  this.layers.push(layer);\n  this.allLayers.push(layer);\n};\n\nproto.update = function (mapState, extraParams) {\n  this._updateLayer(mapState, extraParams);\n};\n\nproto.isVisible = function () {\n  return layer.state.visible;\n};\n\nproto._makeOlLayer = function () {\n  var _this = this;\n\n  var projection = this.projection ? this.projection : this.layer.getProjection();\n  var layerOptions = {\n    url: this.layer.getCacheUrl() + '/{z}/{x}/{y}.png',\n    maxZoom: 20,\n    extent: this.config.extent,\n    iframe_internal: this.iframe_internal\n  };\n\n  layerOptions.projection = projection;\n  this._olLayer = new RasterLayers.XYZLayer(layerOptions, this._method);\n\n  this._olLayer.getSource().on('imageloadstart', function () {\n    _this.emit(\"loadstart\");\n  });\n  this._olLayer.getSource().on('imageloadend', function () {\n    _this.emit(\"loadend\");\n  });\n  this._olLayer.getSource().on('imageloaderror', function () {\n    _this.emit(\"loaderror\");\n  });\n  return this._olLayer;\n};\n\nproto._updateLayer = function () {\n  var mapState = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var extraParams = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var _extraParams$force = extraParams.force,\n      force = _extraParams$force === undefined ? false : _extraParams$force;\n\n  !force && this.checkLayersDisabled(mapState.resolution, mapState.mapUnits);\n  this._olLayer.setVisible(this.layer.isVisible());\n};\n\nmodule.exports = XYZLayer;\n\n},{\"core/layers/map/maplayer\":43,\"core/utils/utils\":68,\"g3w-ol/layers/rasters\":108}],48:[function(require,module,exports){\nvar _require = require('core/utils/utils'),\n    inherit = _require.inherit,\n    base = _require.base;\n\nvar Provider = require('core/layers/providers/provider');\n\nfunction GEOJSONDataProvider() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  base(this, options);\n  this._name = 'geojson';\n  this.provider = options.provider;\n}\n\ninherit(GEOJSONDataProvider, Provider);\n\nvar proto = GEOJSONDataProvider.prototype;\n\nproto.query = function () {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  var d = $.Deferred();\n  d.resolve([]);\n  return d.promise();\n};\n\nproto.getFeatures = function () {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  var d = $.Deferred();\n  var url = options.url || this.getLayer().get('source').url;\n  var data = options.data;\n  var projection = options.projection || \"EPSG:4326\";\n  var mapProjection = options.mapProjection;\n  var parseFeatures = function parseFeatures(data) {\n    var parser = new ol.format.GeoJSON();\n    return parser.readFeatures(data, {\n      featureProjection: mapProjection,\n      //defaultDataProjection: projection // ol v. 4.5\n      dataProjection: projection\n    });\n  };\n  if (data) {\n    var features = parseFeatures(data);\n    d.resolve(features);\n  } else {\n    $.get({ url: url }).then(function (response) {\n      var features = parseFeatures(response.results);\n      d.resolve(features);\n    }).fail(function (err) {\n      d.reject(err);\n    });\n  }\n  return d.promise();\n};\n\nproto.getDataTable = function () {\n  var _this = this;\n\n  var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      page = _ref.page;\n\n  var d = $.Deferred();\n  this.getFeatures().then(function () {\n    d.resolve(_this._features);\n  }).fail(function (err) {\n    d.reject(err);\n  });\n  return d.promise();\n};\n\nproto.digestFeaturesForTable = function () {\n  return {\n    headers: [],\n    features: []\n  };\n};\n\nmodule.exports = GEOJSONDataProvider;\n\n},{\"core/layers/providers/provider\":50,\"core/utils/utils\":68}],49:[function(require,module,exports){\nvar _require = require('core/utils/utils'),\n    inherit = _require.inherit,\n    base = _require.base;\n\nvar DataProvider = require('core/layers/providers/provider');\n\nfunction KMLDataProvider() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  base(this, options);\n  this._name = 'kml';\n}\n\ninherit(KMLDataProvider, DataProvider);\n\nvar proto = KMLDataProvider.prototype;\n\nproto.getData = function () {\n  var d = $.Deferred();\n  return d.promise();\n};\n\nmodule.exports = KMLDataProvider;\n\n},{\"core/layers/providers/provider\":50,\"core/utils/utils\":68}],50:[function(require,module,exports){\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit,\n    getTimeoutPromise = _require.getTimeoutPromise;\n\nvar G3WObject = require('core/g3wobject');\n\nvar _require2 = require('core/utils/geo'),\n    handleQueryResponse = _require2.handleQueryResponse;\n\nvar _require3 = require('core/utils/parsers'),\n    responseParser = _require3.response;\n\nfunction Provider() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  this._isReady = false;\n  this._name = 'provider';\n  this._layer = options.layer;\n  this._hasFieldsStartWithNotPermittedKey;\n  base(this);\n}\n\ninherit(Provider, G3WObject);\n\nvar proto = Provider.prototype;\n\nproto.getLayer = function () {\n  return this._layer;\n};\n\nproto.setLayer = function (layer) {\n  this._layer = layer;\n};\n\nproto.getFeatures = function () {\n  console.log('overwriteby single provider');\n};\n\nproto.query = function () {\n  console.log('overwriteby single provider');\n};\n\nproto.setReady = function (bool) {\n  this._isReady = bool;\n};\n\nproto.isReady = function () {\n  return this._isReady;\n};\n\nproto.error = function () {};\n\nproto.isValid = function () {\n  console.log('overwriteby single provider');\n};\n\nproto.getName = function () {\n  return this._name;\n};\n\n// Method to transform xml from server to present to queryresult component\nproto.handleQueryResponseFromServer = function (response, projections) {\n  var layers = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : [this._layer];\n  var wms = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : true;\n\n  return handleQueryResponse({\n    response: response,\n    projections: projections,\n    layers: layers,\n    wms: wms\n  });\n};\n\nproto.getQueryResponseTimeoutKey = function () {\n  var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [],\n      _ref$layers = _ref.layers,\n      layers = _ref$layers === undefined ? [this._layer] : _ref$layers,\n      resolve = _ref.resolve,\n      query = _ref.query;\n\n  /**\n   * set timeout of a query\n   * @type {number}\n   */\n  return getTimeoutPromise({\n    resolve: resolve,\n    data: {\n      data: responseParser.utils.getTimeoutData(layers),\n      query: query\n    }\n  });\n};\n\nmodule.exports = Provider;\n\n},{\"core/g3wobject\":12,\"core/utils/geo\":64,\"core/utils/parsers\":67,\"core/utils/utils\":68}],51:[function(require,module,exports){\nvar Providers = {\n  geojson: require('./geojsonprovider'),\n  kml: require('./kmlprovider'),\n  xml: require('./xmlprovider'),\n  qgis: require('./qgisprovider'),\n  wms: require('./wmsprovider'),\n  wfs: require('./wfsprovider')\n};\n\nvar ProvidersForServerTypes = {\n  'QGIS': {\n    'virtual': {\n      query: Providers.wms,\n      filter: Providers.wfs,\n      data: Providers.qgis,\n      search: Providers.qgis,\n      filtertoken: Providers.qgis\n    },\n    'postgres': {\n      query: Providers.wms,\n      filter: Providers.wfs,\n      data: Providers.qgis,\n      search: Providers.qgis,\n      filtertoken: Providers.qgis\n    },\n    'oracle': {\n      query: Providers.wms,\n      filter: Providers.wfs,\n      data: Providers.qgis,\n      search: Providers.qgis,\n      filtertoken: Providers.qgis\n    },\n    'mssql': {\n      query: Providers.wms,\n      filter: Providers.wfs,\n      data: Providers.qgis,\n      search: Providers.qgis,\n      filtertoken: Providers.qgis\n    },\n    'spatialite': {\n      query: Providers.wms,\n      filter: Providers.wfs,\n      data: Providers.qgis,\n      search: Providers.qgis,\n      filtertoken: Providers.qgis\n    },\n    'ogr': {\n      query: Providers.wms,\n      filter: Providers.wfs,\n      data: Providers.qgis,\n      search: Providers.qgis,\n      filtertoken: Providers.qgis\n    },\n    'delimitedtext': {\n      query: Providers.wms,\n      filter: Providers.wfs,\n      data: Providers.qgis,\n      search: Providers.qgis,\n      filtertoken: Providers.qgis\n    },\n    'wmst': {\n      query: Providers.wms,\n      filter: Providers.wfs,\n      data: null,\n      search: null\n    },\n    'wcs': {\n      query: Providers.wms,\n      filter: Providers.wfs,\n      data: null,\n      search: null\n    },\n    'wms': {\n      query: Providers.wms,\n      filter: Providers.wfs,\n      data: null,\n      search: null\n    },\n    'wfs': {\n      query: Providers.wms,\n      filter: Providers.wfs,\n      data: Providers.qgis,\n      search: Providers.qgis\n    },\n    'gdal': {\n      query: Providers.wms,\n      filter: null,\n      data: null,\n      search: null\n    },\n    'vector-tile': {\n      query: Providers.wms,\n      filter: null,\n      data: null,\n      search: null\n    },\n    'vectortile': {\n      query: Providers.wms,\n      filter: null,\n      data: null,\n      search: null\n    },\n    'arcgismapserver': {\n      query: Providers.wms,\n      filter: null,\n      data: null,\n      search: null\n    },\n    'mdal': {\n      query: Providers.wms,\n      filter: null,\n      data: null,\n      search: null\n    }\n  },\n  'OGC': {\n    'wms': {\n      query: Providers.wms,\n      filter: null,\n      data: null,\n      search: null\n    }\n  },\n  'G3WSUITE': {\n    'geojson': {\n      query: Providers.geojson,\n      filter: null,\n      data: Providers.geojson,\n      search: null\n    }\n  }\n};\n\nfunction ProviderFactory() {\n  this.build = function (providerType, serverType, sourceType, options) {\n    // return instace of seletced provider\n    var providerClass = this.get(providerType, serverType, sourceType);\n    if (providerClass) {\n      return new providerClass(options);\n    }\n    return null;\n  };\n\n  this.get = function (providerType, serverType, sourceType) {\n    return ProvidersForServerTypes[serverType][sourceType][providerType];\n  };\n}\n\nmodule.exports = new ProviderFactory();\n\n},{\"./geojsonprovider\":48,\"./kmlprovider\":49,\"./qgisprovider\":52,\"./wfsprovider\":53,\"./wmsprovider\":54,\"./xmlprovider\":55}],52:[function(require,module,exports){\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _applicationState = require('store/application-state');\n\nvar _applicationState2 = _interopRequireDefault(_applicationState);\n\nvar _relations = require('services/relations');\n\nvar _relations2 = _interopRequireDefault(_relations);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit,\n    XHR = _require.XHR;\n\nvar _require2 = require('core/i18n/i18n.service'),\n    t = _require2.t;\n\nvar DataProvider = require('core/layers/providers/provider');\n\nvar _require3 = require('core/utils/parsers'),\n    responseParser = _require3.response;\n\nvar Feature = require('core/layers/features/feature');\nvar Parsers = require('core/utils/parsers');\n\nfunction QGISProvider() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  base(this);\n  this._name = 'qgis';\n  this._layer = options.layer || {};\n  this._projections = {\n    map: null,\n    layer: null\n  };\n  // url referred to query\n  this._queryUrl = this._layer.getUrl('query');\n  //filtertokenurl\n  this._filtertokenUrl = this._layer.getUrl('filtertoken');\n  // layer name\n  this._layerName = this._layer.getName() || null; // get name  from QGIS layer, because the query are proxed from g3w-server\n  this._infoFormat = this._layer.getInfoFormat() || 'application/vnd.ogc.gml';\n}\n\ninherit(QGISProvider, DataProvider);\n\nvar proto = QGISProvider.prototype;\n/*\n* token: current token if provide\n* action: create, update, delete\n* */\n\nproto.deleteFilterToken = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n  return regeneratorRuntime.wrap(function _callee$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          _context.next = 2;\n          return XHR.get({\n            url: this._filtertokenUrl,\n            params: {\n              mode: 'delete'\n            }\n          });\n\n        case 2:\n        case 'end':\n          return _context.stop();\n      }\n    }\n  }, _callee, this);\n}));\n\nproto.getFilterToken = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2() {\n  var params = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  var _ref3, _ref3$data, data;\n\n  return regeneratorRuntime.wrap(function _callee2$(_context2) {\n    while (1) {\n      switch (_context2.prev = _context2.next) {\n        case 0:\n          _context2.prev = 0;\n          _context2.next = 3;\n          return XHR.get({\n            url: this._filtertokenUrl,\n            params: params\n          });\n\n        case 3:\n          _ref3 = _context2.sent;\n          _ref3$data = _ref3.data;\n          data = _ref3$data === undefined ? {} : _ref3$data;\n          return _context2.abrupt('return', data.filtertoken);\n\n        case 9:\n          _context2.prev = 9;\n          _context2.t0 = _context2['catch'](0);\n          return _context2.abrupt('return', Promise.reject(_context2.t0));\n\n        case 12:\n        case 'end':\n          return _context2.stop();\n      }\n    }\n  }, _callee2, this, [[0, 9]]);\n}));\n\nproto.getFilterData = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee3() {\n  var _ref5 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      field = _ref5.field,\n      _ref5$raw = _ref5.raw,\n      raw = _ref5$raw === undefined ? false : _ref5$raw,\n      _ref5$suggest = _ref5.suggest,\n      suggest = _ref5$suggest === undefined ? {} : _ref5$suggest,\n      unique = _ref5.unique,\n      _ref5$formatter = _ref5.formatter,\n      formatter = _ref5$formatter === undefined ? 1 : _ref5$formatter,\n      queryUrl = _ref5.queryUrl,\n      ordering = _ref5.ordering;\n\n  var dataUrl, params, response, isVector, data;\n  return regeneratorRuntime.wrap(function _callee3$(_context3) {\n    while (1) {\n      switch (_context3.prev = _context3.next) {\n        case 0:\n          dataUrl = this._layer.getUrl('data');\n          params = {\n            field: field,\n            suggest: suggest,\n            ordering: ordering,\n            formatter: formatter,\n            unique: unique,\n            filtertoken: _applicationState2.default.tokens.filtertoken\n          };\n          _context3.prev = 2;\n          _context3.next = 5;\n          return XHR.get({\n            url: '' + (queryUrl ? queryUrl : dataUrl),\n            params: params\n          });\n\n        case 5:\n          response = _context3.sent;\n          isVector = this._layer.getType() !== \"table\";\n\n          isVector && this.setProjections();\n          data = raw ? response : response.result ? unique ? response.data : {\n            data: responseParser.get('application/json')({\n              layers: [this._layer],\n              response: response.vector.data,\n              projections: this._projections\n            })\n          } : Promise.reject();\n          return _context3.abrupt('return', data);\n\n        case 12:\n          _context3.prev = 12;\n          _context3.t0 = _context3['catch'](2);\n          return _context3.abrupt('return', Promise.reject(_context3.t0));\n\n        case 15:\n        case 'end':\n          return _context3.stop();\n      }\n    }\n  }, _callee3, this, [[2, 12]]);\n}));\n\nproto.setProjections = function () {\n  //COMMENTED LAYER PROJECTION: EXPECT ONLY RESULT IN MAP PROJECTION\n  //this._projections.layer = this._layer.getProjection();\n  this._projections.map = this._layer.getMapProjection() || this._projections.layer;\n};\n\n//query by filter\nproto.query = function () {\n  var _this = this;\n\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  var d = $.Deferred();\n  var feature_count = options.feature_count || 10;\n  // parameter to get rwa response\n  var raw = options.raw || false;\n  var _options$filter = options.filter,\n      filter = _options$filter === undefined ? null : _options$filter;\n\n  filter = filter && Array.isArray(filter) ? filter : [filter];\n  var isVector = this._layer.getType() !== \"table\";\n  isVector && this.setProjections();\n  var CRS = isVector ? this._projections.map.getCode() : _applicationState2.default.map.epsg;\n  var queryUrl = options.queryUrl || this._queryUrl;\n  var I = options.I,\n      J = options.J,\n      layers = options.layers;\n\n  var layerNames = layers ? layers.map(function (layer) {\n    return layer.getWMSLayerName();\n  }).join(',') : this._layer.getWMSLayerName();\n  if (filter) {\n    // check if geometry filter. If not i have to remove projection layer\n    if (filter[0].getType() !== 'geometry') this._projections.layer = null;\n    filter = filter.map(function (filter) {\n      return filter.get();\n    }).filter(function (value) {\n      return value;\n    });\n    var url = queryUrl;\n    var params = {\n      SERVICE: 'WMS',\n      VERSION: '1.3.0',\n      REQUEST: 'GetFeatureInfo',\n      filtertoken: _applicationState2.default.tokens.filtertoken,\n      LAYERS: layerNames,\n      QUERY_LAYERS: layerNames,\n      INFO_FORMAT: this._infoFormat,\n      FEATURE_COUNT: feature_count,\n      CRS: CRS,\n      I: I,\n      J: J,\n      FILTER: filter && filter.length ? filter.join(';') : undefined,\n      WITH_GEOMETRY: isVector\n    };\n    XHR.get({\n      url: url,\n      params: params\n    }).then(function (response) {\n      var featuresForLayers = raw ? response : _this.handleQueryResponseFromServer(response, _this._projections, layers);\n      d.resolve(featuresForLayers);\n    }).catch(function (err) {\n      return d.reject(err);\n    });\n  } else d.reject();\n  return d.promise();\n};\n\n// get layer config\nproto.getConfig = function () {\n  var d = $.Deferred();\n  var url = this._layer.getUrl('config');\n  if (!url) {\n    d.reject('not valid url');\n    return;\n  }\n  $.get(url).then(function (config) {\n    return d.resolve(config);\n  }).fail(function (err) {\n    return d.reject(err);\n  });\n  return d.promise();\n};\n\nproto.getWidgetData = function () {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var type = options.type,\n      fields = options.fields;\n\n  var widgetUrls = this._layer.getUrl('widget');\n  var url = widgetUrls[type];\n  return $.get(url, {\n    fields: fields\n  });\n};\n\n// unlock feature\nproto.unlock = function () {\n  var unlockUrl = this._layer.getUrl('unlock');\n  var d = $.Deferred();\n  $.post(unlockUrl).then(function (response) {\n    return d.resolve(response);\n  }).fail(function (err) {\n    return d.reject(err);\n  });\n  return d.promise();\n};\n\n// commit function\nproto.commit = function (commitItems) {\n  var d = $.Deferred();\n  //check if editing or not;\n  var url = this._layer.getUrl('commit');\n  var jsonCommits = JSON.stringify(commitItems);\n  $.post({\n    url: url,\n    data: jsonCommits,\n    contentType: \"application/json\"\n  }).then(function (response) {\n    return d.resolve(response);\n  }).fail(function (err) {\n    return d.reject(err);\n  });\n  return d.promise();\n};\n\n// METODS LOADING EDITING FEATURES (READ/WRITE) //\nproto.getFeatures = function () {\n  var _this2 = this;\n\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var params = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  var d = $.Deferred();\n  // filter null value\n  Object.entries(params).forEach(function (_ref6) {\n    var _ref7 = _slicedToArray(_ref6, 2),\n        key = _ref7[0],\n        value = _ref7[1];\n\n    if (value === null || value === void 0) delete params[key];\n  });\n  var layerType = this._layer.getType();\n  // check if data are requested in read or write mode;\n  var url = void 0;\n  //set contentType\n  var contentType = \"application/json\";\n  //editing mode\n  if (options.editing) {\n    var promise = void 0;\n    url = this._layer.getUrl('editing');\n    if (!url) {\n      d.reject('Url not valid');\n      return;\n    }\n    var urlParams = $.param(params);\n    url += urlParams ? '?' + urlParams : '';\n    var features = [];\n    var filter = options.filter || null;\n    if (filter) {\n      // filterbbox\n      if (filter.bbox) {\n        var bbox = filter.bbox;\n        filter = {\n          in_bbox: bbox[0] + ',' + bbox[1] + ',' + bbox[2] + ',' + bbox[3],\n          filtertoken: _applicationState2.default.tokens.filtertoken\n        };\n        var jsonFilter = JSON.stringify(filter);\n        promise = XHR.post({\n          url: url,\n          data: jsonFilter,\n          contentType: contentType\n        });\n        // filter fid\n      } else if (filter.fid) {\n        var _options = filter.fid;\n        promise = _relations2.default.getRelations(_options);\n      } else if (filter.field) {\n        var _jsonFilter = JSON.stringify(filter);\n        promise = XHR.post({\n          url: url,\n          data: _jsonFilter,\n          contentType: contentType\n        });\n      } else if (filter.fids) {\n        promise = XHR.get({\n          url: url,\n          params: filter\n        });\n      } else if (filter.nofeatures) {\n        var _jsonFilter2 = JSON.stringify({\n          field: (filter.nofeatures_field || 'id') + '|eq|__G3W__NO_FEATURES__'\n        });\n        promise = XHR.post({\n          url: url,\n          data: _jsonFilter2,\n          contentType: contentType\n        });\n      }\n    } else promise = XHR.post({ url: url, contentType: contentType });\n    promise.then(function (response) {\n      var vector = response.vector,\n          result = response.result,\n          featurelocks = response.featurelocks;\n\n      if (result) {\n        var data = vector.data,\n            geometrytype = vector.geometrytype,\n            count = vector.count;\n\n        var parser = Parsers[layerType].get({\n          type: 'json'\n        });\n        //const parser_options = (geometrytype !== 'NoGeometry') ? { crs: this._layer.getCrs(), mapCrs: this._layer.getMapCrs() } : {};\n        var parser_options = geometrytype !== 'NoGeometry' ? { crs: _this2._layer.getCrs() } : {};\n        //get lockIds\n        var lockIds = featurelocks.map(function (featureLock) {\n          return featureLock.featureid;\n        });\n        parser(data, parser_options).forEach(function (feature) {\n          var featureId = '' + feature.getId();\n          if (lockIds.indexOf(featureId) > -1) {\n            features.push(new Feature({\n              feature: feature\n            }));\n          }\n        });\n        // resolve with features locked and requested\n        d.resolve({\n          count: count, // real number of feature that request will return\n          features: features, // feature object returned\n          featurelocks: featurelocks // features locked\n        });\n      } else {\n        // case when server responde with result false (error)\n        d.reject({\n          message: t(\"info.server_error\")\n        });\n      }\n    }).catch(function (err) {\n      return d.reject({ message: t(\"info.server_error\") });\n    });\n  } else {\n    url = this._layer.getUrl('data');\n    var _urlParams = $.param(params);\n    url += _urlParams ? '?' + _urlParams : '';\n    $.get({\n      url: url,\n      contentType: contentType\n    }).then(function (response) {\n      var vector = response.vector;\n      var data = vector.data;\n      d.resolve({\n        data: data,\n        count: vector.count\n      });\n    }).fail(function (err) {\n      return d.reject(err);\n    });\n  }\n  return d.promise();\n};\n\nproto._loadLayerData = function (mode, customUrlParameters) {\n  var _this3 = this,\n      _arguments = arguments;\n\n  var d = $.Deferred();\n  Obkect.entries(this._layers).forEach(function (_ref8) {\n    var _ref9 = _slicedToArray(_ref8, 2),\n        layerCode = _ref9[0],\n        layer = _ref9[1];\n\n    if (_.isNull(layer.vector)) noVectorlayerCodes.push(layerCode);\n  });\n  var vectorLayersSetup = noVectorlayerCodes.map(function (layerCode) {\n    return _this3._setupVectorLayer(layerCode);\n  });\n  this.emit('loadingvectorlayersstart');\n  $.when.apply(this, vectorLayersSetup).then(function () {\n    var vectorLayersCodes = Array.prototype.slice.call(_arguments);\n    _this3.emit('loadingvectolayersdatastart');\n    _this3.loadAllVectorsData(vectorLayersCodes).then(function () {\n      _this3._vectorLayersCodes = vectorLayersCodes;\n      d.resolve(vectorLayersCodes);\n      _this3.emit('loadingvectorlayersend');\n      _this3.setReady(true);\n    }).fail(function () {\n      _this3._layers.forEach(function (layer) {\n        return layer.vector = null;\n      });\n      d.reject();\n      _this3.emit('errorloadingvectorlayersend');\n      _this3.setReady(false);\n    });\n  }).fail(function () {\n    _this3.setReady(false);\n    _this3.emit('errorloadingvectorlayersend');\n    d.reject();\n  });\n  return d.promise();\n};\n\nproto.setVectorLayersCodes = function (vectorLayersCodes) {\n  this._vectorLayersCodes = vectorLayersCodes;\n};\n\nproto.getVectorLayersCodes = function () {\n  return this._vectorLayersCodes;\n};\n\nproto.getLayers = function () {\n  return this._layers;\n};\n\nproto.reloadVectorData = function (layerCode) {\n  var _this4 = this;\n\n  var d = $.Deferred();\n  var bbox = this._mapService.state.bbox;\n  this._createVectorLayerFromConfig(layerCode).then(function (vectorLayer) {\n    _this4._getVectorLayerData(vectorLayer, bbox).then(function (vectorDataResponse) {\n      _this4.setVectorLayerData(vectorLayer[_this4._editingApiField], vectorDataResponse);\n      vectorLayer.setData(vectorDataResponse.vector.data);\n      d.resolve(vectorLayer);\n    });\n  });\n  return d.promise();\n};\n\nproto.loadAllVectorsData = function (layerCodes) {\n  var _this5 = this;\n\n  var d = $.Deferred();\n  var layers = this._layers;\n  var bbox = this._mapService.state.bbox;\n  var loadedExtent = this._loadedExtent;\n  if (loadedExtent && ol.extent.containsExtent(loadedExtent, bbox)) {\n    return resolvedValue();\n  }\n  this._loadedExtent = !loadedExtent ? bbox : ol.extent.extend(loadedExtent, bbox);\n  if (layerCodes) {\n    layers = [];\n    layerCodes.forEach(function (layerCode) {\n      return layers.push(_this5._layers[layerCode]);\n    });\n  }\n  var vectorDataRequests = layers.map(function (Layer) {\n    return _this5._loadVectorData(Layer.vector, bbox);\n  });\n\n  $.when.apply(this, vectorDataRequests).then(function () {\n    return d.resolve(layerCodes);\n  }).fail(function () {\n    return d.reject();\n  });\n  return d.promise();\n};\n\nproto._setCustomUrlParameters = function (customUrlParameters) {\n  this._customUrlParameters = customUrlParameters;\n};\n\nproto._checkVectorGeometryTypeFromConfig = function (vectorConfig) {\n  switch (vectorConfig.geometrytype) {\n    case 'Line':\n      vectorConfig.geometrytype = 'LineString';\n      break;\n    case 'MultiLine':\n      vectorConfig.geometrytype = 'MultiLineString';\n      break;\n  }\n  return vectorConfig;\n};\n\nproto._createVectorLayerFromConfig = function (layerCode) {\n  var _this6 = this;\n\n  var layerConfig = this._layers[layerCode];\n  var d = $.Deferred();\n  this._getVectorLayerConfig(layerConfig[this._editingApiField]).then(function (vectorConfigResponse) {\n    var vectorConfig = vectorConfigResponse.vector;\n    vectorConfig = _this6._checkVectorGeometryTypeFromConfig(vectorConfig);\n    var crsLayer = layerConfig.crs || _this6._mapService.getProjection().getCode();\n    var vectorLayer = _this6._createVectorLayer({\n      geometrytype: vectorConfig.geometrytype,\n      format: vectorConfig.format,\n      crs: _this6._mapService.getProjection().getCode(),\n      crsLayer: crsLayer,\n      id: layerConfig.id,\n      name: layerConfig.name,\n      editing: self._editingMode\n    });\n    vectorLayer.setFields(vectorConfig.fields);\n    vectorLayer.setCrs(crsLayer);\n    var relations = vectorConfig.relations;\n    if (relations) {\n      vectorLayer.lazyRelations = true;\n      vectorLayer.setRelations(relations);\n    }\n    if (layerConfig.style) vectorLayer.setStyle(layerConfig.style);\n    d.resolve(vectorLayer);\n  }).fail(function () {\n    return d.reject();\n  });\n  return d.promise();\n};\n\nproto._setupVectorLayer = function (layerCode) {\n  var _this7 = this;\n\n  var d = $.Deferred();\n  this._createVectorLayerFromConfig(layerCode).then(function (vectorLayer) {\n    var layerConfig = _this7._layers[layerCode];\n    layerConfig.vector = vectorLayer;\n    d.resolve(layerCode);\n  }).fail(function () {\n    return d.reject();\n  });\n  return d.promise();\n};\n\nproto._loadVectorData = function (vectorLayer, bbox) {\n  var _this8 = this;\n\n  return self._getVectorLayerData(vectorLayer, bbox).then(function (vectorDataResponse) {\n    _this8.setVectorLayerData(vectorLayer[_this8._editingApiField], vectorDataResponse);\n    if (_this8._editingMode && vectorDataResponse.featurelocks) {\n      _this8.setVectorFeaturesLock(vectorLayer, vectorDataResponse.featurelocks);\n    }\n    vectorLayer.setData(vectorDataResponse.vector.data);\n    if (_this8._) return vectorDataResponse;\n  }).fail(function () {\n    return false;\n  });\n};\n\nproto.getVectorLayerData = function (layerCode) {\n  return this._vectorLayersData[layerCode];\n};\n\nproto.getVectorLayersData = function () {\n  return this._vectorLayersData;\n};\n\nproto.setVectorLayerData = function (layerCode, vectorLayerData) {\n  this._vectorLayersData[layerCode] = vectorLayerData;\n};\n\nproto.setVectorFeaturesLock = function (vectorLayer, featureslock) {\n  var newFeaturesLockIds = _.differenceBy(featureslock, vectorLayer.getFeatureLocks(), 'featureid');\n  newFeaturesLockIds.forEach(function (newLockId) {\n    vectorLayer.addLockId(newLockId);\n  });\n};\n\nproto.cleanVectorFeaturesLock = function (vectorLayer) {\n  vectorLayer.cleanFeatureLocks();\n};\n\nproto.lockFeatures = function (layerName) {\n  var _this9 = this;\n\n  var d = $.Deferred();\n  var bbox = this._mapService.state.bbox;\n  var vectorLayer = this._layers[layerName].vector;\n  $.get(this._baseUrl + layerName + \"/?lock\" + this._customUrlParameters + \"&in_bbox=\" + bbox[0] + \",\" + bbox[1] + \",\" + bbox[2] + \",\" + bbox[3]).done(function (data) {\n    _this9.setVectorFeaturesLock(vectorLayer, data.featurelocks);\n    d.resolve(data);\n  }).fail(function () {\n    return d.reject();\n  });\n  return d.promise();\n};\n\nproto._getVectorLayerConfig = function (layerApiField) {\n  var d = $.Deferred();\n  $.get(this._baseUrl + layerApiField + \"/?config\" + this._customUrlParameters).done(function (data) {\n    return d.resolve(data);\n  }).fail(function () {\n    return d.reject();\n  });\n  return d.promise();\n};\n\nproto._getVectorLayerData = function (vectorLayer, bbox) {\n  var d = $.Deferred();\n  var lock = this.getMode() == 'w' ? true : false;\n  var apiUrl = lock ? this._baseUrl + vectorLayer[this._editingApiField] + \"/?editing\" : this._baseUrl + vectorLayer[this._editingApiField] + \"/?\";\n  $.get(apiUrl + this._customUrlParameters + \"&in_bbox=\" + bbox[0] + \",\" + bbox[1] + \",\" + bbox[2] + \",\" + bbox[3]).done(function (data) {\n    return d.resolve(data);\n  }).fail(function () {\n    return d.reject();\n  });\n  return d.promise();\n};\n\nproto._createVectorLayer = function () {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  var vector = new VectorLayer(options);\n  return vector;\n};\n\nproto.cleanUpLayers = function () {\n  this._loadedExtent = null;\n};\n\nmodule.exports = QGISProvider;\n\n},{\"core/i18n/i18n.service\":13,\"core/layers/features/feature\":26,\"core/layers/providers/provider\":50,\"core/utils/parsers\":67,\"core/utils/utils\":68,\"services/relations\":367,\"store/application-state\":373}],53:[function(require,module,exports){\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit,\n    toRawType = _require.toRawType;\n\nvar DataProvider = require('core/layers/providers/provider');\nvar Filter = require('core/layers/filter/filter');\n\nfunction WFSDataProvider() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  base(this, options);\n  this._name = 'wfs';\n}\n\ninherit(WFSDataProvider, DataProvider);\n\nvar proto = WFSDataProvider.prototype;\n\nproto.getData = function () {\n  var d = $.Deferred();\n  return d.promise();\n};\n\n// query method\nproto.query = function () {\n  var _this = this;\n\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var params = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var _options$reproject = options.reproject,\n      reproject = _options$reproject === undefined ? false : _options$reproject,\n      _options$feature_coun = options.feature_count,\n      feature_count = _options$feature_coun === undefined ? 10 : _options$feature_coun,\n      filter = options.filter;\n\n  params.MAXFEATURES = feature_count;\n  var d = $.Deferred();\n  var _options$layers = options.layers,\n      layers = _options$layers === undefined ? [this._layer] : _options$layers;\n\n\n  var projections = {\n    map: this._layer.getMapProjection(),\n    layer: reproject ? this._layer.getProjection() : null\n  };\n\n  var timeoutKey = this.getQueryResponseTimeoutKey({\n    layers: layers,\n    resolve: d.resolve,\n    query: {}\n  });\n\n  this._doRequest(filter, params, layers, reproject).then(function (response) {\n    var featuresForLayers = _this.handleQueryResponseFromServer(response, projections, layers, wms = false);\n    featuresForLayers.forEach(function (featuresForLayer) {\n      var _featuresForLayer$fea = featuresForLayer.features,\n          features = _featuresForLayer$fea === undefined ? [] : _featuresForLayer$fea;\n      //sanitize in case of nil:true\n\n      features.forEach(function (feature) {\n        Object.entries(feature.getProperties()).forEach(function (_ref) {\n          var _ref2 = _slicedToArray(_ref, 2),\n              attribute = _ref2[0],\n              value = _ref2[1];\n\n          if (toRawType(value) === 'Object' && value['xsi:nil']) feature.set(attribute, 'NULL');\n        });\n      });\n    });\n    d.resolve({\n      data: featuresForLayers\n    });\n  }).fail(function (e) {\n    return d.reject(e);\n  }).always(function () {\n    clearTimeout(timeoutKey);\n  });\n  return d.promise();\n};\n\nproto._post = function (url, params) {\n  url = url.match(/\\/$/) ? url : url + '/';\n  var d = $.Deferred();\n  $.post(url, params).then(function (response) {\n    return d.resolve(response);\n  }).fail(function (err) {\n    return d.reject(err);\n  });\n  return d.promise();\n};\n\n// get request\nproto._get = function (url, params) {\n  // trasform parameters\n  url = url.match(/\\/$/) ? url : url + '/';\n  var d = $.Deferred();\n  var urlParams = $.param(params);\n  url = url + '?' + urlParams;\n  $.get(url).then(function (response) {\n    return d.resolve(response);\n  }).fail(function (err) {\n    return d.reject(err);\n  });\n  return d.promise();\n};\n\n//request to server\nproto._doRequest = function (filter) {\n  var params = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var layers = arguments[2];\n  var reproject = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : true;\n\n  var d = $.Deferred();\n  filter = filter || new Filter({});\n  var layer = layers ? layers[0] : this._layer;\n  var httpMethod = layer.getOwsMethod();\n  var url = layer.getQueryUrl();\n  var infoFormat = layer.getInfoFormat();\n  var layerNames = layers ? layers.map(function (layer) {\n    return layer.getWFSLayerName();\n  }).join(',') : layer.getWFSLayerName();\n  var SRSNAME = reproject ? layer.getProjection().getCode() : this._layer.getMapProjection().getCode();\n  params = Object.assign(params, {\n    SERVICE: 'WFS',\n    VERSION: '1.1.0',\n    REQUEST: 'GetFeature',\n    TYPENAME: layerNames,\n    OUTPUTFORMAT: infoFormat,\n    SRSNAME: SRSNAME\n  });\n  if (filter) {\n    var filterType = filter.getType();\n    var filterConfig = filter.getConfig();\n    var featureRequest = void 0;\n    // get filter from ol\n    var f = ol.format.filter;\n    /////\n    filter = filter.get();\n    switch (filterType) {\n      case 'bbox':\n        featureRequest = new ol.format.WFS().writeGetFeature({\n          featureTypes: [layer],\n          filter: f.bbox('the_geom', filter)\n        });\n        break;\n      case 'geometry':\n        //speatial methos. <inteserct, within>\n        var _filterConfig$spatial = filterConfig.spatialMethod,\n            spatialMethod = _filterConfig$spatial === undefined ? 'intersects' : _filterConfig$spatial;\n\n        featureRequest = new ol.format.WFS().writeGetFeature({\n          featureTypes: [layer],\n          filter: f[spatialMethod]('the_geom', filter)\n        });\n        break;\n      case 'expression':\n        featureRequest = new ol.format.WFS().writeGetFeature({\n          featureTypes: [layer],\n          filter: null\n        });\n        break;\n      case 'all':\n        request = this._post(url, params);\n        return request;\n      default:\n        break;\n    }\n    params.FILTER = ('(' + featureRequest.children[0].innerHTML + ')').repeat(layers ? layers.length : 1);\n    var queryPromise = httpMethod === 'GET' && filterType !== 'geometry' ? this._get(url, params) : this._post(url, params);\n    queryPromise.then(function (response) {\n      d.resolve(response);\n    }).fail(function (err) {\n      if (err.status === 200) d.resolve(err.responseText);else d.reject(err);\n    });\n  } else d.reject();\n\n  return d.promise();\n};\n\nmodule.exports = WFSDataProvider;\n\n},{\"core/layers/filter/filter\":30,\"core/layers/providers/provider\":50,\"core/utils/utils\":68}],54:[function(require,module,exports){\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _applicationState = require('store/application-state');\n\nvar _applicationState2 = _interopRequireDefault(_applicationState);\n\nvar _constant = require('constant');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit,\n    appendParams = _require.appendParams,\n    XHR = _require.XHR;\n\nvar _require2 = require('core/utils/geo'),\n    get_LEGEND_ON_LEGEND_OFF_Params = _require2.get_LEGEND_ON_LEGEND_OFF_Params;\n\nvar geoutils = require('core/utils/ol');\nvar DataProvider = require('core/layers/providers/provider');\n\n//overwrite method to read feature\n// da un geojson\nvar GETFEATUREINFO_IMAGE_SIZE = [101, 101];\nvar DPI = geoutils.getDPI();\n\nfunction WMSDataProvider() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  base(this, options);\n  this._name = 'wms';\n  this._projections = {\n    map: null,\n    layer: null\n  };\n}\n\ninherit(WMSDataProvider, DataProvider);\n\nvar proto = WMSDataProvider.prototype;\n\nproto._getRequestParameters = function (_ref) {\n  var layers = _ref.layers,\n      feature_count = _ref.feature_count,\n      coordinates = _ref.coordinates,\n      infoFormat = _ref.infoFormat,\n      _ref$query_point_tole = _ref.query_point_tolerance,\n      query_point_tolerance = _ref$query_point_tole === undefined ? _constant.QUERY_POINT_TOLERANCE : _ref$query_point_tole,\n      resolution = _ref.resolution,\n      size = _ref.size;\n\n  var layerNames = layers ? layers.map(function (layer) {\n    return layer.getWMSInfoLayerName();\n  }).join(',') : this._layer.getWMSInfoLayerName();\n  var extent = geoutils.getExtentForViewAndSize(coordinates, resolution, 0, size);\n  var x = Math.floor((coordinates[0] - extent[0]) / resolution);\n  var y = Math.floor((extent[3] - coordinates[1]) / resolution);\n  var PARAMS_TOLERANCE = {};\n  var unit = query_point_tolerance.unit,\n      value = query_point_tolerance.value;\n\n  if (unit === 'map') {\n    var bufferGeometry = ol.geom.Polygon.fromCircle(new ol.geom.Circle(coordinates, value));\n    var wkGeometry = new ol.format.WKT();\n    PARAMS_TOLERANCE = {\n      FILTER_GEOM: wkGeometry.writeGeometry(bufferGeometry)\n    };\n  } else {\n    PARAMS_TOLERANCE = {\n      FI_POINT_TOLERANCE: value,\n      FI_LINE_TOLERANCE: value,\n      FI_POLYGON_TOLERANCE: value,\n      G3W_TOLERANCE: value * resolution,\n      I: x,\n      J: y\n    };\n  }\n  /**\n   * Add LEGEND_ON and/or LEGEND_OFF in case of layer that has categories\n   * It used to solve issue related to GetFeatureInfo feature layer categories\n   * that are unchecked (not visisble) at QGIS project setting\n   */\n  var LEGEND_PARAMS = {\n    LEGEND_ON: [],\n    LEGEND_OFF: []\n  };\n  layers.forEach(function (layer) {\n    if (layer.getCategories()) {\n      var _get_LEGEND_ON_LEGEND = get_LEGEND_ON_LEGEND_OFF_Params(layer),\n          LEGEND_ON = _get_LEGEND_ON_LEGEND.LEGEND_ON,\n          LEGEND_OFF = _get_LEGEND_ON_LEGEND.LEGEND_OFF;\n\n      LEGEND_ON && LEGEND_PARAMS.LEGEND_ON.push(LEGEND_ON);\n      LEGEND_OFF && LEGEND_PARAMS.LEGEND_OFF.push(LEGEND_OFF);\n    }\n  });\n\n  var params = _extends({\n    SERVICE: 'WMS',\n    VERSION: '1.3.0',\n    REQUEST: 'GetFeatureInfo',\n    CRS: this._projections.map.getCode(),\n    LAYERS: layerNames,\n    QUERY_LAYERS: layerNames,\n    filtertoken: _applicationState2.default.tokens.filtertoken,\n    INFO_FORMAT: infoFormat,\n    FEATURE_COUNT: feature_count,\n    WITH_GEOMETRY: true,\n    DPI: DPI\n  }, PARAMS_TOLERANCE, {\n    WIDTH: size[0],\n    HEIGHT: size[1],\n    //LEGEND_ON / LEGEND_OFF parameter\n    LEGEND_ON: LEGEND_PARAMS.LEGEND_ON.length ? LEGEND_PARAMS.LEGEND_ON.join(';') : undefined,\n    LEGEND_OFF: LEGEND_PARAMS.LEGEND_OFF.length ? LEGEND_PARAMS.LEGEND_OFF.join(';') : undefined\n  });\n  if (!('STYLES' in params)) params['STYLES'] = '';\n  var bbox = this._projections.map.getAxisOrientation().substr(0, 2) === 'ne' ? [extent[1], extent[0], extent[3], extent[2]] : extent;\n  params['BBOX'] = bbox.join(',');\n  return params;\n};\n\nproto.query = function () {\n  var _this = this;\n\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  var d = $.Deferred();\n  var infoFormat = this._layer.getInfoFormat() || 'application/vnd.ogc.gml';\n  var layerProjection = this._layer.getProjection();\n  this._projections.map = this._layer.getMapProjection() || layerProjection;\n  var _options$layers = options.layers,\n      layers = _options$layers === undefined ? [this._layer] : _options$layers,\n      _options$feature_coun = options.feature_count,\n      feature_count = _options$feature_coun === undefined ? 10 : _options$feature_coun,\n      _options$size = options.size,\n      size = _options$size === undefined ? GETFEATUREINFO_IMAGE_SIZE : _options$size,\n      _options$coordinates = options.coordinates,\n      coordinates = _options$coordinates === undefined ? [] : _options$coordinates,\n      resolution = options.resolution,\n      query_point_tolerance = options.query_point_tolerance;\n\n  var layer = layers[0];\n  var url = layer.getQueryUrl();\n  var METHOD = layer.isExternalWMS() || !/^\\/ows/.test(url) ? 'GET' : layer.getOwsMethod();\n  var params = this._getRequestParameters({ layers: layers, feature_count: feature_count, coordinates: coordinates, infoFormat: infoFormat, query_point_tolerance: query_point_tolerance, resolution: resolution, size: size });\n  var query = {\n    coordinates: coordinates,\n    resolution: resolution\n  };\n  var timeoutKey = this.getQueryResponseTimeoutKey({\n    layers: layers,\n    resolve: d.resolve,\n    query: query\n  });\n\n  if (layer.useProxy()) {\n    layer.getDataProxyFromServer('wms', {\n      url: url,\n      params: params,\n      method: METHOD,\n      headers: {\n        'Content-Type': infoFormat\n      }\n    }).then(function (response) {\n      var data = _this.handleQueryResponseFromServer(response, _this._projections, layers);\n      d.resolve({\n        data: data,\n        query: query\n      });\n    });\n  } else this[METHOD]({ url: url, layers: layers, params: params }).then(function (response) {\n    var data = _this.handleQueryResponseFromServer(response, _this._projections, layers);\n    d.resolve({\n      data: data,\n      query: query\n    });\n  }).catch(function (err) {\n    return d.reject(err);\n  }).finally(function () {\n    return clearTimeout(timeoutKey);\n  });\n  return d.promise();\n};\n\nproto.GET = function () {\n  var _ref2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      url = _ref2.url,\n      params = _ref2.params;\n\n  var sourceParam = url.split('SOURCE');\n  if (sourceParam.length) {\n    url = sourceParam[0];\n    if (sourceParam.length > 1) sourceParam = '&SOURCE' + sourceParam[1];else sourceParam = '';\n  }\n  url = appendParams(url, params);\n  url = '' + url + (sourceParam && sourceParam);\n  return XHR.get({\n    url: url\n  });\n};\n\nproto.POST = function () {\n  var _ref3 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      url = _ref3.url,\n      params = _ref3.params;\n\n  return XHR.post({\n    url: url,\n    data: params\n  });\n};\n\nmodule.exports = WMSDataProvider;\n\n},{\"constant\":4,\"core/layers/providers/provider\":50,\"core/utils/geo\":64,\"core/utils/ol\":66,\"core/utils/utils\":68,\"store/application-state\":373}],55:[function(require,module,exports){\nvar _require = require('core/utils/utils'),\n    inherit = _require.inherit,\n    base = _require.base;\n\nvar DataProvider = require('core/layers/providers/provider');\n\nfunction XMLDataProvider() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  base(this);\n  this._name = 'xml';\n}\n\ninherit(XMLDataProvider, DataProvider);\n\nvar proto = XMLDataProvider.prototype;\n\nproto.getData = function () {\n  var d = $.Deferred();\n  return d.promise();\n};\n\nmodule.exports = XMLDataProvider;\n\n},{\"core/layers/providers/provider\":50,\"core/utils/utils\":68}],56:[function(require,module,exports){\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _constant = require('app/constant');\n\nvar _catalogLayers = require('store/catalog-layers');\n\nvar _catalogLayers2 = _interopRequireDefault(_catalogLayers);\n\nvar _projects = require('store/projects');\n\nvar _projects2 = _interopRequireDefault(_projects);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit;\n\nvar Layer = require('core/layers/layer');\nvar Editor = require('core/editing/editor');\nvar FeaturesStore = require('core/layers/features/featuresstore');\nvar Feature = require('core/layers/features/feature');\n\n// Base Layer that support editing\nfunction TableLayer() {\n  var _this3 = this;\n\n  var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  // setters\n  this.setters = {\n    // delete all features\n    clearFeatures: function clearFeatures() {\n      this._clearFeatures();\n    },\n    addFeature: function addFeature(feature) {\n      this._addFeature(feature);\n    },\n    deleteFeature: function deleteFeature(feature) {\n      this._deleteFeature(feature);\n    },\n    updateFeature: function updateFeature(feature) {\n      this._updateFeature(feature);\n    },\n    setFeatures: function setFeatures(features) {\n      this._setFeatures(features);\n    },\n\n    // get data from every sources (server, wms, etc..)\n    // throught provider related to featuresstore\n    getFeatures: function getFeatures() {\n      var _this = this;\n\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      var d = $.Deferred();\n      this._featuresstore.getFeatures(options).then(function (promise) {\n        promise.then(function (features) {\n          _this.emit('getFeatures', features);\n          return d.resolve(features);\n        }).fail(function (err) {\n          return d.reject(err);\n        });\n      }).fail(function (err) {\n        return d.reject(err);\n      });\n      return d.promise();\n    },\n    commit: function commit(commitItems) {\n      var _this2 = this;\n\n      var d = $.Deferred();\n      this._featuresstore.commit(commitItems).then(function (promise) {\n        promise.then(function (response) {\n          response && response.result && _this2.syncSelectionFilterFeatures(commitItems);\n          d.resolve(response);\n        }).fail(function (err) {\n          return d.reject(err);\n        });\n      }).fail(function (err) {\n        d.reject(err);\n      });\n      return d.promise();\n    },\n    setColor: function setColor(color) {\n      this._setColor(color);\n    }\n  };\n  /*\n   * editing url api:\n   * /api/vector/<type of request: data/editing/config>/<project_type>/<project_id>/<layer_id>\n   * example: /api/vector/config/qdjango/10/points273849503023\n   *\n  */\n  this.type = Layer.LayerTypes.TABLE;\n  // color\n  this._color = null;\n  options.project = options.project || _projects2.default.getCurrentProject();\n  this.layerId = config.id;\n  // add urls\n  config.urls = config.urls || {};\n  // add editing configurations\n  config.editing = {\n    fields: [] // editing fields\n  };\n  // call base layer\n  base(this, config, options);\n\n  // get configuration from server if is editable\n  this._editatbleLayer;\n  if (this.isEditable()) {\n    // add state info for the layer\n    this.layerForEditing = new Promise(function (resolve, reject) {\n      _this3.getEditingConfig().then(function () {\n        var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n            vector = _ref.vector,\n            _ref$constraints = _ref.constraints,\n            constraints = _ref$constraints === undefined ? {} : _ref$constraints,\n            _ref$capabilities = _ref.capabilities,\n            capabilities = _ref$capabilities === undefined ? _constant.DEFAULT_EDITING_CAPABILITIES : _ref$capabilities;\n\n        _this3.config.editing.fields = vector.fields;\n        _this3.config.editing.format = vector.format;\n        _this3.config.editing.constraints = constraints;\n        //set default editing capabilities\n        _this3.config.editing.capabilities = capabilities;\n        _this3.config.editing.style = vector.style;\n        _this3.config.editing.form = {\n          perc: null\n        };\n        _this3._setOtherConfigParameters(vector);\n        vector.style && _this3.setColor(vector.style.color);\n        // create an instance of editor\n        _this3._editor = new Editor({\n          layer: _this3\n        });\n\n        resolve(_this3);\n        _this3.setReady(true);\n      }).fail(function (err) {\n        reject(_this3);\n        _this3.setReady(false);\n      });\n    });\n    this.state = _extends({}, this.state, {\n      editing: {\n        started: false,\n        modified: false,\n        ready: false\n      }\n    });\n  }\n  this._featuresstore = new FeaturesStore({\n    provider: this.providers.data\n  });\n}\n\ninherit(TableLayer, Layer);\n\nvar proto = TableLayer.prototype;\n\n//sync selection\nproto.syncSelectionFilterFeatures = function (commitItems) {\n  try {\n    var layer = _catalogLayers2.default.getLayerById(this.getId());\n    layer.isGeoLayer() && commitItems.update.forEach(function (updateItem) {\n      var id = updateItem.id,\n          geometry = updateItem.geometry;\n\n      layer.getOlSelectionFeature(id) && layer.updateOlSelectionFeature({ id: id, geometry: geometry });\n    });\n    commitItems.delete.forEach(function (id) {\n      layer.hasSelectionFid(id) && layer.excludeSelectionFid(id);\n    });\n  } catch (err) {}\n};\n\nproto.setFormPercentage = function (perc) {\n  this.config.editing.form.perc = perc;\n};\n\nproto.getFormPercentage = function () {\n  return this.config.editing.form.perc;\n};\n\nproto.clone = function () {\n  return _.cloneDeep(this);\n};\n\nproto.cloneFeatures = function () {\n  return this._featuresstore.clone();\n};\n\nproto.setVectorUrl = function (url) {\n  this.vectorUrl = url;\n};\n\nproto.setProjectType = function (projectType) {\n  this.projectType = projectType;\n};\n\nproto._setColor = function (color) {\n  this._color = color;\n};\n\nproto.getColor = function () {\n  return this._color;\n};\n\nproto.readFeatures = function () {\n  return this._featuresstore.readFeatures();\n};\n\n// return layer for editing\nproto.getLayerForEditing = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n  var _ref3 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      vectorurl = _ref3.vectorurl,\n      project_type = _ref3.project_type;\n\n  var editableLayer;\n  return regeneratorRuntime.wrap(function _callee$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          vectorurl && this.setVectorUrl(vectorurl);\n          project_type && this.setProjectType(project_type);\n          this.setEditingUrl();\n          editableLayer = this.clone();\n          _context.prev = 4;\n          _context.next = 7;\n          return editableLayer.layerForEditing;\n\n        case 7:\n          return _context.abrupt('return', _context.sent);\n\n        case 10:\n          _context.prev = 10;\n          _context.t0 = _context['catch'](4);\n          return _context.abrupt('return', _context.t0);\n\n        case 13:\n        case 'end':\n          return _context.stop();\n      }\n    }\n  }, _callee, this, [[4, 10]]);\n}));\n\nproto.getEditingSource = function () {\n  return this._editor.getEditingSource();\n};\n\nproto.readEditingFeatures = function () {\n  return this._editor.readEditingFeatures();\n};\n\nproto.getEditingLayer = function () {\n  return this;\n};\n\n//check if is editingLayer useful to get editingstyle\nproto.isEditingLayer = function () {\n  return !!this.config.editing;\n};\n\nproto.getEditingStyle = function () {\n  return this.config.editing.style;\n};\n\nproto.setEditingStyle = function () {\n  var style = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  this.config.editing.style = style;\n};\n\nproto.getEditingConstrains = function () {\n  return this.config.editing.constraints;\n};\n\nproto.getEditingCapabilities = function () {\n  return this.config.editing.capabilities;\n};\n\nproto.isFieldRequired = function (fieldName) {\n  var required = false;\n  this.getEditingFields().forEach(function (field) {\n    if (fieldName === field.name) {\n      required = !!field.validate.required;\n      return false;\n    }\n  });\n  return required;\n};\n\n// unlock editng features\nproto.unlock = function () {\n  var d = $.Deferred();\n  this._featuresstore.unlock().then(function () {\n    return d.resolve();\n  }).fail(function (err) {\n    return d.reject(err);\n  });\n  return d.promise();\n};\n\nproto._setOtherConfigParameters = function (config) {\n  // overwrite by vector layer\n};\n\n// return layer fields\nproto.getEditingFields = function () {\n  var editable = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n  var fields = this.config.editing.fields.length ? this.config.editing.fields : this.config.fields;\n  if (editable) fields = fields.filter(function (field) {\n    return field.editable;\n  });\n  return fields;\n};\n\nproto.isPkField = function (field) {\n  var find_field = this.getEditingFields().find(function (_field) {\n    return _field.name === field;\n  });\n  return find_field && find_field.pk;\n};\n\nproto.isEditingFieldEditable = function (field) {\n  var find_field = this.getEditingFields().find(function (_field) {\n    return _field.name === field;\n  });\n  return find_field ? find_field.editable : false;\n};\n\nproto.getEditingNotEditableFields = function () {\n  return this.config.editing.fields.filter(function (field) {\n    return !field.editable;\n  }).map(function (field) {\n    return field.name;\n  });\n};\n\nproto.getEditingMediaFields = function () {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n\n  return this.config.editing.fields.filter(function (field) {\n    return field.input.type === 'media';\n  }).map(function (field) {\n    return field.name;\n  });\n};\n\nproto.getFieldsLabel = function () {\n  var labels = [];\n  this.getEditingFields().forEach(function (field) {\n    return labels.push(field.label);\n  });\n  return labels;\n};\n\nproto.getDataFormat = function () {\n  return this.config.editing.format;\n};\n\n// raw data\nproto.getEditingFormat = function () {\n  return this.config.editing.format;\n};\n\nproto.isReady = function () {\n  return this.state.editing.ready;\n};\n\nproto.setReady = function () {\n  var bool = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n  this.state.editing.ready = bool;\n};\n\n// get configuration from server\nproto.getEditingConfig = function () {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  var d = $.Deferred();\n  var provider = this.getProvider('data');\n  provider.getConfig(options).then(function (config) {\n    return d.resolve(config);\n  }).fail(function (err) {\n    return d.reject(err);\n  });\n  return d.promise();\n};\n\nproto.addEditingConfigFieldOption = function () {\n  var _ref4 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      field = _ref4.field,\n      key = _ref4.key,\n      value = _ref4.value;\n\n  var options = field.input.options;\n  options[key] = value;\n  return options[key];\n};\n\nproto.getWidgetData = function (options) {\n  var provider = this.getProvider('data');\n  var d = $.Deferred();\n  provider.getWidgetData(options).then(function (response) {\n    return d.resolve(response);\n  }).fail(function (err) {\n    return d.reject(err);\n  });\n  return d.promise();\n};\n\nproto.getCommitUrl = function () {\n  return this.config.urls.commit;\n};\n\nproto.setCommitUrl = function (url) {\n  this.config.urls.commit = url;\n};\n\nproto.getEditingUrl = function () {\n  return this.config.urls.editing;\n};\n\nproto.getUnlockUrl = function () {\n  return this.config.url.unlock;\n};\n\nproto.setUnlockUrl = function (url) {\n  this.config.urls.unlock = url;\n};\n\nproto.getWidgetUrl = function () {\n  return this.config.urls.widget;\n};\n\n// set data url\nproto.setDataUrl = function (url) {\n  this.config.urls.data = url;\n};\n\nproto.getDataUrl = function () {\n  return this.config.urls.data;\n};\n\n// url to get config layer\nproto.getConfigUrl = function () {\n  return this.config.urls.config;\n};\n\nproto.setConfigUrl = function (url) {\n  this.config.urls.index = url;\n};\n\nproto.getEditor = function () {\n  return this._editor;\n};\n\nproto.isStarted = function () {\n  return this.getEditor().isStarted();\n};\n\nproto.setEditor = function (editor) {\n  this._editor = editor;\n};\n\nproto.getFeaturesStore = function () {\n  return this._featuresstore;\n};\n\nproto.setFeaturesStore = function (featuresstore) {\n  this._featuresstore = featuresstore;\n};\n\nproto.setSource = function (source) {\n  this.setFeaturesStore(source);\n};\n\nproto.getSource = function () {\n  return this._featuresstore;\n};\n\n// get editing style\nproto.getEditingStyle = function () {\n  return this.config.editing.style;\n};\n\nproto._setFeatures = function (features) {\n  this._featuresstore.setFeatures(features);\n};\n\nproto.addFeatures = function (features) {\n  var _this4 = this;\n\n  features.forEach(function (feature) {\n    return _this4.addFeature(feature);\n  });\n};\n\nproto._addFeature = function (feature) {\n  this._featuresstore.addFeature(feature);\n};\n\nproto._deleteFeature = function (feature) {\n  return feature.getId();\n};\n\nproto._updateFeature = function (feature) {};\n\nproto._clearFeatures = function () {\n  this._featuresstore.clearFeatures();\n};\n\nproto.addLockIds = function (lockIds) {\n  this._featuresstore.addLockIds(lockIds);\n};\n\nproto.setFieldsWithValues = function (feature, fields) {\n  var createAttributesFromFields = function createAttributesFromFields(fields) {\n    var attributes = {};\n    fields.forEach(function (field) {\n      if (field.type === 'child') {\n        attributes[field.name] = createAttributesFromFields(field.fields);\n      } else if (field.value === 'null') {\n        field.value = null;\n      }\n      attributes[field.name] = field.value;\n    });\n    return attributes;\n  };\n  var attributes = createAttributesFromFields(fields);\n  feature.setProperties(attributes);\n  return attributes;\n};\n\nproto.getFieldsWithValues = function (obj) {\n  var _this5 = this;\n\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var _options$exclude = options.exclude,\n      exclude = _options$exclude === undefined ? [] : _options$exclude,\n      _options$get_default_ = options.get_default_value,\n      get_default_value = _options$get_default_ === undefined ? true : _options$get_default_;\n\n\n  var fields = JSON.parse(JSON.stringify(this.getEditingFields()));\n  var feature = void 0;\n\n  if (obj instanceof Feature) {\n    feature = obj;\n  } else if (obj instanceof ol.Feature) {\n    feature = new Feature({ feature: obj });\n  } else if (obj) {\n    feature = this.getFeatureById(obj);\n  } else {\n    return fields;\n  }\n\n  var attributes = feature.getProperties();\n\n  fields.forEach(function (field) {\n\n    field.value = attributes[field.name];\n\n    // store original value\n    field._value = attributes[field.name];\n\n    // at beginning set update false. Used to form\n    field.update = false;\n\n    if (field.input) {\n      var _options = _this5.getEditingFields().find(function (_field) {\n        return _field.name === field.name;\n      }).input.options;\n      field.input.options.loading = _options.loading || { state: null };\n      field.input.options.values = _options.values;\n    }\n\n    // exclude contain field to set visible false\n    field.visible = exclude.indexOf(field.name) === -1;\n\n    // for editing purpose\n    if (undefined === field.validate) {\n      field.validate = {};\n    }\n\n    field.forceNull = false;\n\n    field.validate.valid = true;\n\n    //useful to get previous value in certain case\n    field.validate._valid = true;\n\n    // need to be check if default value is set by server configuration field\n    field.value_from_default_value = false;\n\n    // specify if need to get value from form field.input.options.default value in case of missing value of field.value\n    field.get_default_value = get_default_value;\n\n    field.validate.unique = field.validate.unique || false;\n\n    // for validate.unique purpose to check is new value iserted or change need to be di\n    field.validate.exclude_values = new Set();\n\n    field.validate.required = field.validate.required || false;\n\n    field.validate.mutually_valid = true;\n\n    field.validate.empty = !field.validate.required;\n\n    field.validate.message = null;\n  });\n\n  return fields;\n};\n\nproto.createNewFeature = function () {\n  var feature = new ol.Feature();\n  var properties = {};\n  this.getEditingFields().forEach(function (field) {\n    return properties[field.name] = null;\n  });\n  feature.setProperties(properties);\n  feature = new Feature({\n    feature: feature\n  });\n  feature.setNew();\n  return feature;\n};\n\nmodule.exports = TableLayer;\n\n},{\"app/constant\":4,\"core/editing/editor\":6,\"core/layers/features/feature\":26,\"core/layers/features/featuresstore\":27,\"core/layers/layer\":34,\"core/utils/utils\":68,\"store/catalog-layers\":374,\"store/projects\":379}],57:[function(require,module,exports){\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit,\n    mixin = _require.mixin;\n\nvar Layer = require('core/layers/layer');\nvar TableLayer = require('core/layers/tablelayer');\nvar GeoLayerMixin = require('core/layers/geolayermixin');\nvar VectorMapLayer = require('core/layers/map/vectorlayer');\n\nfunction VectorLayer() {\n  var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var options = arguments[1];\n\n  base(this, config, options);\n  this._mapLayer = null; // later tah will be added to map\n  this.type = Layer.LayerTypes.VECTOR;\n  // need a ol layer for add to map\n  this.setup(config, options);\n  this.onafter('setColor', function (color) {});\n}\n\ninherit(VectorLayer, TableLayer);\n\nmixin(VectorLayer, GeoLayerMixin);\n\nvar proto = VectorLayer.prototype;\n\nproto.getEditingLayer = function () {\n  return this.getMapLayer().getOLLayer();\n};\n\nproto.resetEditingSource = function () {\n  var features = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n  this.getMapLayer().resetSource(features);\n};\n\nproto._setOtherConfigParameters = function (config) {\n  this.config.editing.geometrytype = config.geometrytype;\n};\n\nproto.getEditingGeometryType = function () {\n  return this.config.editing.geometrytype;\n};\n\nproto.getMapLayer = function () {\n  if (this._mapLayer) return this._mapLayer;\n  var id = this.getId();\n  var geometryType = this.getGeometryType();\n  var color = this.getColor();\n  var style = this.isEditingLayer() ? this.getEditingStyle() : this.getCustomStyle();\n  var provider = this.getProvider('data');\n  this._mapLayer = new VectorMapLayer({\n    id: id,\n    geometryType: geometryType,\n    color: color,\n    style: style,\n    provider: provider,\n    features: this._editor && this._editor.getEditingSource().getFeaturesCollection()\n  });\n  return this._mapLayer;\n};\n\nmodule.exports = VectorLayer;\n\n},{\"core/layers/geolayermixin\":32,\"core/layers/layer\":34,\"core/layers/map/vectorlayer\":44,\"core/layers/tablelayer\":56,\"core/utils/utils\":68}],58:[function(require,module,exports){\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _plugins = require('store/plugins');\n\nvar _plugins2 = _interopRequireDefault(_plugins);\n\nvar _projects = require('store/projects');\n\nvar _projects2 = _interopRequireDefault(_projects);\n\nvar _application = require('services/application');\n\nvar _application2 = _interopRequireDefault(_application);\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit,\n    toRawType = _require.toRawType;\n\nvar G3WObject = require('core/g3wobject');\nvar ComponentsFactory = require('gui/component/componentsfactory');\n\nvar _require2 = require('core/i18n/i18n.service'),\n    addI18nPlugin = _require2.addI18nPlugin;\n\nvar TIMEOUT = 10000;\n\nvar Plugin = function Plugin() {\n  var _this = this;\n\n  var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      _ref$name = _ref.name,\n      name = _ref$name === undefined ? null : _ref$name,\n      _ref$config = _ref.config,\n      config = _ref$config === undefined ? _plugins2.default.getPluginConfig(name) : _ref$config,\n      _ref$service = _ref.service,\n      service = _ref$service === undefined ? null : _ref$service,\n      _ref$dependencies = _ref.dependencies,\n      dependencies = _ref$dependencies === undefined ? [] : _ref$dependencies,\n      _ref$i18n = _ref.i18n,\n      i18n = _ref$i18n === undefined ? null : _ref$i18n,\n      _ref$fontClasses = _ref.fontClasses,\n      fontClasses = _ref$fontClasses === undefined ? [] : _ref$fontClasses,\n      _ref$api = _ref.api,\n      api = _ref$api === undefined ? {} : _ref$api;\n\n  base(this);\n\n  this.setName(name);\n  this.setConfig(config);\n  this.setLocale(i18n);\n  this.setService(service);\n  this.setDependencies(dependencies);\n  this.addFontClasses(fontClasses);\n  this.setApi(api);\n  this.setHookService(null);\n\n  this._ready = false;\n\n  // List of sidebar services that usually plugin need to interact with (hook = place/name of component)\n  this.hookservices = {\n    'search': _gui2.default.getService('search'),\n    'tools': _gui2.default.getService('tools')\n  };\n\n  // Automatically remove the loading plugin indicator after timeout\n  this._timeout = setTimeout(function () {\n    _plugins2.default.removeLoadingPlugin(_this.name, _this._ready);\n    _this.removeLayout();\n  }, TIMEOUT);\n};\n\ninherit(Plugin, G3WObject);\n\nvar proto = Plugin.prototype;\n\nproto.setName = function (name) {\n  this.name = name;\n};\n\nproto.getName = function () {\n  return this.name;\n};\n\nproto.setConfig = function (config) {\n  this.config = toRawType(config) === 'Object' ? config : null;\n};\n\nproto.getConfig = function () {\n  var name = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.name;\n\n  return this.config || _plugins2.default.getPluginConfig(name);\n};\n\nproto.setLocale = function (i18n) {\n  if (i18n && this.name) addI18nPlugin({ name: this.name, config: i18n });\n};\n\nproto.setService = function (service) {\n  this.service = service;\n  if (service) service.setPlugin(this);\n};\n\nproto.getService = function () {\n  return this.service;\n};\n\nproto.setDependencies = function (dependencies) {\n  this.dependencies = dependencies;\n};\n\nproto.setApi = function () {\n  var api = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  this._api = api;\n  /**\n   * @FIXME useless assignment ?\n   */\n  api.getConfig = this._api.getConfig; // add alias for \"api.getConfig()\" method\n};\n\nproto.getApi = function () {\n  return this._api;\n};\n\nproto.setHookService = function (hook) {\n  this._hook = hook;\n};\n\nproto.getHookService = function () {\n  var hook = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : \"tools\";\n\n  return this.hookservices[hook];\n};\n\n/**\n * Override plugin's content default layout (eg. default panel width, height, ...)\n * \n * @see g3wsdk.core.ApplicationState.gui.layout\n */\nproto.setLayout = function () {\n  var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : _application2.default.cloneLayout('app');\n\n  _application2.default.setLayout(this.name, config);\n};\n\n/**\n * @FIXME add description\n * \n * @see g3wsdk.core.ApplicationState.gui.layout.__current\n */\nproto.setCurrentLayout = function () {\n  _application2.default.setCurrentLayout(this.name);\n};\n\n/**\n * @FIXME add description\n * \n * @see g3wsdk.core.ApplicationState.gui.layout\n */\nproto.removeLayout = function () {\n  _application2.default.removeLayout(this.name);\n};\n\n/**\n * @FIXME add description\n */\nproto.setReady = function (isReady) {\n  var _this2 = this;\n\n  this._ready = isReady;\n  if (this._ready) {\n    this.setLayout();\n  }\n  this.emit('set-ready', isReady, this.name);\n  /**\n   * @FIXME empty delay ?\n   */\n  setTimeout(function () {\n    clearTimeout(_this2._timeout);\n    _plugins2.default.removeLoadingPlugin(_this2.name, _this2._ready);\n  }, 0 /* 0 = allow any previously \"setTimeout\" to execute */);\n};\n\n/**\n * @FIXME add description\n */\nproto.isReady = function () {\n  var _this3 = this;\n\n  return new Promise(function (resolve) {\n    _this3._ready ? resolve(_this3._ready) : _this3.once('set-ready', function (isReady) {\n      _this3._ready = isReady;resolve(_this3._ready);\n    });\n  });\n};\n\n/**\n * Check if plugin is compatible with current projectId\n */\nproto.isCurrentProjectCompatible = function (projectId) {\n  return projectId === _projects2.default.getCurrentProject().getGid();\n};\n\n/**\n * Check and register plugin only when compatible with current projectId (eg: qdjango:1)\n */\nproto.registerPlugin = function (projectId) {\n  var iscompatible = this.isCurrentProjectCompatible(projectId);\n  if (iscompatible) {\n    _plugins2.default.registerPlugin(this);\n  } else {\n    _plugins2.default.removeLoadingPlugin(this.name, false);\n    clearTimeout(this._timeout);\n  }\n  return iscompatible;\n};\n\n/**\n * @FIXME explain better what it does\n * \n * Get plugin dependencies \n */\nproto.getDependencyPlugins = function (pluginsName) {\n  var _this4 = this;\n\n  this.dependencies = pluginsName || this.dependencies;\n  return Promise.all(this.dependencies.map(function (pluginName) {\n    return _this4.getDependencyPlugin(pluginName);\n  }));\n};\n\n/**\n * @FIXME explain better what it does\n * \n * Create to not replace above plugin method used by non changed old plugin\n */\nproto.getDependencyPluginsObject = function () {\n  var _ref2 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(pluginsName) {\n    var pluginsApiObject, promises;\n    return regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            pluginsApiObject = {};\n            _context.next = 3;\n            return this.getDependencyPlugins(pluginsName);\n\n          case 3:\n            promises = _context.sent;\n\n            this.dependencies.forEach(function (pluginName, index) {\n              return pluginsApiObject[pluginName] = promises[index];\n            });\n            return _context.abrupt('return', pluginsApiObject);\n\n          case 6:\n          case 'end':\n            return _context.stop();\n        }\n      }\n    }, _callee, this);\n  }));\n\n  return function (_x6) {\n    return _ref2.apply(this, arguments);\n  };\n}();\n\n/**\n * @FIXME explain better what it does\n * \n * Get plugin dependency\n */\nproto.getDependencyPlugin = function (pluginName) {\n  if (_plugins2.default.isTherePlugin(pluginName)) {\n    return new Promise(function (resolve) {\n      var plugin = _plugins2.default.getPlugin(pluginName);\n      /**\n       * @TODO refactor weird shortcircuiting logic\n       */\n      plugin && plugin.isReady().then(function () {\n        return resolve(plugin.getApi());\n      }) || _plugins2.default.onafter('registerPlugin', function (plugin) {\n        plugin.name === pluginName && plugin.isReady().then(function () {\n          resolve(plugin.getApi());\n        });\n      });\n    });\n  }\n  return Promise.reject({ error: 'no plugin' });\n};\n\n/**\n * Handle loading process of a specific hook service (eg. \"tools\" interface on the left sidebar)\n */\nproto.setHookLoading = function () {\n  var _ref3 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      _ref3$hook = _ref3.hook,\n      hook = _ref3$hook === undefined ? \"tools\" : _ref3$hook,\n      _ref3$loading = _ref3.loading,\n      loading = _ref3$loading === undefined ? false : _ref3$loading;\n\n  this.getHookService(hook).setLoading(loading);\n};\n\n/**\n * @FIXME add description\n */\nproto.addToolGroup = function () {\n  var _ref4 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      _ref4$hook = _ref4.hook,\n      hook = _ref4$hook === undefined ? \"tools\" : _ref4$hook,\n      order = _ref4.position,\n      group = _ref4.title;\n\n  this.getHookService(hook).addToolGroup(order, group);\n};\n\n/**\n * @FIXME add description\n */\nproto.removeToolGroup = function () {\n  var _ref5 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      hook = _ref5.hook,\n      group = _ref5.group;\n\n  this.getHookService(hook).removeToolGroup(group.title);\n};\n\n/**\n * @FIXME add description\n */\nproto.addTools = function () {\n  var _this5 = this;\n\n  var _ref6 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      _ref6$hook = _ref6.hook,\n      hook = _ref6$hook === undefined ? \"tools\" : _ref6$hook,\n      action = _ref6.action,\n      html = _ref6.html,\n      _ref6$offline = _ref6.offline,\n      offline = _ref6$offline === undefined ? true : _ref6$offline,\n      icon = _ref6.icon,\n      name = _ref6.name,\n      type = _ref6.type,\n      _ref6$options = _ref6.options,\n      options = _ref6$options === undefined ? {} : _ref6$options,\n      _ref6$loading = _ref6.loading,\n      loading = _ref6$loading === undefined ? false : _ref6$loading,\n      _ref6$disabled = _ref6.disabled,\n      disabled = _ref6$disabled === undefined ? false : _ref6$disabled,\n      _ref6$state = _ref6.state,\n      state = _ref6$state === undefined ? {\n    type: null,\n    message: null\n  } : _ref6$state;\n\n  var groupTools = arguments[1];\n\n  if (!action && !type) {\n    this.removeToolGroup({ hook: hook, group: groupTools });\n    return [];\n  } else {\n    this.setHookService(hook);\n    var tools = (this.config.configs || [this.config]).map(function (config) {\n      return {\n        icon: icon,\n        type: type,\n        name: config.name || name,\n        html: html,\n        loading: loading,\n        disabled: disabled,\n        options: options,\n        offline: offline,\n        action: action && action.bind(_this5, config),\n        state: state\n      };\n    });\n    this.getHookService(hook).addTools(tools, groupTools);\n    return tools;\n  }\n};\n\n/**\n * @FIXME add description\n */\nproto.setToolState = function () {\n  var _ref7 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      id = _ref7.id,\n      _ref7$state = _ref7.state,\n      state = _ref7$state === undefined ? { type: null, message: null } : _ref7$state;\n\n  this.hookservices[this._hook].setToolState({ id: id, state: state });\n};\n\n/**\n * @FIXME add description\n */\nproto.removeTools = function () {\n  this.hookservices[this._hook].removeTools();\n};\n\n/**\n * Helper method to create and add a custom component item on the left sidebar\n */\nproto.createSideBarComponent = function (vueComponentObject) {\n  var _ref8, _ref8$open, _ref8$collapsible, _ref8$mobile, _ref8$isolate, _ref8$closewhenshowvi, _ref8$iconConfig, _ref8$events, _ref8$sidebarOptions;\n\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : (_ref8 = {}, id = _ref8.id, title = _ref8.title, _ref8$open = _ref8.open, open = _ref8$open === undefined ? false : _ref8$open, _ref8$collapsible = _ref8.collapsible, collapsible = _ref8$collapsible === undefined ? true : _ref8$collapsible, _ref8$mobile = _ref8.mobile, mobile = _ref8$mobile === undefined ? true : _ref8$mobile, _ref8$isolate = _ref8.isolate, isolate = _ref8$isolate === undefined ? false : _ref8$isolate, _ref8$closewhenshowvi = _ref8.closewhenshowviewportcontent, closewhenshowviewportcontent = _ref8$closewhenshowvi === undefined ? true : _ref8$closewhenshowvi, _ref8$iconConfig = _ref8.iconConfig, iconConfig = _ref8$iconConfig === undefined ? {\n    // color: 'yellow',                // color of icon\n    // icon:'pin',                     // see gui\\vue\\vueappplugin.js font list\n  } : _ref8$iconConfig, _ref8$events = _ref8.events, events = _ref8$events === undefined ? {\n    // open: {\n    //   when: 'before',\n    //   cb:() => { /* TODO: add sample usage */ }\n    // }\n  } : _ref8$events, _ref8$sidebarOptions = _ref8.sidebarOptions, sidebarOptions = _ref8$sidebarOptions === undefined ? {\n    position: 1 // can be a number or a string \n  } : _ref8$sidebarOptions, _ref8);\n\n\n  var componentsFactoryOpts = _extends({}, options, {\n    iconColor: options.iconConfig.color,\n    icon: _gui2.default.getFontClass(options.iconConfig.icon)\n  });\n\n  delete componentsFactoryOpts.iconConfig;\n\n  var PluginSiderbarComponent = ComponentsFactory.build({ vueComponentObject: vueComponentObject }, componentsFactoryOpts);\n  _gui2.default.addComponent(PluginSiderbarComponent, 'sidebar', options.sidebarOptions);\n  this.once('unload', function () {\n    return _gui2.default.removeComponent(id, 'sidebar', options.sidebarOptions);\n  });\n  return PluginSiderbarComponent;\n};\n\n/**\n * @deprecated since v3.4.\n */\nproto.unload = function () {\n  this.service && this.service.clearAllEvents();\n  this.emit('unload');\n  //console.log('UNLOAD can be overwrite by plugin');\n};\n\n/**\n * @deprecated since v3.4.\n */\nproto.load = function () {\n  //console.log('LOAD  need to be overwrite by plugin');\n};\n\n/**\n * @TODO it could be depecrated after v3.4 ?\n */\nproto.getProject = function () {\n  return _projects2.default.getCurrentProject();\n};\n\n/**\n * @TODO it could be depecrated after v3.4 ?\n */\nproto.addDependency = function (dependency) {\n  this.dependencies.push(dependency);\n};\n\n/**\n * @TODO it could be depecrated after v3.4 ?\n */\nproto.addFontClass = function (_ref9) {\n  var name = _ref9.name,\n      className = _ref9.className;\n\n  Vue.prototype.g3wtemplate.addFontClass({ name: name, className: className });\n};\n\n/**\n * @TODO it could be depecrated after v3.4 ?\n */\nproto.addFontClasses = function () {\n  var _this6 = this;\n\n  var fonClasses = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n  fonClasses.forEach(function (fontClass) {\n    return _this6.addFontClass(fontClass);\n  });\n};\n\nmodule.exports = Plugin;\n\n},{\"core/g3wobject\":12,\"core/i18n/i18n.service\":13,\"core/utils/utils\":68,\"gui/component/componentsfactory\":118,\"services/application\":351,\"services/gui\":361,\"store/plugins\":378,\"store/projects\":379}],59:[function(require,module,exports){\nvar _applicationState = require('store/application-state');\n\nvar _applicationState2 = _interopRequireDefault(_applicationState);\n\nvar _application = require('services/application');\n\nvar _application2 = _interopRequireDefault(_application);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit;\n\nvar G3WObject = require('core/g3wobject');\n\nfunction PluginService() {\n  var _this = this;\n\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  base(this, options);\n  this.plugin;\n  this._api = {\n    own: null,\n    dependencies: {}\n  };\n  this._pluginEvents = {};\n  this._appEvents = [];\n  this.currentLayout = _application2.default.getCurrentLayoutName();\n  this.vm = new Vue();\n  this.unwatch = this.vm.$watch(function () {\n    return _applicationState2.default.gui.layout.__current;\n  }, function (currentLayoutName) {\n    return _this.currentLayout = currentLayoutName !== _this.getPlugin().getName() ? currentLayoutName : _this.currentLayout;\n  });\n}\n\ninherit(PluginService, G3WObject);\n\nvar proto = PluginService.prototype;\n\n/**\n * Set a default init method. Overwrite by each plugin\n * @param config: plugin configuration object\n */\nproto.init = function () {\n  var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  this.config = config;\n};\n\nproto.setCurrentLayout = function () {\n  _application2.default.setCurrentLayout(this.getPlugin().getName());\n};\n\nproto.resetCurrentLayout = function () {\n  _application2.default.setCurrentLayout(this.currentLayout);\n};\n\n// set owner plugin of the service\nproto.setPlugin = function (plugin) {\n  this.plugin = plugin;\n};\n\n// return the instance of the plugin owner of the service\nproto.getPlugin = function () {\n  return this.plugin;\n};\n\nproto.isIframe = function () {\n  return _application2.default.isIframe();\n};\n\n/**\n * Get Current Project\n */\nproto.getCurrentProject = function () {\n  return _application2.default.getCurrentProject();\n};\n\nproto.getGid = function () {\n  var gid = this.config.gid;\n\n  return gid && gid.split(':')[1];\n};\n\nproto.getConfig = function () {\n  return this.config;\n};\n\nproto.setConfig = function (config) {\n  this.config = config;\n};\n\nproto.setApi = function () {\n  var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      dependency = _ref.dependency,\n      api = _ref.api;\n\n  if (!dependency) this._api.own = api;else this._api.dependencies[dependency] = api;\n};\n\nproto.getApi = function () {\n  var _ref2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      dependency = _ref2.dependency;\n\n  return dependency && this._api.dependencies[dependency] || this._api.own;\n};\n\nproto.initEvents = function () {\n  var events = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n  for (var i in events) {\n    var name = events[i];\n    this._pluginEvents[name] = {};\n  }\n};\n\nproto.registerWindowEvent = function () {\n  var _ref3 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      evt = _ref3.evt,\n      cb = _ref3.cb;\n\n  _application2.default.registerWindowEvent({\n    evt: evt,\n    cb: cb\n  });\n};\n\nproto.unregisterWindowEvent = function (_ref4) {\n  var evt = _ref4.evt,\n      cb = _ref4.cb;\n\n  _application2.default.unregisterWindowEvent({\n    evt: evt,\n    cb: cb\n  });\n};\n\nproto.subscribeEvent = function (_ref5) {\n  var name = _ref5.name,\n      _ref5$once = _ref5.once,\n      once = _ref5$once === undefined ? false : _ref5$once,\n      owner = _ref5.owner,\n      listener = _ref5.listener;\n\n  this._pluginEvents[name] = this._pluginEvents[name] ? this._pluginEvents[name] : {};\n  this._pluginEvents[name][owner] = listener;\n  once ? this.once(name, listener) : this.on(name, listener);\n};\n\nproto.triggerEvent = function (_ref6) {\n  var name = _ref6.name,\n      _ref6$params = _ref6.params,\n      params = _ref6$params === undefined ? {} : _ref6$params;\n\n  this.emit(name, params);\n};\n\nproto.unsubscribeEvent = function (_ref7) {\n  var name = _ref7.name,\n      owner = _ref7.owner;\n\n  var listener = this._pluginEvents[name][owner];\n  this.removeEvent(name, listener);\n  delete this._pluginEvents[name][owner];\n};\n\nproto.unsubscribeAllEvents = function () {\n  for (var name in this._pluginEvents) {\n    this.removeEvent(name);\n    delete this._pluginEvents[name];\n  }\n};\n\nproto.clearAllEvents = function () {\n  this.unsubscribeAllEvents();\n  this.unwatch();\n  this.vm = null;\n  this._pluginEvents = null;\n};\n\n// to owerwrite if we need some condition to load or not the plugin\nproto.loadPlugin = function () {\n  return true;\n};\n\n//Called when plugin is removed to clear events and memory\nproto.clear = function () {\n  // to overwrite\n};\n\nmodule.exports = PluginService;\n\n},{\"core/g3wobject\":12,\"core/utils/utils\":68,\"services/application\":351,\"store/application-state\":373}],60:[function(require,module,exports){\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _applicationState = require('store/application-state');\n\nvar _applicationState2 = _interopRequireDefault(_applicationState);\n\nvar _projects = require('store/projects');\n\nvar _projects2 = _interopRequireDefault(_projects);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit,\n    convertObjectToUrlParams = _require.convertObjectToUrlParams;\n\nvar G3WObject = require('core/g3wobject');\n\n/*\n http://localhost/fcgi-bin/qgis_mapserver/qgis_mapserv.fcgi?MAP=/home/marco/geodaten/projekte/composertest.qgs&SERVICE=WMS&VERSION=1.3.0\n &REQUEST=GetPrint&TEMPLATE=Composer 1&\n map0:extent=693457.466131,227122.338236,700476.845177,230609.807051&\n BBOX=693457.466131,227122.338236,700476.845177,230609.807051&\n CRS=EPSG:21781&WIDTH=1467&HEIGHT=729&LAYERS=layer0,layer1&\n STYLES=,&FORMAT=pdf&DPI=300&TRANSPARENT=true\n\n In detail, the following parameters can be used to set properties for composer maps:\n\n <mapname>:EXTENT=<xmin,ymin,xmax, ymax> //mandatory\n <mapname>:ROTATION=<double> //optional, defaults to 0\n <mapname>:SCALE=<double> //optional. Forces scale denominator as server and client may have different scale calculations\n <mapname>:LAYERS=<comma separated list with layer names> //optional. Defaults to all layer in the WMS request\n <mapname>:STYLES=<comma separated list with style names> //optional\n <mapname>:GRID_INTERVAL_X=<double> //set the grid interval in x-direction for composer grids\n <mapname>:GRID_INTERVAL_Y=<double> //set the grid interval in x-direction for composer grids\n */\nvar OUTPUT_FORMATS = { pdf: 'application/pdf', jpg: 'image/jpeg' };\nvar COMMON_REQUEST_PARAMETERS = { SERVICE: 'WMS', VERSION: '1.3.0' };\n\nvar getAtlasParamsFromOptions = function getAtlasParamsFromOptions() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var field = options.field,\n      values = options.values,\n      template = options.template,\n      _options$download = options.download,\n      download = _options$download === undefined ? false : _options$download;\n\n  var multiValues = values.length > 1;\n  /**\n   * @TODO refactor weird ternary logic\n   */\n  var EXPRESSION = '' + field + (multiValues ? ' IN (' : '=') + values.map(function (value) {\n    return '\\'' + value + '\\'';\n  }).join() + (multiValues ? ')' : '');\n  var params = _extends({}, COMMON_REQUEST_PARAMETERS, {\n    REQUEST: 'GetPrintAtlas',\n    EXP_FILTER: EXPRESSION,\n    TEMPLATE: template,\n    filtertoken: _applicationState2.default.tokens.filtertoken\n  });\n  if (download) params.DOWNLOAD = 1;\n  return params;\n};\n\nvar getParamsFromOptions = function getParamsFromOptions() {\n  var layers = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var rotation = options.rotation,\n      dpi = options.dpi,\n      format = options.format,\n      crs = options.crs,\n      template = options.template,\n      _options$maps = options.maps,\n      maps = _options$maps === undefined ? [] : _options$maps,\n      _options$labels = options.labels,\n      labels = _options$labels === undefined ? [] : _options$labels,\n      is_maps_preset_theme = options.is_maps_preset_theme;\n\n  var LAYERS = layers.map(function (layer) {\n    return layer.getPrintLayerName();\n  }).join();\n  var STYLES = layers.map(function (layer) {\n    return layer.getStyle();\n  }).join(',');\n  var params = _extends({}, COMMON_REQUEST_PARAMETERS, {\n    REQUEST: 'GetPrint',\n    TEMPLATE: template,\n    DPI: dpi,\n    STYLES: STYLES,\n    FORMAT: format,\n    CRS: crs,\n    filtertoken: _applicationState2.default.tokens.filtertoken\n  });\n\n  if (!is_maps_preset_theme) params.LAYERS = LAYERS;\n  maps.forEach(function (_ref) {\n    var name = _ref.name,\n        scale = _ref.scale,\n        extent = _ref.extent,\n        preset_theme = _ref.preset_theme;\n\n    params[name + ':SCALE'] = scale;\n    params[name + ':EXTENT'] = extent;\n    params[name + ':ROTATION'] = rotation;\n    if (is_maps_preset_theme && preset_theme === undefined) params[name + ':LAYERS'] = LAYERS;\n  });\n\n  labels.forEach(function (label) {\n    return params[label.id] = label.text;\n  });\n  return params;\n};\n\nvar GET = function GET(_ref2) {\n  var url = _ref2.url,\n      params = _ref2.params,\n      mime_type = _ref2.mime_type;\n\n  return new Promise(function (resolve, reject) {\n    url = url + '?' + convertObjectToUrlParams(params);\n    resolve({\n      url: url,\n      layers: true,\n      mime_type: mime_type\n    });\n  });\n};\n\nvar POST = function POST(_ref3) {\n  var url = _ref3.url,\n      params = _ref3.params,\n      mime_type = _ref3.mime_type;\n\n  return new Promise(function (resolve, reject) {\n    var xhr = new XMLHttpRequest();\n    xhr.open('POST', url, true);\n    xhr.responseType = 'blob';\n    xhr.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded; charset=UTF-8');\n    xhr.onload = function () {\n      if (xhr.status === 200) {\n        try {\n          window.URL = window.URL || window.webkitURL;\n          var _url = window.URL.createObjectURL(xhr.response);\n          resolve({\n            url: _url,\n            layers: true,\n            mime_type: mime_type\n          });\n        } catch (e) {\n          reject(e);\n        }\n      } else if (xhr.status === 500) {\n        reject();\n      }\n    };\n    xhr.onerror = function () {\n      reject();\n    };\n    xhr.send(convertObjectToUrlParams(params));\n  });\n};\n\n/**\n * core/print/providers/qgis::PrinterQGISProvider@v3.4\n */\nfunction PrintService() {\n  var _this = this;\n\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  this._currentLayerStore = _projects2.default.getCurrentProject().getLayersStore();\n  _projects2.default.onbefore('setCurrentProject', function (project) {\n    return _this._currentLayerStore = project.getLayersStore();\n  });\n  base(this);\n}\n\ninherit(PrintService, G3WObject);\n\nvar proto = PrintService.prototype;\n\nproto.POST = POST;\n\nproto.GET = GET;\n\nproto._getAtlasParamsFromOptions = getAtlasParamsFromOptions;\n\nproto._getParamsFromOptions = getParamsFromOptions;\n\nproto.getUrl = function () {\n  return this._currentLayerStore.getWmsUrl();\n};\n\nproto.printAtlas = function () {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var method = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'GET';\n\n  var url = this.getUrl();\n  var params = this._getAtlasParamsFromOptions(options);\n  return this[method]({\n    url: url,\n    params: params,\n    mime_type: OUTPUT_FORMATS.pdf\n  });\n};\n\nproto.print = function () {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var method = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : \"GET\";\n\n  var url = this.getUrl();\n  // reverse of layer because the order is important\n  var layers = this._currentLayerStore.getLayers({\n    PRINTABLE: {\n      scale: options.scale\n    },\n    SERVERTYPE: 'QGIS'\n  }).reverse();\n  if (layers.length) {\n    options.crs = this._currentLayerStore.getProjection().getCode();\n    var params = this._getParamsFromOptions(layers, options);\n    var mime_type = OUTPUT_FORMATS[params.FORMAT];\n    return this[method]({\n      url: url,\n      params: params,\n      mime_type: mime_type\n    });\n  } else return Promise.resolve({ layers: false });\n};\n\nmodule.exports = PrintService;\n\n},{\"core/g3wobject\":12,\"core/utils/utils\":68,\"store/application-state\":373,\"store/projects\":379}],61:[function(require,module,exports){\nvar _constant = require('app/constant');\n\nvar _applicationState = require('store/application-state');\n\nvar _applicationState2 = _interopRequireDefault(_applicationState);\n\nvar _application = require('services/application');\n\nvar _application2 = _interopRequireDefault(_application);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit,\n    XHR = _require.XHR;\n\nvar _require2 = require('core/utils/geo'),\n    crsToCrsObject = _require2.crsToCrsObject;\n\nvar G3WObject = require('core/g3wobject');\nvar LayerFactory = require('core/layers/layerfactory');\nvar LayersStore = require('core/layers/layersstore');\nvar Projections = require('g3w-ol/projection/projections');\n\n/**\n * @FIXME options param appears to be unusued\n * \n * @param config.id\n * @param config.type\n * @param config.gid\n * @param config.name\n * @param config.crs\n * @param config.extent\n * @param config.initextent\n * @param config.layers\n * @param config.layerstree\n * @param config.overviewprojectgid\n * @param config.baselayers\n * @param config.initbaselayer\n * @param config.filtertoken\n * @param config.context_base_legend\n * @param config.query_point_tolerance\n * @param config.wps                           array of wps service\n * @param config.bookmarks                     array of bookmarks\n * @param { 'POST' | 'GET' }                   config.ows_method\n * @param { boolean }                          config.wms_use_layer_ids\n * @param { 'ows' | 'api' }                    config.search_endpoint \n * @param { 'tab' | 'toc' }                    config.legend_position \n * @param { 'layers', 'baselayers', 'legend' } config.catalog_tab\n * \n * @param options\n */\nfunction Project() {\n  var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  /**\n   * For future implementation catalog tab actived\n   */\n  config.catalog_tab = config.toc_tab_default || config._catalog_tab || 'layers';\n\n  config.ows_method = config.ows_method || 'GET';\n\n  config.toc_layers_init_status = config.toc_layers_init_status || _constant.TOC_LAYERS_INIT_STATUS;\n\n  config.toc_themes_init_status = config.toc_themes_init_status || _constant.TOC_THEMES_INIT_STATUS;\n\n  config.query_point_tolerance = config.query_point_tolerance || _constant.QUERY_POINT_TOLERANCE;\n\n  this.state = config;\n\n  var type = this.getType();\n  var id = this.getId();\n  var vector = this.getVectorUrl();\n\n  /**\n   * View information about project APIs \n   */\n  this.urls = {\n    map_themes: '/' + type + '/api/prjtheme/' + id + '/',\n    expression_eval: '/api/expression_eval/' + id + '/',\n    vector_data: vector + 'data/' + type + '/' + id + '/',\n    featurecount: vector + 'featurecount/' + type + '/' + id + '/'\n  };\n\n  this._processLayers();\n\n  /**\n   * Set the project projection to object crs\n   */\n  this.state.crs = crsToCrsObject(this.state.crs);\n\n  this._projection = Projections.get(this.state.crs);\n\n  /**\n   * Build a layersstore of the project\n   */\n  this._layersStore = this._buildLayersStore();\n\n  /**\n   * Hook methods\n   */\n  this.setters = {\n    setBaseLayer: function setBaseLayer(id) {\n      var _this = this;\n\n      this.state.baselayers.forEach(function (baseLayer) {\n        _this._layersStore.getLayerById(baseLayer.id).setVisible(baseLayer.id === id);\n        baseLayer.visible = baseLayer.id === id;\n      });\n    }\n  };\n\n  this.setSearchEndPoint();\n\n  base(this);\n}\n\ninherit(Project, G3WObject);\n\nvar proto = Project.prototype;\n\n/**\n * Get search end point value (ows or api)\n */\nproto.getSearchEndPoint = function () {\n  return this.state.search_endpoint;\n};\n\nproto.setSearchEndPoint = function () {\n  var _this2 = this;\n\n  (this.state.search || []).forEach(function (search) {\n    return search.search_endpoint = _this2.state.search_endpoint;\n  });\n};\n\nproto.getAliasUrl = function () {\n  return this.state.aliasUrl;\n};\n\nproto.getActiveCatalogTab = function () {\n  return this.state.catalog_tab;\n};\n\nproto.setActiveCatalogTab = function () {\n  var tab = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'layers';\n\n  this.state.catalog_tab = tab;\n};\n\nproto.isWmsUseLayerIds = function () {\n  return this.state.wms_use_layer_ids;\n};\n\nproto.getContextBaseLegend = function () {\n  return this.state.context_base_legend;\n};\n\nproto.getQueryPointTolerance = function () {\n  return this.state.query_point_tolerance;\n};\n\n// check if multi\nproto.getQueryFeatureCount = function () {\n  return this.state.feature_count || 5;\n};\n\nproto.isQueryMultiLayers = function (mapcontrol) {\n  return this.state.querymultilayers && -1 !== this.state.querymultilayers.indexOf(mapcontrol);\n};\n\nproto.getRelations = function () {\n  return this.state.relations;\n};\n\nproto.getRelationById = function (relationId) {\n  return this.state.relations.find(function (relation) {\n    return relation.id === relationId;\n  });\n};\n\nproto.getRelationsByLayerId = function () {\n  var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      layerId = _ref.layerId,\n      type = _ref.type;\n\n  return this.state.relations.filter(function (relation) {\n    return relation.referencedLayer === layerId && (type ? relation.type === type : true);\n  });\n};\n\nproto.getOwsMethod = function () {\n  return this.state.ows_method;\n};\n\n/**\n * Process layerstree and baselayers of the project\n */\nproto._processLayers = function () {\n  var _this3 = this;\n\n  // useful info for catalog\n  var traverse = function traverse(nodes) {\n    var _loop = function _loop(i) {\n      var node = nodes[i];\n      var layer_name_originale = void 0;\n      //check if layer (node) of folder\n      if (undefined !== node.id) {\n        _this3.state.layers.forEach(function (layer) {\n          layer_name_originale = layer.name;\n          if (node.id === layer.id) {\n            node.name = layer.name;\n            layer.wmsUrl = _this3.getWmsUrl();\n            layer.project = _this3;\n            node[i] = Object.assign(layer, node);\n            return false;\n          }\n        });\n      }\n      if (Array.isArray(node.nodes)) {\n        //add title to tree\n        node.title = node.name;\n        traverse(node.nodes);\n      }\n    };\n\n    for (var i = 0; i < nodes.length; i++) {\n      _loop(i);\n    }\n  };\n\n  traverse(this.state.layerstree);\n  var baseLayerId = _application2.default.getBaseLayerId();\n\n  // Remove bing base layer when no vendor API Key is provided\n  this.state.baselayers = this.state.baselayers.filter(function (baselayer) {\n    return baselayer.servertype === 'Bing' ? _applicationState2.default.keys.vendorkeys.bing : true;\n  });\n\n  for (var i = 0; i < this.state.baselayers.length; i++) {\n    var baseLayerConfig = this.state.baselayers[i];\n    var baseLayerVisibleId = null !== baseLayerId ? baseLayerId : this.state.initbaselayer;\n    baseLayerConfig.visible = baseLayerVisibleId && baseLayerConfig.id === baseLayerVisibleId || !!baseLayerConfig.fixed;\n    baseLayerConfig.baselayer = true;\n  }\n};\n\n/**\n * Build layersstore and create layersstree \n */\nproto._buildLayersStore = function () {\n  var _this4 = this;\n\n  // create a layersStore object\n  var layersStore = new LayersStore();\n\n  //check if we have owerview project\n  var overviewprojectgid = this.state.overviewprojectgid ? this.state.overviewprojectgid.gid : null;\n\n  layersStore.setOptions({\n    id: this.state.gid,\n    projection: this._projection,\n    extent: this.state.extent,\n    initextent: this.state.initextent,\n    wmsUrl: this.state.WMSUrl,\n    catalog: this.state.gid !== overviewprojectgid\n  });\n\n  // instance each layer ad area added to layersstore\n  var layers = this.getLayers();\n\n  layers.forEach(function (layerConfig) {\n    //check and set crs in objectformat\n    layerConfig.crs = crsToCrsObject(layerConfig.crs);\n    // add projection\n    layerConfig.projection = layerConfig.crs ? Projections.get(layerConfig.crs) : _this4._projection;\n    //add ows_method\n    layerConfig.ows_method = _this4.getOwsMethod();\n    layerConfig.wms_use_layer_ids = _this4.state.wms_use_layer_ids;\n    var layer = LayerFactory.build(layerConfig, { project: _this4 });\n    if (layer) {\n      layersStore.addLayer(layer);\n    }\n  });\n\n  // create layerstree from layerstore\n  layersStore.createLayersTree(this.state.name, {\n    layerstree: this.state.layerstree,\n    expanded: this.state.toc_layers_init_status === 'not_collapsed' // config to show layerstrees toc expanded or not\n  });\n\n  return layersStore;\n};\n\nproto.getLayerById = function (layerId) {\n  return this._layersStore.getLayerById(layerId);\n};\n\nproto.getLayers = function () {\n  return [].concat(_toConsumableArray(this.state.layers), _toConsumableArray(this.state.baselayers));\n};\n\nproto.getBaseLayers = function () {\n  return this.state.baselayers;\n};\n\n/**\n * Get configuration layers array from server config\n * \n * @param filter property layer config to filter\n * @returns {*}\n */\nproto.getConfigLayers = function () {\n  var _ref2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      key = _ref2.key;\n\n  return key ? this.state.layers.filter(function (layer) {\n    return layer[key] !== undefined;\n  }) : this.state.layers;\n};\n\n/**\n * Legend Position\n */\n\nproto.setLegendPosition = function () {\n  var legend_position = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'tab';\n\n  this.state.legend_position = legend_position;\n};\n\nproto.getLegendPosition = function () {\n  return this.state.legend_position;\n};\n\n/**\n * End Legend Position\n */\n\nproto.getThumbnail = function () {\n  return this.state.thumbnail;\n};\n\nproto.getMetadata = function () {\n  return this.state.metadata || {};\n};\n\nproto.getState = function () {\n  return this.state;\n};\n\nproto.getPrint = function () {\n  return this.state.print || [];\n};\n\nproto.getSearches = function () {\n  return this.state.search || [];\n};\n\nproto.getVectorUrl = function () {\n  return this.state.vectorurl;\n};\n\nproto.getRasterUrl = function () {\n  return this.state.rasterurl;\n};\n\nproto.getId = function () {\n  return this.state.id;\n};\n\nproto.getType = function () {\n  return this.state.type;\n};\n\nproto.getGid = function () {\n  return this.state.gid;\n};\n\nproto.getName = function () {\n  return this.state.name;\n};\n\nproto.getOverviewProjectGid = function () {\n  return this.state.overviewprojectgid ? this.state.overviewprojectgid.gid : null;\n};\n\nproto.getCrs = function () {\n  return this._projection.getCode();\n};\n\n/**\n * @param {'major' | 'minor' | 'patch' } qgis.type \n */\nproto.getQgisVersion = function () {\n  var _ref3 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      type = _ref3.type;\n\n  var index = ['major', 'minor', 'patch'].indexOf(type);\n  return -1 === index ? this.state.qgis_version : +this.state.qgis_version.split('.')[index];\n};\n\nproto.getProjection = function () {\n  return this._projection;\n};\n\nproto.getWmsUrl = function () {\n  return this.state.WMSUrl;\n};\n\nproto.getInfoFormat = function () {\n  return 'application/vnd.ogc.gml';\n};\n\nproto.getLayersStore = function () {\n  return this._layersStore;\n};\n\n/// Map Themes\n\n/**\n * Set properties ( checked and visible) from view to layerstree\n * \n * @param map_theme map theme name\n * @param layerstree // current layerstree of TOC\n */\nproto.setLayersTreePropertiesFromMapTheme = function () {\n  var _ref5 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(_ref4) {\n    var _this5 = this;\n\n    var map_theme = _ref4.map_theme,\n        _ref4$layerstree = _ref4.layerstree,\n        layerstree = _ref4$layerstree === undefined ? this.state.layerstree : _ref4$layerstree;\n    var mapThemeConfig, mapThemeLayersTree, changes, promises, groups, traverse;\n    return regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return this.getMapThemeFromThemeName(map_theme);\n\n          case 2:\n            mapThemeConfig = _context.sent;\n\n            // extract layerstree\n            mapThemeLayersTree = mapThemeConfig.layerstree;\n            // create a chages need to apply map_theme changes to map and TOC\n\n            changes = {\n              layers: {} // key is the layer id and object has style, visibility change (Boolean)\n            };\n            promises = [];\n            /**\n             * Function to traverse current layerstree of toc anche get changes with the new one related to map_theme choose\n             * @param mapThemeLayersTree // new mapLayerTree\n             * @param layerstree // current layerstree\n             */\n\n            groups = [];\n\n            traverse = function traverse(mapThemeLayersTree, layerstree, checked) {\n              mapThemeLayersTree.forEach(function (node, index) {\n                if (node.nodes) {\n                  // case of group\n                  groups.push({\n                    node: node,\n                    group: layerstree[index]\n                  });\n                  traverse(node.nodes, layerstree[index].nodes, checked && node.checked);\n                } else {\n                  // case of layer\n                  node.style = mapThemeConfig.styles[node.id]; // set style from map_theme\n                  if (layerstree[index].checked !== node.visible) {\n                    changes.layers[node.id] = {\n                      visibility: true,\n                      style: false\n                    };\n                  }\n                  layerstree[index].checked = node.visible;\n                  // if has a style settled\n                  if (node.style) {\n                    var promise = new Promise(function (resolve, reject) {\n                      var setCurrentStyleAndResolvePromise = function setCurrentStyleAndResolvePromise(node) {\n                        if (changes.layers[node.id] === undefined) changes.layers[node.id] = {\n                          visibility: false,\n                          style: false\n                        };\n                        changes.layers[node.id].style = _this5.getLayerById(node.id).setCurrentStyle(node.style);\n                        resolve();\n                      };\n                      if (_this5.getLayersStore()) setCurrentStyleAndResolvePromise(node);else // case of starting project creation\n                        (function (node) {\n                          return setTimeout(function () {\n                            setCurrentStyleAndResolvePromise(node);\n                          })(node);\n                        });\n                    });\n                    promises.push(promise);\n                  }\n                }\n              });\n            };\n\n            traverse(mapThemeLayersTree, layerstree);\n            _context.next = 11;\n            return Promise.allSettled(promises);\n\n          case 11:\n            // all groups checked after layer checked so is set checked but not visible\n            groups.forEach(function (_ref6) {\n              var group = _ref6.group,\n                  _ref6$node = _ref6.node,\n                  checked = _ref6$node.checked,\n                  expanded = _ref6$node.expanded;\n\n              group.checked = checked;\n              group.expanded = expanded;\n            });\n            return _context.abrupt('return', changes);\n\n          case 13:\n          case 'end':\n            return _context.stop();\n        }\n      }\n    }, _callee, this);\n  }));\n\n  return function (_x8) {\n    return _ref5.apply(this, arguments);\n  };\n}();\n\n/**\n * get map Theme_configuration\n */\nproto.getMapThemeFromThemeName = function () {\n  var _ref7 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2(map_theme) {\n    var mapThemeConfig;\n    return regeneratorRuntime.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            // get map theme configuration from map_themes project config\n            mapThemeConfig = this.state.map_themes.find(function (map_theme_config) {\n              return map_theme_config.theme === map_theme;\n            });\n            // check if mapThemeConfig exist and if has layerstree (property get from server with a specific api)\n\n            if (!(mapThemeConfig && undefined === mapThemeConfig.layerstree)) {\n              _context2.next = 5;\n              break;\n            }\n\n            _context2.next = 4;\n            return this.getMapThemeConfiguration(map_theme);\n\n          case 4:\n            mapThemeConfig.layerstree = _context2.sent;\n\n          case 5:\n            return _context2.abrupt('return', mapThemeConfig);\n\n          case 6:\n          case 'end':\n            return _context2.stop();\n        }\n      }\n    }, _callee2, this);\n  }));\n\n  return function (_x9) {\n    return _ref7.apply(this, arguments);\n  };\n}();\n\n/**\n * Get map_style from server\n * \n * @param map_theme\n * \n * @returns {Promise<*>}\n */\nproto.getMapThemeConfiguration = function () {\n  var _ref8 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee3(map_theme) {\n    var response;\n    return regeneratorRuntime.wrap(function _callee3$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            _context3.prev = 0;\n            _context3.next = 3;\n            return XHR.get({ url: '' + this.urls.map_themes + map_theme + '/' });\n\n          case 3:\n            response = _context3.sent;\n\n            if (!response.result) {\n              _context3.next = 6;\n              break;\n            }\n\n            return _context3.abrupt('return', response.data);\n\n          case 6:\n            _context3.next = 11;\n            break;\n\n          case 8:\n            _context3.prev = 8;\n            _context3.t0 = _context3['catch'](0);\n\n            console.warn('Error while retreiving map theme configuration', _context3.t0);\n\n          case 11:\n          case 'end':\n            return _context3.stop();\n        }\n      }\n    }, _callee3, this, [[0, 8]]);\n  }));\n\n  return function (_x10) {\n    return _ref8.apply(this, arguments);\n  };\n}();\n\nproto.getUrl = function (type) {\n  return this.urls[type];\n};\n\n/**\n * @returns {Array} spatial bookmarks saved on current QGIS project\n * \n * @since v3.8\n */\nproto.getSpatialBookmarks = function () {\n  return this.state.bookmarks || [];\n};\n\n/**\n * @returns {{ items: Array, info: Object }} project messages at start time \n * \n * @since 3.8.0\n */\nproto.getMessages = function () {\n  return this.state.messages;\n};\n\nmodule.exports = Project;\n\n},{\"app/constant\":4,\"core/g3wobject\":12,\"core/layers/layerfactory\":35,\"core/layers/layersstore\":36,\"core/utils/geo\":64,\"core/utils/utils\":68,\"g3w-ol/projection/projections\":111,\"services/application\":351,\"store/application-state\":373}],62:[function(require,module,exports){\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit;\n\nvar G3WObject = require('core/g3wobject');\n\nfunction Relation() {\n  var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  var uniqueSuffix = Date.now();\n  var id = config.id || 'id_' + uniqueSuffix;\n  var name = config.name || 'name_' + uniqueSuffix;\n  var origname = config.origname || 'origname_' + uniqueSuffix;\n  this.state = {\n    id: id,\n    name: name,\n    origname: origname,\n    father: config.referencedLayer,\n    child: config.referencingLayer,\n    fatherField: config.fieldRef.referencedField,\n    childField: config.fieldRef.referencingField,\n    type: config.type,\n    loading: false\n  };\n  base(this);\n}\n\ninherit(Relation, G3WObject);\n\nvar proto = Relation.prototype;\n\nproto.getId = function () {\n  return this.state.id;\n};\n\nproto.setId = function (id) {\n  this.state.id = id;\n};\n\nproto.getName = function () {\n  return this.state.name;\n};\n\nproto.setName = function (name) {\n  this.state.name = name;\n};\n\nproto.getTitle = function () {\n  return this.state.title;\n};\n\nproto.setTitle = function (title) {\n  return this.state.title = title;\n};\n\nproto.getChild = function () {\n  return this.state.child;\n};\n\nproto.getFather = function () {\n  return this.state.father;\n};\n\nproto.getState = function () {\n  return this.state;\n};\n\nproto.getType = function () {\n  return this.state.type;\n};\n\nproto.getFields = function () {\n  return {\n    father: this.state.fatherField,\n    child: this.state.childField\n  };\n};\n\nproto.getFatherField = function () {\n  return this.state.fatherField;\n};\n\nproto.getChildField = function () {\n  return this.state.childField;\n};\n\n/**\n * For editing purpose\n */\n\nproto.setLoading = function () {\n  var bool = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n  this.state.loading = bool;\n};\n\nproto.isLoading = function () {\n  return this.state.loading;\n};\n\n/**\n * End editing loading purpose\n */\n\nmodule.exports = Relation;\n\n},{\"core/g3wobject\":12,\"core/utils/utils\":68}],63:[function(require,module,exports){\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit;\n\nvar G3WObject = require('core/g3wobject');\nvar Relation = require('core/relations/relation');\n\n// class Relations\nfunction Relations() {\n  var _this = this;\n\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var relations = options.relations;\n  //store relations\n\n  this._relations = {};\n  this._length = relations ? relations.length : 0;\n  // to build relations between layers\n  this._relationsInfo = {\n    children: {}, // array child (unique ids)\n    fathers: {}, // array father (unique ids)\n    father_child: {} // info parent child\n  };\n  var relation = void 0;\n  relations.forEach(function (relationConfig) {\n    relation = new Relation(relationConfig);\n    _this._relations[relation.getId()] = relation;\n  });\n  this._createRelationsInfo();\n  base(this);\n}\n\ninherit(Relations, G3WObject);\n\nvar proto = Relations.prototype;\n\nproto._createRelationsInfo = function () {\n  var _this2 = this;\n\n  var father = void 0;\n  var child = void 0;\n  Object.entries(this._relations).forEach(function (_ref) {\n    var _ref2 = _slicedToArray(_ref, 2),\n        relationKey = _ref2[0],\n        relation = _ref2[1];\n\n    father = relation.getFather();\n    child = relation.getChild();\n    _this2._relationsInfo.father_child[father + child] = relationKey;\n    if (!_this2._relationsInfo.fathers[father]) _this2._relationsInfo.fathers[father] = [];\n    if (!_this2._relationsInfo.children[child]) _this2._relationsInfo.children[child] = [];\n    _this2._relationsInfo.fathers[father].push(child);\n    _this2._relationsInfo.children[child].push(father);\n  });\n};\n\nproto._clearRelationsInfo = function () {\n  this._relationsInfo = {\n    children: {},\n    fathers: {},\n    father_children: {}\n  };\n};\n\nproto._reloadRelationsInfo = function () {\n  this._clearRelationsInfo();\n  this._createRelationsInfo();\n};\n\n// number of relations\nproto.getLength = function () {\n  return this._length;\n};\n\nproto.getRelations = function () {\n  var _ref3 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      _ref3$type = _ref3.type,\n      type = _ref3$type === undefined ? null : _ref3$type;\n\n  if (!type) return this._relations;else {\n    if (['ONE', 'MANY'].indexOf(type) !== -1) {\n      var relations = {};\n      for (var name in this._relations) {\n        var relation = this._relations[name];\n        if (relation.getType() === type) relations[name] = relation;\n      }\n      return relations;\n    } else return {};\n  }\n};\n\n// array of relation\nproto.getArray = function () {\n  var relations = [];\n  Object.entries(this._relations).forEach(function (_ref4) {\n    var _ref5 = _slicedToArray(_ref4, 2),\n        relName = _ref5[0],\n        relation = _ref5[1];\n\n    relations.push(relation);\n  });\n  return relations;\n};\n\nproto.setRelations = function (relations) {\n  this._relations = Array.isArray(relations) ? relations : [];\n};\n\nproto.getRelationById = function (id) {\n  return this._relations[id];\n};\n\nproto.getRelationByFatherChildren = function (father, child) {\n  var relationId = this._relationsInfo.father_child[father + child];\n  return this.getRelationById(relationId);\n};\n\nproto.addRelation = function (relation) {\n  if (relation instanceof Relation) {\n    this._relations[relation.getId()] = relation;\n    this._reloadRelationsInfo();\n  }\n};\n\nproto.removeRelation = function (relation) {\n  var relationId = void 0;\n  if (relation instanceof Relation) {\n    relationId = relation.getId();\n    delete this._relations[relationId];\n    this._reloadRelationsInfo();\n  }\n};\n\nproto.hasChildren = function (childId) {\n  var children = this.getChildren(childId);\n  return children ? !!children.length : false;\n};\n\nproto.hasFathers = function (fatherId) {\n  var fathers = this.getFathers(fatherId);\n  return fathers ? !!fathers.length : false;\n};\n\n// get children based on father id\nproto.getChildren = function (fatherId) {\n  if (!this.isFather(fatherId)) return null;\n  return this._relationsInfo.fathers[fatherId];\n};\n\n// get fathers based on childId\nproto.getFathers = function (childId) {\n  if (!this.isChild(childId)) return null;\n  return this._relationsInfo.children[childId];\n};\n\nproto.isChild = function (id) {\n  return !!this._relationsInfo.children[id];\n};\n\nproto.isFather = function (id) {\n  return !!this._relationsInfo.fathers[id];\n};\n\nmodule.exports = Relations;\n\n},{\"core/g3wobject\":12,\"core/relations/relation\":62,\"core/utils/utils\":68}],64:[function(require,module,exports){\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _constant = require('app/constant');\n\nvar _constant2 = _interopRequireDefault(_constant);\n\nvar _mapLayers = require('store/map-layers');\n\nvar _mapLayers2 = _interopRequireDefault(_mapLayers);\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar _require = require('core/utils/utils'),\n    toRawType = _require.toRawType,\n    uniqueId = _require.uniqueId;\n\nvar WMSLayer = require('core/layers/map/wmslayer');\nvar Filter = require('core/layers/filter/filter');\n\nvar _require2 = require('core/utils/parsers'),\n    responseParser = _require2.response;\n\nvar geometryFields = _constant2.default.GEOMETRY_FIELDS;\nvar QUERY_POINT_TOLERANCE = _constant2.default.QUERY_POINT_TOLERANCE,\n    G3W_FID = _constant2.default.G3W_FID,\n    GeometryTypes = _constant2.default.GEOMETRY_TYPES;\n\n\nvar Geometry = {\n\n  /**\n   * core/geometry/geometry::GeometryTypes@v3.4\n   */\n  GeometryTypes: GeometryTypes,\n\n  /**\n   * Remove Z values from geometry coordinates\n   */\n  removeZValueToOLFeatureGeometry: function removeZValueToOLFeatureGeometry() {\n    var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        feature = _ref.feature;\n\n    var geometry = feature.getGeometry();\n    if (geometry) {\n      var geometryType = geometry.getType();\n      var originalFeatureCoordinates = geometry.getCoordinates();\n      switch (geometryType) {\n        // POINT: [x, y]\n        case GeometryTypes.POINT:\n          if (originalFeatureCoordinates.length === 3) {\n            originalFeatureCoordinates.splice(2);\n            feature.getGeometry().setCoordinates(originalFeatureCoordinates);\n          }\n          break;\n        // MULTIPOINT: [ [x1, y1], [x2, y2] ]\n        case GeometryTypes.MULTIPOINT:\n        // LINE: [ [x1, y1], [x2, y2] ]\n        case GeometryTypes.LINESTRING:\n        case GeometryTypes.LINE:\n          originalFeatureCoordinates.forEach(function (coordinates) {\n            return coordinates.splice(2);\n          });\n          feature.getGeometry().setCoordinates(originalFeatureCoordinates);\n          break;\n        // MULTILINE: [\n        //   [ [x1, y1], [x2, y2] ],\n        //   [ [x3, y3], [x4, y4] ]\n        // ]\n        case GeometryTypes.MULTILINESTRING:\n        case GeometryTypes.MULTILINE:\n          originalFeatureCoordinates.forEach(function (singleLine) {\n            singleLine.forEach(function (coordinates) {\n              return coordinates.splice(2);\n            });\n          });\n          feature.getGeometry().setCoordinates(originalFeatureCoordinates);\n          break;\n        // POLYGON: [\n        //   [ [x1, y1], [x2, y2], [x3, y3], [x1, y1] ]\n        // ]\n        case GeometryTypes.POLYGON:\n          originalFeatureCoordinates[0].forEach(function (coordinates) {\n            return coordinates.splice(2);\n          });\n          feature.getGeometry().setCoordinates(originalFeatureCoordinates);\n          break;\n        // MULTIPOLYGON:[\n        //   [ [x1, y1], [x2, y2], [x3, y3], [x1, y1] ],\n        //   [ [xa, ya], [xb, yb], [xc, yc], [xa, ya] ]\n        // ]\n        case GeometryTypes.MULTIPOLYGON:\n          originalFeatureCoordinates.forEach(function (singlePolygon) {\n            singlePolygon[0].forEach(function (coordinates) {\n              return coordinates.splice(2);\n            });\n          });\n          feature.getGeometry().setCoordinates(originalFeatureCoordinates);\n          break;\n      }\n    }\n\n    return feature;\n  },\n\n\n  /**\n   * core/geometry/geometry::addZValueToOLFeatureGeometry@v3.4\n   */\n  addZValueToOLFeatureGeometry: function addZValueToOLFeatureGeometry() {\n    var _ref2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        feature = _ref2.feature,\n        geometryType = _ref2.geometryType;\n\n    var geometry = feature.getGeometry();\n    geometryType = geometryType || geometry.getType();\n    var originalFeatureCoordinates = geometry.getCoordinates();\n    switch (geometryType) {\n      // POINT: [x, y]\n      case GeometryTypes.POINTZ:\n      case GeometryTypes.POINTM:\n      case GeometryTypes.POINTZM:\n      case GeometryTypes.POINT25D:\n        originalFeatureCoordinates.push(0);\n        feature.getGeometry().setCoordinates(originalFeatureCoordinates);\n        break;\n      // MULTIPOINT: [ [x1, y1], [x2, y2] ]\n      case GeometryTypes.MULTIPOINTZ:\n      case GeometryTypes.MULTIPOINTM:\n      case GeometryTypes.MULTIPOINTZM:\n      case GeometryTypes.MULTIPOINT25D:\n      // LINE: [ [x1, y1], [x2, y2] ]\n      case GeometryTypes.LINESTRINGZ:\n      case GeometryTypes.LINESTRINGM:\n      case GeometryTypes.LINESTRINGZM:\n      case GeometryTypes.LINESTRING25D:\n      case GeometryTypes.LINEZ:\n      case GeometryTypes.LINEM:\n      case GeometryTypes.LINEZM:\n      case GeometryTypes.LINE25D:\n        originalFeatureCoordinates.forEach(function (coordinates) {\n          return coordinates.push(0);\n        });\n        feature.getGeometry().setCoordinates(originalFeatureCoordinates);\n        break;\n      // MULTILINE: [\n      //   [ [x1, y1], [x2, y2] ],\n      //   [ [x3, y3], [x4, y4] ]\n      // ]\n      case GeometryTypes.MULTILINESTRINGZ:\n      case GeometryTypes.MULTILINESTRINGM:\n      case GeometryTypes.MULTILINESTRINGZM:\n      case GeometryTypes.MULTILINESTRING25D:\n      case GeometryTypes.MULTILINEZ:\n      case GeometryTypes.MULTILINEM:\n      case GeometryTypes.MULTILINEZM:\n      case GeometryTypes.MULTILINE25D:\n        originalFeatureCoordinates.forEach(function (singleLine) {\n          singleLine.forEach(function (coordinates) {\n            return coordinates.push(0);\n          });\n        });\n        feature.getGeometry().setCoordinates(originalFeatureCoordinates);\n        break;\n      // POLYGON: [\n      //   [ [x1, y1], [x2, y2], [x3, y3], [x1, y1] ]\n      // ]\n      case GeometryTypes.POLYGONZ:\n      case GeometryTypes.POLYGONM:\n      case GeometryTypes.POLYGONZM:\n      case GeometryTypes.POLYGON25D:\n        originalFeatureCoordinates[0].forEach(function (coordinates) {\n          return coordinates.push(0);\n        });\n        feature.getGeometry().setCoordinates(originalFeatureCoordinates);\n        break;\n      // MULTIPOLYGON:[\n      //   [ [x1, y1], [x2, y2], [x3, y3], [x1, y1] ],\n      //   [ [xa, ya], [xb, yb], [xc, yc], [xa, ya] ]\n      // ]\n      case GeometryTypes.MULTIPOLYGONZ:\n      case GeometryTypes.MULTIPOLYGONM:\n      case GeometryTypes.MULTIPOLYGOZM:\n      case GeometryTypes.MULTIPOLYGON25D:\n        originalFeatureCoordinates.forEach(function (singlePolygon) {\n          singlePolygon[0].forEach(function (coordinates) {\n            return coordinates.push(0);\n          });\n        });\n        feature.getGeometry().setCoordinates(originalFeatureCoordinates);\n        break;\n    }\n    return feature;\n  },\n\n\n  /**\n   * core/geometry/geometry::getOLGeometry@v3.4\n   */\n  getOLGeometry: function getOLGeometry(geometryType) {\n    switch (geometryType) {\n      case GeometryTypes.LINESTRINGZ:\n      case GeometryTypes.LINESTRINGM:\n      case GeometryTypes.LINESTRINGZM:\n      case GeometryTypes.LINESTRING25D:\n      case GeometryTypes.LINE:\n      case GeometryTypes.LINEZ:\n      case GeometryTypes.LINEM:\n      case GeometryTypes.LINEZM:\n      case GeometryTypes.LINE25D:\n        geometryType = 'LineString';\n        break;\n      case GeometryTypes.MULTILINESTRINGZ:\n      case GeometryTypes.MULTILINESTRINGM:\n      case GeometryTypes.MULTILINESTRINGZM:\n      case GeometryTypes.MULTILINESTRING25D:\n      case GeometryTypes.MULTILINE:\n      case GeometryTypes.MULTILINEZ:\n      case GeometryTypes.MULTILINEM:\n      case GeometryTypes.MULTILINEZM:\n      case GeometryTypes.MULTILINE25D:\n        geometryType = 'MultiLineString';\n        break;\n      case GeometryTypes.POINTZ:\n      case GeometryTypes.POINTM:\n      case GeometryTypes.POINTZM:\n      case GeometryTypes.POINT25D:\n        geometryType = 'Point';\n        break;\n      case GeometryTypes.MULTIPOINTZ:\n      case GeometryTypes.MULTIPOINTM:\n      case GeometryTypes.MULTIPOINTZM:\n      case GeometryTypes.MULTIPOINT25D:\n        geometryType = 'MultiPoint';\n        break;\n      case GeometryTypes.POLYGONZ:\n      case GeometryTypes.POLYGONM:\n      case GeometryTypes.POLYGONZM:\n      case GeometryTypes.POLYGON25D:\n        geometryType = 'Polygon';\n        break;\n      case GeometryTypes.MULTIPOLYGONZ:\n      case GeometryTypes.MULTIPOLYGONM:\n      case GeometryTypes.MULTIPOLYGONZM:\n      case GeometryTypes.MULTIPOLYGON25D:\n        geometryType = 'MultiPolygon';\n        break;\n    }\n    return geometryType;\n  },\n\n\n  /**\n   * core/geometry/geometry::isMultiGeometry@v3.4\n   */\n  isMultiGeometry: function isMultiGeometry(geometryType) {\n    return [GeometryTypes.MULTIPOINT, GeometryTypes.MULTIPOINTZ, GeometryTypes.MULTIPOINTZM, GeometryTypes.MULTIPOINTM, GeometryTypes.MULTIPOINT25D, GeometryTypes.MULTILINESTRING, GeometryTypes.MULTILINESTRINGZ, GeometryTypes.MULTILINESTRINGM, GeometryTypes.MULTILINESTRINGZM, GeometryTypes.MULTILINESTRING25D, GeometryTypes.MULTILINE, GeometryTypes.MULTILINEZ, GeometryTypes.MULTILINEM, GeometryTypes.MULTILINEZM, GeometryTypes.MULTILINE25D, GeometryTypes.MULTIPOLYGON, GeometryTypes.MULTIPOLYGONZ, GeometryTypes.MULTIPOLYGONM, GeometryTypes.MULTIPOLYGONZM, GeometryTypes.MULTIPOLYGON25D].indexOf(geometryType) !== -1;\n  },\n\n\n  /**\n   * core/geometry/geometry::getAllPointGeometryTypes@v3.4\n   */\n  getAllPointGeometryTypes: function getAllPointGeometryTypes() {\n    return [GeometryTypes.POINT, GeometryTypes.POINTZ, GeometryTypes.POINTM, GeometryTypes.POINTZM, GeometryTypes.POINT25D, GeometryTypes.MULTIPOINT, GeometryTypes.MULTIPOINTZ, GeometryTypes.MULTIPOINTM, GeometryTypes.MULTIPOINTZM, GeometryTypes.MULTIPOINT25D];\n  },\n\n\n  /**\n   * core/geometry/geometry::isPointGeometryType@v3.4\n   */\n  isPointGeometryType: function isPointGeometryType(geometryType) {\n    return Geometry.getAllPointGeometryTypes().indexOf(geometryType) !== -1;\n  },\n\n\n  /**\n   * core/geometry/geometry::getAllLineGeometryTypes@v3.4\n   */\n  getAllLineGeometryTypes: function getAllLineGeometryTypes() {\n    return [GeometryTypes.LINESTRING, GeometryTypes.LINESTRINGZ, GeometryTypes.LINESTRINGM, GeometryTypes.LINESTRINGZM, GeometryTypes.LINESTRING25D, GeometryTypes.MULTILINESTRING, GeometryTypes.MULTILINESTRINGZ, GeometryTypes.MULTILINESTRINGM, GeometryTypes.MULTILINESTRINGZM, GeometryTypes.MULTILINESTRING25D, GeometryTypes.LINE, GeometryTypes.LINEZ, GeometryTypes.LINEM, GeometryTypes.LINEZM, GeometryTypes.LINE25D, GeometryTypes.MULTILINE, GeometryTypes.MULTILINEZ, GeometryTypes.MULTILINEM, GeometryTypes.MULTILINEZM, GeometryTypes.MULTILINE25D];\n  },\n\n\n  /**\n   * core/geometry/geometry::isLineGeometryType@v3.4\n   */\n  isLineGeometryType: function isLineGeometryType(geometryType) {\n    return Geometry.getAllLineGeometryTypes().indexOf(geometryType) !== -1;\n  },\n\n\n  /**\n   * core/geometry/geometry::getAllPolygonGeometryTypes@v3.4\n   */\n  getAllPolygonGeometryTypes: function getAllPolygonGeometryTypes() {\n    return [GeometryTypes.POLYGON, GeometryTypes.POLYGONZ, GeometryTypes.POLYGONM, GeometryTypes.POLYGONZM, GeometryTypes.POLYGON25D, GeometryTypes.MULTIPOLYGON, GeometryTypes.MULTIPOLYGONZ, GeometryTypes.MULTIPOLYGONM, GeometryTypes.MULTIPOLYGONZM, GeometryTypes.MULTIPOLYGON25D];\n  },\n\n\n  /**\n   * core/geometry/geometry::isPolygonGeometryType@v3.4\n   */\n  isPolygonGeometryType: function isPolygonGeometryType(geometryType) {\n    return Geometry.getAllPolygonGeometryTypes().indexOf(geometryType) !== -1;\n  },\n\n\n  /**\n   * core/geometry/geometry::is3DGeometry@v3.4\n   */\n  is3DGeometry: function is3DGeometry(geometryType) {\n    return [GeometryTypes.POINTZ, GeometryTypes.POINTM, GeometryTypes.POINTZM, GeometryTypes.POINT25D, GeometryTypes.LINESTRINGZ, GeometryTypes.LINESTRINGM, GeometryTypes.LINESTRINGZM, GeometryTypes.LINESTRING25D, GeometryTypes.MULTILINESTRINGZ, GeometryTypes.MULTILINESTRINGM, GeometryTypes.MULTILINESTRINGZM, GeometryTypes.MULTILINESTRING25D, GeometryTypes.LINEZ, GeometryTypes.LINEM, GeometryTypes.LINEZM, GeometryTypes.LINE25D, GeometryTypes.MULTILINEZ, GeometryTypes.MULTILINEM, GeometryTypes.MULTILINEZM, GeometryTypes.MULTILINE25D, GeometryTypes.POLYGONZ, GeometryTypes.POLYGONM, GeometryTypes.POLYGONZM, GeometryTypes.POLYGON25D, GeometryTypes.MULTIPOLYGONZ, GeometryTypes.MULTIPOLYGONM, GeometryTypes.MULTIPOLYGONZM, GeometryTypes.MULTIPOLYGON25D].find(function (type3D) {\n      return type3D === geometryType;\n    });\n  }\n};\n\nvar geoutils = {\n\n  geometryFields: geometryFields,\n\n  coordinatesToGeometry: function coordinatesToGeometry(geometryType, coordinates) {\n    var geometryClass = void 0;\n    switch (geometryType) {\n      case GeometryTypes.POLYGON:\n      case GeometryTypes.POLYGONZ:\n      case GeometryTypes.POLYGONM:\n      case GeometryTypes.POLYGONZM:\n      case GeometryTypes.POLYGON25D:\n        geometryClass = ol.geom.Polygon;\n        break;\n      case GeometryTypes.MULTIPOLYGON:\n      case GeometryTypes.MULTIPOLYGONZ:\n      case GeometryTypes.MULTIPOLYGONM:\n      case GeometryTypes.MULTIPOLYGONZM:\n      case GeometryTypes.MULTIPOLYGON25D:\n        geometryClass = ol.geom.MultiPolygon;\n        break;\n      case GeometryTypes.LINESTRING:\n      case GeometryTypes.LINESTRINGZ:\n      case GeometryTypes.LINESTRINGM:\n      case GeometryTypes.LINESTRINGZM:\n      case GeometryTypes.LINESTRING25D:\n      case GeometryTypes.LINE:\n      case GeometryTypes.LINEZ:\n      case GeometryTypes.LINEM:\n      case GeometryTypes.LINEZM:\n      case GeometryTypes.LINE25D:\n        geometryClass = ol.geom.LineString;\n        break;\n      case GeometryTypes.MULTILINE:\n      case GeometryTypes.MULTILINEZ:\n      case GeometryTypes.MULTILINEM:\n      case GeometryTypes.MULTILINEZM:\n      case GeometryTypes.MULTILINE25D:\n      case GeometryTypes.MULTILINESTRING:\n      case GeometryTypes.MULTILINESTRINGZ:\n      case GeometryTypes.MULTILINESTRINGM:\n      case GeometryTypes.MULTILINESTRINGZM:\n      case GeometryTypes.MULTILINESTRING25D:\n        geometryClass = ol.geom.MultiLineString;\n        break;\n      case GeometryTypes.POINT:\n      case GeometryTypes.POINTZ:\n      case GeometryTypes.POINTM:\n      case GeometryTypes.POINTZM:\n      case GeometryTypes.POINT25D:\n        geometryClass = ol.geom.Point;\n        break;\n      case GeometryTypes.MULTIPOINT:\n      case GeometryTypes.MULTIPOINTZ:\n      case GeometryTypes.MULTIPOINTM:\n      case GeometryTypes.MULTIPOINTZM:\n      case GeometryTypes.MULTIPOINT25D:\n        geometryClass = ol.geom.MultiPoint;\n        break;\n      default:\n        geometryClass = ol.geom.Point;\n    }\n    var geometry = new geometryClass(coordinates);\n    return geometry;\n  },\n  getDefaultLayerStyle: function getDefaultLayerStyle(geometryType) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    var color = options.color;\n\n    switch (geometryType) {\n      case GeometryTypes.LINESTRINGZ:\n      case GeometryTypes.LINESTRINGM:\n      case GeometryTypes.LINESTRINGZM:\n      case GeometryTypes.LINESTRING25D:\n      case GeometryTypes.LINE:\n      case GeometryTypes.LINEZ:\n      case GeometryTypes.LINEM:\n      case GeometryTypes.LINEZM:\n      case GeometryTypes.LINE25D:\n        geometryType = 'LineString';\n        break;\n      case GeometryTypes.MULTILINESTRINGZ:\n      case GeometryTypes.MULTILINESTRINGM:\n      case GeometryTypes.MULTILINESTRINGZM:\n      case GeometryTypes.MULTILINESTRING25D:\n      case GeometryTypes.MULTILINE:\n      case GeometryTypes.MULTILINEZ:\n      case GeometryTypes.MULTILINEM:\n      case GeometryTypes.MULTILINEZM:\n      case GeometryTypes.MULTILINE25D:\n        geometryType = 'MultiLineString';\n        break;\n      case GeometryTypes.POINTZ:\n      case GeometryTypes.POINTM:\n      case GeometryTypes.POINTZM:\n      case GeometryTypes.POINT25D:\n        geometryType = 'Point';\n        break;\n      case GeometryTypes.MULTIPOINTZ:\n      case GeometryTypes.MULTIPOINTM:\n      case GeometryTypes.MULTIPOINTZM:\n      case GeometryTypes.MULTIPOINT25D:\n        geometryType = 'MultiPoint';\n        break;\n      case GeometryTypes.POLYGONZ:\n      case GeometryTypes.POLYGONM:\n      case GeometryTypes.POLYGONZM:\n      case GeometryTypes.POLYGON25D:\n        geometryType = 'Polygon';\n        break;\n      case GeometryTypes.MULTIPOLYGONZ:\n      case GeometryTypes.MULTIPOLYGONM:\n      case GeometryTypes.MULTIPOLYGONZM:\n      case GeometryTypes.MULTIPOLYGON25D:\n        geometryType = 'MultiPolygon';\n        break;\n    }\n    var defaultStyle = {\n      'Point': new ol.style.Style({\n        image: new ol.style.Circle({\n          fill: new ol.style.Fill({\n            color: color\n          }),\n          radius: 5,\n          stroke: new ol.style.Stroke({\n            color: color,\n            width: 1\n          })\n        })\n      }),\n      'LineString': new ol.style.Style({\n        stroke: new ol.style.Stroke({\n          color: color,\n          width: 3\n        })\n      }),\n      'Polygon': new ol.style.Style({\n        fill: new ol.style.Fill({\n          color: 'rgba(255,255,255,0.5)'\n        }),\n        stroke: new ol.style.Stroke({\n          color: color,\n          width: 3\n        })\n      }),\n      'MultiPoint': new ol.style.Style({\n        image: new ol.style.Circle({\n          fill: new ol.style.Fill({\n            color: color\n          }),\n          radius: 5,\n          stroke: new ol.style.Stroke({\n            color: color,\n            width: 1\n          })\n        })\n      }),\n      'MultiLineString': new ol.style.Style({\n        stroke: new ol.style.Stroke({\n          color: color,\n          width: 3\n        })\n      }),\n      'MultiPolygon': new ol.style.Style({\n        fill: new ol.style.Fill({\n          color: 'rgba(255,255,255,0.5)'\n        }),\n        stroke: new ol.style.Stroke({\n          color: color,\n          width: 3\n        })\n      })\n    };\n    return defaultStyle[geometryType];\n  },\n  createLayerStyle: function createLayerStyle(styleObj) {\n    var style = void 0;\n    var styles = {};\n    if (styleObj) {\n      Object.entries(styleObj).forEach(function (_ref3) {\n        var _ref4 = _slicedToArray(_ref3, 2),\n            type = _ref4[0],\n            config = _ref4[1];\n\n        switch (type) {\n          case 'point':\n            if (config.icon) {\n              styles.image = new ol.style.Icon({\n                src: config.icon.url,\n                imageSize: config.icon.width\n              });\n            }\n            break;\n          case 'line':\n            styles.stroke = new ol.style.Stroke({\n              color: config.color,\n              width: config.width\n            });\n            break;\n          case 'polygon':\n            styles.fill = new ol.style.Fill({\n              color: config.color\n            });\n            break;\n        }\n      });\n      style = new ol.style.Style(styles);\n    }\n    return style;\n  },\n  createFeatureFromCoordinates: function createFeatureFromCoordinates(coordinates) {\n    var feature = void 0;\n    if (Array.isArray(coordinates) && coordinates.length === 2) {\n      var geometry = new ol.geom.Point(coordinates);\n      feature = new ol.Feature(geometry);\n    }\n    return feature;\n  },\n  createFeatureFromBBOX: function createFeatureFromBBOX(bbox) {\n    var feature = void 0;\n    if (Array.isArray(bbox) && bbox.length === 4) {\n      var geometry = ol.geom.Polygon.fromExtent(bbox);\n      feature = new ol.Feature(geometry);\n    }\n    return feature;\n  },\n  createFeatureFromGeometry: function createFeatureFromGeometry() {\n    var _ref5 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        id = _ref5.id,\n        geometry = _ref5.geometry;\n\n    if (geometry) {\n      var feature = new ol.Feature(geometry);\n      feature.setId(id);\n      return feature;\n    }\n  },\n\n\n  /**\n   * in case of feature object\n   * {\n   *   id: X,\n   *   attributes: {key:value}\n   *   geometry: geometry\n   * }\n   * @param id\n   * @param feature\n   */\n  createFeatureFromFeatureObject: function createFeatureFromFeatureObject(_ref6) {\n    var id = _ref6.id,\n        _ref6$feature = _ref6.feature,\n        feature = _ref6$feature === undefined ? {} : _ref6$feature;\n    var _feature2 = feature,\n        geometry = _feature2.geometry,\n        attributes = _feature2.attributes;\n\n    feature = geoutils.createFeatureFromGeometry({ id: id, geometry: geometry });\n    Object.keys(attributes).forEach(function (attribute) {\n      return feature.set(attribute, attributes[attribute]);\n    });\n    return feature;\n  },\n  createOlLayer: function createOlLayer() {\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    var id = options.id;\n    var features = options.features;\n    var geometryType = options.geometryType;\n    var color = options.color;\n    var style = options.style;\n    // create ol layer to add to map\n    var olSource = options.source || new ol.source.Vector({\n      features: features || new ol.Collection()\n    });\n    var olLayer = new ol.layer.Vector({\n      id: id,\n      source: olSource\n    });\n    if (!style) {\n      switch (geometryType) {\n        case GeometryTypes.POINT:\n        case GeometryTypes.POINTZ:\n        case GeometryTypes.POINTM:\n        case GeometryTypes.POINTZM:\n        case GeometryTypes.POINT25D:\n        case GeometryTypes.MULTIPOINT:\n        case GeometryTypes.MULTIPOINTZ:\n        case GeometryTypes.MULTIPOINTM:\n        case GeometryTypes.MULTIPOINTZM:\n        case GeometryTypes.MULTIPOINT25D:\n          style = new ol.style.Style({\n            image: new ol.style.Circle({\n              radius: 5,\n              fill: new ol.style.Fill({\n                color: color\n              })\n            })\n          });\n          break;\n        case GeometryTypes.LINESTRING:\n        case GeometryTypes.LINESTRINGZ:\n        case GeometryTypes.LINESTRINGM:\n        case GeometryTypes.LINESTRINGZM:\n        case GeometryTypes.LINESTRING25D:\n        case GeometryTypes.MULTILINESTRING:\n        case GeometryTypes.MULTILINESTRINGZ:\n        case GeometryTypes.MULTILINESTRINGM:\n        case GeometryTypes.MULTILINESTRINGZM:\n        case GeometryTypes.MULTILINESTRING25D:\n        case GeometryTypes.LINE:\n        case GeometryTypes.LINEZ:\n        case GeometryTypes.LINEM:\n        case GeometryTypes.LINEZM:\n        case GeometryTypes.LINE25D:\n        case GeometryTypes.MULTILINE:\n        case GeometryTypes.MULTILINEZ:\n        case GeometryTypes.MULTILINEM:\n        case GeometryTypes.MULTILINEZM:\n        case GeometryTypes.MULTILINE25D:\n          style = new ol.style.Style({\n            stroke: new ol.style.Stroke({\n              width: 3,\n              color: color\n            })\n          });\n          break;\n        case GeometryTypes.POLYGON:\n        case GeometryTypes.POLYGONZ:\n        case GeometryTypes.POLYGONM:\n        case GeometryTypes.POLYGONZM:\n        case GeometryTypes.POLYGON25D:\n        case GeometryTypes.MULTIPOLYGON:\n        case GeometryTypes.MULTIPOLYGONZ:\n        case GeometryTypes.MULTIPOLYGONM:\n        case GeometryTypes.MULTIPOLYGONZM:\n        case GeometryTypes.MULTIPOLYGON25D:\n          style = new ol.style.Style({\n            stroke: new ol.style.Stroke({\n              color: \"#000000\",\n              width: 1\n            }),\n            fill: new ol.style.Fill({\n              color: color\n            })\n          });\n          olLayer.setOpacity(0.6);\n          break;\n      }\n    }\n    olLayer.setStyle(style);\n    return olLayer;\n  },\n  createWMSLayer: function createWMSLayer() {\n    var _ref7 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        url = _ref7.url,\n        name = _ref7.name,\n        projection = _ref7.projection,\n        _ref7$layers = _ref7.layers,\n        layers = _ref7$layers === undefined ? [] : _ref7$layers;\n\n    var id = name || uniqueId();\n    name = name || id;\n    var wmslayer = new WMSLayer({\n      id: id,\n      layers: layers,\n      projection: projection,\n      url: url\n    });\n    var olLayer = wmslayer.getOLLayer();\n    olLayer.set('id', id); // set unique id\n    olLayer.set('name', name);\n    return {\n      wmslayer: wmslayer,\n      olLayer: olLayer\n    };\n  },\n  createVectorLayerFromGeometry: function createVectorLayerFromGeometry(geometry) {\n    var feature = new ol.Feature(geometry);\n    return geoutils.createVectorLayerFromFeatures(feature);\n  },\n  createVectorLayerFromFeatures: function createVectorLayerFromFeatures(feature) {\n    return new ol.layer.Vector({\n      source: new ol.source.Vector({\n        features: Array.isArray(feature) ? feature : [feature]\n      })\n    });\n  },\n  createVectorLayerFromFile: function () {\n    var _ref8 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee3() {\n      var _this = this;\n\n      var _ref9 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          name = _ref9.name,\n          type = _ref9.type,\n          crs = _ref9.crs,\n          mapCrs = _ref9.mapCrs,\n          data = _ref9.data,\n          style = _ref9.style;\n\n      var format, layer, createVectorLayer, _data, headers, separator, values, x, y, features, errorrows, source, promiseKmz, promise;\n\n      return regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              format = void 0;\n              layer = void 0;\n\n              createVectorLayer = function createVectorLayer(format, data) {\n                var epsg = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : crs;\n\n                var vectorLayer = void 0;\n                var features = format.readFeatures(data, {\n                  dataProjection: epsg,\n                  featureProjection: mapCrs || epsg\n                });\n                if (features.length) {\n\n                  // ignore kml property [`<styleUrl>`](https://developers.google.com/kml/documentation/kmlreference)\n                  if (format instanceof ol.format.KML) {\n                    features.forEach(function (feature) {\n                      return feature.unset('styleUrl');\n                    }); // ref: \n                  }\n\n                  var vectorSource = new ol.source.Vector({\n                    features: features\n                  });\n                  vectorLayer = new ol.layer.Vector({\n                    source: vectorSource,\n                    name: name,\n                    _fields: Object.keys(features[0].getProperties()).filter(function (property) {\n                      return geometryFields.indexOf(property) < 0;\n                    }),\n                    id: uniqueId()\n                  });\n                  style && vectorLayer.setStyle(style);\n                }\n                return vectorLayer;\n              };\n\n              _context3.t0 = type;\n              _context3.next = _context3.t0 === 'gpx' ? 6 : _context3.t0 === 'gml' ? 9 : _context3.t0 === 'geojson' ? 12 : _context3.t0 === 'kml' ? 15 : _context3.t0 === 'csv' ? 18 : _context3.t0 === 'kmz' ? 29 : _context3.t0 === 'zip' ? 40 : 51;\n              break;\n\n            case 6:\n              format = new ol.format.GPX();\n              layer = createVectorLayer(format, data);\n              return _context3.abrupt('break', 51);\n\n            case 9:\n              format = new ol.format.WMSGetFeatureInfo();\n              layer = createVectorLayer(format, data);\n              return _context3.abrupt('break', 51);\n\n            case 12:\n              format = new ol.format.GeoJSON();\n              layer = createVectorLayer(format, data);\n              return _context3.abrupt('break', 51);\n\n            case 15:\n              format = new ol.format.KML({\n                extractStyles: false\n              });\n              layer = createVectorLayer(format, data, \"EPSG:4326\");\n              return _context3.abrupt('break', 51);\n\n            case 18:\n              _data = data, headers = _data.headers, separator = _data.separator, values = _data.values, x = _data.x, y = _data.y;\n              features = [];\n              errorrows = [];\n\n              values.forEach(function (row, index) {\n                var properties = {};\n                var rowvalues = row.split(separator);\n                if (rowvalues.length === headers.length) {\n                  var coordinates = [];\n                  rowvalues.forEach(function (value, index) {\n                    var field = headers[index];\n                    if (field === x) coordinates[0] = 1 * value;\n                    if (field === y) coordinates[1] = 1 * value;\n                    properties[field] = value;\n                  });\n                  // check if all coordinates is right\n                  if (coordinates.find(function (value) {\n                    return Number.isNaN(value);\n                  }) === undefined) {\n                    var geometry = new ol.geom.Point(coordinates);\n                    if (crs !== mapCrs) geometry.transform(crs, mapCrs);\n                    var feature = new ol.Feature(geometry);\n                    feature.setId(index); // need to add a id incremental\n                    feature.setProperties(properties);\n                    features.push(feature);\n                  }\n                } else errorrows.push({\n                  row: index + 1,\n                  value: values[index]\n                });\n              });\n\n              if (features.length) {\n                _context3.next = 24;\n                break;\n              }\n\n              return _context3.abrupt('return', Promise.reject());\n\n            case 24:\n              if (errorrows.length) {\n                _gui2.default.showUserMessage({\n                  type: 'warning',\n                  message: 'sdk.mapcontrols.addlayer.messages.csv.warning',\n                  hooks: {\n                    footer: {\n                      template: '<select v-select2=\"errorrows[0].value\" class=\"skin-color\" :search=\"false\" style=\"width:100%\">\\n                    <option v-for=\"errorrow in errorrows\" :key=\"errorrow.row\" :value=\"errorrow.value\">[{{ errorrow.row}}] {{errorrow.value}}</option>\\n                </select>',\n                      data: function data() {\n                        return {\n                          errorrows: errorrows\n                        };\n                      }\n                    }\n                  },\n                  autoclose: false\n                });\n              }\n\n              source = new ol.source.Vector({\n                features: features\n              });\n\n              layer = new ol.layer.Vector({\n                source: source,\n                name: name,\n                _fields: headers,\n                id: uniqueId()\n              });\n              style && layer.setStyle(style);\n              return _context3.abrupt('break', 51);\n\n            case 29:\n              promiseKmz = new Promise(function () {\n                var _ref10 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(resolve, reject) {\n                  var zip, buffer, kmlFile;\n                  return regeneratorRuntime.wrap(function _callee$(_context) {\n                    while (1) {\n                      switch (_context.prev = _context.next) {\n                        case 0:\n                          zip = new JSZip();\n                          _context.next = 3;\n                          return data.arrayBuffer(data);\n\n                        case 3:\n                          buffer = _context.sent;\n\n                          zip.load(buffer);\n                          kmlFile = zip.file(/.kml$/i)[0];\n\n                          if (kmlFile) {\n                            data = kmlFile.asText();\n                            format = new ol.format.KML({\n                              extractStyles: false\n                            });\n                            resolve(createVectorLayer(format, data, \"EPSG:4326\"));\n                          } else reject();\n\n                        case 7:\n                        case 'end':\n                          return _context.stop();\n                      }\n                    }\n                  }, _callee, _this);\n                }));\n\n                return function (_x9, _x10) {\n                  return _ref10.apply(this, arguments);\n                };\n              }());\n              _context3.prev = 30;\n              _context3.next = 33;\n              return promiseKmz;\n\n            case 33:\n              return _context3.abrupt('return', _context3.sent);\n\n            case 36:\n              _context3.prev = 36;\n              _context3.t1 = _context3['catch'](30);\n              return _context3.abrupt('return', Promise.reject());\n\n            case 39:\n              return _context3.abrupt('break', 51);\n\n            case 40:\n              promise = new Promise(function () {\n                var _ref11 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2(resolve, reject) {\n                  var buffer;\n                  return regeneratorRuntime.wrap(function _callee2$(_context2) {\n                    while (1) {\n                      switch (_context2.prev = _context2.next) {\n                        case 0:\n                          _context2.next = 2;\n                          return data.arrayBuffer(data);\n\n                        case 2:\n                          buffer = _context2.sent;\n\n                          shp(buffer).then(function (geojson) {\n                            var data = JSON.stringify(geojson);\n                            format = new ol.format.GeoJSON({});\n                            resolve(createVectorLayer(format, data, \"EPSG:4326\"));\n                          }).catch(function (err) {\n                            return reject(err);\n                          });\n\n                        case 4:\n                        case 'end':\n                          return _context2.stop();\n                      }\n                    }\n                  }, _callee2, _this);\n                }));\n\n                return function (_x11, _x12) {\n                  return _ref11.apply(this, arguments);\n                };\n              }());\n              _context3.prev = 41;\n              _context3.next = 44;\n              return promise;\n\n            case 44:\n              return _context3.abrupt('return', _context3.sent);\n\n            case 47:\n              _context3.prev = 47;\n              _context3.t2 = _context3['catch'](41);\n              return _context3.abrupt('return', Promise.reject());\n\n            case 50:\n              return _context3.abrupt('break', 51);\n\n            case 51:\n              return _context3.abrupt('return', layer);\n\n            case 52:\n            case 'end':\n              return _context3.stop();\n          }\n        }\n      }, _callee3, this, [[30, 36], [41, 47]]);\n    }));\n\n    function createVectorLayerFromFile() {\n      return _ref8.apply(this, arguments);\n    }\n\n    return createVectorLayerFromFile;\n  }(),\n  createStyleFunctionToVectorLayer: function createStyleFunctionToVectorLayer() {\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    var styleFunction = function styleFunction(feature, resolution) {\n      var color = options.color,\n          field = options.field;\n\n      color = color.rgba ? 'rgba(' + color.rgba.r + ',' + color.rgba.g + ',' + color.rgba.b + ',' + color.rgba.a + ')' : color;\n      var geometryType = feature.getGeometry().getType();\n      var style = geoutils.getDefaultLayerStyle(geometryType, { color: color });\n      field && style.setText(new ol.style.Text({\n        text: '' + feature.get(field),\n        font: 'bold',\n        scale: 2,\n        offsetY: 15,\n        fill: new ol.style.Fill({\n          color: color\n        }),\n        stroke: new ol.style.Stroke({\n          color: '#FFFFFF',\n          width: 2\n        })\n      }));\n      return style;\n    };\n    styleFunction._g3w_options = options;\n    return styleFunction;\n  },\n  createSelectedStyle: function createSelectedStyle() {\n    var _ref12 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        geometryType = _ref12.geometryType,\n        _ref12$color = _ref12.color,\n        color = _ref12$color === undefined ? 'rgb(255,255,0)' : _ref12$color,\n        _ref12$fill = _ref12.fill,\n        fill = _ref12$fill === undefined ? true : _ref12$fill;\n\n    var style = null;\n    if (geometryType === 'LineString' || geometryType === 'MultiLineString') {\n      style = new ol.style.Style({\n        stroke: new ol.style.Stroke({\n          color: color,\n          width: 4\n        })\n      });\n    } else if (geometryType === 'Point' || geometryType === 'MultiPoint') {\n      style = new ol.style.Style({\n        image: new ol.style.Circle({\n          radius: 6,\n          stroke: !fill && new ol.style.Stroke({\n            color: color,\n            width: 4\n          }),\n          fill: fill && new ol.style.Fill({\n            color: color\n          })\n        }),\n        zIndex: Infinity\n      });\n    } else if (geometryType === 'MultiPolygon' || geometryType === 'Polygon') {\n      var fillColor = ol.color.asArray(color);\n      fillColor.splice(3, 1, 0.5);\n      style = new ol.style.Style({\n        stroke: new ol.style.Stroke({\n          color: color,\n          width: 4\n        }),\n        fill: fill && new ol.style.Fill({\n          color: ol.color.asString(fillColor)\n        })\n      });\n    }\n    return style;\n  },\n  getAlphanumericPropertiesFromFeature: function getAlphanumericPropertiesFromFeature() {\n    var properties = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n    properties = Array.isArray(properties) ? properties : Object.keys(properties);\n    return properties.filter(function (property) {\n      return geometryFields.indexOf(property) === -1;\n    });\n  },\n\n\n  /**\n   * Method to convert feature to form Data for expression/expression_eval request\n   * @param feature\n   * @param type\n   */\n  getFormDataExpressionRequestFromFeature: function getFormDataExpressionRequestFromFeature(feature) {\n    delete feature.attributes.geometry;\n    var _feature = new ol.Feature(feature.geometry);\n    var properties = {};\n    geoutils.getAlphanumericPropertiesFromFeature(feature.attributes).forEach(function (property) {\n      if (property !== G3W_FID) properties[property] = feature.attributes[property];\n    });\n    _feature.setProperties(properties);\n    _feature.setId(feature.attributes[G3W_FID]);\n    return geoutils.convertFeatureToGEOJSON(_feature);\n  },\n\n\n  /**\n   * Convert Feature  to GEOJSON Format\n   * @param feature\n   */\n  convertFeatureToGEOJSON: function convertFeatureToGEOJSON(feature) {\n    var GeoJSONFormat = new ol.format.GeoJSON();\n    return GeoJSONFormat.writeFeatureObject(feature);\n  },\n\n\n  /**\n   *\n   * @param layers\n   * @param bbox\n   * @param feature_count\n   * @param multilayers\n   * @returns {JQuery.Promise<any, any, any>}\n   */\n  getQueryLayersPromisesByBBOX: function getQueryLayersPromisesByBBOX(layers, _ref13) {\n    var bbox = _ref13.bbox,\n        _ref13$filterConfig = _ref13.filterConfig,\n        filterConfig = _ref13$filterConfig === undefined ? {} : _ref13$filterConfig,\n        _ref13$feature_count = _ref13.feature_count,\n        feature_count = _ref13$feature_count === undefined ? 10 : _ref13$feature_count,\n        _ref13$multilayers = _ref13.multilayers,\n        multilayers = _ref13$multilayers === undefined ? false : _ref13$multilayers;\n\n    var queriesPromise = void 0;\n    var geometry = ol.geom.Polygon.fromExtent(bbox);\n    var map = _gui2.default.getComponent('map').getService().getMap();\n    var mapProjection = map.getView().getProjection();\n\n    if (multilayers) {\n      queriesPromise = geoutils.getQueryLayersPromisesByGeometry(layers, {\n        geometry: geometry,\n        feature_count: feature_count,\n        filterConfig: filterConfig,\n        multilayers: multilayers,\n        projection: mapProjection\n      });\n    } else {\n      var d = $.Deferred();\n      var mapCrs = mapProjection.getCode();\n      queriesPromise = d.promise();\n      var queryResponses = [];\n      var queryErrors = [];\n      var layersLenght = layers.length;\n      layers.forEach(function (layer) {\n        var filter = new Filter(filterConfig);\n        var layerCrs = layer.getProjection().getCode();\n        /**\n         * convert\n         */\n        filter.setGeometry(mapCrs !== layerCrs ? geometry.clone().transform(mapCrs, layerCrs) : geometry);\n        layer.query({\n          filter: filter,\n          feature_count: feature_count\n        }).then(function (response) {\n          queryResponses.push(response);\n        }).fail(function (error) {\n          return queryErrors.push(error);\n        }).always(function () {\n          layersLenght -= 1;\n          if (layersLenght === 0) queryErrors.length === layers.length ? d.reject(queryErrors) : d.resolve(queryResponses);\n        });\n      });\n    }\n    return queriesPromise;\n  },\n\n\n  /**\n   *\n   * @param layers\n   * @param multilayers\n   * @param bbox\n   * @param geometry\n   * @param projection\n   * @param feature_count\n   * @returns {JQuery.Promise<any, any, any>}\n   */\n  getQueryLayersPromisesByGeometry: function getQueryLayersPromisesByGeometry(layers) {\n    var _ref14 = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n        _ref14$multilayers = _ref14.multilayers,\n        multilayers = _ref14$multilayers === undefined ? false : _ref14$multilayers,\n        geometry = _ref14.geometry,\n        _ref14$filterConfig = _ref14.filterConfig,\n        filterConfig = _ref14$filterConfig === undefined ? {} : _ref14$filterConfig,\n        projection = _ref14.projection,\n        _ref14$feature_count = _ref14.feature_count,\n        feature_count = _ref14$feature_count === undefined ? 10 : _ref14$feature_count;\n\n    var d = $.Deferred();\n    var queryResponses = [];\n    var queryErrors = [];\n    var mapCrs = projection.getCode();\n    var filter = new Filter(filterConfig);\n    if (multilayers) {\n      (function () {\n        var filterGeometry = geometry;\n        if (!layers.length) d.resolve([]);\n        var multiLayers = _.groupBy(layers, function (layer) {\n          return layer.getMultiLayerId() + '_' + layer.getProjection().getCode();\n        });\n        var numberRequestd = Object.keys(multiLayers).length;\n        var layersLength = numberRequestd;\n        for (var key in multiLayers) {\n          var _multilayer = multiLayers[key];\n          var _layers = _multilayer;\n          var multilayer = multiLayers[key][0];\n          var provider = multilayer.getProvider('filter');\n          var layerCrs = multilayer.getProjection().getCode();\n          if (mapCrs !== layerCrs) filterGeometry = filterGeometry.clone().transform(mapCrs, layerCrs);\n          filter.setGeometry(filterGeometry);\n          provider.query({\n            filter: filter,\n            layers: _layers,\n            feature_count: feature_count\n          }).then(function (response) {\n            return queryResponses.push(response);\n          }).fail(function (error) {\n            return queryErrors.push(error);\n          }).always(function () {\n            layersLength -= 1;\n            if (layersLength === 0) queryErrors.length === numberRequestd ? d.reject(queryErrors) : d.resolve(queryResponses);\n          });\n        }\n      })();\n    } else {\n      if (layers.length === 0) d.resolve([]);else {\n        var layersLenght = layers.length;\n        layers.forEach(function (layer) {\n          var layerCrs = layer.getProjection().getCode();\n          filter.setGeometry(mapCrs !== layerCrs ? geometry.clone().transform(mapCrs, layerCrs) : geometry);\n          layer.query({\n            filter: filter,\n            filterConfig: filterConfig,\n            feature_count: feature_count\n          }).then(function (response) {\n            return queryResponses.push(response);\n          }).fail(function (error) {\n            return queryErrors.push(error);\n          }).always(function () {\n            layersLenght -= 1;\n            if (layersLenght === 0) {\n              queryErrors.length === layers.length ? d.reject(queryErrors) : d.resolve(queryResponses);\n            }\n          });\n        });\n      }\n    }\n    return d.promise();\n  },\n  getQueryLayersPromisesByCoordinates: function getQueryLayersPromisesByCoordinates(layers) {\n    var _ref15 = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n        coordinates = _ref15.coordinates,\n        _ref15$feature_count = _ref15.feature_count,\n        feature_count = _ref15$feature_count === undefined ? 10 : _ref15$feature_count,\n        _ref15$query_point_to = _ref15.query_point_tolerance,\n        query_point_tolerance = _ref15$query_point_to === undefined ? QUERY_POINT_TOLERANCE : _ref15$query_point_to,\n        _ref15$multilayers = _ref15.multilayers,\n        multilayers = _ref15$multilayers === undefined ? false : _ref15$multilayers,\n        _ref15$reproject = _ref15.reproject,\n        reproject = _ref15$reproject === undefined ? true : _ref15$reproject;\n\n    var d = $.Deferred();\n    if (!layers.length) return d.resolve(layers);\n    var map = _gui2.default.getComponent('map').getService().getMap();\n    var size = map.getSize();\n    var queryResponses = [];\n    var queryErrors = [];\n    var mapProjection = map.getView().getProjection();\n    var resolution = map.getView().getResolution();\n    if (multilayers) {\n      (function () {\n        // case of multilayers\n        var multiLayers = {};\n        layers.forEach(function (layer) {\n          var key = layer.getInfoFormat() + ':' + layer.getInfoUrl() + ':' + layer.getMultiLayerId();\n          if (multiLayers[key]) multiLayers[key].push(layer);else multiLayers[key] = [layer];\n        });\n        var numberOfRequests = Object.keys(multiLayers).length;\n        var layersLength = numberOfRequests;\n        for (var key in multiLayers) {\n          var _multilayer = multiLayers[key];\n          var _layers2 = _multilayer;\n          var multilayer = multiLayers[key][0];\n          var provider = multilayer.getProvider('query');\n          provider.query({\n            feature_count: feature_count,\n            coordinates: coordinates,\n            query_point_tolerance: query_point_tolerance,\n            mapProjection: mapProjection,\n            reproject: reproject,\n            resolution: resolution,\n            size: size,\n            layers: _layers2\n          }).then(function (response) {\n            return queryResponses.push(response);\n          }).fail(function (error) {\n            return queryErrors.push(error);\n          }).always(function () {\n            layersLength -= 1;\n            if (layersLength === 0) {\n              queryErrors.length === numberOfRequests ? d.reject(queryErrors) : d.resolve(queryResponses);\n            }\n          });\n        }\n      })();\n    } else {\n      // single layers request\n      var layersLength = layers.length;\n      var rejectedResponses = 0;\n      layers.forEach(function (layer) {\n        layer.query({\n          feature_count: feature_count,\n          coordinates: coordinates,\n          query_point_tolerance: query_point_tolerance,\n          mapProjection: mapProjection,\n          size: size,\n          resolution: resolution\n        }).then(function (response) {\n          queryResponses.push(response);\n        }).fail(function (error) {\n          rejectedResponses += 1;\n          queryErrors.push(error);\n        }).always(function () {\n          layersLength -= 1;\n          if (layersLength === 0) {\n            rejectedResponses < layers.length ? d.resolve(queryResponses) : d.reject(queryErrors);\n          }\n        });\n      });\n    }\n    return d.promise();\n  },\n  transformBBOX: function transformBBOX() {\n    var _ref16 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        bbox = _ref16.bbox,\n        sourceCrs = _ref16.sourceCrs,\n        destinationCrs = _ref16.destinationCrs;\n\n    var point1 = new ol.geom.Point([bbox[0], bbox[1]]);\n    var point2 = new ol.geom.Point([bbox[2], bbox[3]]);\n    point1.transform(sourceCrs, destinationCrs);\n    point2.transform(sourceCrs, destinationCrs);\n    return [].concat(_toConsumableArray(point1.getCoordinates()), _toConsumableArray(point2.getCoordinates()));\n  },\n  parseQueryLayersPromiseResponses: function parseQueryLayersPromiseResponses(responses) {\n    var results = {\n      query: responses[0] ? responses[0].query : null,\n      data: []\n    };\n    responses.forEach(function (result) {\n      result.data && result.data.forEach(function (data) {\n        results.data.push(data);\n      });\n    });\n    return results;\n  },\n  getMapLayerById: function getMapLayerById(layerId) {\n    return _mapLayers2.default.getLayerById(layerId);\n  },\n\n\n  //return mapLayer based on filter (properties of layer. Es GEOLAYER etc..)\n  //Default values geolayer\n  getMapLayersByFilter: function getMapLayersByFilter() {\n    var filter = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    filter = _extends({\n      GEOLAYER: true\n    }, filter);\n    var layers = [];\n    _mapLayers2.default.getQuerableLayersStores().forEach(function (layerStore) {\n      layers = layerStore.getLayers(filter, options);\n    });\n    return layers || [];\n  },\n  areCoordinatesEqual: function areCoordinatesEqual() {\n    var coordinates1 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n    var coordinates2 = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n\n    return coordinates1[0] === coordinates2[0] && coordinates1[1] === coordinates2[1];\n  },\n\n  /**\n   *\n   *\n   * @param response\n   * @param type vector/results\n   * @returns {*|*[]|null}\n   */\n  getFeaturesFromResponseVectorApi: function getFeaturesFromResponseVectorApi() {\n    var response = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    var _ref17 = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n        _ref17$type = _ref17.type,\n        type = _ref17$type === undefined ? 'vector' : _ref17$type;\n\n    if (response.result) {\n      var features = response.vector.data.features || [];\n      switch (type) {\n        case 'result':\n          return geoutils.covertVectorFeaturesToResultFeatures(features);\n          break;\n        case 'vector':\n        default:\n          return features;\n      }\n    } else return null;\n  },\n  covertVectorFeaturesToResultFeatures: function covertVectorFeaturesToResultFeatures() {\n    var features = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n    return features.map(function (feature) {\n      var id = feature.id,\n          attributes = feature.properties,\n          geometry = feature.geometry;\n\n      attributes[G3W_FID] = id;\n      return {\n        geometry: geometry,\n        attributes: attributes,\n        id: id\n      };\n    });\n  },\n  splitGeometryLine: function splitGeometryLine(splitGeometry, lineGeometry) {\n    var isZType = lineGeometry.getCoordinates()[0][2] !== undefined;\n    var splitted = false;\n    var splittedSegments = [];\n    var jstsFromWkt = new jsts.io.WKTReader();\n    var wktFromOl = new ol.format.WKT();\n    var olFromJsts = new jsts.io.OL3Parser();\n    var splitLine = jstsFromWkt.read(wktFromOl.writeGeometry(splitGeometry));\n    var wktLineString = wktFromOl.writeGeometry(lineGeometry);\n    if (isZType) wktLineString = wktLineString.replace(' Z', '');\n    var targetLine = jstsFromWkt.read(wktLineString);\n    var targetCoordinates = targetLine.getCoordinates();\n    var targetCoordinatesLength = targetCoordinates.length;\n    var geometryFactory = new jsts.geom.GeometryFactory();\n    var pointsNotSplitted = [];\n    var endPoint = void 0;\n    var startPoint = void 0;\n    for (var i = 0; i < targetCoordinatesLength - 1; i++) {\n      startPoint = targetCoordinates[i];\n      endPoint = targetCoordinates[i + 1];\n      if (isZType) {\n        startPoint.z = lineGeometry.getCoordinates()[i][2];\n        endPoint.z = lineGeometry.getCoordinates()[i + 1][2];\n      }\n      // create a segment of two vertex\n      var segment = geometryFactory.createLineString([startPoint, endPoint]);\n      var intersectCoordinates = segment.intersection(splitLine).getCoordinates();\n      if (intersectCoordinates.length) {\n        splitted = true;\n        intersectCoordinates.forEach(function (splitPoint) {\n          if (isZType) splitPoint.z = startPoint.z;\n          if (pointsNotSplitted.length) {\n            var lineNewSegment = olFromJsts.write(geometryFactory.createLineString(pointsNotSplitted.concat([startPoint, splitPoint])));\n            if (isZType) {\n              var coordinates = lineNewSegment.getCoordinates();\n              lineNewSegment.setCoordinates([[].concat(_toConsumableArray(coordinates[0]), [startPoint.z]), [].concat(_toConsumableArray(coordinates[1]), [splitPoint.z])]);\n            }\n            splittedSegments.push(lineNewSegment);\n            pointsNotSplitted = [];\n          } else {\n            var _lineNewSegment = olFromJsts.write(geometryFactory.createLineString([startPoint, splitPoint]));\n            if (isZType) {\n              var _coordinates = _lineNewSegment.getCoordinates();\n              _lineNewSegment.setCoordinates([[].concat(_toConsumableArray(_coordinates[0]), [startPoint.z]), [].concat(_toConsumableArray(_coordinates[1]), [splitPoint.z])]);\n            }\n            splittedSegments.push(_lineNewSegment);\n          }\n          startPoint = splitPoint;\n        });\n        pointsNotSplitted = pointsNotSplitted.concat([startPoint, endPoint]);\n      } else pointsNotSplitted = pointsNotSplitted.concat([startPoint, endPoint]);\n    }\n    var restOfLine = olFromJsts.write(geometryFactory.createLineString(pointsNotSplitted));\n    if (isZType) {\n      var zCoordinates = [];\n      pointsNotSplitted.forEach(function (pointNotSplitted, index) {\n        var coordinate = restOfLine.getCoordinates()[index];\n        coordinate.push(pointNotSplitted.z);\n        zCoordinates.push(coordinate);\n      });\n      restOfLine.setCoordinates(zCoordinates);\n    }\n    splittedSegments.push(restOfLine);\n    return splitted && splittedSegments || [];\n  },\n  splitFeatures: function splitFeatures() {\n    var _ref18 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        _ref18$features = _ref18.features,\n        features = _ref18$features === undefined ? [] : _ref18$features,\n        splitfeature = _ref18.splitfeature;\n\n    var splitterdGeometries = [];\n    features.forEach(function (feature) {\n      var geometries = geoutils.splitFeature({ feature: feature, splitfeature: splitfeature });\n      geometries.length > 1 && splitterdGeometries.push({\n        uid: feature.getUid(),\n        geometries: geometries\n      });\n    });\n    return splitterdGeometries;\n  },\n  splitFeature: function splitFeature() {\n    var _ref19 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        feature = _ref19.feature,\n        splitfeature = _ref19.splitfeature;\n\n    var geometries = {\n      feature: feature.getGeometry(), //geometry of the feature to split\n      split: splitfeature.getGeometry() // geometry of split feature\n    };\n    // check geometry type of split\n    var splitType = geometries.split.getType();\n    // check geometry type of feature\n    var featureGeometryType = geometries.feature.getType();\n    // array of splitted geometries\n    var splittedFeatureGeometries = [];\n    var parser = new jsts.io.OL3Parser();\n    switch (splitType) {\n      case 'LineString':\n        // check if geometry is Polygon\n        if (featureGeometryType.indexOf('Polygon') !== -1) {\n          // check if is a MultiPolygon\n          var isMulti = featureGeometryType.indexOf('Multi') !== -1;\n          // if multiPolygon\n          var polygonFeature = isMulti ? geometries.feature.getPolygons() : geometries.feature;\n          if (Array.isArray(polygonFeature)) {\n            polygonFeature.forEach(function (geometry) {\n              geoutils.splitFeature({\n                splitfeature: splitfeature,\n                feature: new ol.Feature({\n                  geometry: geometry\n                })\n              }).forEach(function (geometry) {\n                geometry && splittedFeatureGeometries.push(new ol.geom.MultiPolygon([geometry.getCoordinates()]));\n              });\n            });\n          } else {\n            // case a Polygon\n            var isZType = polygonFeature.getCoordinates()[0][0][2] !== undefined;\n            var polygonFeatureGeometry = parser.read(polygonFeature);\n            var externalPolygonFeatureGeometry = parser.read(polygonFeature.getLinearRing(0));\n            // create a line splittinf feature in jsts\n            var splitGeometry = parser.read(geometries.split);\n            // add holes geometries\n            var holePolygons = void 0;\n            if (polygonFeature.getLinearRingCount() > 1) {\n              var holeFeaturesGeometry = void 0;\n              for (var index = 1; index < polygonFeature.getLinearRingCount(); index++) {\n                var holeRing = parser.read(polygonFeature.getLinearRing(index));\n                if (holeFeaturesGeometry === undefined) holeFeaturesGeometry = holeRing;else holeFeaturesGeometry = holeFeaturesGeometry.union(holeRing);\n              }\n              holePolygons = new jsts.operation.polygonize.Polygonizer();\n              holePolygons.add(holeFeaturesGeometry);\n              var holyPolygonUnion = void 0;\n              holePolygons.getPolygons().toArray().forEach(function (polygon) {\n                if (holyPolygonUnion === undefined) holyPolygonUnion = polygon;else holyPolygonUnion = holyPolygonUnion.union(polygon);\n              });\n              holePolygons = holyPolygonUnion;\n            }\n\n            if (isZType) {\n              polygonFeature.getCoordinates()[0].forEach(function (coordinate, index) {\n                externalPolygonFeatureGeometry.getCoordinates()[index].z = coordinate[2];\n              });\n              splitGeometry.getCoordinates().forEach(function (coordinate) {\n                return coordinate.z = 0;\n              });\n            }\n\n            var union = externalPolygonFeatureGeometry.union(splitGeometry);\n            var polygonizer = new jsts.operation.polygonize.Polygonizer();\n            polygonizer.add(union);\n            var polygons = polygonizer.getPolygons().toArray();\n            polygons.length > 1 && polygons.forEach(function (polygon) {\n              if (holePolygons) polygon = polygon.difference(holePolygons);\n              if (polygonFeatureGeometry.intersects(polygon.getInteriorPoint())) {\n                var geometry = parser.write(polygon);\n                var polygonCoordinates = polygon.getCoordinates();\n                if (isZType) {\n                  polygonCoordinates.forEach(function (coordinate, index) {\n                    coordinate.z = coordinate.z === undefined ? polygonCoordinates[index === 0 ? index + 1 : index - 1].z : coordinate.z;\n                  });\n                }\n                if (isZType) {\n                  var zCoordinates = [];\n                  geometry.getCoordinates()[0].forEach(function (coordinate, index) {\n                    coordinate.push(polygonCoordinates[index].z);\n                    zCoordinates.push(coordinate);\n                  });\n                  geometry.setCoordinates([zCoordinates]);\n                }\n                var geometryType = geometry.getType();\n                if (isMulti) {\n                  splittedFeatureGeometries.push(new ol.geom.MultiPolygon(geometryType === 'Polygon' ? [geometry.getCoordinates()] : geometry.getCoordinates()));\n                } else {\n                  if (geometryType === 'Polygon') {\n                    splittedFeatureGeometries.push(geometry);\n                  } else geometry.getCoordinates().forEach(function (coordinates) {\n                    splittedFeatureGeometries.push(new ol.geom.Polygon(coordinates));\n                  });\n                }\n              }\n            });\n          }\n          //LineString or MultiLineString\n        } else if (featureGeometryType.indexOf('LineString') !== -1) {\n          var _isMulti = featureGeometryType.indexOf('Multi') !== -1;\n          var lineFeatureGeometry = _isMulti ? geometries.feature.getLineStrings() : geometries.feature;\n          if (Array.isArray(lineFeatureGeometry)) {\n            lineFeatureGeometry.forEach(function (lineGeometry) {\n              geoutils.splitFeature({\n                splitfeature: splitfeature,\n                feature: new ol.Feature({\n                  geometry: lineGeometry\n                })\n              }).forEach(function (geometry) {\n                geometry && splittedFeatureGeometries.push(new ol.geom.MultiLineString([geometry.getCoordinates()]));\n              });\n            });\n          } else return geoutils.splitGeometryLine(geometries.split, geometries.feature);\n        }\n        break;\n    }\n    return splittedFeatureGeometries;\n  },\n\n  /**\n   * Return Point feature vertex from geometry\n   * @param geometry\n   */\n  getPointFeaturesfromGeometryVertex: function getPointFeaturesfromGeometryVertex(geometry) {\n    var pointFeatures = [];\n    switch (geometry.getType()) {\n      case GeometryTypes.MULTIPOLYGON:\n        geometry.getCoordinates().forEach(function (coordinates) {\n          coordinates.forEach(function (coordinates) {\n            coordinates.pop();\n            coordinates.forEach(function (coordinates) {\n              var feature = new ol.Feature(new ol.geom.Point(coordinates));\n              pointFeatures.push(feature);\n            });\n          });\n        });\n        break;\n      case GeometryTypes.POLYGON:\n        geometry.getCoordinates().forEach(function (coordinates) {\n          coordinates.pop();\n          coordinates.forEach(function (coordinates) {\n            var feature = new ol.Feature(new ol.geom.Point(coordinates));\n            pointFeatures.push(feature);\n          });\n        });\n        break;\n      case GeometryTypes.MULTILINESTRING:\n        geometry.getCoordinates().forEach(function (coordinates) {\n          coordinates.forEach(function (coordinates) {\n            var feature = new ol.Feature(new ol.geom.Point(coordinates));\n            pointFeatures.push(feature);\n          });\n        });\n        break;\n      case GeometryTypes.LINESTRING:\n        geometry.getCoordinates().forEach(function (coordinates) {\n          coordinates.forEach(function (coordinates) {\n            var feature = new ol.Feature(new ol.geom.Point(coordinates));\n            pointFeatures.push(feature);\n          });\n        });\n        break;\n      case GeometryTypes.MULTIPOINT:\n        geometry.getCoordinates().forEach(function (coordinates) {\n          var feature = new ol.Feature(new ol.geom.Point(coordinates));\n          pointFeatures.push(feature);\n        });\n        break;\n      case GeometryTypes.POINT:\n        var coordinates = geometry.getCoordinates();\n        var feature = new ol.geom.Point(coordinates);\n        pointFeatures.push(feature);\n        break;\n    }\n    return pointFeatures;\n  },\n\n\n  /**\n   * Return number of vertex of a feature\n   * @param geometries\n   * @returns {*}\n   */\n  getVertexLength: function getVertexLength(geometry) {\n    var vertexLength = 0;\n    switch (geometry.getType()) {\n      case GeometryTypes.MULTIPOLYGON:\n        geometry.getCoordinates().forEach(function (coordinates) {\n          coordinates.forEach(function (coordinates) {\n            coordinates.pop();\n            coordinates.forEach(function () {\n              return vertexLength += 1;\n            });\n          });\n        });\n        break;\n      case GeometryTypes.POLYGON:\n        geometry.getCoordinates().forEach(function (coordinates) {\n          coordinates.pop();\n          coordinates.forEach(function () {\n            return vertexLength += 1;\n          });\n        });\n        break;\n    }\n    return vertexLength;\n  },\n\n\n  /**\n   * Method that compare two geometry type and return true id are same geometry type or have in common tha same base geometry type:\n   * es. Point <--> Point => true\n   *  MultiPoint <--> Point => true\n   *  Point <--> Polygon => false\n   *\n   */\n  isSameBaseGeometryType: function isSameBaseGeometryType(geometryType1, geometryType2) {\n    geometryType1 = geometryType1.replace('Multi', '');\n    geometryType2 = geometryType2.replace('Multi', '');\n    return geometryType1 === geometryType2;\n  },\n  isSingleGeometry: function isSingleGeometry(geometry) {\n    return !Geometry.isMultiGeometry(geometry.getType());\n  },\n  singleGeometriesToMultiGeometry: function singleGeometriesToMultiGeometry() {\n    var geometries = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n    var geometryType = geometries[0] && geometries[0].getType();\n    return geometryType && new ol.geom['Multi' + geometryType](geometries.map(function (geometry) {\n      return geometry.getCoordinates();\n    }));\n  },\n  multiGeometryToSingleGeometries: function multiGeometryToSingleGeometries(geometry) {\n    var geometryType = geometry.getType();\n    var geometries = [];\n    switch (geometryType) {\n      case GeometryTypes.MULTIPOLYGON:\n        geometries = geometry.getPolygons();\n        break;\n      case GeometryTypes.MULTILINE:\n      case GeometryTypes.MULTILINESTRING:\n        geometries = geometry.getLineStrings();\n        break;\n      case GeometryTypes.MULTIPOINT:\n        geometries = geometry.getPoints();\n        break;\n    }\n    return geometries;\n  },\n\n  /**\n   * Convert geometry to geometryType (from Single to Multi or viceversa)\n   * @param geometry //from geometry\n   * @param toGeometryType\n   * @returns {*}\n   */\n  convertSingleMultiGeometry: function convertSingleMultiGeometry(geometry, toGeometryType) {\n    var fromGeometryType = geometry.getType();\n    if (toGeometryType && fromGeometryType !== toGeometryType) {\n      var isFromGeometryMulti = Geometry.isMultiGeometry(fromGeometryType);\n      var isToGeometryMulti = Geometry.isMultiGeometry(toGeometryType);\n      if (isFromGeometryMulti && !isToGeometryMulti) return geoutils.multiGeometryToSingleGeometries(geometry);else if (!isFromGeometryMulti && isToGeometryMulti) return geoutils.singleGeometriesToMultiGeometry([geometry]);\n    }\n    return geometry;\n  },\n  dissolve: function dissolve() {\n    var _ref20 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        _ref20$features = _ref20.features,\n        features = _ref20$features === undefined ? [] : _ref20$features,\n        _ref20$index = _ref20.index,\n        index = _ref20$index === undefined ? 0 : _ref20$index,\n        _ref20$clone = _ref20.clone,\n        clone = _ref20$clone === undefined ? false : _ref20$clone;\n\n    var parser = new jsts.io.OL3Parser();\n    var featuresLength = features.length;\n    var dissolvedFeature = void 0;\n    var jstsdissolvedFeatureGeometry = void 0;\n    switch (featuresLength) {\n      case 0:\n        dissolvedFeature = null;\n        break;\n      case 1:\n        dissolvedFeature = features[0];\n        break;\n      default:\n        var baseFeature = dissolvedFeature = clone ? features[index].clone() : features[index];\n        var baseFeatureGeometry = baseFeature.getGeometry();\n        var baseFeatureGeometryType = baseFeatureGeometry.getType();\n        // check if can buil a LineString\n        if (baseFeatureGeometryType === 'LineString') {\n          var lineMerger = new jsts.operation.linemerge.LineMerger();\n          for (var i = 0; i < featuresLength; i++) {\n            var feature = features[i];\n            var coordinates = parser.read(feature.getGeometry()).getCoordinates();\n            var LineString = new jsts.geom.GeometryFactory().createLineString(coordinates);\n            lineMerger.addLineString(LineString);\n          }\n          var mergedLineString = lineMerger.getMergedLineStrings();\n          jstsdissolvedFeatureGeometry = mergedLineString.size() === 1 ? mergedLineString.toArray()[0] : null;\n        } else {\n          jstsdissolvedFeatureGeometry = parser.read(baseFeatureGeometry);\n          for (var _i = 0; _i < featuresLength; _i++) {\n            if (index !== _i) {\n              var _feature3 = features[_i];\n              jstsdissolvedFeatureGeometry = jstsdissolvedFeatureGeometry.union(parser.read(_feature3.getGeometry()));\n            }\n          }\n        }\n        if (jstsdissolvedFeatureGeometry) {\n          var dissolvedFeatureGeometry = parser.write(jstsdissolvedFeatureGeometry);\n          var dissolvedFeatureGeometryType = dissolvedFeatureGeometry.getType();\n          var dissolvedFeatuteGeometryCoordinates = dissolvedFeatureGeometryType === baseFeatureGeometryType ? dissolvedFeatureGeometry.getCoordinates() : baseFeatureGeometryType.indexOf('Multi') !== -1 && dissolvedFeatureGeometryType === baseFeatureGeometryType.replace('Multi', '') ? [dissolvedFeatureGeometry.getCoordinates()] : null;\n          if (dissolvedFeatuteGeometryCoordinates) baseFeature.getGeometry().setCoordinates(dissolvedFeatuteGeometryCoordinates);else dissolvedFeature = null;\n        } else dissolvedFeature = null;\n    }\n    return dissolvedFeature;\n  },\n\n\n  /**\n   * Check if `geometryToCheck` is within `geometry`\n   * \n   * @param   {ol.geometry} geometry\n   * @param   {ol.geometry} geometryToCheck\n   * @returns {boolean}     whether `geometryToCheck` is within `geometry`\n   * \n   * @since 3.8.0\n   */\n  within: function within(geometry, geometryToCheck) {\n    var olFromJsts = new jsts.io.OL3Parser();\n    var jstsGeometry = olFromJsts.read(geometry);\n    var jstsGeometryToCheck = olFromJsts.read(geometryToCheck);\n    return jstsGeometryToCheck.within(jstsGeometry);\n  },\n\n  /**\n   * Check if `geometryCheck` intersects with `geometry`\n   * \n   * @param   {ol.geometry} geometry\n   * @param   {ol.geometry} geometryToCheck\n   * \n   * @returns {boolean}     whether `geometryToCheck` interesects `geometry`\n   * \n   * @since 3.8.0\n   */\n  intersects: function intersects(geometry, geometryToCheck) {\n    var olFromJsts = new jsts.io.OL3Parser();\n    var jstsGeometry = olFromJsts.read(geometry);\n    var jstsGeometryToCheck = olFromJsts.read(geometryToCheck);\n    return jstsGeometry.intersects(jstsGeometryToCheck);\n  },\n\n\n  /**\n   * Method to find Self Intersection\n   * @param geoJsonPolygon\n   * @returns {[]}\n   */\n  findSelfIntersects: function findSelfIntersects(geometry) {\n    // temporary return true or false (commented the array result for point intersect)\n    var selfIntersectPoint = [];\n    var olFromJsts = new jsts.io.OL3Parser();\n    var jstsPolygon = olFromJsts.read(geometry);\n    // if the geometry is already a simple linear ring, do not\n    // try to find self intersection points.\n    var validator = new jsts.operation.IsSimpleOp(jstsPolygon);\n    //if (validator.isSimpleLinearGeometry(jstsPolygon)) return selfIntersectPoint;\n    if (validator.isSimpleLinearGeometry(jstsPolygon)) return false;\n    var graph = new jsts.geomgraph.GeometryGraph(0, jstsPolygon);\n    var cat = new jsts.operation.valid.ConsistentAreaTester(graph);\n    var r = cat.isNodeConsistentArea();\n    if (!r) {\n      return true;\n      //const pt = cat.getInvalidPoint();\n      //selfIntersectPoint.push([pt.x, pt.y]);\n    }\n  },\n  normalizeEpsg: function normalizeEpsg(epsg) {\n    if (typeof epsg === 'number') return 'EPSG:' + epsg;\n    epsg = epsg.replace(/[^\\d\\.\\-]/g, \"\");\n    if (epsg !== '') return 'EPSG:' + parseInt(epsg);\n  },\n  crsToCrsObject: function crsToCrsObject(crs) {\n    if (crs === null || crs === undefined) return crs;\n    if (toRawType(crs) === 'Object' && crs.epsg) crs.epsg = geoutils.normalizeEpsg(crs.epsg);else crs = {\n      epsg: geoutils.normalizeEpsg(crs),\n      proj4: \"\",\n      axisinverted: false,\n      geographic: false\n    };\n    return crs;\n  },\n\n  /**\n   * Method to convert Degree Minutes  to Degree\n   * @param dm\n   * @returns {string}\n   * @constructor\n   */\n  ConvertDMToDEG: function ConvertDMToDEG(_ref21) {\n    var dms = _ref21.dms,\n        _ref21$type = _ref21.type,\n        type = _ref21$type === undefined ? \"Array\" : _ref21$type;\n\n    var dms_Array = type === 'Array' ? dms : dms.split(/[^\\d\\w\\.]+/);\n    var degrees = 1 * dms_Array[0];\n    var minutes = 1 * dms_Array[1];\n    var deg = (Number(degrees) + Number(minutes) / 60).toFixed(6);\n    return 1 * deg;\n  },\n\n  /**\n   * Method to convert Degree to DM\n   * @param deg\n   * @param lat\n   * @returns {string}\n   * @constructor\n   */\n  ConvertDEGToDM: function ConvertDEGToDM() {\n    var _ref22 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        deg = _ref22.deg,\n        _ref22$output = _ref22.output,\n        output = _ref22$output === undefined ? 'Array' : _ref22$output;\n\n    var absolute = Math.abs(deg);\n    var degrees = Math.floor(absolute);\n    var minutes = (absolute - degrees) * 60;\n    switch (output) {\n      case 'Array':\n        return [degrees, minutes];\n        break;\n      case 'Object':\n        return {\n          degrees: degrees,\n          minutes: minutes\n        };\n        break;\n      case 'Text':\n      default:\n        return degrees + \"°\" + minutes + \"'\";\n    }\n  },\n\n  /**\n   * Method to convert Degree Minutes Seconto to Degree\n   * @param dms\n   * @returns {string}\n   * @constructor\n   */\n  ConvertDMSToDEG: function ConvertDMSToDEG(_ref23) {\n    var dms = _ref23.dms,\n        _ref23$type = _ref23.type,\n        type = _ref23$type === undefined ? \"Array\" : _ref23$type;\n\n    var dms_Array = type === 'Array' ? dms : dms.split(/[^\\d\\w\\.]+/);\n    var degrees = 1 * dms_Array[0];\n    var minutes = 1 * dms_Array[1];\n    var seconds = 1 * dms_Array[2];\n    var direction = dms_Array[3];\n    var deg = (Number(degrees) + Number(minutes) / 60 + Number(seconds) / 3600).toFixed(6);\n    if (direction == \"S\" || direction == \"W\") deg = deg * -1;\n    return 1 * deg;\n  },\n\n  /**\n   * Method to convert Degree to DMS\n   * @param deg\n   * @param lat\n   * @returns {string}\n   * @constructor\n   */\n  ConvertDEGToDMS: function ConvertDEGToDMS() {\n    var _ref24 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        deg = _ref24.deg,\n        lat = _ref24.lat,\n        lon = _ref24.lon,\n        _ref24$output = _ref24.output,\n        output = _ref24$output === undefined ? 'Array' : _ref24$output;\n\n    var absolute = Math.abs(deg);\n    var degrees = Math.floor(absolute);\n    var minutesNotTruncated = (absolute - degrees) * 60;\n    var minutes = Math.floor(minutesNotTruncated);\n    var seconds = ((minutesNotTruncated - minutes) * 60).toFixed(2);\n    var direction = void 0;\n    if (lat) direction = deg >= 0 ? \"N\" : \"S\";\n    if (lon) direction = deg >= 0 ? \"E\" : \"W\";\n    switch (output) {\n      case 'Array':\n        return [degrees, minutes, seconds, direction];\n        break;\n      case 'Object':\n        return {\n          degrees: degrees,\n          minutes: minutes,\n          seconds: seconds,\n          direction: direction\n        };\n        break;\n      case 'Text':\n      default:\n        return degrees + \"°\" + minutes + \"'\" + seconds + \"\\\"\" + direction;\n    }\n  },\n\n  /**\n   * Method to get geotiff file create by server\n   *\n   * @param options {\n   *   url: server url end point\n   *   method: \"GET\" or \"POST\" - default POST\n   * }\n   * @returns {Promise<Blob>}\n   */\n  getGeoTIFFfromServer: function () {\n    var _ref25 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee4() {\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      var url, _options$params, image, csrfmiddlewaretoken, bbox, _options$method, method, body, response, geoTIFF;\n\n      return regeneratorRuntime.wrap(function _callee4$(_context4) {\n        while (1) {\n          switch (_context4.prev = _context4.next) {\n            case 0:\n              url = options.url, _options$params = options.params, image = _options$params.image, csrfmiddlewaretoken = _options$params.csrfmiddlewaretoken, bbox = _options$params.bbox, _options$method = options.method, method = _options$method === undefined ? \"POST\" : _options$method;\n              body = new FormData();\n\n              body.append('image', image);\n              body.append('csrfmiddlewaretoken', csrfmiddlewaretoken);\n              body.append('bbox', bbox);\n              _context4.next = 7;\n              return fetch(url, {\n                method: method, // *GET, POST, PUT, DELETE, etc.,\n                body: body\n              });\n\n            case 7:\n              response = _context4.sent;\n              _context4.next = 10;\n              return response.blob();\n\n            case 10:\n              geoTIFF = _context4.sent;\n              return _context4.abrupt('return', geoTIFF);\n\n            case 12:\n            case 'end':\n              return _context4.stop();\n          }\n        }\n      }, _callee4, this);\n    }));\n\n    function getGeoTIFFfromServer() {\n      return _ref25.apply(this, arguments);\n    }\n\n    return getGeoTIFFfromServer;\n  }(),\n\n  /**\n   * Method to convert feature forma api\n   * @param feature\n   * @returns {*|Feature|Feature}\n   */\n  createOlFeatureFromApiResponseFeature: function createOlFeatureFromApiResponseFeature(feature) {\n    var _feature$properties = feature.properties,\n        properties = _feature$properties === undefined ? {} : _feature$properties,\n        geometry = feature.geometry,\n        id = feature.id;\n\n    properties[G3W_FID] = id;\n    var Feature = new ol.Feature(geometry && new ol.geom[geometry.type](geometry.coordinates));\n    Feature.setProperties(properties);\n    Feature.setId(id);\n    return Feature;\n  },\n  sanitizeFidFeature: function sanitizeFidFeature(fid) {\n    if (toRawType(fid) === 'String' && Number.isNaN(1 * fid)) {\n      fid = fid.split('.');\n      fid = fid.length === 2 ? fid[1] : fid[0];\n    }\n    return fid;\n  },\n  parseAttributes: function parseAttributes(layerAttributes, featureAttributes) {\n    var featureAttributesNames = Object.keys(featureAttributes).filter(function (featureAttributesName) {\n      return geometryFields.indexOf(featureAttributesName) === -1;\n    });\n    if (layerAttributes && layerAttributes.length) {\n      var _featureAttributesNames = Object.keys(featureAttributes);\n      return layerAttributes.filter(function (attribute) {\n        return _featureAttributesNames.indexOf(attribute.name) > -1;\n      });\n    } else {\n      return featureAttributesNames.map(function (featureAttributesName) {\n        return {\n          name: featureAttributesName,\n          label: featureAttributesName\n        };\n      });\n    }\n  },\n\n  /**\n   * Handle case query response\n   */\n  handleQueryResponse: function handleQueryResponse() {\n    var _ref26 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        response = _ref26.response,\n        projections = _ref26.projections,\n        layers = _ref26.layers,\n        _ref26$wms = _ref26.wms,\n        wms = _ref26$wms === undefined ? true : _ref26$wms;\n\n    layers = layers ? layers : [this._layer];\n    var layer = layers[0];\n    var infoFormat = layer.getInfoFormat();\n    response = responseParser.get(infoFormat)({\n      response: response,\n      projections: projections,\n      layers: layers,\n      wms: wms\n    });\n    return response;\n  },\n\n\n  /**\n   * core/geometry/geom::distance@v3.4\n   */\n  distance: function distance(c1, c2) {\n    return Math.sqrt(geom.squaredDistance(c1, c2));\n  },\n\n\n  /**\n   * * core/geometry/geom::squaredDistance@v3.4\n   */\n  squaredDistance: function squaredDistance(c1, c2) {\n    var x1 = c1[0];\n    var y1 = c1[1];\n    var x2 = c2[0];\n    var y2 = c2[1];\n    var dx = x2 - x1;\n    var dy = y2 - y1;\n    return dx * dx + dy * dy;\n  },\n\n\n  /**\n   * core/geometry/geom::closestOnSegment@v3.4\n   */\n  closestOnSegment: function closestOnSegment(coordinate, segment) {\n    var x0 = coordinate[0];\n    var y0 = coordinate[1];\n    var start = segment[0];\n    var end = segment[1];\n    var x1 = start[0];\n    var y1 = start[1];\n    var x2 = end[0];\n    var y2 = end[1];\n    var dx = x2 - x1;\n    var dy = y2 - y1;\n    var along = dx === 0 && dy === 0 ? 0 : (dx * (x0 - x1) + dy * (y0 - y1)) / (dx * dx + dy * dy || 0);\n    var x = void 0,\n        y = void 0;\n    if (along <= 0) {\n      x = x1;\n      y = y1;\n    } else if (along >= 1) {\n      x = x2;\n      y = y2;\n    } else {\n      x = x1 + along * dx;\n      y = y1 + along * dy;\n    }\n    return [x, y];\n  },\n  get_LEGEND_ON_LEGEND_OFF_Params: function get_LEGEND_ON_LEGEND_OFF_Params(layer) {\n    var LEGEND_ON = void 0,\n        LEGEND_OFF = void 0;\n    if (layer.getCategories()) {\n      /**\n       * checked: current status\n       * _checked: original status\n       * handle only difference (diff) from original checked status and current chenge by toc categories\n       */\n      layer.getCategories().forEach(function (_ref27) {\n        var checked = _ref27.checked,\n            _checked = _ref27._checked,\n            ruleKey = _ref27.ruleKey;\n\n        if (checked !== _checked) {\n          if (checked) {\n            if (typeof LEGEND_ON === 'undefined') LEGEND_ON = layer.getWMSLayerName() + ':';else LEGEND_ON = LEGEND_ON + ',';\n            LEGEND_ON = '' + LEGEND_ON + ruleKey;\n          } else {\n            if (typeof LEGEND_OFF === 'undefined') LEGEND_OFF = layer.getWMSLayerName() + ':';else LEGEND_OFF = LEGEND_OFF + ',';\n            LEGEND_OFF = '' + LEGEND_OFF + ruleKey;\n          }\n        }\n      });\n    }\n    return {\n      LEGEND_ON: LEGEND_ON,\n      LEGEND_OFF: LEGEND_OFF\n    };\n  },\n\n\n  /**\n   * @TODO remove \"Geometry\" sub-property (ie. find out how to merge the following functions)\n   */\n  Geometry: Geometry\n\n};\n\nmodule.exports = geoutils;\n\n},{\"app/constant\":4,\"core/layers/filter/filter\":30,\"core/layers/map/wmslayer\":45,\"core/utils/parsers\":67,\"core/utils/utils\":68,\"services/gui\":361,\"store/map-layers\":377}],65:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar TOPOFFSET = 35; /**\n                     * @TODO check if we can safely delete this file, all these functions look somewhat unused\n                     * \n                     * @file utility functions historically related to \"g3w-ol/controls\"\n                     * @since v3.8\n                     */\n\nexports.default = {\n\n  /**\n   * @FIXME add description\n   */\n  layout: function layout(_ref) {\n    var map = _ref.map,\n        position = _ref.position,\n        element = _ref.element;\n  },\n\n\n  /**\n   * @param {{map: ol.Map, position: ('top'|'right'), element: JQuery, isMobile?: boolean }}\n   */\n  changeLayoutBottomControl: function changeLayoutBottomControl(_ref2) {\n    var map = _ref2.map,\n        position = _ref2.position,\n        element = _ref2.element,\n        _ref2$isMobile = _ref2.isMobile,\n        isMobile = _ref2$isMobile === undefined ? false : _ref2$isMobile;\n\n    var viewPort = map.getViewport();\n    var positionCode = (position['top'] ? 't' : 'b') + (position['left'] ? 'l' : 'r');\n    var previusControls = $(viewPort).find('.ol-control-' + positionCode + ':visible');\n    if (previusControls.length) {\n      var previusControl = void 0;\n      previusControls.each(function (index, elem) {\n        if (elem != element[0]) previusControl = $(elem);else return false;\n      });\n      if (previusControl && positionCode === 'br') {\n        if (!isMobile) {\n          var previousTopPosition = previusControl.position().top;\n          var elementTopPosition = element.position().top;\n          if (previousTopPosition - elementTopPosition != TOPOFFSET) {\n            var hOffset = previousTopPosition - TOPOFFSET;\n            element.css('top', hOffset + 'px');\n          }\n        } else {\n          var previusControlWidth = previusControl.width();\n          var previousLeftPosition = previusControlWidth < 10 ? 130 : previusControlWidth + 20;\n          element.css('right', previousLeftPosition + 'px');\n          element.css('bottom', '15px');\n        }\n      }\n    }\n  },\n\n\n  /**\n   * Create user message tool from map control\n   */\n  createControlUserMessageTool: function createControlUserMessageTool() {\n    var tool = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {\n      hooks: {\n        body: {\n          template: '<div>\\n                <div >\\n                  <input type=\"radio\" name=\"radio\" id=\"g3w-map_theme-0\" class=\"magic-radio\" value=\"view1\">\\n                  <label  for=\"g3w-map_theme-0\" style=\"display: flex; justify-content: space-between;\">\\n                    <span>Intersect</span>\\n                  </label>\\n                </div>\\n                <div>\\n                  <input  type=\"radio\" name=\"radio\" id=\"_cotains\" class=\"magic-radio\" value=\"view2\">\\n                  <label  for=\"g3w-map_theme-1\" style=\"display: flex; justify-content: space-between;\">\\n                    <span>view2</span>\\n                  </label>\\n                </div>\\n              </div>'\n        }\n      },\n      title: 'Scelgli il tipo di operazione'\n    };\n\n    _gui2.default.showUserMessage({\n      type: 'tool',\n      message: tool.message,\n      size: tool.size || 'small', // small, medium\n      title: tool.title || '',\n      hooks: tool.hooks\n    });\n  }\n};\n\n},{\"services/gui\":361}],66:[function(require,module,exports){\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; /**\n                                                                                                                                                                                                                                                                   * @FIXME remove weird import (utility functions should be stateles)\n                                                                                                                                                                                                                                                                   */\n\n\nvar _applicationState = require(\"store/application-state\");\n\nvar _applicationState2 = _interopRequireDefault(_applicationState);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * @FIXME circular dependency (ie. empty object when importing at top level), ref: #130\n */\n// const { Geometry } = require('core/utils/geo');\n\nvar INCHES_PER_UNIT = {\n  m: 39.37, //\n  degrees: 4374754\n};\n\n//const DOTS_PER_INCH = ol.has.DEVICE_PIXEL_RATIO * 96; //DPI96\nvar DOTS_PER_INCH = 96; //DPI96\n\nvar utils = {\n  merge: function merge(obj1, obj2) {\n    var obj3 = _extends({}, obj1, obj2);\n    return obj3;\n  },\n  getExtentForViewAndSize: function getExtentForViewAndSize(center, resolution, rotation, size) {\n    var dx = resolution * size[0] / 2;\n    var dy = resolution * size[1] / 2;\n    var cosRotation = Math.cos(rotation);\n    var sinRotation = Math.sin(rotation);\n    var xCos = dx * cosRotation;\n    var xSin = dx * sinRotation;\n    var yCos = dy * cosRotation;\n    var ySin = dy * sinRotation;\n    var x = center[0];\n    var y = center[1];\n    var x0 = x - xCos + ySin;\n    var x1 = x - xCos - ySin;\n    var x2 = x + xCos - ySin;\n    var x3 = x + xCos + ySin;\n    var y0 = y - xSin - yCos;\n    var y1 = y - xSin + yCos;\n    var y2 = y + xSin + yCos;\n    var y3 = y + xSin - yCos;\n    //return [Math.min(y0, y1, y2, y3),Math.min(x0, x1, x2, x3), Math.max(y0, y1, y2, y3), Math.max(x0, x1, x2, x3)]\n    return [Math.min(x0, x1, x2, x3), Math.min(y0, y1, y2, y3), Math.max(x0, x1, x2, x3), Math.max(y0, y1, y2, y3)];\n  },\n\n  // function that create a polygon vector layer from bbox\n  createPolygonLayerFromBBox: function createPolygonLayerFromBBox(bbox) {\n    var polygonFeature = new ol.Feature(new ol.geom.Polygon.fromExtent(bbox));\n    var vectorSource = new ol.source.Vector({\n      features: [polygonFeature]\n    });\n    var polygonLayer = new ol.layer.Vector({\n      source: vectorSource\n    });\n    return polygonLayer;\n  },\n  reverseGeometry: function reverseGeometry(geometry) {\n    var reverseCoordinates = function reverseCoordinates(coordinates) {\n      coordinates.find(function (coordinate) {\n        if (Array.isArray(coordinate)) {\n          reverseCoordinates(coordinate);\n        } else {\n          var _coordinates = _slicedToArray(coordinates, 2),\n              y = _coordinates[0],\n              x = _coordinates[1];\n\n          coordinates[0] = x;\n          coordinates[1] = y;\n          return true;\n        }\n      });\n    };\n    var coordinates = geometry.getCoordinates();\n    reverseCoordinates(coordinates);\n    geometry.setCoordinates(coordinates);\n    return geometry;\n  },\n  getScaleFromResolution: function getScaleFromResolution(resolution) {\n    var units = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : \"m\";\n\n    return Math.round(resolution * INCHES_PER_UNIT[units] * DOTS_PER_INCH);\n  },\n  getResolutionFromScale: function getResolutionFromScale(scale) {\n    var units = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : \"m\";\n\n    var normScale = scale >= 1.0 ? 1.0 / scale : scale; // just to prevent that scale is passed as 1:10000 or 0.0001\n    return 1 / (normScale * INCHES_PER_UNIT[units] * DOTS_PER_INCH);\n  },\n  getDPI: function getDPI() {\n    return DOTS_PER_INCH;\n  },\n  getMetersFromDegrees: function getMetersFromDegrees(degrees) {\n    return degrees * ol.proj.Units.METERS_PER_UNIT.degrees;\n  },\n  needUseSphereMethods: function needUseSphereMethods(projection) {\n    return projection.getCode() === 'EPSG:3857' || projection.getUnits() === 'degrees';\n    //return projection.getUnits() === 'degrees';\n  },\n  getLengthMessageText: function getLengthMessageText() {\n    var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        unit = _ref.unit,\n        projection = _ref.projection,\n        geometry = _ref.geometry;\n\n    /**\n     * @FIXME circular dependency (ie. empty object when importing at top level), ref: #130\n     */\n    var _require = require('core/utils/geo'),\n        Geometry = _require.Geometry;\n    //\n\n\n    var geometryType = geometry.getType();\n    var useSphereMethods = this.needUseSphereMethods(projection);\n    var length = useSphereMethods ? ol.sphere.getLength(geometry, {\n      projection: projection.getCode()\n    }) : Geometry.isMultiGeometry(geometryType) ? geometry.getLineStrings().reduce(function (totalLength, lineGeometry) {\n      return totalLength += lineGeometry.getLength();\n    }, 0) : geometry.getLength();\n    var message = void 0;\n    switch (unit) {\n      case 'nautical':\n        message = this.transformMeterLength(length, unit) + \" nm\";\n        break;\n      case 'metric':\n      default:\n        message = length > 1000 ? (Math.round(length / 1000 * 100) / 100).toFixed(3) + \" km\" : (Math.round(length * 100) / 100).toFixed(2) + \" m\";\n    }\n    return message;\n  },\n  getAreaMessageText: function getAreaMessageText(_ref2) {\n    var unit = _ref2.unit,\n        geometry = _ref2.geometry,\n        projection = _ref2.projection,\n        _ref2$segments = _ref2.segments,\n        segments = _ref2$segments === undefined ? [] : _ref2$segments;\n\n    var useSphereMethods = this.needUseSphereMethods(projection);\n    var area = Math.round(useSphereMethods ? ol.sphere.getArea(geometry, {\n      projection: projection.getCode()\n    }) : geometry.getArea());\n    var message = void 0;\n    var segments_info_meausure = '';\n    var segmentLength = segments.length;\n    if (segmentLength > 2) {\n      segments_info_meausure += this.getLengthMessageText({\n        unit: unit,\n        projection: projection,\n        geometry: new ol.geom.LineString(segments)\n      }) + \" <br>\";\n    }\n    switch (unit) {\n      case 'nautical':\n        message = this.transformMeterArea(area, unit) + \" \\u2009nmi\\xB2\";\n        break;\n      case 'metric':\n      default:\n        message = area > 1000000 ? (Math.round(area / 1000000 * 100) / 100).toFixed(6) + \" km<sup>2</sup>\" : (Math.round(area * 100) / 100).toFixed(3) + \" m<sup>2</sup>\";\n    }\n    if (segments_info_meausure) message = \"Area: \" + message + \" <br><div style=\\\"width: 100%; padding: 3px; border-bottom: 2px solid #ffffff\\\"></div> \" + segments_info_meausure;\n    return message;\n  },\n  formatMeasure: function formatMeasure() {\n    var _ref3 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        geometry = _ref3.geometry,\n        projection = _ref3.projection;\n\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    /**\n     * @FIXME circular dependency (ie. empty object when importing at top level), ref: #130\n     */\n    var _require2 = require('core/utils/geo'),\n        Geometry = _require2.Geometry,\n        multiGeometryToSingleGeometries = _require2.multiGeometryToSingleGeometries;\n    //\n\n\n    var geometryType = geometry.getType();\n    var unit = this.getCurrentMapUnit();\n    if (Geometry.isLineGeometryType(geometryType)) {\n      return this.getLengthMessageText({\n        unit: unit,\n        projection: projection,\n        geometry: geometry\n      });\n    } else if (Geometry.isPolygonGeometryType(geometryType)) {\n      var segments = void 0;\n      if (Geometry.isMultiGeometry(geometryType)) {\n        segments = [];\n        multiGeometryToSingleGeometries(geometry).forEach(function (geometry) {\n          geometry.getLinearRing().getCoordinates().forEach(function (coordinates) {\n            return segments.push(coordinates);\n          });\n        });\n      } else segments = geometry.getLinearRing().getCoordinates();\n      return this.getAreaMessageText({ unit: unit, geometry: geometry, projection: projection, segments: segments });\n    }\n  },\n\n\n  //create and add measure tooltip\n  createMeasureTooltip: function createMeasureTooltip() {\n    var _ref4 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        map = _ref4.map,\n        feature = _ref4.feature;\n\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    var element = document.createElement('div');\n    element.className = 'mtooltip mtooltip-measure';\n    var tooltip = new ol.Overlay({\n      element: element,\n      offset: [0, -15],\n      positioning: 'bottom-center'\n    });\n    map.addOverlay(tooltip);\n    var unbyKey = feature.getGeometry().on('change', function (evt) {\n      var tooltipCoord = void 0;\n      var geometry = evt.target;\n      if (geometry instanceof ol.geom.Polygon) tooltipCoord = geometry.getInteriorPoint().getCoordinates();else if (geometry instanceof ol.geom.MultiPolygon) tooltipCoord = geometry.getInteriorPoints().getCoordinates()[0];else if (geometry instanceof ol.geom.LineString) tooltipCoord = geometry.getLastCoordinate();else if (geometry instanceof ol.geom.MultiLineString) tooltipCoord = geometry.getLastCoordinate();\n      var output = utils.formatMeasure({\n        geometry: geometry,\n        projection: map.getView().getProjection()\n      }, options);\n      element.innerHTML = output;\n      tooltip.setPosition(tooltipCoord);\n    });\n\n    return {\n      tooltip: tooltip,\n      unbyKey: unbyKey\n    };\n  },\n\n  /**\n   * @FIXME utility functions should be stateles (move it elsewhere)\n   */\n  getCurrentMapUnit: function getCurrentMapUnit() {\n    return _applicationState2.default.map.unit;\n  },\n\n\n  /**\n   * Method to transform length meter in a specific unti (ex.nautilcal mile)\n   * @param length\n   * @param tounit\n   * @returns {null}\n   */\n  transformMeterLength: function transformMeterLength(length, tounit) {\n    switch (tounit) {\n      case 'nautical':\n        length = length * 0.0005399568;\n        break;\n    }\n    return length;\n  },\n  transformMeterArea: function transformMeterArea(area, tounit) {\n    switch (tounit) {\n      case 'nautical':\n        area = area * 0.000000291553349598122862913947445759414840765222583489217190918463024037990567;\n        break;\n    }\n    return area;\n  },\n\n\n  //remove mesure tootltip\n  removeMeasureTooltip: function removeMeasureTooltip(_ref5) {\n    var map = _ref5.map,\n        tooltip = _ref5.tooltip,\n        unbyKey = _ref5.unbyKey;\n\n    map.removeOverlay(tooltip);\n    ol.Observable.unByKey(unbyKey);\n  },\n  setMeasureTooltipStatic: function setMeasureTooltipStatic(tooltip) {\n    var element = tooltip.getElement();\n    element.className = 'mtooltip mtooltip-static';\n    tooltip.setOffset([0, -7]);\n  }\n};\n\nmodule.exports = utils;\n\n},{\"core/utils/geo\":64,\"store/application-state\":373}],67:[function(require,module,exports){\nvar _constant = require('app/constant');\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar _require = require('core/utils/utils'),\n    toRawType = _require.toRawType;\n\nvar Feature = require('core/layers/features/feature');\n\nvar _require2 = require('core/i18n/i18n.service'),\n    t = _require2.t;\n\nvar olutils = require('core/utils/ol');\nvar WORD_NUMERIC_FIELD_ESCAPE = 'GIS3W_ESCAPE_NUMERIC_FIELD_';\n\n/**\n * @FIXME circular dependency (ie. empty object when importing at top level)\n */\n// const { Geometry : { is3DGeometry, removeZValueToOLFeatureGeometry } } = require('core/utils/geo');\n\n/**\n * Response parser (internal utilities)\n */\nvar utils = {\n  getHandledResponsesFromResponse: function getHandledResponsesFromResponse(_ref) {\n    var _this = this;\n\n    var response = _ref.response,\n        layers = _ref.layers,\n        projections = _ref.projections,\n        _ref$id = _ref.id,\n        id = _ref$id === undefined ? false : _ref$id;\n\n    var multilayers = false;\n    var x2js = new X2JS();\n    var jsonresponse = x2js.xml_str2json(response);\n    // in case of parser return null\n    if (!jsonresponse) return [{\n      layer: layers[0],\n      features: []\n    }];\n    var FeatureCollection = jsonresponse.FeatureCollection;\n    var handledResponses = [];\n    if (FeatureCollection.featureMember) {\n      var originalFeatureMember = Array.isArray(FeatureCollection.featureMember) ? FeatureCollection.featureMember : [FeatureCollection.featureMember];\n\n      var _loop = function _loop(i) {\n        var layer = layers[i];\n        var layerName = id ? layer.getId() : 'layer' + i;\n        var featureMemberArrayAndPrefix = {\n          features: null,\n          __prefix: null\n        };\n        jsonresponse.FeatureCollection.featureMember = originalFeatureMember.filter(function (feature) {\n          var featureMember = feature[layerName];\n          if (featureMember) {\n            featureMember.g3w_fid = {\n              __prefix: feature.__prefix,\n              __text: featureMember._fid && featureMember._fid.split('.')[1]\n            };\n            if (Array.isArray(featureMember)) {\n              featureMemberArrayAndPrefix.features = featureMember;\n              featureMemberArrayAndPrefix.__prefix = feature.__prefix;\n              return false;\n            }\n            return true;\n          }\n        });\n        if (featureMemberArrayAndPrefix.features) {\n          var prefix = featureMemberArrayAndPrefix.__prefix;\n          // check if features have the same fields. If not group the features with the same fields\n          var groupFeatures = _this.groupFeaturesByFields(featureMemberArrayAndPrefix.features);\n          //check if features have different fields (multilayers)\n          if (Object.keys(groupFeatures).length > 1) {\n            // is a multilayers. Each feature has different fields\n            multilayers = true;\n            _this.handleWMSMultiLayersResponseFromQGISSERVER({\n              groupFeatures: groupFeatures,\n              prefix: prefix,\n              handledResponses: handledResponses,\n              jsonresponse: jsonresponse,\n              layer: layer,\n              projections: projections\n            });\n          } else {\n            featureMemberArrayAndPrefix.features.forEach(function (feature) {\n              var _jsonresponse$Feature;\n\n              //for Each element have to add and object contain layerName and information, and __prefix\n              jsonresponse.FeatureCollection.featureMember.push((_jsonresponse$Feature = {}, _defineProperty(_jsonresponse$Feature, layerName, feature), _defineProperty(_jsonresponse$Feature, '__prefix', prefix), _jsonresponse$Feature));\n            });\n          }\n        }\n        if (!multilayers) {\n          var handledResponse = _this.parseLayerFeatureCollection({\n            jsonresponse: jsonresponse,\n            layer: layer,\n            projections: projections\n          });\n          handledResponse && handledResponses.unshift(handledResponse[0]);\n        }\n      };\n\n      for (var i = 0; i < layers.length; i++) {\n        _loop(i);\n      }\n    }\n    return handledResponses;\n  },\n  transformFeatures: function transformFeatures(features, projections) {\n    if (features.length) {\n      if (!!features[0].getGeometry()) {\n        var mainProjection = projections.layer ? projections.layer : projections.map;\n        var invertedAxis = mainProjection.getAxisOrientation().substr(0, 2) === 'ne';\n        if (projections.layer && projections.layer.getCode() !== projections.map.getCode()) {\n          features.forEach(function (feature) {\n            var geometry = feature.getGeometry();\n            feature.setGeometry(geometry.transform(projections.layer.getCode(), projections.map.getCode()));\n          });\n        }\n        if (invertedAxis) features = this.reverseFeaturesCoordinates(features);\n      }\n    }\n    return features;\n  },\n  parseLayerFeatureCollection: function parseLayerFeatureCollection(_ref2) {\n    var _this2 = this;\n\n    var jsonresponse = _ref2.jsonresponse,\n        layer = _ref2.layer,\n        projections = _ref2.projections;\n\n    /**\n     * @FIXME circular dependency (ie. empty object when importing at top level)\n     */\n    var _require3 = require('core/utils/geo'),\n        _require3$Geometry = _require3.Geometry,\n        is3DGeometry = _require3$Geometry.is3DGeometry,\n        removeZValueToOLFeatureGeometry = _require3$Geometry.removeZValueToOLFeatureGeometry;\n\n    var x2js = new X2JS();\n    var layerFeatureCollectionXML = x2js.json2xml_str(jsonresponse);\n    var parser = new ol.format.WMSGetFeatureInfo();\n    var features = this.transformFeatures(parser.readFeatures(layerFeatureCollectionXML), projections);\n    if (layer.isGeoLayer()) {\n      var geometryType = layer.getGeometryType();\n\n      // Need to remove Z values due a incorrect addition when using\n      // ol.format.WMSGetFeatureInfo readFeatures method from XML\n      // (eg. WMS getFeatureInfo);\n      if (!is3DGeometry(geometryType)) {\n        features.forEach(function (feature) {\n          return removeZValueToOLFeatureGeometry({ feature: feature });\n        });\n      }\n    }\n\n    if (features.length && this.hasFieldsStartWithNotPermittedKey) {\n      var properties = Object.keys(features[0].getProperties());\n      var numericFields = properties.filter(function (property) {\n        return property.indexOf(WORD_NUMERIC_FIELD_ESCAPE) !== -1;\n      });\n      features.forEach(function (feature) {\n        numericFields.forEach(function (_field) {\n          var value = feature.get(_field);\n          var ori_field = _field.replace(WORD_NUMERIC_FIELD_ESCAPE, '');\n          feature.set(_this2.hasFieldsStartWithNotPermittedKey[ori_field], Array.isArray(value) ? value[0] : value);\n          feature.unset(_field);\n        });\n      });\n    }\n    return [{\n      layer: layer,\n      features: features\n    }];\n  },\n  reverseFeaturesCoordinates: function reverseFeaturesCoordinates(features) {\n    features.forEach(function (feature) {\n      var geometry = feature.getGeometry();\n      feature.setGeometry(olutils.reverseGeometry(geometry));\n    });\n    return features;\n  },\n  handleXMLStringResponseBeforeConvertToJSON: function handleXMLStringResponseBeforeConvertToJSON() {\n    var _this3 = this;\n\n    var _ref3 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        response = _ref3.response,\n        layers = _ref3.layers,\n        wms = _ref3.wms;\n\n    if (!response) return; // return undefined if no response\n    if (!(typeof response === 'string' || response instanceof String)) response = new XMLSerializer().serializeToString(response);\n    for (var i = 0; i < layers.length; i++) {\n      var _layer = layers[i];\n      var originalName = wms && _layer.isWmsUseLayerIds() ? _layer.getId() : _layer.getName();\n      var sanitizeLayerName = wms ? originalName.replace(/[/\\s]/g, '') : originalName.replace(/[/\\s]/g, '_');\n      sanitizeLayerName = sanitizeLayerName.replace(/(\\'+)/, '');\n      sanitizeLayerName = sanitizeLayerName.replace(/(\\)+)/, '');\n      sanitizeLayerName = sanitizeLayerName.replace(/(\\(+)/, '');\n      var reg = new RegExp('qgs:' + sanitizeLayerName, \"g\");\n      response = response.replace(reg, 'qgs:layer' + i);\n    }\n    // add match numeric value integer or float\n    var arrayQGS = [].concat(_toConsumableArray(response.matchAll(/qgs:(\\d+(?:\\.\\d+)?)(\\w+)/g)), _toConsumableArray(response.matchAll(/qgs:(\\w+):(\\w+)/g)));\n    arrayQGS.forEach(function (find, idx) {\n      if (idx % 2 === 0) {\n        if (!_this3.hasFieldsStartWithNotPermittedKey) _this3.hasFieldsStartWithNotPermittedKey = {};\n        var originalField = find[0].replace('qgs:', '');\n        _this3.hasFieldsStartWithNotPermittedKey['' + find[1] + find[2]] = originalField;\n        var regex = new RegExp('' + find[0], \"g\");\n        response = response.replace(regex, 'qgs:' + WORD_NUMERIC_FIELD_ESCAPE + find[1] + find[2]);\n      }\n    });\n    //PATCH id strange\n    var strangeChar = new RegExp('' + String.fromCharCode(0), \"g\");\n    response = response.replace(strangeChar, '0');\n    ///\n    return response;\n  },\n  groupFeaturesByFields: function groupFeaturesByFields(features) {\n    return _.groupBy(features, function (feature) {\n      return Object.keys(feature);\n    });\n  },\n  handleWMSMultiLayersResponseFromQGISSERVER: function handleWMSMultiLayersResponseFromQGISSERVER() {\n    var _this4 = this;\n\n    var _ref4 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        groupFeatures = _ref4.groupFeatures,\n        prefix = _ref4.prefix,\n        handledResponses = _ref4.handledResponses,\n        jsonresponse = _ref4.jsonresponse,\n        layer = _ref4.layer,\n        projections = _ref4.projections;\n\n    // is a multilayers. Each feature has different fields. If group has more that one feature spit it and create single features\n    Object.keys(groupFeatures).forEach(function (key, index) {\n      var features = groupFeatures[key];\n      features.forEach(function (feature, sub_index) {\n        var _jsonresponse$Feature2;\n\n        jsonresponse.FeatureCollection.featureMember = (_jsonresponse$Feature2 = {}, _defineProperty(_jsonresponse$Feature2, 'layer' + index + '_' + sub_index, feature), _defineProperty(_jsonresponse$Feature2, '__prefix', prefix), _jsonresponse$Feature2);\n        var handledResponse = _this4.parseLayerFeatureCollection({\n          jsonresponse: jsonresponse,\n          layer: layer,\n          projections: projections\n        });\n        if (handledResponse) {\n          var response = handledResponse[0];\n          response.layer = layer;\n          handledResponses.unshift(response);\n        }\n      });\n    });\n  }\n};\n\n/**\n * Response parser (content types)\n */\nvar contenttypes = {\n  'application/json': function applicationJson() {\n    var _ref5 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        _ref5$layers = _ref5.layers,\n        layers = _ref5$layers === undefined ? [] : _ref5$layers,\n        response = _ref5.response,\n        projections = _ref5.projections,\n        _ref5$wms = _ref5.wms,\n        wms = _ref5$wms === undefined ? true : _ref5$wms;\n\n    var _require4 = require('core/utils/geo'),\n        sanitizeFidFeature = _require4.sanitizeFidFeature;\n\n    var layersFeatures = [];\n    var layersId = layers.map(function (layer) {\n      layersFeatures.push({\n        layer: layer,\n        features: []\n      });\n      return wms ? layer.getWMSLayerName() : layer.getWFSLayerName();\n    });\n    var data = response;\n    var parseData = function parseData() {\n      var defaultDataProjection = projections.layer || projections.map;\n      var geojson = new ol.format.GeoJSON({\n        defaultDataProjection: defaultDataProjection,\n        geometryName: \"geometry\"\n      });\n      return geojson.readFeatures(data);\n    };\n    var features = data && parseData();\n    features.filter(function (feature) {\n      var featureId = feature.getId();\n      var g3w_fid = sanitizeFidFeature(featureId);\n      // in case of wms getfeature without filter return string contain layerName or layerid\n      var index = featureId == g3w_fid ? 0 : layersId.indexOf(featureId);\n      if (index !== -1) {\n        var fields = layersFeatures[index].layer.getFields().filter(function (field) {\n          return field.show;\n        });\n        var properties = feature.getProperties();\n        feature.set(_constant.G3W_FID, g3w_fid);\n        fields.forEach(function (field) {\n          if (properties[field.name] === undefined) {\n            properties[field.label] !== undefined && feature.set(field.name, properties[field.label]);\n          }\n        });\n        layersFeatures[index].features.push(feature);\n      }\n    });\n    return layersFeatures;\n  },\n  'application/geojson': function applicationGeojson() {\n    var _ref6 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        layers = _ref6.layers,\n        projections = _ref6.projections,\n        response = _ref6.response;\n\n    var handleResponse = [];\n    var parserGEOJson = Parsers.vector.get({\n      type: 'geojson'\n    });\n    if (response) {\n      layers.forEach(function (layer) {\n        handleResponse.push({\n          layer: layer,\n          features: parserGEOJson(response, {})\n        });\n      });\n    }\n    return handleResponse;\n  },\n  'text/html': function textHtml() {\n    var _ref7 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        layers = _ref7.layers,\n        response = _ref7.response;\n\n    var handleResponse = [];\n    layers.forEach(function (layer) {\n      handleResponse.push({\n        layer: layer,\n        rawdata: response\n      });\n    });\n    return handleResponse;\n  },\n  'text/plain': function textPlain() {\n    var _ref8 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        layers = _ref8.layers,\n        response = _ref8.response;\n\n    var handleResponse = [];\n    layers.forEach(function (layer) {\n      handleResponse.push({\n        layer: layer,\n        rawdata: response\n      });\n    });\n    return handleResponse;\n  },\n  'text/gml': function textGml(_ref9) {\n    var layers = _ref9.layers,\n        response = _ref9.response;\n\n    var parserGML = Parsers.vector.get({\n      type: 'gml'\n    });\n    var features = parserGML({\n      data: response,\n      layer: layers[0]\n    });\n    return layers.map(function (layer) {\n      return {\n        layer: layer,\n        features: features\n      };\n    });\n  },\n  'application/vnd.ogc.gml': function applicationVndOgcGml() {\n    var _ref10 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        response = _ref10.response,\n        projections = _ref10.projections,\n        layers = _ref10.layers,\n        _ref10$wms = _ref10.wms,\n        wms = _ref10$wms === undefined ? true : _ref10$wms;\n\n    return utils.getHandledResponsesFromResponse({\n      response: utils.handleXMLStringResponseBeforeConvertToJSON({\n        layers: layers,\n        response: response,\n        wms: wms\n      }),\n      layers: layers,\n      projections: projections\n    });\n  },\n  not_supported_format: function not_supported_format() {\n    var _ref11 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        _ref11$layers = _ref11.layers,\n        layers = _ref11$layers === undefined ? [] : _ref11$layers;\n\n    return layers.map(function (layer) {\n      return {\n        layer: layer,\n        rawdata: t('warning.not_supported_format')\n      };\n    });\n  }\n};\n\n/**\n * Vector parser\n */\nvar VectorParser = function VectorParser() {\n  // return the right parser for the request\n  this.get = function () {\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    var type = options.type;\n    var parser = void 0;\n    switch (type) {\n      case 'geojson':\n      case 'json':\n        parser = this._parseLayerGeoJSON;\n        break;\n      case 'gml':\n        parser = this._parseLayermsGMLOutput;\n        break;\n      default:\n        parser = this._parseLayerGeoJSON;\n    }\n    return parser;\n  };\n  this._parseLayermsGMLOutput = function (_ref12) {\n    var data = _ref12.data,\n        layer = _ref12.layer;\n\n    try {\n      var gml = void 0;\n      // to extract gml from multiple (Tuscany region)\n      if (data.substr(0, 2) !== '--') gml = data;else {\n        var gmlTag1 = new RegExp(\"<([^ ]*)FeatureCollection\");\n        var gmlTag2 = new RegExp(\"<([^ ]*)msGMLOutput\");\n        var boundary = '\\r\\n--';\n        var parts = data.split(new RegExp(boundary));\n        parts.forEach(function (part) {\n          var isGmlPart = part.search(gmlTag1) > -1 ? true : part.search(gmlTag2) > -1 ? true : false;\n          if (isGmlPart) {\n            gml = part.substr(part.indexOf(\"<?xml\"));\n          }\n        });\n      }\n      var layers = layer.getQueryLayerOrigName();\n      var parser = new ol.format.WMSGetFeatureInfo({\n        layers: layers\n      });\n      return parser.readFeatures(gml);\n    } catch (err) {\n      return [];\n    }\n  };\n\n  this._parseLayerGeoJSON = function (data, options) {\n    try {\n      data = toRawType(data) === 'String' ? JSON.parse(data) : data;\n      var crs = options.crs,\n          mapCrs = options.mapCrs;\n\n      var geojson = new ol.format.GeoJSON({\n        dataProjection: crs,\n        featureProjection: mapCrs || crs,\n        geometryName: \"geometry\"\n      });\n      return geojson.readFeatures(data);\n    } catch (err) {\n      return [];\n    }\n  };\n};\n\n/**\n * Table parser\n */\nvar TableParser = function TableParser() {\n  this.get = function () {\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    var type = options.type;\n    var parser = void 0;\n    switch (type) {\n      case 'json':\n        parser = this._parserJSON.bind(this);\n        break;\n      default:\n        parser = this._parserJSON.bind(this);\n    }\n    return parser;\n  };\n\n  this._parserJSON = function () {\n    var data = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    var _data$features = data.features,\n        features = _data$features === undefined ? [] : _data$features;\n\n    return features.map(function (_feature) {\n      var id = _feature.id,\n          properties = _feature.properties;\n\n      var feature = new Feature();\n      feature.setProperties(properties);\n      feature.setId(id);\n      return feature;\n    });\n  };\n};\n\nvar Parsers = {\n  vector: new VectorParser(),\n  table: new TableParser(),\n  /**\n   * @TODO wrap within dedicated class (ie. new ResponseParser())\n   */\n  response: {\n    get: function get(type) {\n      return contenttypes[type] || contenttypes.not_supported_format;\n    },\n\n    utils: {\n      getTimeoutData: function getTimeoutData() {\n        var layers = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n        return layers.map(function (layer) {\n          return {\n            layer: layer,\n            rawdata: 'timeout'\n          };\n        });\n      }\n    }\n  }\n};\n\nmodule.exports = Parsers;\n\n},{\"app/constant\":4,\"core/i18n/i18n.service\":13,\"core/layers/features/feature\":26,\"core/utils/geo\":64,\"core/utils/ol\":66,\"core/utils/utils\":68}],68:[function(require,module,exports){\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _constant = require('app/constant');\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar Filter = require('core/layers/filter/filter');\nvar Expression = require('core/layers/filter/expression');\n\n/**\n * Decimal adjustment of a number.\n *\n * @param {String}  type  The type of adjustment.\n * @param {Number}  value The number.\n * @param {Integer} exp   The exponent (the 10 logarithm of the adjustment base).\n * @returns {Number} The adjusted value.\n */\nfunction decimalAdjust(type, value, exp) {\n  // If the exp is undefined or zero...\n  if (typeof exp === 'undefined' || +exp === 0) return Math[type](value);\n  value = +value;\n  exp = +exp;\n  // If the value is not a number or the exp is not an integer...\n  if (isNaN(value) || !(typeof exp === 'number' && exp % 1 === 0)) {\n    return NaN;\n  }\n  // Shift\n  value = value.toString().split('e');\n  value = Math[type](+(value[0] + 'e' + (value[1] ? +value[1] - exp : -exp)));\n  // Shift back\n  value = value.toString().split('e');\n  return +(value[0] + 'e' + (value[1] ? +value[1] + exp : exp));\n}\n\n// Decimal round\nif (!Math.round10) {\n  Math.round10 = function (value, exp) {\n    return decimalAdjust('round', value, exp);\n  };\n}\n// Decimal floor\nif (!Math.floor10) {\n  Math.floor10 = function (value, exp) {\n    return decimalAdjust('floor', value, exp);\n  };\n}\n// Decimal ceil\nif (!Math.ceil10) {\n  Math.ceil10 = function (value, exp) {\n    return decimalAdjust('ceil', value, exp);\n  };\n}\n\nString.prototype.hashCode = function () {\n  var hash = 0,\n      i = void 0,\n      chr = void 0,\n      len = void 0;\n  if (this.length === 0) return hash;\n  for (i = 0, len = this.length; i < len; i++) {\n    chr = this.charCodeAt(i);\n    hash = (hash << 5) - hash + chr;\n    hash |= 0;\n  }\n  return hash;\n};\n\nvar Base64 = { _keyStr: \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\", encode: function encode(e) {\n    var t = \"\";var n = void 0,\n        r = void 0,\n        i = void 0,\n        s = void 0,\n        o = void 0,\n        u = void 0,\n        a = void 0;var f = 0;e = Base64._utf8_encode(e);while (f < e.length) {\n      n = e.charCodeAt(f++);r = e.charCodeAt(f++);i = e.charCodeAt(f++);s = n >> 2;o = (n & 3) << 4 | r >> 4;u = (r & 15) << 2 | i >> 6;a = i & 63;if (isNaN(r)) {\n        u = a = 64;\n      } else if (isNaN(i)) {\n        a = 64;\n      }t = t + this._keyStr.charAt(s) + this._keyStr.charAt(o) + this._keyStr.charAt(u) + this._keyStr.charAt(a);\n    }return t;\n  }, decode: function decode(e) {\n    var t = \"\";var n = void 0,\n        r = void 0,\n        i = void 0;var s = void 0,\n        o = void 0,\n        u = void 0,\n        a = void 0;var f = 0;e = e.replace(/[^A-Za-z0-9+/=]/g, \"\");while (f < e.length) {\n      s = this._keyStr.indexOf(e.charAt(f++));o = this._keyStr.indexOf(e.charAt(f++));u = this._keyStr.indexOf(e.charAt(f++));a = this._keyStr.indexOf(e.charAt(f++));n = s << 2 | o >> 4;r = (o & 15) << 4 | u >> 2;i = (u & 3) << 6 | a;t = t + String.fromCharCode(n);if (u != 64) {\n        t = t + String.fromCharCode(r);\n      }if (a != 64) {\n        t = t + String.fromCharCode(i);\n      }\n    }t = Base64._utf8_decode(t);return t;\n  }, _utf8_encode: function _utf8_encode(e) {\n    e = e.replace(/rn/g, \"n\");var t = \"\";for (var n = 0; n < e.length; n++) {\n      var r = e.charCodeAt(n);if (r < 128) {\n        t += String.fromCharCode(r);\n      } else if (r > 127 && r < 2048) {\n        t += String.fromCharCode(r >> 6 | 192);t += String.fromCharCode(r & 63 | 128);\n      } else {\n        t += String.fromCharCode(r >> 12 | 224);t += String.fromCharCode(r >> 6 & 63 | 128);t += String.fromCharCode(r & 63 | 128);\n      }\n    }return t;\n  }, _utf8_decode: function _utf8_decode(e) {\n    var t = \"\";var n = 0;var r = c1 = c2 = 0;while (n < e.length) {\n      r = e.charCodeAt(n);if (r < 128) {\n        t += String.fromCharCode(r);n++;\n      } else if (r > 191 && r < 224) {\n        c2 = e.charCodeAt(n + 1);t += String.fromCharCode((r & 31) << 6 | c2 & 63);n += 2;\n      } else {\n        c2 = e.charCodeAt(n + 1);c3 = e.charCodeAt(n + 2);t += String.fromCharCode((r & 15) << 12 | (c2 & 63) << 6 | c3 & 63);n += 3;\n      }\n    }return t;\n  } };\n\nvar _uid = 0;\n\nvar utils = {\n  getUniqueDomId: function getUniqueDomId() {\n    _uid += 1;\n    return _uid + '_' + Date.now();\n  },\n  uniqueId: function uniqueId() {\n    return utils.getUniqueDomId();\n  },\n  basemixin: function basemixin(destination, source) {\n    return utils.merge(destination.prototype, source);\n  },\n  mixin: function mixin(destination, source) {\n    var sourceInstance = new source();\n    utils.merge(destination, sourceInstance);\n    utils.merge(destination.prototype, source.prototype);\n  },\n  merge: function merge(destination, source) {\n    var key = void 0;\n    for (key in source) {\n      if (utils.hasOwn(source, key)) destination[key] = source[key];\n    }\n  },\n  hasOwn: function hasOwn(object, key) {\n    return Object.prototype.hasOwnProperty.call(object, key);\n  },\n\n  // google closure library impememtation\n  inherit: function inherit(childCtor, parentCtor) {\n    function tempCtor() {}\n    tempCtor.prototype = parentCtor.prototype;\n    childCtor.superClass_ = parentCtor.prototype;\n    childCtor.prototype = new tempCtor();\n    childCtor.prototype.constructor = childCtor;\n  },\n\n  // goole closure library implementation\n  base: function base(me, opt_methodName, var_args) {\n    // who call base\n    // noinspection JSAnnotator\n    var caller = arguments.callee.caller;\n    if (caller.superClass_) {\n      // This function constructor (that inherit from superClass_). Call the superclass constructor.\n      //It is a easy way to cal super class in binding to this\n      return caller.superClass_.constructor.apply(me, Array.prototype.slice.call(arguments, 1));\n    }\n    var args = Array.prototype.slice.call(arguments, 2);\n    var foundCaller = false;\n    //constructor is the constructor function of the object\n    for (var ctor = me.constructor; ctor; ctor = ctor.superClass_ && ctor.superClass_.constructor) {\n      if (ctor.prototype[opt_methodName] === caller) {\n        foundCaller = true;\n      } else if (foundCaller) {\n        return ctor.prototype[opt_methodName].apply(me, args);\n      }\n    }\n    // If we did not find the caller in the prototype chain,\n    // then one of two things happened:\n    // 1) The caller is an instance method.\n    // 2) This method was not called by the right caller.\n    if (me[opt_methodName] === caller) {\n      // call the function from prototype object\n      return me.constructor.prototype[opt_methodName].apply(me, args);\n    } else {\n      throw Error('base called from a method of one name ' + 'to a method of a different name');\n    }\n  },\n  noop: function noop() {},\n  truefnc: function truefnc() {\n    return true;\n  },\n  falsefnc: function falsefnc() {\n    return true;\n  },\n  resolve: function resolve(value) {\n    var d = $.Deferred();\n    d.resolve(value);\n    return d.promise();\n  },\n  reject: function reject(value) {\n    var d = $.Deferred();\n    d.reject(value);\n    return d.promise();\n  },\n  getValueFromG3WObjectEvent: function getValueFromG3WObjectEvent() {\n    //TODO\n  },\n  getAjaxResponses: function getAjaxResponses() {\n    var listRequests = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n    var requestsLenght = listRequests.length;\n    var d = $.Deferred();\n    var DoneRespones = [];\n    var FailedResponses = [];\n    listRequests.forEach(function (request) {\n      request.then(function (response) {\n        DoneRespones.push(response);\n      }).fail(function (err) {\n        FailedResponses.push(err);\n      }).always(function () {\n        requestsLenght = requestsLenght > 0 ? requestsLenght - 1 : requestsLenght;\n        if (requestsLenght === 0) d.resolve({\n          done: DoneRespones,\n          fail: FailedResponses\n        });\n      });\n    });\n    return d.promise();\n  },\n\n  trimValue: function trimValue(value) {\n    return value.replace(/ /g, '');\n  },\n  /**\n   * Method to check if is a url\n   * @param url\n   * @returns {boolean}\n   */\n  isURL: function isURL(url) {\n    return url && url.match(/(http(s)?:\\/\\/.)?(www\\.)?[-a-zA-Z0-9@:%._\\+~#=]{2,256}\\.[a-z]{2,6}\\b([-a-zA-Z0-9@:%_\\+.~#?&//=]*)/g);\n  },\n\n  sanitizeUrl: function sanitizeUrl() {\n    var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        url = _ref.url,\n        _ref$reserverParamete = _ref.reserverParameters,\n        reserverParameters = _ref$reserverParamete === undefined ? [] : _ref$reserverParamete;\n\n    var checkUrl = new URL(url);\n    reserverParameters.forEach(function (param) {\n      var _params = [param.toUpperCase(), param.toLowerCase()];\n      for (var i = 0; i < 2; i++) {\n        var _param = _params[i];\n        var _value = checkUrl.searchParams.get(_param);\n        if (_value) {\n          url = url.replace(_param + '=' + _value, '');\n          break;\n        }\n      }\n    });\n    return url;\n  },\n  convertObjectToUrlParams: function convertObjectToUrlParams() {\n    var params = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    return $.param(params);\n  },\n\n  // Appends query parameters to a URI\n  appendParams: function appendParams(uri, params) {\n    var keyParams = [];\n    // Skip any null or undefined parameter values\n    Object.keys(params).forEach(function (k) {\n      if (params[k] !== null && params[k] !== undefined) {\n        keyParams.push(k + '=' + encodeURIComponent(params[k]));\n      }\n    });\n    var qs = keyParams.join('&');\n    // remove any trailing ? or &\n    uri = uri.replace(/[?&]$/, '');\n    // append ? or & depending on whether uri has existing parameters\n    uri = uri.indexOf('?') === -1 ? uri + '?' : uri + '&';\n    return uri + qs;\n  },\n  imageToDataURL: function imageToDataURL(_ref2) {\n    var src = _ref2.src,\n        _ref2$type = _ref2.type,\n        type = _ref2$type === undefined ? 'image/jpeg' : _ref2$type,\n        _ref2$callback = _ref2.callback,\n        callback = _ref2$callback === undefined ? function () {} : _ref2$callback;\n\n    var image = new Image();\n    image.onload = function () {\n      var canvas = document.createElement('canvas');\n      var context = canvas.getContext('2d');\n      canvas.height = this.naturalHeight;\n      canvas.width = this.naturalWidth;\n      context.drawImage(this, 0, 0);\n      var dataURL = canvas.toDataURL(type);\n      callback(dataURL);\n    };\n    image.src = src;\n  },\n  capitalize_first_letter: function capitalize_first_letter(string) {\n    return '' + string[0].toUpperCase() + string.slice(1);\n  },\n\n  Base64: Base64,\n  toRawType: function toRawType(value) {\n    var _toString = Object.prototype.toString;\n    return _toString.call(value).slice(8, -1);\n  },\n  isEmptyObject: function isEmptyObject(obj) {\n    return JSON.stringify(obj) === '{}';\n  },\n\n  // build throttle function\n  throttle: function throttle(fnc) {\n    var delay = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 500;\n\n    var lastCall = void 0;\n    return function () {\n      var previousCall = lastCall;\n      lastCall = Date.now();\n      if (previousCall === undefined // function is being called for the first time\n      || lastCall - previousCall > delay) {\n        // throttle time has elapsed\n        fnc.apply(undefined, arguments);\n      }\n    };\n  },\n\n  //build debounce function\n  debounce: function debounce(func) {\n    var delay = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 500;\n\n    var timeout = void 0;\n    return function () {\n      for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      clearTimeout(timeout);\n      timeout = setTimeout(function () {\n        func.apply(undefined, args);\n      }, delay);\n    };\n  },\n  getRandomColor: function getRandomColor() {\n    return '#' + ((1 << 24) * Math.random() | 0).toString(16);\n  },\n  copyUrl: function copyUrl(url) {\n    var tempinput = document.createElement('input');\n    document.body.appendChild(tempinput);\n    tempinput.value = url;\n    tempinput.select();\n    document.execCommand('copy');\n    document.body.removeChild(tempinput);\n  },\n  downloadFile: function downloadFile() {\n    var _this = this;\n\n    var _ref3 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        filename = _ref3.filename,\n        content = _ref3.content,\n        url = _ref3.url,\n        _ref3$mime_type = _ref3.mime_type,\n        mime_type = _ref3$mime_type === undefined ? 'text/plain' : _ref3$mime_type;\n\n    var download = function download(blob) {\n      var temapAncor = document.createElement('a');\n      temapAncor.setAttribute('href', window.URL.createObjectURL(blob));\n      temapAncor.setAttribute('download', filename);\n      temapAncor.dataset.downloadurl = [mime_type, temapAncor.download, temapAncor.href].join(':');\n      temapAncor.click();\n      temapAncor = null;\n    };\n    return new Promise(function (resolve, reject) {\n      if (content) {\n        var blob = new Blob([content], { type: mime_type });\n        download(blob);\n        resolve();\n      } else if (url) {\n        fetch(url).then(function () {\n          var _ref4 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(response) {\n            var _ref5, message;\n\n            return regeneratorRuntime.wrap(function _callee$(_context) {\n              while (1) {\n                switch (_context.prev = _context.next) {\n                  case 0:\n                    if (!(response.status === 200)) {\n                      _context.next = 6;\n                      break;\n                    }\n\n                    mime_type = mime_type || response.headers.get('content-type');\n                    filename = filename || response.headers.get('content-disposition').split('filename=').length ? response.headers.get('content-disposition').split('filename=')[1] : 'g3w_download_file';\n                    return _context.abrupt('return', response.blob());\n\n                  case 6:\n                    if (!(response.status === 400 || response.status === 500)) {\n                      _context.next = 12;\n                      break;\n                    }\n\n                    _context.next = 9;\n                    return response.json();\n\n                  case 9:\n                    _ref5 = _context.sent;\n                    message = _ref5.message;\n                    return _context.abrupt('return', Promise.reject(message));\n\n                  case 12:\n                  case 'end':\n                    return _context.stop();\n                }\n              }\n            }, _callee, _this);\n          }));\n\n          return function (_x7) {\n            return _ref4.apply(this, arguments);\n          };\n        }()).then(function (blob) {\n          download(blob);\n          resolve();\n        }).catch(function (error) {\n          reject(error);\n        });\n      }\n    });\n  },\n  downloadCSVLayerFeatures: function downloadCSVLayerFeatures() {\n    var _ref6 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        layer = _ref6.layer,\n        _ref6$alias = _ref6.alias,\n        alias = _ref6$alias === undefined ? true : _ref6$alias;\n\n    var _require = require('core/utils/geo'),\n        getAlphanumericPropertiesFromFeature = _require.getAlphanumericPropertiesFromFeature;\n    //get headers\n\n\n    var attributes = Object.keys(layer.features[0].attributes);\n    var properties = getAlphanumericPropertiesFromFeature(attributes);\n    var headers = !alias ? properties : properties.map(function (property) {\n      var attribute = layer.attributes.find(function (attribute) {\n        return attribute.name === property;\n      });\n      return attribute ? attribute.label : property;\n    });\n    var items = layer.features.map(function (feature) {\n      var attributes = feature.attributes;\n      var item = {};\n      properties.forEach(function (property, index) {\n        var key = !alias && property || headers[index];\n        item[key] = attributes[property];\n      });\n      return item;\n    });\n\n    utils.downloadCSV({\n      filename: layer.id,\n      items: items\n    });\n  },\n  downloadCSV: function downloadCSV() {\n    var _ref7 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        _ref7$filename = _ref7.filename,\n        filename = _ref7$filename === undefined ? utils.getUniqueDomId() : _ref7$filename,\n        _ref7$items = _ref7.items,\n        items = _ref7$items === undefined ? [] : _ref7$items;\n\n    function convertToCSV(items) {\n      var str = '';\n      for (var i = 0; i < items.length; i++) {\n        var line = '';\n        for (var index in items[i]) {\n          if (line !== '') line += ';';\n          line += items[i][index];\n        }\n        str += line + '\\r\\n';\n      }\n      return str;\n    }\n    var exportedFilenmae = filename + '.csv';\n    var csv = convertToCSV(items);\n    var blob = new Blob([csv], { type: 'text/csv;charset=utf-8;' });\n    if (navigator.msSaveBlob) {\n      // IE 10+\n      navigator.msSaveBlob(blob, exportedFilenmae);\n    } else {\n      var link = document.createElement(\"a\");\n      if (link.download !== undefined) {\n        // Browsers that support HTML5 download attribute\n        var url = URL.createObjectURL(blob);\n        link.setAttribute(\"href\", url);\n        link.setAttribute(\"download\", exportedFilenmae);\n        link.style.visibility = 'hidden';\n        link.click();\n      }\n    }\n  },\n\n  /**\n   * Method to set timeout\n   * @param timeout\n   * @param resolve\n   * @param data\n   * @returns {number}\n   */\n  getTimeoutPromise: function getTimeoutPromise(_ref8) {\n    var _ref8$timeout = _ref8.timeout,\n        timeout = _ref8$timeout === undefined ? _constant.TIMEOUT : _ref8$timeout,\n        resolve = _ref8.resolve,\n        data = _ref8.data;\n\n    var timeoutKey = setTimeout(function () {\n      resolve(data);\n    }, timeout);\n    return timeoutKey;\n  },\n\n  XHR: {\n    get: function get() {\n      var _ref9 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          url = _ref9.url,\n          _ref9$params = _ref9.params,\n          params = _ref9$params === undefined ? {} : _ref9$params;\n\n      return new Promise(function (resolve, reject) {\n        url ? $.get(url, params).then(function (response) {\n          resolve(response);\n        }).fail(function (error) {\n          return reject(error);\n        }) : reject('No url');\n      });\n    },\n    post: function post() {\n      var _ref10 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          url = _ref10.url,\n          data = _ref10.data,\n          _ref10$formdata = _ref10.formdata,\n          formdata = _ref10$formdata === undefined ? false : _ref10$formdata,\n          contentType = _ref10.contentType;\n\n      var getResponseStatusHeaders = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n      return new Promise(function (resolve, reject) {\n        if (formdata) {\n          var _formdata = new FormData();\n          for (var param in data) {\n            _formdata.append(param, data[param]);\n          }\n          $.ajax({\n            type: 'POST',\n            url: url,\n            data: _formdata,\n            processData: false,\n            contentType: false\n          }).then(function (response, status, request) {\n            getResponseStatusHeaders ? resolve({\n              data: response,\n              status: status,\n              request: request\n            }) : resolve(response);\n          }).fail(function (error) {\n            reject(error);\n          });\n        } else if (contentType) {\n          $.ajax({\n            type: 'POST',\n            url: url,\n            data: data,\n            processData: false,\n            contentType: contentType || false\n          }).then(function (response, status, request) {\n            getResponseStatusHeaders ? resolve({\n              data: response,\n              status: status,\n              request: request\n            }) : resolve(response);\n          }).fail(function (error) {\n            reject(error);\n          });\n        } else {\n          $.post(url, data).then(function (response, status, request) {\n            getResponseStatusHeaders ? resolve({\n              data: response,\n              status: status,\n              request: request\n            }) : resolve(response);\n          }).fail(function (error) {\n            reject(error);\n          });\n        }\n      });\n    },\n    htmlescape: function htmlescape(string) {\n      string = string.replace(\"&\", \"&amp;\");\n      string = string.replace(\"<\", \"&lt;\");\n      string = string.replace(\">\", \"&gt;\");\n      string = string.replace('\"', \"&quot;\");\n      return string;\n    },\n    fileDownload: function fileDownload() {\n      var _ref11 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          url = _ref11.url,\n          data = _ref11.data,\n          _ref11$httpMethod = _ref11.httpMethod,\n          httpMethod = _ref11$httpMethod === undefined ? \"POST\" : _ref11$httpMethod;\n\n      var timeoutId = void 0;\n      return new Promise(function (resolve, reject) {\n        var downloadPromise = $.fileDownload(url, {\n          httpMethod: httpMethod,\n          data: data\n        });\n        timeoutId = setTimeout(function () {\n          reject('Timeout');\n          downloadPromise.abort();\n        }, _constant.TIMEOUT);\n        downloadPromise.done(function () {\n          return resolve();\n        }).fail(function () {\n          return reject();\n        }).always(function () {\n          clearTimeout(timeoutId);\n        });\n      });\n    }\n  },\n  createSingleFieldParameter: function createSingleFieldParameter(_ref12) {\n    var field = _ref12.field,\n        value = _ref12.value,\n        _ref12$operator = _ref12.operator,\n        operator = _ref12$operator === undefined ? 'eq' : _ref12$operator,\n        _ref12$logicop = _ref12.logicop,\n        logicop = _ref12$logicop === undefined ? null : _ref12$logicop,\n        _ref12$search_endpoin = _ref12.search_endpoint,\n        search_endpoint = _ref12$search_endpoin === undefined ? \"api\" : _ref12$search_endpoin;\n\n    if (search_endpoint === 'api') {\n      logicop = logicop && '|' + logicop;\n      if (Array.isArray(value)) {\n        var filter = '';\n        var valueLenght = value.length;\n        value.forEach(function (value, index) {\n          filter += field + '|' + operator + '|' + encodeURIComponent(value) + (index < valueLenght - 1 ? logicop + ',' : '');\n        });\n        return filter;\n      } else return field + '|' + operator.toLowerCase() + '|' + encodeURIComponent(value) + (logicop || '');\n    } else {\n      if (Array.isArray(value)) {\n        var _filter = '';\n        var _valueLenght = value.length;\n        value.forEach(function (value, index) {\n          _filter += '\"' + field + '\" ' + _constant.FILTER_EXPRESSION_OPERATORS[operator] + ' \\'' + encodeURIComponent(value) + '\\' ' + (index < _valueLenght - 1 ? logicop + ' ' : '');\n        });\n        return _filter;\n      } else return '\"' + field + '\" ' + _constant.FILTER_EXPRESSION_OPERATORS[operator] + ' \\'' + encodeURIComponent(value) + '\\'';\n    }\n  },\n  createFilterFromString: function createFilterFromString(_ref13) {\n    var layer = _ref13.layer,\n        _ref13$search_endpoin = _ref13.search_endpoint,\n        search_endpoint = _ref13$search_endpoin === undefined ? 'ows' : _ref13$search_endpoin,\n        _ref13$filter = _ref13.filter,\n        filter = _ref13$filter === undefined ? '' : _ref13$filter;\n\n    var stringFilter = filter;\n    switch (search_endpoint) {\n      case 'ows':\n        var layerName = layer.getWMSLayerName();\n        var expression = new Expression({\n          layerName: layerName,\n          filter: stringFilter\n        });\n        filter = new Filter();\n        filter.setExpression(expression.get());\n        break;\n      case 'api':\n        //remove all blank space between operators\n        Object.values(_constant.FILTER_EXPRESSION_OPERATORS).forEach(function (operator) {\n          var regexoperator = new RegExp('\\\\s+' + operator + '\\\\s+', 'g');\n          stringFilter = stringFilter.replace(regexoperator, '' + operator);\n          var regexsinglequote = new RegExp('\\'' + operator, 'g');\n          stringFilter = stringFilter.replace(regexsinglequote, '' + operator);\n          regexsinglequote = new RegExp(operator + '\\'', 'g');\n          stringFilter = stringFilter.replace(regexsinglequote, '' + operator);\n        });\n        stringFilter = stringFilter.replace(/'$/g, '');\n        filter = stringFilter.replace(/\"/g, '');\n        Object.entries(_constant.FILTER_EXPRESSION_OPERATORS).forEach(function (_ref14) {\n          var _ref15 = _slicedToArray(_ref14, 2),\n              key = _ref15[0],\n              value = _ref15[1];\n\n          var re = new RegExp(value, \"g\");\n          var replaceValue = value === 'AND' || value === 'OR' ? '|' + key + ',' : '|' + key + '|';\n          filter = filter.replace(re, replaceValue);\n        });\n        //encode value\n        filter = filter.split('|').map(function (value, index) {\n          return (index + 1) % 3 === 0 ? encodeURIComponent(value) : value;\n        }).join('|');\n        break;\n    }\n    return filter;\n  },\n\n  /**\n   *\n   * @param layer single layer or an array of layers\n   * @param search_endpoint\n   * @param inputs\n   * @returns {*}\n   */\n  createFilterFormInputs: function createFilterFormInputs(_ref16) {\n    var layer = _ref16.layer,\n        _ref16$search_endpoin = _ref16.search_endpoint,\n        search_endpoint = _ref16$search_endpoin === undefined ? 'ows' : _ref16$search_endpoin,\n        _ref16$inputs = _ref16.inputs,\n        inputs = _ref16$inputs === undefined ? [] : _ref16$inputs;\n\n    var isLayerArray = Array.isArray(layer);\n    var filter = void 0;\n    var filters = []; // in case of layer is an array\n    switch (search_endpoint) {\n      case 'ows':\n        if (isLayerArray) {\n          layer.forEach(function (layer) {\n            var expression = new Expression();\n            var layerName = layer.getWMSLayerName();\n            expression.createExpressionFromFilter(inputs, layerName);\n            filter = new Filter();\n            filter.setExpression(expression.get());\n            filters.push(filter);\n          });\n        } else {\n          var expression = new Expression();\n          var layerName = layer.getWMSLayerName();\n          expression.createExpressionFromFilter(inputs, layerName);\n          filter = new Filter();\n          filter.setExpression(expression.get());\n        }\n        break;\n      case 'api':\n        var inputsLength = inputs.length - 1;\n        var fields = inputs.map(function (input, index) {\n          return utils.createSingleFieldParameter({\n            field: input.attribute,\n            value: input.value,\n            operator: input.operator,\n            logicop: index < inputsLength ? input.logicop : null\n          });\n        });\n        filter = fields.length ? fields.join() : undefined;\n        isLayerArray && layer.forEach(function () {\n          return filters.push(filter);\n        });\n        break;\n    }\n    return isLayerArray ? filters : filter;\n  },\n\n  //method to create filter from field based on search_endpoint\n  createFilterFormField: function createFilterFormField(_ref17) {\n    var layer = _ref17.layer,\n        _ref17$search_endpoin = _ref17.search_endpoint,\n        search_endpoint = _ref17$search_endpoin === undefined ? 'ows' : _ref17$search_endpoin,\n        field = _ref17.field,\n        value = _ref17.value,\n        _ref17$operator = _ref17.operator,\n        operator = _ref17$operator === undefined ? 'eq' : _ref17$operator;\n\n    var filter = void 0;\n    switch (search_endpoint) {\n      case 'ows':\n        var expression = new Expression();\n        var layerName = layer.getWMSLayerName();\n        expression.createExpressionFromField({\n          layerName: layerName,\n          field: field,\n          value: value,\n          operator: operator\n        });\n        filter = new Filter();\n        filter.setExpression(expression.get());\n        break;\n      case 'api':\n        filter = utils.createSingleFieldParameter({\n          field: field,\n          value: value,\n          operator: operator\n        });\n        break;\n    }\n    return filter;\n  },\n  splitContextAndMethod: function splitContextAndMethod() {\n    var string = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n\n    var _string$split = string.split(':'),\n        _string$split2 = _slicedToArray(_string$split, 2),\n        context = _string$split2[0],\n        method = _string$split2[1];\n\n    return {\n      context: context,\n      method: method\n    };\n  },\n\n\n  /**\n   * Convert Hex value color to RGB array\n   * @param color\n   * @returns {number[]}\n   */\n  colorHEXToRGB: function colorHEXToRGB() {\n    var color = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '#FFFFFF';\n\n    var r = parseInt(color.substr(1, 2), 16);\n    var g = parseInt(color.substr(3, 2), 16);\n    var b = parseInt(color.substr(5, 2), 16);\n    return [r, g, b];\n  },\n\n  /**\n   * Covert datetime format from Qgis format to Moment\n   * @param datetimeformat\n   * @returns {*}\n   */\n  convertQGISDateTimeFormatToMoment: function convertQGISDateTimeFormatToMoment(datetimeformat) {\n    datetimeformat = datetimeformat.replace(/y/g, 'Y');\n    var matchDayInDate = datetimeformat.match(/d/g);\n    if (matchDayInDate && matchDayInDate.length < 3) datetimeformat = datetimeformat.replace(/d/g, 'D');\n    return datetimeformat;\n  },\n\n\n  /**\n   * Sort an array of strings (alphabetical order)\n   * \n   * @since 3.8.0\n   */\n  sortAlphabeticallyArray: function sortAlphabeticallyArray(arr) {\n    return arr.sort(function (a, b) {\n      return a.localeCompare(b, undefined, { sensitivity: 'base' });\n    });\n  },\n\n\n  /**\n   * Sort an array of numbers (natural order)\n   * \n   * @since 3.8.0\n   */\n  sortNumericArray: function sortNumericArray(arr) {\n    var ascending = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n\n    return arr.sort(function (a, b) {\n      return ascending ? a - b : b - a;\n    });\n  },\n\n\n  /**\n   * @param {string} url1\n   * @param {string} url2\n   *\n   * @returns {boolean} whether URLs have same origin.\n   *\n   * @since 3.8.0\n   */\n  sameOrigin: function sameOrigin(url1, url2) {\n    try {\n      return new URL(url1).origin === new URL(url2).origin;\n    } catch (err) {\n      return false;\n    }\n  }\n};\n\nmodule.exports = utils;\n\n},{\"app/constant\":4,\"core/layers/filter/expression\":29,\"core/layers/filter/filter\":30,\"core/utils/geo\":64}],69:[function(require,module,exports){\nvar _require = require('core/utils/utils'),\n    truefnc = _require.truefnc;\n\nvar InputValidators = {\n  validators: {\n    float: function float() {\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      this.options = options;\n      this.validate = function (value) {\n        var float = Number(1 * value);\n        return !Number.isNaN(float);\n      };\n    },\n    integer: function integer() {\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      this.options = options;\n      this.validate = function (value) {\n        var integer = 1 * value;\n        return !_.isNaN(integer) ? Number.isSafeInteger(integer) && integer <= 2147483647 : false;\n      };\n    },\n    checkbox: function checkbox() {\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      this.options = options;\n      this.validate = function (value) {\n        var values = this.options.values || [];\n        return values.indexOf(value) !== -1;\n      };\n    },\n    datetimepicker: function datetimepicker() {\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      this.options = options;\n      this.validate = function (value, options) {\n        var fielddatetimeformat = options.fielddatetimeformat;\n        return moment(value, fielddatetimeformat, true).isValid();\n      };\n    },\n    text: function text() {\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      this.options = options;\n      this.validate = truefnc;\n    },\n    string: function string() {\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      this.options = options;\n      this.validate = truefnc;\n    },\n    radio: function radio() {\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      this.options = options;\n      this.validate = truefnc;\n    },\n    default: function _default() {\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      this.options = options;\n      this.validate = truefnc;\n    },\n    range: function range() {\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      var min = options.min,\n          max = options.max;\n\n      this.validate = function (value) {\n        value = 1 * value;\n        return value >= min && value <= max;\n      };\n    }\n  },\n\n  get: function get(type) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    var Validator = this.validators[type] || this.validators.default;\n    return new Validator(options);\n  }\n};\n\nmodule.exports = InputValidators;\n\n},{\"core/utils/utils\":68}],70:[function(require,module,exports){\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit;\n\nvar G3WObject = require('core/g3wobject');\nvar Queque = require('core/workflow/queque');\n\n//Class Flow of workflow step by step\nfunction Flow() {\n  var steps = [];\n  var inputs = void 0;\n  var counter = 0;\n  var context = null;\n  var d = void 0;\n  var _workflow = void 0;\n  this.queques = {\n    end: new Queque(),\n    micro: new Queque()\n  };\n  //start workflow\n  this.start = function (workflow) {\n    d = $.Deferred();\n    if (counter > 0) {\n      console.log(\"reset workflow before restarting\");\n    }\n    _workflow = workflow;\n    inputs = workflow.getInputs();\n    context = workflow.getContext();\n    steps = workflow.getSteps();\n    // check if there are steps\n    if (steps && steps.length) {\n      //run step (first)\n      this.runStep(steps[0], inputs, context);\n    }\n    // return a promise that will be reolved if all step go right\n    return d.promise();\n  };\n\n  //run step\n  this.runStep = function (step, inputs) {\n    var _this = this;\n\n    //run step that run task\n    _workflow.setMessages({\n      help: step.state.help\n    });\n    var runMicroTasks = this.queques.micro.getLength();\n    step.run(inputs, context, this.queques).then(function (outputs) {\n      runMicroTasks && _this.queques.micro.run();\n      _this.onDone(outputs);\n    }).fail(function (error) {\n      return _this.onError(error);\n    });\n  };\n\n  //check if all step are resolved\n  this.onDone = function (outputs) {\n    counter++;\n    if (counter === steps.length) {\n      counter = 0;\n      d.resolve(outputs);\n      return;\n    }\n    this.runStep(steps[counter], outputs);\n  };\n\n  // in case of error\n  this.onError = function (err) {\n    counter = 0;\n    this.clearQueques();\n    d.reject(err);\n  };\n\n  // stop flow\n  this.stop = function () {\n    var d = $.Deferred();\n    steps[counter].isRunning() ? steps[counter].stop() : null;\n    this.clearQueques();\n    if (counter > 0) {\n      // set counter to 0\n      counter = 0;\n      // reject flow\n      d.reject();\n    } else {\n      //reject to force rollback session\n      d.resolve();\n    }\n    return d.promise();\n  };\n  base(this);\n}\n\ninherit(Flow, G3WObject);\n\nvar proto = Flow.prototype;\n\nproto.clearQueques = function () {\n  this.queques.micro.clear();\n  this.queques.end.clear();\n};\n\nmodule.exports = Flow;\n\n},{\"core/g3wobject\":12,\"core/utils/utils\":68,\"core/workflow/queque\":71}],71:[function(require,module,exports){\nfunction Queque() {\n  this.tasks = [];\n}\n\nvar proto = Queque.prototype;\n\nproto.addTask = function (task) {\n  this.tasks.push(task);\n};\n\nproto.run = function () {\n  var reverse = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n  while (this.tasks.length) {\n    var task = reverse ? this.tasks.pop() : this.tasks.shift();\n    task();\n  }\n};\n\nproto.flush = function () {\n  return this.tasks.splice(0);\n};\n\nproto.getLength = function () {\n  return this.tasks.length;\n};\n\nproto.clear = function () {\n  this.run();\n  this.tasks = [];\n};\n\nmodule.exports = Queque;\n\n},{}],72:[function(require,module,exports){\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit;\n\nvar G3WObject = require('core/g3wobject');\n\nfunction Step() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  base(this);\n  var _options$inputs = options.inputs,\n      inputs = _options$inputs === undefined ? null : _options$inputs,\n      _options$context = options.context,\n      context = _options$context === undefined ? null : _options$context,\n      _options$task = options.task,\n      task = _options$task === undefined ? null : _options$task,\n      _options$outputs = options.outputs,\n      outputs = _options$outputs === undefined ? null : _options$outputs,\n      escKeyPressEventHandler = options.escKeyPressEventHandler;\n\n  this._inputs = inputs;\n  this._context = context;\n  this._task = task;\n  this._outputs = outputs;\n  //dynamic state of step\n  this.state = {\n    id: options.id || null,\n    name: options.name || null,\n    help: options.help || null, // help to show wat the user has to do\n    running: false, // running\n    error: null, // error\n    message: options.message || null // message\n  };\n  escKeyPressEventHandler && this.registerEscKeyEvent(escKeyPressEventHandler);\n}\n\ninherit(Step, G3WObject);\n\nvar proto = Step.prototype;\n\n//bind interrupt event on keys escape pressed\n\nproto.escKeyUpHandler = function (evt) {\n  var _evt$data = evt.data,\n      task = _evt$data.task,\n      callback = _evt$data.callback;\n\n  if (evt.key === 'Escape') callback({\n    task: task\n  });\n};\n\nproto.unbindEscKeyUp = function () {\n  $(document).unbind('keyup', this.escKeyUpHandler);\n};\n\nproto.bindEscKeyUp = function () {\n  var callback = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : function () {};\n\n  $(document).on('keyup', {\n    callback: callback,\n    task: this.getTask()\n  }, this.escKeyUpHandler);\n};\n\nproto.registerEscKeyEvent = function (callback) {\n  var _this = this;\n\n  this.on('run', function () {\n    return _this.bindEscKeyUp(callback);\n  });\n  this.on('stop', function () {\n    return _this.unbindEscKeyUp();\n  });\n};\n\n// End of handle key esc pressed\n\n// method to start task\nproto.run = function (inputs, context, queques) {\n  var _this2 = this;\n\n  //emit run\n  this.emit('run', {\n    inputs: inputs,\n    context: context\n  });\n  var d = $.Deferred();\n  if (this._task) {\n    try {\n      // change state to running\n      this.state.running = true;\n      this._task.setInputs(inputs);\n      this._task.setContext(context);\n      this._task.run(inputs, context, queques).then(function (outputs) {\n        _this2.stop();\n        d.resolve(outputs);\n      }).fail(function (err) {\n        _this2.stop();\n        d.reject(err);\n      });\n    } catch (err) {\n      console.log(err);\n      this.state.error = err;\n      this.state.error = 'Problem ..';\n      this.stop();\n      d.reject(err);\n    }\n  }\n  return d.promise();\n};\n\n// stop step\nproto.stop = function () {\n  // stop task\n  this._task.stop(this._inputs, this._context);\n  //emit run\n  // running to false\n  this.state.running = false;\n  this.emit('stop');\n  this._task.setInputs(null);\n  this._task.setContext(null);\n};\n\n// revert task\nproto.revert = function () {\n  if (this._task && this._task.revert) this._task.revert();\n};\n\n//panic\nproto.panic = function () {\n  if (this._task && this._task.panic) this._task.panic();\n};\n\nproto.getId = function () {\n  return this.state.id;\n};\n\nproto.getName = function () {\n  return this.state.name;\n};\n\nproto.getHelp = function () {\n  return this.state.help;\n};\n\nproto.getError = function () {\n  return this.state.error;\n};\n\nproto.getMessage = function () {\n  return this.state.message;\n};\n\nproto.isRunning = function () {\n  return this.state.running;\n};\n\nproto.setInputs = function (inputs) {\n  this._inputs = inputs;\n};\n\nproto.getInputs = function () {\n  return this._inputs;\n};\n\nproto.setTask = function (task) {\n  this._task = task;\n};\n\nproto.getTask = function () {\n  return this._task;\n};\n\nproto.setOutputs = function (outputs) {\n  this._outputs = outputs;\n};\n\nproto.getOutputs = function () {\n  return this._outputs;\n};\n\nStep.MESSAGES = {\n  help: null\n};\n\nmodule.exports = Step;\n\n},{\"core/g3wobject\":12,\"core/utils/utils\":68}],73:[function(require,module,exports){\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit;\n\nvar G3WObject = require('core/g3wobject');\n\nfunction Task() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  base(this, options);\n  this.state = {\n    usermessagesteps: {}\n  };\n}\n\ninherit(Task, G3WObject);\n\nvar proto = Task.prototype;\n\n/**\n * Set and get task usefult properties used to run\n */\n\nproto.setInputs = function (inputs) {\n  this.inputs = inputs;\n};\n\nproto.getInputs = function () {\n  return this.inputs;\n};\n\nproto.setContext = function (context) {\n  return this.context = context;\n};\n\nproto.getContext = function () {\n  return this.context;\n};\n\nproto.revert = function () {\n  console.log('Revert to implemente ');\n};\n\nproto.panic = function () {\n  console.log('Panic to implement ..');\n};\n\nproto.stop = function () {\n  console.log('Task Stop to implement ..');\n};\n\nproto.run = function () {\n  console.log('Wrong. This method has to be overwrite from task');\n};\n\nproto.setRoot = function (task) {\n  this.state.root = task;\n};\n\nproto.getUserMessageSteps = function () {\n  return this.state.usermessagesteps;\n};\n\nproto.setUserMessageSteps = function () {\n  var steps = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  this.state.usermessagesteps = steps;\n};\n\nproto.setUserMessageStepDone = function (type) {\n  if (type) this.state.usermessagesteps[type].done = true;\n};\n\nmodule.exports = Task;\n\n},{\"core/g3wobject\":12,\"core/utils/utils\":68}],74:[function(require,module,exports){\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _workflows = require('services/workflows');\n\nvar _workflows2 = _interopRequireDefault(_workflows);\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit,\n    resolve = _require.resolve;\n\nvar G3WObject = require('core/g3wobject');\nvar Flow = require('core/workflow/flow');\n\nvar _require2 = require('core/workflow/step'),\n    MESSAGES = _require2.MESSAGES;\n\nvar createUserMessageStepsFactory = require('gui/workflow/createUserMessageStepsFactory');\n\n//Class to manage flow of steps\nfunction Workflow() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var _options$inputs = options.inputs,\n      inputs = _options$inputs === undefined ? null : _options$inputs,\n      _options$context = options.context,\n      context = _options$context === undefined ? null : _options$context,\n      _options$flow = options.flow,\n      flow = _options$flow === undefined ? new Flow() : _options$flow,\n      _options$steps = options.steps,\n      steps = _options$steps === undefined ? [] : _options$steps,\n      _options$runOnce = options.runOnce,\n      runOnce = _options$runOnce === undefined ? false : _options$runOnce;\n\n  base(this);\n  this._promise = null;\n  // inputs mandatory to work with editing\n  this._inputs = inputs;\n  this._context = context;\n  // flow object to control the flow\n  this._flow = flow;\n  // all steps of flow\n  this._steps = steps;\n  // if is child of another workflow\n  this._child = null;\n  // stack workflowindex\n  this._stackIndex = null;\n  // stop when flow stop\n  this.runOnce = runOnce;\n  this._messages = MESSAGES;\n  this._userMessageSteps = this._steps.reduce(function (messagesSteps, step) {\n    var usermessagesteps = step.getTask().getUserMessageSteps();\n    return usermessagesteps && _extends({}, messagesSteps, usermessagesteps) || messagesSteps;\n  }, {});\n}\n\ninherit(Workflow, G3WObject);\n\nvar proto = Workflow.prototype;\n\nproto.getContextService = function () {\n  var context = this.getContext();\n  return context.service;\n};\n\nproto.setContextService = function (service) {\n  var context = this.getContext();\n  context.service = service;\n};\n\nproto.getStackIndex = function () {\n  return this._stackIndex;\n};\n\nproto.addChild = function (workflow) {\n  if (this._child) this._child.addChild(workflow);else this._child = workflow;\n};\n\nproto.removeChild = function () {\n  if (this._child) {\n    var index = this._child.getStackIndex();\n    _workflows2.default.removeAt(index);\n  }\n  this._child = null;\n};\n\nproto.setInput = function (_ref) {\n  var key = _ref.key,\n      value = _ref.value;\n\n  this._inputs[key] = value;\n};\n\n/**\n * maybe unused method. Remove\n * @param inputs\n * @private\n */\nproto._setInputs = function (inputs) {\n  this._inputs = inputs;\n};\n\nproto.getInputs = function () {\n  return this._inputs;\n};\n\nproto.setContext = function (context) {\n  this._context = context;\n};\n\nproto.getContext = function () {\n  return this._context;\n};\n\nproto.getFlow = function () {\n  return this._flow;\n};\n\nproto.setFlow = function (flow) {\n  this._flow = flow;\n};\n\nproto.addStep = function (step) {\n  this._steps.push(step);\n};\n\nproto.setSteps = function (steps) {\n  this._steps = steps;\n};\n\nproto.getSteps = function () {\n  return this._steps;\n};\n\nproto.getStep = function (index) {\n  return this._steps[index];\n};\n\nproto.setMessages = function (messages) {\n  Object.assign(this._messages, messages);\n};\n\nproto.getMessages = function () {\n  return this._messages;\n};\n\nproto.clearMessages = function () {\n  this._messages.help = null;\n  this._isThereUserMessaggeSteps() && this.clearUserMessagesSteps();\n};\n\nproto.getLastStep = function () {\n  var length = this._steps.length;\n  return length ? this._steps[length - 1] : null;\n};\n\nproto.getRunningStep = function () {\n  return this._steps.find(function (step) {\n    return step.isRunning();\n  });\n};\n\n//stop all workflow children\nproto._stopChild = function () {\n  return this._child ? this._child.stop() : resolve();\n};\n\nproto._isThereUserMessaggeSteps = function () {\n  return Object.keys(this._userMessageSteps).length;\n};\n\nproto.reject = function () {\n  this._promise && this._promise.reject();\n};\n\nproto.resolve = function () {\n  this._promise && this._promise.resolve();\n};\n\n// start workflow\nproto.start = function () {\n  var _this = this;\n\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  var d = $.Deferred();\n  this._promise = d;\n  this._inputs = options.inputs;\n  this._context = options.context || {};\n  var isChild = this._context.isChild || false;\n  //check if are workflow running and if need to stop child\n  if (_workflows2.default.getLength() && _workflows2.default.getCurrent() !== this) {\n    !isChild && _workflows2.default.getCurrent().addChild(this);\n  }\n  this._stackIndex = _workflows2.default.push(this);\n  this._flow = options.flow || this._flow;\n  this._steps = options.steps || this._steps;\n  var showUserMessage = this._isThereUserMessaggeSteps();\n  if (showUserMessage) {\n    var stepsComponent = createUserMessageStepsFactory({\n      steps: this._userMessageSteps\n    });\n    _gui2.default.showUserMessage({\n      title: 'sdk.workflow.steps.title',\n      type: 'tool',\n      position: 'left',\n      size: 'small',\n      closable: false,\n      hooks: {\n        body: stepsComponent\n      }\n    });\n  }\n\n  this._flow.start(this).then(function (outputs) {\n    showUserMessage && setTimeout(function () {\n      _this.clearUserMessagesSteps();\n      d.resolve(outputs);\n    }, 500) || d.resolve(outputs);\n  }).fail(function (error) {\n    showUserMessage && _this.clearUserMessagesSteps();\n    d.reject(error);\n  }).always(function () {\n    _this.runOnce && _this.stop();\n  });\n  this.emit('start');\n  return d.promise();\n};\n\n// stop workflow during flow\nproto.stop = function () {\n  var _this2 = this;\n\n  this._promise = null;\n  var d = $.Deferred();\n  // stop child workflow\n  this._stopChild()\n  // in every case remove child\n  .always(function () {\n    _this2.removeChild();\n    _workflows2.default.removeAt(_this2.getStackIndex());\n    // call stop flow\n    _this2._flow.stop().then(function () {\n      return d.resolve();\n    }).fail(function (err) {\n      return d.reject(err);\n    }).always(function () {\n      return _this2.clearMessages();\n    });\n  });\n  this.emit('stop');\n  return d.promise();\n};\n\nproto.clearUserMessagesSteps = function () {\n  this._resetUserMessaggeStepsDone();\n  _gui2.default.closeUserMessage();\n};\n\nproto._resetUserMessaggeStepsDone = function () {\n  var _this3 = this;\n\n  Object.keys(this._userMessageSteps).forEach(function (type) {\n    var userMessageSteps = _this3._userMessageSteps[type];\n    userMessageSteps.done = false;\n    if (userMessageSteps.buttonnext) userMessageSteps.buttonnext.disabled = true;\n  });\n};\n\nmodule.exports = Workflow;\n\n},{\"core/g3wobject\":12,\"core/utils/utils\":68,\"core/workflow/flow\":70,\"core/workflow/step\":72,\"gui/workflow/createUserMessageStepsFactory\":193,\"services/gui\":361,\"services/workflows\":372}],75:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n//SPATIAL METHODS USED TO FIND FEATURES\nvar SPATIALMETHODS = exports.SPATIALMETHODS = ['intersects', 'within'];\n\n/**\n * MAIN VUE INSTANCE USED TO WATCH OBJECT CHANGES OR TO EMIT EVENTS\n * \n * NB: node.js modules are singletons by default.\n * \n * @see https://medium.com/@lazlojuly/are-node-js-modules-singletons-764ae97519af\n */\nvar VM = exports.VM = new Vue();\n\n},{}],76:[function(require,module,exports){\nvar Control = require('g3w-ol/controls/control');\n\nfunction AddLayersControl() {\n  var options = {\n    name: \"addlayer\",\n    tipLabel: \"sdk.mapcontrols.addlayer.tooltip\",\n    label: \"\\uE907\"\n  };\n  Control.call(this, options);\n  this._layerstore = null;\n}\n\nol.inherits(AddLayersControl, Control);\n\nvar proto = AddLayersControl.prototype;\n\nproto.setMap = function (map) {\n  var _this = this;\n\n  Control.prototype.setMap.call(this, map);\n  $(this.element).on('click', function () {\n    return _this.dispatchEvent('addlayer');\n  });\n};\n\nproto.layout = function (map) {\n  Control.prototype.layout.call(this, map);\n};\n\nproto.getLayersSore = function () {\n  return this._layerstore;\n};\n\nproto.setLayersStore = function (layersStore) {\n  this._layerstore = layersStore;\n};\n\nmodule.exports = AddLayersControl;\n\n},{\"g3w-ol/controls/control\":79}],77:[function(require,module,exports){\nvar utils = require('core/utils/ol');\nvar AreaIteraction = require('g3w-ol/interactions/areainteraction');\nvar MeasureControl = require('g3w-ol/controls/measurecontrol');\n\nvar AreaControl = function AreaControl() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  var _options = {\n    tipLabel: \"sdk.mapcontrols.measures.area.tooltip\",\n    label: '\\uE909',\n    clickmap: true, // set ClickMap\n    interactionClass: AreaIteraction\n  };\n  options = utils.merge(options, _options);\n  MeasureControl.call(this, options);\n};\n\nol.inherits(AreaControl, MeasureControl);\n\nmodule.exports = AreaControl;\n\n},{\"core/utils/ol\":66,\"g3w-ol/controls/measurecontrol\":85,\"g3w-ol/interactions/areainteraction\":101}],78:[function(require,module,exports){\nvar _constants = require('g3w-ol/constants');\n\nvar InteractionControl = require('g3w-ol/controls/interactioncontrol'); /**\n                                                                         * @file\n                                                                         * @since v3.8\n                                                                         */\n\nvar _require = require('core/utils/ol'),\n    merge = _require.merge;\n\nvar _require2 = require('core/utils/geo'),\n    Geometry = _require2.Geometry;\n\nvar VALIDGEOMETRIES = Geometry.getAllPolygonGeometryTypes();\n\nvar BaseQueryPolygonControl = function BaseQueryPolygonControl() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var _options = options,\n      _options$spatialMetho = _options.spatialMethod,\n      spatialMethod = _options$spatialMetho === undefined ? _constants.SPATIALMETHODS[0] : _options$spatialMetho,\n      onSelectlayer = _options.onSelectlayer,\n      interactionClass = _options.interactionClass;\n\n\n  var default_options = {\n    offline: false,\n    // update selected layer\n    onSelectlayer: onSelectlayer,\n    clickmap: true, // set ClickMap\n    interactionClass: interactionClass,\n    spatialMethod: spatialMethod,\n    toggledTool: {\n      type: 'spatialMethod',\n      how: 'toggled' // or hover\n    },\n    onhover: true\n  };\n\n  options = merge(options, default_options);\n\n  options.geometryTypes = VALIDGEOMETRIES;\n\n  InteractionControl.call(this, options);\n};\n\nol.inherits(BaseQueryPolygonControl, InteractionControl);\n\nmodule.exports = BaseQueryPolygonControl;\n\n},{\"core/utils/geo\":64,\"core/utils/ol\":66,\"g3w-ol/constants\":75,\"g3w-ol/controls/interactioncontrol\":83}],79:[function(require,module,exports){\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar _require = require('g3w-ol/controls/utils'),\n    layout = _require.layout;\n\nvar Control = function Control() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var _options$name = options.name,\n      name = _options$name === undefined ? \"\" : _options$name,\n      _options$visible = options.visible,\n      visible = _options$visible === undefined ? true : _options$visible,\n      _options$enabled = options.enabled,\n      enabled = _options$enabled === undefined ? false : _options$enabled;\n\n  this._enabled = enabled;\n  this.offline = options.offline !== undefined ? options.offline : true;\n  this.name = name.split(' ').join('-').toLowerCase();\n  this.id = this.name + '_' + Math.floor(Math.random() * 1000000);\n  this.eventKeys = {}; // store eventKey and original havenHandler\n  /*\n    tl: top-left\n    tr: top-right\n    bl: bottom-left\n    bt: bottom-right\n   */\n  this.positionCode = options.position || 'tl';\n  this.priority = options.priority || 0;\n  if (!options.element) {\n    var className = \"ol-\" + this.name.split(' ').join('-').toLowerCase();\n    var customClass = options.customClass;\n    var tipLabel = options.tipLabel || this.name;\n    var label = options.label || '';\n    var mapControlButtonVue = Vue.extend({\n      functional: true,\n      render: function render(h) {\n        var _class;\n\n        return h('div', {\n          class: (_class = {}, _defineProperty(_class, className, !!className), _defineProperty(_class, 'ol-unselectable', true), _defineProperty(_class, 'ol-control', true), _class)\n        }, [h('button', {\n          attrs: {\n            type: 'button'\n          },\n          directives: [{\n            name: 't-tooltip',\n            value: tipLabel\n          }]\n        }, [label, h('i', {\n          class: _defineProperty({}, customClass, !!customClass)\n        })])]);\n      }\n    });\n    var mapControlButtonDOMElement = new mapControlButtonVue().$mount().$el;\n    options.element = mapControlButtonDOMElement;\n  }\n  var buttonClickHandler = options.buttonClickHandler || Control.prototype._handleClick.bind(this);\n  $(options.element).on('click', buttonClickHandler);\n  ol.control.Control.call(this, options);\n  this.setVisible(visible);\n  this._postRender();\n};\n\nol.inherits(Control, ol.control.Control);\n\nvar proto = Control.prototype;\n\n//return if clickmap\nproto.isClickMap = function () {\n  return this.clickmap;\n};\n\nproto.isToggled = function () {\n  return this._toggled;\n};\n\nproto.setEventKey = function (_ref) {\n  var eventType = _ref.eventType,\n      eventKey = _ref.eventKey;\n\n  this.eventKeys[eventType] = {\n    eventKey: eventKey,\n    originalHandler: eventKey.listener\n  };\n};\n\n/**\n * Reset original handler method of control event.\n * \n * @param {string} eventType\n */\nproto.resetOriginalHandlerEvent = function (eventType) {\n  if (this.eventKeys[eventType] && this.eventKeys[eventType].eventKey) {\n    ol.Observable.unByKey(this.eventKeys[eventType].eventKey);\n    this.eventKeys[eventType].eventKey = this.on(eventType, this.eventKeys[eventType].originalHandler);\n  }\n};\n\n/**\n * Override original handler method of control event.\n * \n * @param {string} eventType\n * @param {() => {}} handler\n */\nproto.overwriteEventHandler = function (_ref2) {\n  var eventType = _ref2.eventType,\n      handler = _ref2.handler;\n\n  if (this.eventKeys[eventType] && this.eventKeys[eventType].eventKey) {\n    ol.Observable.unByKey(this.eventKeys[eventType].eventKey);\n    this.eventKeys[eventType].eventKey = this.on(eventType, handler);\n  }\n};\n\nproto.getPosition = function (positionCode) {\n  positionCode = positionCode || this.positionCode;\n  var position = {};\n  position['top'] = positionCode.indexOf('t') > -1 ? true : false;\n  position['left'] = positionCode.indexOf('l') > -1 ? true : false;\n  position['bottom'] = positionCode.indexOf('b') > -1 ? true : false;\n  position['right'] = positionCode.indexOf('r') > -1 ? true : false;\n  return position;\n};\n\n/**\n * Method to handle toggle map controls\n * @param event\n */\nproto._handleClick = function (event) {\n  var _this = this;\n\n  event.preventDefault();\n  var map = this.getMap();\n  var resetControl = null;\n  // remove all the other, eventually toggled, interactioncontrols\n  var controls = map.getControls();\n  this._toggled && controls.forEach(function (control) {\n    if (control.id && control.toggle && control.id !== _this.id) {\n      control.toggle(false);\n      if (control.name === 'reset') resetControl = control;\n    }\n  });\n  if (!this._toggled && resetControl) resetControl.toggle(true);\n  this.dispatchEvent('controlclick');\n};\n\n//shift of control position\nproto.shiftPosition = function (position) {\n  $(this.element).css(hWhere, position + 'px');\n};\n\n// layout handler\nproto.layout = function (map) {\n  if (map) {\n    var position = this.getPosition();\n    var element = $(this.element);\n    layout({ map: map, position: position, element: element });\n  }\n};\n\n// change layout of controls // overwrite to customize beahviour\nproto.changelayout = function (map) {};\n\n//called when a control is added ore removed to map (added: map is an ol.Map instance , removed map is null)\nproto.setMap = function (map) {\n  if (map) {\n    this.layout(map);\n    ol.control.Control.prototype.setMap.call(this, map);\n  }\n};\n/**\n *\n */\nproto.showControl = function () {\n  $(this.element).show();\n};\n\n//hide control and move all controls that sit on his right position\nproto.hideControl = function () {\n  var position = $(this.element).position().left;\n  var controlWidth = $(this.element).outerWidth();\n  var newPosition = position;\n  var controls = $(this.element).siblings('.ol-control-tl');\n  controls.each(function () {\n    if ($(this).position().left > position) {\n      newPosition = $(this).position().left;\n      if (controlWidth > $(this).outerWidth()) {\n        position = position + (controlWidth - $(this).outerWidth());\n      }\n      $(this).css('left', position + 'px');\n      position = newPosition;\n      controlWidth = $(this).outerWidth();\n    }\n  });\n  $(this.element).hide();\n};\n\n/**\n * Toggle pointer events and `g3w-ol-disabled` class on map control button\n * \n * @param {boolean} enabled wheter the map control button is clickable\n */\nproto.setEnable = function (enabled) {\n  $(this.element).find('button').first().toggleClass('g3w-ol-disabled', !enabled);\n  if (!enabled && this._interaction) {\n    this._interaction.setActive(false);\n  }\n  this._enabled = enabled;\n};\n\nproto.getEnable = function () {\n  return this._enabled;\n};\n\nproto.setVisible = function () {\n  var visible = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n\n  this._visible = visible;\n  $(this.element)[visible ? 'show' : 'hide']();\n};\n\nproto.isVisible = function () {\n  return this._visible;\n};\n\nproto._postRender = function () {};\n\nmodule.exports = Control;\n\n},{\"g3w-ol/controls/utils\":97}],80:[function(require,module,exports){\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _applicationState = require('store/application-state');\n\nvar _applicationState2 = _interopRequireDefault(_applicationState);\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Control = require('./control');\n\nvar _require = require('core/utils/utils'),\n    toRawType = _require.toRawType,\n    XHR = _require.XHR;\n\nvar Projections = require('g3w-ol/projection/projections');\n/**\n * Classes for all element of dom control\n * @type {{country: string, hidden: string, city: string, road: string, spin: string, namespace: string, inputText: {container: string, result: string, input: string, reset: string, control: string}, olControl: string, inputResetId: string, inputQueryId: string}}\n */\nvar cssClasses = {\n  namespace: \"ol-geocoder\",\n  spin: \"gcd-pseudo-rotate\",\n  hidden: \"gcd-hidden\",\n  inputQueryId: \"gcd-input-query\",\n  inputResetId: \"gcd-input-reset\",\n  country: \"gcd-country\",\n  city: \"gcd-city\",\n  road: \"gcd-road\",\n  olControl: \"ol-control\",\n  inputText: {\n    container: \"gcd-txt-container\",\n    control: \"gcd-txt-control\",\n    input: \"gcd-txt-input\",\n    reset: \"gcd-txt-reset\",\n    result: \"gcd-txt-result\"\n  }\n};\n\nvar utils = {\n  isNumeric: function isNumeric(str) {\n    return (/^\\d+$/.test(str)\n    );\n  },\n  classRegex: function classRegex(classname) {\n    return new RegExp(\"(^|\\\\s+) \" + classname + \" (\\\\s+|$)\");\n  },\n\n  /**\n   * @param {Element|Array<Element>} element DOM node or array of nodes.\n   * @param {String|Array<String>} classname Class or array of classes.\n   * For example: 'class1 class2' or ['class1', 'class2']\n   * @param {Number|undefined} timeout Timeout to remove a class.\n   */\n  addClass: function addClass(element, classname, timeout) {\n    var _this = this;\n\n    if (Array.isArray(element)) {\n      element.forEach(function (each) {\n        return _this.addClass(each, classname);\n      });\n      return;\n    }\n    var array = Array.isArray(classname) ? classname : classname.split(/\\s+/);\n    var i = array.length;\n\n    while (i--) {\n      if (!this.hasClass(element, array[i])) this._addClass(element, array[i], timeout);\n    }\n  },\n  _addClass: function _addClass(el, klass, timeout) {\n    var _this2 = this;\n\n    // use native if available\n    if (el.classList) el.classList.add(klass);else el.className = (el.className + ' ' + klass).trim();\n    if (timeout && this.isNumeric(timeout)) setTimeout(function () {\n      return _this2._removeClass(el, klass);\n    }, timeout);\n  },\n\n  /**\n   * @param {Element|Array<Element>} element DOM node or array of nodes.\n   * @param {String|Array<String>} classname Class or array of classes.\n   * For example: 'class1 class2' or ['class1', 'class2']\n   * @param {Number|undefined} timeout Timeout to add a class.\n   */\n  removeClass: function removeClass(element, classname, timeout) {\n    var _this3 = this;\n\n    if (Array.isArray(element)) {\n      element.forEach(function (each) {\n        return _this3.removeClass(each, classname, timeout);\n      });\n      return;\n    }\n    var array = Array.isArray(classname) ? classname : classname.split(/\\s+/);\n    var i = array.length;\n\n    while (i--) {\n      if (this.hasClass(element, array[i])) this._removeClass(element, array[i], timeout);\n    }\n  },\n  _removeClass: function _removeClass(el, klass, timeout) {\n    var _this4 = this;\n\n    if (el.classList) el.classList.remove(klass);else el.className = el.className.replace(this.classRegex(klass), ' ').trim();\n    if (timeout && this.isNumeric(timeout)) setTimeout(function () {\n      return _this4._addClass(el, klass);\n    }, timeout);\n  },\n\n  /**\n   * @param {Element} element DOM node.\n   * @param {String} classname Classname.\n   * @return {Boolean}\n   */\n  hasClass: function hasClass(element, c) {\n    // use native if available\n    return element.classList ? element.classList.contains(c) : this.classRegex(c).test(element.className);\n  },\n\n  /**\n   * @param {Element|Array<Element>} element DOM node or array of nodes.\n   * @param {String} classname Classe.\n   */\n  toggleClass: function toggleClass(element, classname) {\n    var _this5 = this;\n\n    if (Array.isArray(element)) {\n      element.forEach(function (each) {\n        return _this5.toggleClass(each, classname);\n      });\n      return;\n    }\n    // use native if available\n    if (element.classList) element.classList.toggle(classname);else {\n      if (this.hasClass(element, classname)) this._removeClass(element, classname);else this._addClass(element, classname);\n    }\n  },\n\n  /**\n   * Abstraction to querySelectorAll for increased\n   * performance and greater usability\n   * @param {String} selector\n   * @param {Element} context (optional)\n   * @param {Boolean} find_all (optional)\n   * @return (find_all) {Element} : {Array}\n   */\n  find: function find(selector, context, find_all) {\n    if (context === void 0) context = window.document;\n    var simpleRe = /^(#?[\\w-]+|\\.[\\w-.]+)$/,\n        periodRe = /\\./g,\n        slice = Array.prototype.slice,\n        matches = [];\n    // Redirect call to the more performant function\n    // if it's a simple selector and return an array\n    // for easier usage\n    if (simpleRe.test(selector)) {\n      switch (selector[0]) {\n        case '#':\n          matches = [this.$(selector.substr(1))];\n          break;\n        case '.':\n          matches = slice.call(context.getElementsByClassName(selector.substr(1).replace(periodRe, ' ')));\n          break;\n        default:\n          matches = slice.call(context.getElementsByTagName(selector));\n      }\n    } else {\n      // If not a simple selector, query the DOM as usual\n      // and return an array for easier usage\n      matches = slice.call(context.querySelectorAll(selector));\n    }\n    return find_all ? matches : matches[0];\n  },\n  $: function $(id) {\n    id = id[0] === '#' ? id.substr(1, id.length) : id;\n    return document.getElementById(id);\n  },\n  isElement: function isElement(obj) {\n    // DOM, Level2\n    if ('HTMLElement' in window) return !!obj && obj instanceof HTMLElement;\n    // Older browsers\n    return !!obj && (typeof obj === 'undefined' ? 'undefined' : _typeof(obj)) === 'object' && obj.nodeType === 1 && !!obj.nodeName;\n  },\n  getAllChildren: function getAllChildren(node, tag) {\n    return [].slice.call(node.getElementsByTagName(tag));\n  },\n  isEmpty: function isEmpty(str) {\n    return !str || 0 === str.length;\n  },\n  emptyArray: function emptyArray(array) {\n    while (array.length) {\n      array.pop();\n    }\n  },\n  anyMatchInArray: function anyMatchInArray(source, target) {\n    return source.some(function (each) {\n      return target.indexOf(each) >= 0;\n    });\n  },\n  everyMatchInArrayy: function everyMatchInArrayy(arr1, arr2) {\n    return arr2.every(function (each) {\n      return arr1.indexOf(each) >= 0;\n    });\n  },\n  anyItemHasValue: function anyItemHasValue(obj, has) {\n    var _this6 = this;\n\n    if (has === undefined) has = false;\n    var keys = Object.keys(obj);\n    keys.forEach(function (key) {\n      if (!_this6.isEmpty(obj[key])) {\n        has = true;\n      }\n    });\n    return has;\n  },\n  removeAllChildren: function removeAllChildren(node) {\n    while (node.firstChild) {\n      node.removeChild(node.firstChild);\n    }\n  },\n  removeAll: function removeAll(collection) {\n    var node = void 0;\n    while (node = collection[0]) {\n      node.parentNode.removeChild(node);\n    }\n  },\n  getChildren: function getChildren(node, tag) {\n    return [].filter.call(node.childNodes, function (el) {\n      return tag ? el.nodeType === 1 && el.tagName.toLowerCase() === tag : el.nodeType === 1;\n    });\n  },\n  template: function template(html, row) {\n    var _this7 = this;\n\n    return html.replace(/\\{ *([\\w_-]+) *\\}/g, function (htm, key) {\n      var value = row[key] === undefined ? '' : row[key];\n      return _this7.htmlEscape(value);\n    });\n  },\n  htmlEscape: function htmlEscape(str) {\n    return String(str).replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;').replace(/\"/g, '&quot;').replace(/'/g, '&#039;');\n  },\n  createElement: function createElement(node, html) {\n    var elem = void 0;\n    if (Array.isArray(node)) {\n      elem = document.createElement(node[0]);\n      if (node[1].id) elem.id = node[1].id;\n      if (node[1].classname) elem.className = node[1].classname;\n      if (node[1].attr) {\n        var attr = node[1].attr;\n        if (Array.isArray(attr)) {\n          var i = -1;\n          while (++i < attr.length) {\n            elem.setAttribute(attr[i].name, attr[i].value);\n          }\n        } else elem.setAttribute(attr.name, attr.value);\n      }\n    } else elem = document.createElement(node);\n    elem.innerHTML = html;\n    var frag = document.createDocumentFragment();\n    while (elem.childNodes[0]) {\n      frag.appendChild(elem.childNodes[0]);\n    }\n    elem.appendChild(frag);\n    return elem;\n  }\n};\n\n/**\n * Providers\n */\n\nvar Nominatim = function () {\n  function Nominatim() {\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    _classCallCheck(this, Nominatim);\n\n    this.id = 'Nominatim (OSM)';\n    this.active = true;\n    var extent = ol.proj.transformExtent(options.viewbox, options.mapCrs, 'EPSG:4326');\n    this.settings = {\n      url: 'https://nominatim.openstreetmap.org/search/',\n      params: {\n        q: '',\n        format: 'json',\n        addressdetails: 1,\n        limit: 10\n      },\n      extent: extent,\n      viewbox: extent.join(',')\n    };\n  }\n\n  _createClass(Nominatim, [{\n    key: 'getParameters',\n    value: function getParameters(options) {\n      var _settings = this.settings,\n          url = _settings.url,\n          viewbox = _settings.viewbox,\n          limit = _settings.params.limit;\n\n      return {\n        url: url,\n        params: {\n          q: options.query,\n          format: 'json',\n          addressdetails: 1,\n          limit: options.limit || limit,\n          viewbox: viewbox,\n          bounded: 1\n        }\n      };\n    }\n  }, {\n    key: 'handleResponse',\n    value: function handleResponse() {\n      var _this8 = this;\n\n      var response = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n      var results = response.filter(function (place) {\n        return ol.extent.containsXY(_this8.settings.extent, place.lon, place.lat);\n      }).map(function (result) {\n        return {\n          lon: result.lon,\n          lat: result.lat,\n          address: {\n            name: result.address.neighbourhood || '',\n            road: result.address.road || '',\n            postcode: result.address.postcode,\n            city: result.address.city || result.address.town,\n            state: result.address.state,\n            country: result.address.country\n          },\n          original: {\n            formatted: result.display_name,\n            details: result.address\n          }\n        };\n      });\n      return {\n        results: results,\n        header: {\n          title: this.id\n        }\n      };\n    }\n  }]);\n\n  return Nominatim;\n}();\n\nvar Google = function () {\n  function Google() {\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    _classCallCheck(this, Google);\n\n    this.id = 'Google';\n    this.active = _applicationState2.default.keys.vendorkeys.google !== undefined; // PUT HERE A CONDITION TO ACTIVATE OR NOT GOODGLE GEOCODING PROVIDER\n    var extent = ol.proj.transformExtent(options.viewbox, options.mapCrs, 'EPSG:4326');\n    this.settings = {\n      url: 'https://maps.googleapis.com/maps/api/geocode/json',\n      extent: extent,\n      viewbox: extent[1] + ',' + extent[0] + '|' + extent[3] + ',' + extent[2]\n    };\n  }\n\n  _createClass(Google, [{\n    key: 'getParameters',\n    value: function getParameters() {\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      var language = options.lang;\n      var _settings2 = this.settings,\n          url = _settings2.url,\n          viewbox = _settings2.viewbox;\n\n      var params = {\n        address: options.query,\n        key: _applicationState2.default.keys.vendorkeys.google,\n        bounds: viewbox,\n        language: language\n      };\n\n      return {\n        url: url,\n        params: params\n      };\n    }\n  }, {\n    key: 'handleResponse',\n    value: function handleResponse() {\n      var _this9 = this;\n\n      var response = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      var results = []; // Set  to be an Array\n\n      if (response.status === 'OK') {\n        results = response.results.filter(function (result) {\n          return ol.extent.containsXY(_this9.settings.extent, result.geometry.location.lng, result.geometry.location.lat);\n        }).map(function (result) {\n          var name = void 0,\n              road = void 0,\n              city = void 0,\n              postcode = void 0,\n              state = void 0,\n              country = void 0;\n          result.address_components.forEach(function (_ref) {\n            var types = _ref.types,\n                short_name = _ref.short_name,\n                long_name = _ref.long_name;\n\n            if (types.find(function (type) {\n              return type === 'route';\n            })) name = long_name;else if (types.find(function (type) {\n              return type === 'locality';\n            })) city = long_name;else if (types.find(function (type) {\n              return type === 'country';\n            })) country = long_name;\n          });\n          return {\n            lon: result.geometry.location.lng,\n            lat: result.geometry.location.lat,\n            address: {\n              name: name,\n              road: road,\n              postcode: '',\n              city: city,\n              state: state,\n              country: country\n            },\n            original: {\n              formatted: result.display_name,\n              details: result.address\n            }\n          };\n        });\n      } else if (response.status === 'REQUEST_DENIED') {\n        /* disable google geocoding provider on API key error */\n        this.active = false;\n      }\n\n      return {\n        results: results,\n        header: {\n          title: this.id\n        }\n      };\n    }\n  }]);\n\n  return Google;\n}();\n\n/**\n * Geocoding class\n * @param options\n * @constructor\n */\n\n\nfunction GeocodingControl() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  this.options = {\n    provider: 'osm',\n    placeholder: options.placeholder || 'Città, indirizzo ... ',\n    noresults: options.noresults || 'Nessun risultato ',\n    notresponseserver: options.notresponseserver || 'Il server non risponde',\n    lang: _applicationState2.default.language || 'it-IT',\n    limit: options.limit || 5,\n    keepOpen: true,\n    preventDefault: false,\n    autoComplete: false,\n    autoCompleteMinLength: 4,\n    debug: false,\n    viewbox: options.bbox,\n    bounded: 1,\n    mapCrs: options.mapCrs,\n    fontIcon: _gui2.default.getFontClass('search')\n  };\n\n  var _options = this.options,\n      placeholder = _options.placeholder,\n      fontIcon = _options.fontIcon,\n      mapCrs = _options.mapCrs,\n      viewbox = _options.viewbox;\n  /**\n   * Providers\n   * @type []\n   */\n\n  this.providers = [new Google({\n    mapCrs: mapCrs,\n    viewbox: viewbox\n  }), new Nominatim({\n    mapCrs: mapCrs,\n    viewbox: viewbox\n  })];\n\n  /**\n   * Layer to show marker after search\n   * IN FUTURE SET AS CONTROL UTILITY (at moment duplicate also in GEOLOCATION CONTROL)\n   */\n\n  this.layer = new ol.layer.Vector({\n    source: new ol.source.Vector(),\n    style: new ol.style.Style({\n      text: new ol.style.Text({\n        text: '\\uF3C5',\n        font: '900 3em \"Font Awesome 5 Free\"',\n        stroke: new ol.style.Stroke({\n          color: 'red',\n          width: 3\n        }),\n        fill: new ol.style.Fill({\n          color: 'rgba(255, 0,0, 0.7)'\n        })\n      })\n    })\n  });\n\n  this.projection;\n\n  var containerClass = cssClasses.namespace + ' ' + cssClasses.inputText.container;\n  var self = this;\n\n  var GeocoderVueContainer = Vue.extend({\n    functional: true,\n    render: function render(h) {\n      return h('div', { class: _defineProperty({}, containerClass, true) }, [h('div', {\n        class: _defineProperty({}, cssClasses.inputText.control, true)\n      }, [h('input', {\n        attrs: {\n          type: 'text',\n          id: cssClasses.inputQueryId,\n          autocomplete: 'off'\n        },\n        class: _defineProperty({}, cssClasses.inputText.input, true),\n        directives: [{\n          name: 't-placeholder',\n          value: placeholder\n        }]\n      }), h('button', {\n        attrs: {\n          type: 'button',\n          id: 'search_nominatim'\n        },\n        class: {\n          btn: true\n        },\n        on: {\n          click: function click() {\n            var value = $('input.' + cssClasses.inputText.input).val();\n            self.query(value);\n          }\n        }\n      }, [h('i', {\n        attrs: {\n          'aria-hidden': true\n        },\n        style: {\n          color: '#ffffff'\n        },\n        class: _defineProperty({}, fontIcon, true)\n      })]), h('button', {\n        attrs: {\n          type: 'button',\n          id: cssClasses.inputResetId\n        },\n        class: _defineProperty({}, cssClasses.inputText.reset + '  ' + cssClasses.hidden, true)\n      })]), h('ul', {\n        class: _defineProperty({}, cssClasses.inputText.result, true)\n      })]);\n    }\n  });\n  this.container = new GeocoderVueContainer().$mount().$el;\n  this.lastQuery = '';\n  this.registeredListeners = {\n    mapClick: false\n  };\n\n  this.showMarker = function (coordinates) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : { transform: true };\n    var transform = options.transform;\n\n    this.hideMarker();\n    coordinates = transform ? ol.proj.transform(coordinates, 'EPSG:4326', this.getMap().getView().getProjection()) : coordinates;\n    var geometry = new ol.geom.Point(coordinates);\n    var feature = new ol.Feature(geometry);\n    this.layer.getSource().addFeature(feature);\n    this.getMap().addLayer(this.layer);\n    _gui2.default.getService('map').zoomToGeometry(geometry);\n  };\n\n  this.hideMarker = function () {\n    this.layer.getSource().clear();\n    this.getMap().removeLayer(this.layer);\n  };\n  /**\n   * Methods\n   */\n  this.createControl = function () {\n    var _this10 = this;\n\n    var timeout = void 0,\n        lastQuery = void 0;\n    this.control = utils.find('.' + cssClasses.inputText.control, this.container);\n    this.input = utils.find('.' + cssClasses.inputText.input, this.container);\n    this.reset = utils.find('.' + cssClasses.inputText.reset, this.container);\n    this.result = utils.find('.' + cssClasses.inputText.result, this.container);\n    var query = function query(evt) {\n      var value = evt.target.value.trim();\n      var hit = evt.key ? evt.key === 'Enter' : evt.which ? evt.which === 13 : evt.keyCode ? evt.keyCode === 13 : false;\n      if (hit) {\n        evt.preventDefault();\n        _this10.query(value);\n      }\n    };\n    var reset = function reset() {\n      _this10.input.focus();\n      _this10.input.value = '';\n      _this10.lastQuery = '';\n      utils.addClass(_this10.reset, cssClasses.hidden);\n      _this10.clearResults();\n    };\n    var handleValue = function handleValue(evt) {\n      var value = evt.target.value.trim();\n      value.length ? utils.removeClass(_this10.reset, cssClasses.hidden) : utils.addClass(_this10.reset, cssClasses.hidden);\n      if (_this10.options.autoComplete && value !== lastQuery) {\n        lastQuery = value;\n        timeout && clearTimeout(timeout);\n        timeout = setTimeout(function () {\n          return value.length >= _this10.options.autoCompleteMinLength && _this10.query(value);\n        }, 200);\n      }\n    };\n    this.input.addEventListener('keyup', query, false);\n    this.input.addEventListener('input', handleValue, false);\n    this.reset.addEventListener('click', reset, false);\n  };\n  this.query = function (q) {\n    var _this11 = this;\n\n    /**\n     * Clear source\n     */\n    this.hideMarker();\n    return new Promise(function () {\n      var _ref2 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(resolve, reject) {\n        var isNumber, coordinates, transform, _q$split, _q$split2, x, y, epsg, promises, providers, responses;\n\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                isNumber = function isNumber(value) {\n                  return toRawType(value) === 'Number' && !Number.isNaN(value);\n                };\n\n                coordinates = null;\n                transform = false;\n\n                if (q) {\n                  _q$split = q.split(','), _q$split2 = _slicedToArray(_q$split, 3), x = _q$split2[0], y = _q$split2[1], epsg = _q$split2[2];\n\n                  coordinates = isNumber(1 * x) && isNumber(1 * y) ? [1 * x, 1 * y] : null;\n                  try {\n                    /**\n                     * check if is sett epsg code and if is register on project\n                     */\n                    if (epsg && Projections.get('EPSG:' + epsg.trim())) {\n                      coordinates = ol.proj.transform(coordinates, Projections.get('EPSG:' + epsg.trim()), 'EPSG:4326');\n                      transform = true;\n                    }\n                  } catch (err) {}\n                }\n\n                if (!coordinates) {\n                  _context.next = 9;\n                  break;\n                }\n\n                _this11.showMarker(coordinates, {\n                  transform: transform\n                });\n                resolve(coordinates);\n                _context.next = 19;\n                break;\n\n              case 9:\n                if (!(_this11.lastQuery === q && _this11.result.firstChild)) {\n                  _context.next = 11;\n                  break;\n                }\n\n                return _context.abrupt('return');\n\n              case 11:\n                promises = [];\n                /**\n                 * For loop to active Providers\n                 */\n\n                providers = _this11.providers.filter(function (provider) {\n                  return provider.active;\n                });\n\n                providers.forEach(function (provider) {\n                  var _provider$getParamete = provider.getParameters({\n                    query: q,\n                    lang: _this11.options.lang,\n                    countrycodes: _this11.options.countrycodes,\n                    limit: _this11.options.limit\n                  }),\n                      url = _provider$getParamete.url,\n                      params = _provider$getParamete.params;\n\n                  _this11.lastQuery = q;\n                  _this11.clearResults();\n                  utils.addClass(_this11.reset, cssClasses.spin);\n                  promises.push(XHR.get({\n                    url: url,\n                    params: params\n                  }));\n                });\n                _context.next = 16;\n                return Promise.allSettled(promises);\n\n              case 16:\n                responses = _context.sent;\n\n                responses.forEach(function (_ref3, index) {\n                  var status = _ref3.status,\n                      response = _ref3.value;\n\n                  if (status === 'fulfilled') {\n                    var _providers$index$hand = providers[index].handleResponse(response),\n                        header = _providers$index$hand.header,\n                        results = _providers$index$hand.results;\n\n                    if (providers[index].active) {\n                      _this11.createList({\n                        header: header,\n                        results: results\n                      });\n                    }\n                  }\n                });\n                utils.removeClass(_this11.reset, cssClasses.spin);\n\n              case 19:\n              case 'end':\n                return _context.stop();\n            }\n          }\n        }, _callee, _this11);\n      }));\n\n      return function (_x8, _x9) {\n        return _ref2.apply(this, arguments);\n      };\n    }());\n  };\n  this.createList = function () {\n    var _this12 = this;\n\n    var _ref4 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        header = _ref4.header,\n        _ref4$results = _ref4.results,\n        results = _ref4$results === undefined ? {} : _ref4$results;\n\n    var ul = this.result;\n    ul.appendChild(this.createHeaderProviderResults(header));\n    if (results.length) {\n      results.forEach(function (result) {\n        var addressHtml = _this12.addressTemplate(result.address),\n            html = ['<a href=\"#\">', addressHtml, '</a>'].join(''),\n            li = utils.createElement('li', html);\n        li.addEventListener('click', function (evt) {\n          evt.preventDefault();\n          _this12.chosen(result, addressHtml, result.address, result.original);\n        }, false);\n        ul.appendChild(li);\n      });\n    } else {\n      var noresults = this.options.noresults;\n\n      var elementVue = Vue.extend({\n        functional: true,\n        render: function render(h) {\n          return h('li', {\n            class: {\n              'nominatim-noresult': true\n            },\n            directives: [{ name: 't', value: noresults }]\n          });\n        }\n      });\n      var li = new elementVue().$mount().$el;\n      ul.appendChild(li);\n    }\n  };\n  this.chosen = function (place, addressHtml, addressObj, addressOriginal) {\n    var coord = [parseFloat(place.lon), parseFloat(place.lat)];\n    this.options.keepOpen === false && this.clearResults(true);\n    this.showMarker(coord);\n  };\n  this.createHeaderProviderResults = function () {\n    var header = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    var headerNodeElement = '\\n      <div style=\"display: flex; justify-content: space-between; padding: 5px\">\\n        <span  style=\"color: #FFFFFF; font-weight: bold\">' + header.title + '</span>\\n      </div>';\n    var li = utils.createElement('li', headerNodeElement);\n    li.classList.add(\"skin-background-color\");\n    return li;\n  };\n\n  this.addressTemplate = function (address) {\n    var html = [];\n    if (address.name) html.push(['<div class=\"', cssClasses.road, '\">{name}</div>'].join(''));\n    if (address.road || address.building || address.house_number) {\n      html.push(['<div class=\"', cssClasses.road, '\">{building} {road} {house_number}</div>'].join(''));\n    }\n    if (address.city || address.town || address.village) {\n      html.push(['<div class=\"', cssClasses.city, '\">{postcode} {city} {town} {village}</div>'].join(''));\n    }\n    if (address.state || address.country) {\n      html.push(['<div class=\"', cssClasses.country, '\">{state} {country}</div>'].join(''));\n    }\n    return utils.template(html.join('<br>'), address);\n  };\n  this.expand = function () {\n    var _this13 = this;\n\n    utils.removeClass(this.input, cssClasses.spin);\n    utils.addClass(this.control, cssClasses.glass.expanded);\n    setTimeout(function () {\n      return _this13.input.focus();\n    }, 100);\n  };\n  this.collapse = function () {\n    this.input.value = '';\n    this.input.blur();\n    utils.addClass(this.reset, cssClasses.hidden);\n    this.clearResults();\n  };\n\n  this.clearResults = function () {\n    utils.removeAllChildren(this.result);\n    this.hideMarker();\n  };\n  this.getSource = function () {\n    return this.layer.getSource();\n  };\n  this.addLayer = function () {\n    var _this14 = this;\n\n    var map = this.getMap();\n    var layer = map.getLayers().find(function (layer) {\n      return layer === _this14.layer;\n    });\n    !layer && map.addLayer(this.layer);\n  };\n  /**\n   * End methods\n   */\n\n  this.createControl();\n\n  Control.call(this, {\n    element: this.container,\n    name: \"nominatim\",\n    offline: false\n  });\n}\n\nol.inherits(GeocodingControl, Control);\n\nmodule.exports = GeocodingControl;\n\n},{\"./control\":79,\"core/utils/utils\":68,\"g3w-ol/projection/projections\":111,\"services/gui\":361,\"store/application-state\":373}],81:[function(require,module,exports){\nvar InteractionControl = require('g3w-ol/controls/interactioncontrol');\n\nfunction GeolocationControl() {\n  var options = {\n    visible: false, // set initial to false. Is set visible if is autorized\n    offline: false,\n    name: \"geolocation\",\n    tipLabel: \"sdk.mapcontrols.geolocation.tooltip\",\n    label: \"\\uE904\"\n  };\n  this._layer = new ol.layer.Vector({\n    source: new ol.source.Vector(),\n    style: new ol.style.Style({\n      text: new ol.style.Text({\n        text: \"\\uF3C5\",\n        font: '900 3em \"Font Awesome 5 Free\"',\n        fill: new ol.style.Fill({\n          color: 'red'\n        })\n      })\n    })\n  });\n  InteractionControl.call(this, options);\n}\n\nol.inherits(GeolocationControl, InteractionControl);\n\nvar proto = GeolocationControl.prototype;\n\n/**\n * Method to add market position layer and feature point always on top of map\n * @param map\n * @param coordinates\n * @param show\n * @private\n */\nproto._showMarker = function (_ref) {\n  var map = _ref.map,\n      coordinates = _ref.coordinates,\n      _ref$show = _ref.show,\n      show = _ref$show === undefined ? true : _ref$show;\n\n  //in case of control is initialized\n  if (this._layer) {\n    this._layer.getSource().clear();\n    if (show) {\n      map.getView().setCenter(coordinates);\n      var feature = new ol.Feature({\n        geometry: new ol.geom.Point(coordinates)\n      });\n      this._layer.getSource().addFeature(feature);\n      map.addLayer(this._layer);\n    } else map.removeLayer(this._layer);\n  }\n};\n\nproto.getMap = function () {\n  return InteractionControl.prototype.getMap.call(this);\n};\n\nproto.setMap = function (map) {\n  var _this = this;\n\n  var toggledKeyEvent = void 0; // key toggled event handler\n  InteractionControl.prototype.setMap.call(this, map);\n\n  var geolocation = new ol.Geolocation({\n    projection: map.getView().getProjection(),\n    tracking: true, // set tracking\n    trackingOptions: {\n      enableHighAccuracy: true\n    }\n  });\n\n  geolocation.on('change:position', function () {\n    var coordinates = geolocation.getPosition();\n    if (coordinates) {\n      if (!_this.isVisible()) {\n        _this.setVisible(true);\n        $(_this.element).removeClass('g3w-ol-disabled');\n        geolocation.dispatchEvent('authorized');\n      }\n      _this._showMarker({\n        map: map,\n        coordinates: coordinates,\n        show: _this.isToggled()\n      });\n    } else _this.hideControl(); // remove control from map control flow\n  });\n\n  geolocation.once('error', function (evt) {\n    _this.hideControl();\n    _this._layer = null;\n    evt.code !== 1 && _this.dispatchEvent('error');\n    ol.Observable.unByKey(toggledKeyEvent);\n    toggledKeyEvent = null;\n  });\n\n  //only when authorized register toogled event\n  geolocation.once('authorized', function () {\n    toggledKeyEvent = _this.on('toggled', function () {\n      var coordinates = geolocation.getPosition();\n      _this._showMarker({\n        map: map,\n        coordinates: coordinates,\n        show: _this.isToggled()\n      });\n    });\n  });\n};\n\nmodule.exports = GeolocationControl;\n\n},{\"g3w-ol/controls/interactioncontrol\":83}],82:[function(require,module,exports){\nvar ScreenshotControl = require('g3w-ol/controls/screenshotcontrol');\n\nfunction GeoScreenshotControl() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  options.name = \"maptoimagegeo\";\n  options.tipLabel = \"Geo Screenshot\";\n  options.label = \"\\uE900\";\n  ScreenshotControl.call(this, options);\n}\n\nol.inherits(GeoScreenshotControl, ScreenshotControl);\n\nmodule.exports = GeoScreenshotControl;\n\n},{\"g3w-ol/controls/screenshotcontrol\":95}],83:[function(require,module,exports){\nvar _constants = require('g3w-ol/constants');\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nvar _mapControls = require('store/map-controls');\n\nvar _mapControls2 = _interopRequireDefault(_mapControls);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar _require = require('core/i18n/i18n.service'),\n    t = _require.t;\n\nvar Control = require('g3w-ol/controls/control');\n\nvar InteractionControl = function InteractionControl() {\n  var _this = this;\n\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var _options$visible = options.visible,\n      visible = _options$visible === undefined ? true : _options$visible,\n      _options$enabled = options.enabled,\n      enabled = _options$enabled === undefined ? true : _options$enabled,\n      _options$toggled = options.toggled,\n      toggled = _options$toggled === undefined ? false : _options$toggled,\n      _options$clickmap = options.clickmap,\n      clickmap = _options$clickmap === undefined ? false : _options$clickmap,\n      _options$interactionC = options.interactionClass,\n      interactionClass = _options$interactionC === undefined ? null : _options$interactionC,\n      _options$autountoggle = options.autountoggle,\n      autountoggle = _options$autountoggle === undefined ? false : _options$autountoggle,\n      _options$geometryType = options.geometryTypes,\n      geometryTypes = _options$geometryType === undefined ? [] : _options$geometryType,\n      _options$onhover = options.onhover,\n      onhover = _options$onhover === undefined ? false : _options$onhover,\n      _options$help = options.help,\n      help = _options$help === undefined ? null : _options$help,\n      toggledTool = options.toggledTool,\n      _options$interactionC2 = options.interactionClassOptions,\n      interactionClassOptions = _options$interactionC2 === undefined ? {} : _options$interactionC2,\n      _options$layers = options.layers,\n      layers = _options$layers === undefined ? [] : _options$layers,\n      spatialMethod = options.spatialMethod;\n\n  /**\n   * Project layers dependencies\n   * \n   * @since 3.8.0\n   */\n\n  this.layers = layers;\n\n  /**\n   * @since 3.8.0\n   */\n  this.unwatches = [];\n\n  this.listenLayersVisibilityChange();\n\n  this._visible = visible;\n\n  this._toggled = false;\n\n  /**\n   * Check if interact with map\n   */\n  this.clickmap = clickmap;\n\n  this._interactionClass = interactionClass;\n\n  this._interaction = null;\n\n  this._autountoggle = autountoggle;\n\n  /**\n   * Array of types geometries\n   */\n  this._geometryTypes = geometryTypes;\n\n  this._onhover = onhover;\n\n  this._help = help;\n\n  /**\n   * Used to show help info button\n   */\n  this._helpButton;\n\n  /**\n   * Used to show toolbutton\n   */\n  this._toolButton;\n\n  /**\n   * @type { 'intersect' | 'within' }\n   */\n  this.spatialMethod = spatialMethod;\n\n  this.toggledTool;\n\n  this._interactionClassOptions = interactionClassOptions;\n\n  options.buttonClickHandler = InteractionControl.prototype._handleClick.bind(this);\n\n  Control.call(this, options);\n\n  // in case of toggled true, then ... ?\n  if (true === toggled) {\n    this.on('setMap', function () {\n      return _this.toggle(toggled);\n    });\n  }\n\n  // create an help message\n  if (this._help) {\n    this._createModalHelp();\n  }\n\n  // create tool\n  if (toggledTool) {\n    this.createControlTool(toggledTool);\n  }\n\n  // set enabled\n  this.setEnable(enabled);\n\n  // check if spatial method is set\n  if (this.spatialMethod) {\n    this.handleChangeSpatialMethod(this.spatialMethod);\n  }\n};\n\nol.inherits(InteractionControl, Control);\n\nvar proto = InteractionControl.prototype;\n\n/**\n * @virtual method need to be implemented by subclasses\n *\n * @since 3.8.0\n */\nproto.onSelectLayer = function () {};\n\n/**\n * @virtual method need to be implemented by subclasses\n *\n * @since 3.8.0\n */\nproto.runSpatialQuery = function () {};\n\n/**\n * @virtual method need to be implemented by subclasses\n *\n * @since 3.8.0\n */\nproto.clear = function () {};\n\n/**\n * @virtual method need to be implemented by subclasses\n *\n * @since 3.8.0\n */\nproto.onAddExternalLayer = function () {\n  var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      layer = _ref.layer,\n      unWatches = _ref.unWatches;\n};\n\n/**\n * @virtual method need to be implemented by subclasses\n *\n * @since 3.8.0\n */\nproto.onRemoveExternalLayer = function (layer) {};\n\n/**\n * @virtual method need to be implemented by subclasses\n *\n * @since 3.8.0\n */\nproto.handleSelectedLayer = function (event) {};\n\n/**\n * @virtual method need to be implemented by subclasses\n * \n * @param {{ type: {string}, data: any}} layer event\n * \n * @since 3.8.0\n */\nproto.handleExternalSelectedLayer = function (layer) {};\n\n/**\n * @virtual method need to be implemented by subclasses\n *\n * @param layers\n * @returns {boolean}\n *\n * @since 3.8.0\n */\nproto.checkVisibile = function (layers) {\n  return true;\n};\n\n/**\n * @virtual method need to be implemented by subclasses\n *\n * @param layers\n * @returns {boolean}\n *\n * @since 3.8.0\n */\nproto.checkVisibile = function (layers) {\n  return true;\n};\n\n/**\n * @virtual method need to be implemented by subclasses\n *\n * @since v3.8.0\n */\nproto.listenLayersVisibilityChange = function () {};\n\n/**\n * method override by subclasses\n *\n * @since 3.8.0\n */\nproto.change = function () {\n  var layers = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n  this.layers = layers;\n  var visible = this.checkVisibile(layers);\n  this.setVisible(visible);\n  this.setEnable(false);\n  this.listenLayersVisibilityChange();\n};\n\nproto.isClickMap = function () {\n  return this.clickmap;\n};\n\n/**\n * Enable map control dom\n */\nproto.enable = function () {\n  $(this.element).removeClass('g3w-disabled');\n};\n\nproto.disable = function () {\n  $(this.element).addClass('g3w-disabled');\n};\n\n/**\n * @param {{ type: {'spatialMethod' | 'custom'}, component: unknown, how: {'toggled' | 'hover'} }} toggledTool \n */\nproto.createControlTool = function () {\n  var _this2 = this;\n\n  var toggledTool = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  /**\n   * how can be {\n   *  'toggled'(default) => show tools when control is toggled\n   *  'hover' =>  (show button tool as info help)\n   * }\n   */\n  var type = toggledTool.type,\n      component = toggledTool.component,\n      _toggledTool$how = toggledTool.how,\n      how = _toggledTool$how === undefined ? \"toggled\" : _toggledTool$how;\n\n  switch (type) {\n    case 'spatialMethod':\n      var method = this.getSpatialMethod();\n      this.toggledTool = {\n        data: function data() {\n          this.methods = _constants.SPATIALMETHODS;\n          return {\n            method: method\n          };\n        },\n\n        template: '\\n          <div style=\"width: 100%; padding: 5px;\">\\n            <select ref=\"select\" style=\"width: 100%\"  :search=\"false\" v-select2=\"\\'method\\'\">\\n              <option v-for=\"method in methods\">{{method}}</option>\\n            </select>\\n          </div>',\n        watch: {\n          'method': function method(_method) {\n            return _this2.setSpatialMethod(_method);\n          }\n        },\n        created: function created() {\n          _gui2.default.setCloseUserMessageBeforeSetContent(false);\n        },\n        beforeDestroy: function beforeDestroy() {\n          _gui2.default.setCloseUserMessageBeforeSetContent(true);\n        }\n      };\n      break;\n    case 'custom':\n      this.toggledTool = component;\n      break;\n    // if we want to create a button (as info on hover)\n  }\n  switch (how) {\n    case 'hover':\n      this._createToolOnHoverButton();\n      break;\n  }\n};\n\nproto._createToolOnHoverButton = function () {\n  var _this3 = this;\n\n  if (this._onhover) {\n    this._toolButton = $('<span style=\"display:none\" class=\"tool_mapcontrol_button\"><i class=\"' + _gui2.default.getFontClass('tool') + '\"></i></span>');\n    $(this.element).prepend(this._toolButton);\n    this._toolButton.on('click', function (event) {\n      event.stopPropagation();\n      _this3.showToggledTool(true);\n    });\n    $(this.element).hover(function () {\n      return _this3._toggled && _this3._toolButton.show();\n    });\n    $(this.element).mouseleave(function () {\n      return _this3._toolButton.hide();\n    });\n  }\n};\n\nproto.showToggledTool = function () {\n  var show = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n\n  if (show) {\n    _gui2.default.showUserMessage({\n      title: '',\n      type: 'tool',\n      size: 'small',\n      closable: this._toolButton ? true : false,\n      hooks: {\n        body: this.toggledTool\n      }\n    });\n  } else _gui2.default.closeUserMessage();\n};\n\n/**\n * Show help message\n */\nproto._showModalHelp = function () {\n  _gui2.default.showModalDialog({\n    title: t(this._help.title),\n    message: t(this._help.message)\n  });\n};\n\n/**\n * Create modal help\n */\nproto._createModalHelp = function () {\n  var _this4 = this;\n\n  if (this._onhover) {\n    this._helpButton = $('<span style=\"display:none\" class=\"info_mapcontrol_button\">i</span>');\n    $(this.element).prepend(this._helpButton);\n    this._helpButton.on('click', function (event) {\n      event.stopPropagation();\n      _this4._showModalHelp();\n    });\n    $(this.element).hover(function () {\n      return _this4._helpButton.show();\n    });\n    $(this.element).mouseleave(function () {\n      return _this4._helpButton.hide();\n    });\n  }\n};\n\nproto.getGeometryTypes = function () {\n  return this._geometryTypes;\n};\n\nproto.isToggled = function () {\n  return this._toggled;\n};\n\n/**\n * Get dom bottom\n * \n * @returns {JQuery<HTMLElement> | jQuery | HTMLElement}\n */\nproto.getControlBottom = function () {\n  return $(this.element).find('button').first();\n};\n\nproto.addClassToControlBottom = function () {\n  var className = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n\n  var controlButton = this.getControlBottom();\n  controlButton.addClass(className);\n};\n\nproto.removeClassToControlBottom = function () {\n  var className = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n\n  var controlButton = this.getControlBottom();\n  controlButton.removeClass(className);\n};\n\n/**\n * Set button status (pressed / not pressed)\n * \n * @param {boolean} [toggled]\n * \n * @fires toggled event\n */\nproto.toggle = function () {\n  var toggled = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : !this._toggled;\n\n\n  // skip if button is already toggled or un-toggled\n  if (this._toggled === toggled) {\n    return;\n  }\n\n  this._toggled = toggled;\n\n  // TODO: simplify this by removing all that short circuiting logic\n  if (toggled) {\n    this._interaction && this._interaction.setActive(true);\n    this.addClassToControlBottom('g3w-ol-toggled');\n    this._toolButton && this._toolButton.show();\n  } else {\n    this._help && this._helpButton.hide();\n    this._interaction && this._interaction.setActive(false);\n    this.removeClassToControlBottom('g3w-ol-toggled');\n    this._toolButton && this._toolButton.hide();\n    this.toggledTool && this.showToggledTool(false);\n  }\n\n  if (undefined === this._toolButton && this.toggledTool) {\n    this.showToggledTool(this._toggled);\n  }\n\n  this.dispatchEvent({ type: 'toggled', toggled: toggled });\n};\n\nproto.getGeometryTypes = function () {\n  return this._geometryTypes;\n};\n\nproto.setGeometryTypes = function (types) {\n  this._geometryTypes = types;\n};\n\n/**\n * @param {ol.Map} map\n * \n * @fires setMap event\n */\nproto.setMap = function (map) {\n\n  Control.prototype.setMap.call(this, map);\n\n  if (!this._interaction && this._interactionClass) {\n    this._interaction = new this._interactionClass(this._interactionClassOptions);\n    map.addInteraction(this._interaction);\n    this._interaction.setActive(false);\n  }\n\n  /** @since 3.8.0 */\n  this.dispatchEvent({ type: 'setMap', map: map });\n};\n\nproto._handleClick = function (evt) {\n  if (this._enabled) {\n    this.toggle();\n    Control.prototype._handleClick.call(this, evt);\n  }\n};\n\nproto.getInteraction = function () {\n  return this._interaction;\n};\n\n/**\n * Method to set filter operation intersect or Contains\n */\nproto.setSpatialMethod = function () {\n  var method = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'intersects';\n\n  this.spatialMethod = method;\n  this.dispatchEvent({\n    type: 'change-spatial-method',\n    spatialMethod: this.spatialMethod\n  });\n};\n\nproto.getSpatialMethod = function () {\n  return this.spatialMethod;\n};\n\nproto.setLayers = function () {\n  var layers = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n  this.layers = layers;\n};\n\n/**\n * @param { unknown | null } layer\n *\n * @since 3.8.0\n */\nproto.setSelectedLayer = function (layer) {\n  _mapControls2.default.setSelectedLayer(layer);\n};\n\n/**\n * @since 3.8.0\n */\nproto.getSelectedLayer = function () {\n  return _mapControls2.default.getSelectedLayer();\n};\n\n/**\n * @since 3.8.0\n */\nproto.getExternalLayers = function () {\n  return _mapControls2.default.getExternalLayers();\n};\n\n/**\n * @param { 'intersects' | 'within' } spatialMethod\n * \n * @listens change-spatial-method\n * \n * @since 3.8.0\n */\nproto.handleChangeSpatialMethod = function (spatialMethod) {\n  var _this5 = this;\n\n  var eventKey = null;\n\n  var unlistenSpatialMethodChange = function unlistenSpatialMethodChange() {\n    ol.Observable.unByKey(eventKey);\n    eventKey = null;\n  };\n\n  this.on('toggled', function (_ref2) {\n    var toggled = _ref2.toggled;\n\n    if (true === toggled) {\n      eventKey = _this5.on('change-spatial-method', _this5.runSpatialQuery);\n    } else if (null !== eventKey) {\n      unlistenSpatialMethodChange();\n      // reset to default\n      _this5.setSpatialMethod(spatialMethod);\n      _this5.clear();\n    }\n  });\n};\n\n/**\n * @since 3.8.0\n */\nproto.watchLayer = function (expOrFn, callback) {\n  return _constants.VM.$watch(expOrFn, callback);\n};\n\n/**\n * @returns {boolean}\n *\n * @since 3.8.0\n */\nproto.isSelectedLayerVisible = function () {\n  return 'function' === typeof this.getSelectedLayer().isVisible ? this.getSelectedLayer().isVisible() // in case of a project project\n  : this.getSelectedLayer().visible // in case of external layer\n  ;\n};\n\n/**\n * @returns {boolean} whether at least one of stored `this.layers` is visible\n *\n * @since 3.8.0\n */\nproto.hasVisibleProjectLayer = function () {\n  return !!(this.layers.length > 0 && this.layers.find(function (layer) {\n    return layer.isVisible();\n  }));\n};\n\n/**\n * @returns {boolean} whether at least one of stored `this.getExternalLayers()` is visible\n *\n * @since 3.8.0\n */\nproto.hasVisibleExternalLayer = function () {\n  var _this6 = this;\n\n  return !!this.getExternalLayers().find(function (layer) {\n    return layer !== _this6.layer && true === layer.visible;\n  });\n};\n\n/**\n * @returns {boolean} whether at least one of stored `this.layers` or `this.getExternalLayers()` is visible\n * \n * @since 3.8.0\n */\nproto.hasVisibleLayers = function () {\n  return !!(this.hasVisibleProjectLayer() || this.hasVisibleExternalLayer());\n};\n\n/**\n * @returns {boolean} whether selectedLayer is not external\n * \n * @since 3.8.0\n */\nproto.addExternalLayerToResult = function () {\n  var _this7 = this;\n\n  return null === this.getSelectedLayer() || \"undefined\" !== typeof this.getExternalLayers().find(function (layer) {\n    return layer === _this7.getSelectedLayer();\n  });\n};\n\n/**\n * @returns {boolean}\n * \n * @since 3.8.0\n */\nproto.isExternalLayerSelected = function () {\n  var _this8 = this;\n\n  return null !== this.getSelectedLayer() && \"undefined\" !== typeof this.getExternalLayers().find(function (layer) {\n    return layer === _this8.getSelectedLayer();\n  });\n};\n\nmodule.exports = InteractionControl;\n\n},{\"core/i18n/i18n.service\":13,\"g3w-ol/constants\":75,\"g3w-ol/controls/control\":79,\"services/gui\":361,\"store/map-controls\":376}],84:[function(require,module,exports){\nvar utils = require('core/utils/ol');\nvar LenghtIteraction = require('g3w-ol/interactions/lengthinteraction');\nvar MeasureControl = require('g3w-ol/controls/measurecontrol');\n\nvar LengthControl = function LengthControl() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  var _options = {\n    tipLabel: \"sdk.mapcontrols.measures.length.tooltip\",\n    label: '\\uE908',\n    clickmap: true, // set ClickMap\n    interactionClass: LenghtIteraction\n  };\n\n  options = utils.merge(options, _options);\n  MeasureControl.call(this, options);\n};\n\nol.inherits(LengthControl, MeasureControl);\n\nmodule.exports = LengthControl;\n\n},{\"core/utils/ol\":66,\"g3w-ol/controls/measurecontrol\":85,\"g3w-ol/interactions/lengthinteraction\":103}],85:[function(require,module,exports){\nvar InteractionControl = require('g3w-ol/controls/interactioncontrol');\n\nvar MeasureControl = function MeasureControl() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  this._map = null;\n  InteractionControl.call(this, options);\n};\n\nol.inherits(MeasureControl, InteractionControl);\n\nvar proto = MeasureControl.prototype;\n\n/**\n * @param {ol.Map} map \n */\nproto.setMap = function (map) {\n  InteractionControl.prototype.setMap.call(this, map);\n};\n\n/**\n * @param {boolean} toggle \n */\nproto.toggle = function (toggle) {\n\n  InteractionControl.prototype.toggle.call(this, toggle);\n\n  // clean up measurements (if it was activated)\n  if (!this.isToggled() && this.getInteraction()) {\n    this.getInteraction().clear();\n  }\n};\n\nmodule.exports = MeasureControl;\n\n},{\"g3w-ol/controls/interactioncontrol\":83}],86:[function(require,module,exports){\nvar MousePositionControl = function MousePositionControl() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  options.target = options.target || 'mouse-position-control';\n  ol.control.MousePosition.call(this, options);\n};\n\nol.inherits(MousePositionControl, ol.control.MousePosition);\n\nmodule.exports = MousePositionControl;\n\nvar proto = MousePositionControl.prototype;\n\nproto.offline = true;\n\nproto.setEnable = function (bool) {\n  bool ? $(this.element) : $(this.element);\n};\n\nproto.setMap = function (map) {\n  if (map) {\n    $(this.element).removeClass('ol-control');\n    ol.control.MousePosition.prototype.setMap.call(this, map);\n  }\n};\n\n},{}],87:[function(require,module,exports){\nvar OLControl = function OLControl() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  this._control = null;\n  this.positionCode = options.position || 'tl';\n  switch (options.type) {\n    case 'zoom':\n      this._control = new ol.control.Zoom(options);\n      break;\n    case 'zoomtoextent':\n      this._control = new ol.control.ZoomToExtent(options);\n      break;\n    case 'scaleline':\n      this._control = new ol.control.ScaleLine(options);\n      break;\n    case 'overview':\n      this._control = new ol.control.OverviewMap(options);\n      break;\n  }\n\n  $(this._control.element).addClass(\"ol-control-\" + this.positionCode);\n\n  ol.control.Control.call(this, {\n    element: this._control.element\n  });\n};\n\n// subclass of OpenLayer Control\nol.inherits(OLControl, ol.control.Control);\n\nmodule.exports = OLControl;\n\nvar proto = OLControl.prototype;\n\nproto.offline = true;\n\n/**\n * Return Ol Control\n * @returns {*}\n */\nproto.getOlControl = function () {\n  return this._control;\n};\n\nproto.getPosition = function (positionCode) {\n  positionCode = positionCode || this.positionCode;\n  var position = {};\n  position['top'] = positionCode.indexOf('t') > -1 ? true : false;\n  position['left'] = positionCode.indexOf('l') > -1 ? true : false;\n  return position;\n};\n\nproto.layout = function (map) {\n  if (map) {\n    var position = this.getPosition();\n    var viewPort = map.getViewport();\n    var previusControls = $(viewPort).find('.ol-control-' + this.positionCode);\n    if (previusControls.length) {\n      previusControl = previusControls.last();\n      var previousOffset = position.left ? previusControl.position().left : previusControl.position().right;\n      var hWhere = position.left ? 'left' : 'right';\n      var previousWidth = previusControl[0].offsetWidth;\n      var hOffset = $(this.element).position()[hWhere] + previousOffset + previousWidth + 2;\n      $(this.element).css(hWhere, hOffset + 'px');\n    }\n  }\n};\n\nproto.changelayout = function () {};\n\nproto.showHide = function () {\n  $(this.element).toggle();\n};\n\nproto.setMap = function (map) {\n  this.layout(map);\n  this._control.setMap(map);\n};\n\n},{}],88:[function(require,module,exports){\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar Control = require('g3w-ol/controls/control');\n\nfunction OnClickControl() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  this._originalonlick = null;\n  this._onclick = options.onclick;\n  Control.call(this, options);\n}\n\nol.inherits(OnClickControl, Control);\n\nvar proto = OnClickControl.prototype;\n\nproto.overwriteOnClickEvent = function (clickHandler) {\n  this._originalonlick = this._originalonlick || this._onclick;\n  this._onclick = clickHandler;\n};\n\nproto.resetOriginalOnClickEvent = function () {\n  this._onclick = this._originalonlick || this._onclick;\n  this._originalonlick = null;\n};\n\nproto.setMap = function (map) {\n  var _this = this;\n\n  Control.prototype.setMap.call(this, map);\n  var controlElement = $(this.element);\n  var buttonControl = controlElement.children('button');\n  var cliccked = false;\n  controlElement.on('click', _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n    return regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            if (cliccked) {\n              _context.next = 9;\n              break;\n            }\n\n            cliccked = true;\n            buttonControl.addClass('g3w-ol-disabled');\n            _context.t0 = _this._onclick;\n\n            if (!_context.t0) {\n              _context.next = 7;\n              break;\n            }\n\n            _context.next = 7;\n            return _this._onclick();\n\n          case 7:\n            buttonControl.removeClass('g3w-ol-disabled');\n            cliccked = false;\n\n          case 9:\n          case 'end':\n            return _context.stop();\n        }\n      }\n    }, _callee, _this);\n  })));\n};\n\nmodule.exports = OnClickControl;\n\n},{\"g3w-ol/controls/control\":79}],89:[function(require,module,exports){\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _constants = require('g3w-ol/constants');\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nvar _data = require('services/data');\n\nvar _data2 = _interopRequireDefault(_data);\n\nvar _projects = require('store/projects');\n\nvar _projects2 = _interopRequireDefault(_projects);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar _require = require('core/utils/utils'),\n    throttle = _require.throttle;\n\nvar InteractionControl = require('g3w-ol/controls/interactioncontrol');\n\n/**\n * Catalog layers (TOC) properties that need to be satisfied\n */\nvar layersFilterObject = {\n  SELECTED_OR_ALL: true, // selected or all\n  FILTERABLE: true, // see: src/app/core/layers/layer.js#L925\n  VISIBLE: true // need to be visible\n};\n\nvar condition = {\n  filtrable: {\n    ows: 'WFS'\n  }\n};\n\nvar QueryBBoxControl = function QueryBBoxControl() {\n  var _this = this;\n\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var _options$spatialMetho = options.spatialMethod,\n      spatialMethod = _options$spatialMetho === undefined ? _constants.SPATIALMETHODS[0] : _options$spatialMetho;\n\n  /**\n   * @FIXME add description\n   */\n\n  this._startCoordinate = null;\n\n  /**\n   * @FIXME add description\n   */\n  this.unwatches = [];\n\n  /**\n   * @FIXME add description\n   */\n  var layers = _gui2.default.getService('map').filterableLayersAvailable(condition) || [];\n  layers.forEach(function (layer) {\n    return layer.setTocHighlightable(true);\n  });\n\n  var _options = _extends({}, options, {\n    layers: layers,\n    offline: false,\n    name: \"querybbox\",\n    tipLabel: \"sdk.mapcontrols.querybybbox.tooltip\",\n    label: options.label || '\\uE902',\n    clickmap: true, // set ClickMap\n    interactionClass: ol.interaction.DragBox,\n    onhover: true,\n    toggledTool: {\n      type: 'spatialMethod',\n      how: 'toggled' // or hover\n    },\n    spatialMethod: spatialMethod,\n    help: {\n      title: \"sdk.mapcontrols.querybybbox.help.title\",\n      message: \"sdk.mapcontrols.querybybbox.help.message\"\n    }\n  });\n\n  InteractionControl.call(this, _options);\n\n  this.setEnable(this.hasVisibleLayers());\n\n  /**\n   * Store bbox coordinates\n   * \n   * @type {ol.coordinate}\n   */\n  this.bbox = null;\n\n  /**\n   * Set `layer.tochighlightable` to external layer to show highlight class\n   * \n   * @since 3.8.0\n   */\n  this.on('toggled', function (_ref) {\n    var toggled = _ref.toggled;\n\n    _this.getExternalLayers().forEach(function (layer) {\n      return layer.tochighlightable = toggled;\n    });\n  });\n};\n\nol.inherits(QueryBBoxControl, InteractionControl);\n\nvar proto = QueryBBoxControl.prototype;\n\n/**\n * @deprecated since 3.7\n * \n * @param layers\n */\nproto.change = function () {\n  var layers = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n  this.layers = layers;\n  this.setEnable(this.hasVisibleLayers());\n  this.listenLayersVisibilityChange();\n};\n\nproto.checkVisible = function () {\n  return this.layers.length > 0 || this.getExternalLayers().length > 0;\n};\n\n/**\n * @param {ol.Map} map\n * \n * @listens ol.interaction.DragBox~boxstart\n * @listens ol.interaction.DragBox~boxend\n */\nproto.setMap = function (map) {\n  var _this2 = this;\n\n  InteractionControl.prototype.setMap.call(this, map);\n\n  this._interaction.on('boxstart', function (evt) {\n    return _this2._startCoordinate = evt.coordinate;\n  });\n\n  this._interaction.on('boxend', throttle(function (evt) {\n\n    _this2.bbox = ol.extent.boundingExtent([_this2._startCoordinate, evt.coordinate]);\n\n    _this2.dispatchEvent({ type: 'bboxend', extent: _this2.bbox });\n\n    _this2._startCoordinate = null;\n\n    if (_this2._autountoggle) {\n      _this2.toggle();\n    }\n  }));\n\n  this.setEventKey({\n    eventType: 'bboxend',\n    eventKey: this.on('bboxend', this.runSpatialQuery)\n  });\n};\n\n/**\n * @since 3.8.0\n */\nproto.onSelectLayer = function (layer) {\n  if (layer) {\n    var findLayer = this.layers.find(function (_layer) {\n      return _layer === layer;\n    });\n    this.setEnable(!!findLayer && findLayer.isVisible());\n  } else {\n    this.setEnable(this.hasVisibleLayers());\n  }\n  this.toggle(this.isToggled() && this.getEnable());\n};\n\n/**\n * @since 3.8.0\n */\nproto.listenLayersVisibilityChange = function () {\n  var _this3 = this;\n\n  this.unwatches.forEach(function (unwatch) {\n    return unwatch();\n  });\n  this.unwatches.splice(0);\n  this.layers.forEach(function (layer) {\n    _this3.unwatches.push(_this3.watchLayer(function () {\n      return layer.state.visible;\n    }, function (visible) {\n      if (true === layer.state.selected) {\n        _this3.setEnable(visible);\n      } else {\n        _this3.setEnable(_this3.hasVisibleLayers());\n      }\n      _this3.toggle(_this3.isToggled() && _this3.getEnable());\n    }));\n  });\n};\n\n/**\n * @returns {Promise<void>}\n * \n * @since 3.8.0\n */\nproto.runSpatialQuery = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n  return regeneratorRuntime.wrap(function _callee$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          if (!(null === this.bbox)) {\n            _context.next = 2;\n            break;\n          }\n\n          return _context.abrupt('return');\n\n        case 2:\n          _gui2.default.closeOpenSideBarComponent();\n          _context.prev = 3;\n          _context.next = 6;\n          return _data2.default.getData('query:bbox', {\n            inputs: {\n              bbox: this.bbox,\n              feature_count: _projects2.default.getCurrentProject().getQueryFeatureCount(),\n              addExternal: this.addExternalLayerToResult(),\n              layersFilterObject: layersFilterObject,\n              filterConfig: {\n                spatialMethod: this.getSpatialMethod() // added spatial method to polygon filter\n              },\n              condition: condition,\n              multilayers: _projects2.default.getCurrentProject().isQueryMultiLayers(this.name)\n            }\n          });\n\n        case 6:\n          _context.next = 11;\n          break;\n\n        case 8:\n          _context.prev = 8;\n          _context.t0 = _context['catch'](3);\n\n          console.warn('Error running spatial query: ', _context.t0);\n\n        case 11:\n        case 'end':\n          return _context.stop();\n      }\n    }\n  }, _callee, this, [[3, 8]]);\n}));\n\n/**\n * @param {{ layer, unWatches }}\n * \n * @since 3.8.0\n */\nproto.onAddExternalLayer = function (_ref3) {\n  var _this4 = this;\n\n  var layer = _ref3.layer,\n      unWatches = _ref3.unWatches;\n\n  //set layer property\n  layer.tochighlightable = this.isToggled() && this.getEnable();\n\n  unWatches.push(this.watchLayer(function () {\n    return layer.selected;\n  }, // watch `layer.selected` property\n  function (selected) {\n    _this4.setEnable(true === selected ? layer.visible : _this4.hasVisibleLayers());\n    _this4.toggle(_this4.isToggled() && _this4.getEnable());\n  }));\n\n  unWatches.push(this.watchLayer(function () {\n    return layer.visible;\n  }, // watch `layer.visible` property\n  function () {\n    _this4.setEnable(_this4.hasVisibleLayers());\n    _this4.toggle(_this4.isToggled() && _this4.getEnable());\n  }));\n\n  this.setEnable(this.hasVisibleLayers());\n};\n\n/**\n * @since 3.8.0\n */\nproto.onRemoveExternalLayer = function () {\n  this.setEnable(this.isThereVisibleLayerNotSelected());\n};\n\n/**\n * @since 3.8.0\n */\nproto.clear = function () {\n  this.bbox = null;\n};\n\nmodule.exports = QueryBBoxControl;\n\n},{\"core/utils/utils\":68,\"g3w-ol/constants\":75,\"g3w-ol/controls/interactioncontrol\":83,\"services/data\":358,\"services/gui\":361,\"store/projects\":379}],90:[function(require,module,exports){\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; /**\n                                                                                                                                                                                                                                                                   * @file\n                                                                                                                                                                                                                                                                   * @since v3.8\n                                                                                                                                                                                                                                                                   */\n\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nvar _data = require('services/data');\n\nvar _data2 = _interopRequireDefault(_data);\n\nvar _projects = require('store/projects');\n\nvar _projects2 = _interopRequireDefault(_projects);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar _require = require('core/utils/utils'),\n    throttle = _require.throttle;\n\nvar BaseQueryPolygonControl = require('g3w-ol/controls/basequerypolygoncontrol');\n\nvar QueryByDrawPolygonControl = function QueryByDrawPolygonControl() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  var layers = _gui2.default.getService('map').filterableLayersAvailable({\n    filtrable: {\n      ows: 'WFS'\n    }\n  }) || [];\n\n  var _options = _extends({}, options, {\n    name: \"querybydrawpolygon\",\n    tipLabel: \"sdk.mapcontrols.querybydrawpolygon.tooltip\",\n    customClass: _gui2.default.getFontClass('draw'),\n    clickmap: true, // set ClickMap\n    interactionClass: ol.interaction.Draw,\n    interactionClassOptions: {\n      type: 'Polygon'\n    },\n    layers: layers,\n    help: {\n      title: \"sdk.mapcontrols.querybybbox.help.title\",\n      message: \"sdk.mapcontrols.querybybbox.help.message\"\n    }\n  });\n\n  BaseQueryPolygonControl.call(this, _options);\n  this.setEnable(this.hasVisibleLayers());\n\n  /**\n   * Store drawed ol.Feature\n   */\n  this.feature = null;\n};\n\nol.inherits(QueryByDrawPolygonControl, BaseQueryPolygonControl);\n\nvar proto = QueryByDrawPolygonControl.prototype;\n\n/**\n * @param {ol.Map} map\n * \n * @listens ol.interaction.Draw~drawend\n */\nproto.setMap = function (map) {\n  var _this = this;\n\n  BaseQueryPolygonControl.prototype.setMap.call(this, map);\n\n  this._interaction.on('drawend', throttle(function (evt) {\n    _this.feature = evt.feature;\n    _this.dispatchEvent({ type: 'drawend', feature: _this.feature });\n    if (_this._autountoggle) {\n      _this.toggle();\n    }\n  }));\n\n  this.setEventKey({\n    eventType: 'drawend',\n    eventKey: this.on('drawend', this.runSpatialQuery)\n  });\n};\n\n/**\n * @since 3.8.0\n */\nproto.onSelectLayer = function (layer) {\n  if (layer) {\n    var findLayer = this.layers.find(function (_layer) {\n      return _layer === layer;\n    });\n    this.setEnable(!!findLayer && findLayer.isVisible());\n  } else {\n    this.setEnable(this.hasVisibleLayers());\n  }\n  this.toggle(this.isToggled() && this.getEnable());\n};\n\n/**\n * @param { unknown | null } layer\n *\n * @since 3.8.0\n */\nproto.listenLayersVisibilityChange = function () {\n  var _this2 = this;\n\n  this.unwatches.forEach(function (unwatch) {\n    return unwatch();\n  });\n  this.unwatches.splice(0);\n  this.layers.forEach(function (layer) {\n    _this2.unwatches.push(_this2.watchLayer(function () {\n      return layer.state.visible;\n    }, function (visible) {\n      // check if a selectedLayer i set\n      if (null === _this2.getSelectedLayer()) {\n        _this2.setEnable(_this2.hasVisibleLayers());\n      } else {\n        // enable control only if current changed visible layer is true or\n        // if at least one layer (not selected) is visible\n        _this2.setEnable(_this2.isSelectedLayerVisible());\n      }\n      _this2.toggle(_this2.isToggled() && _this2.getEnable());\n    }));\n  });\n};\n\n/**\n * @param {{ layer, unWatches }}\n * \n * @since 3.8.0\n */\nproto.onAddExternalLayer = function (_ref) {\n  var _this3 = this;\n\n  var layer = _ref.layer,\n      unWatches = _ref.unWatches;\n\n\n  unWatches.push(this.watchLayer(function () {\n    return layer.selected;\n  }, // watch `layer.selected` property\n  function (selected) {\n    _this3.setEnable(true === selected ? layer.visible : _this3.hasVisibleLayers());\n    _this3.toggle(_this3.isToggled() && _this3.getEnable());\n  }));\n\n  unWatches.push(this.watchLayer(function () {\n    return layer.visible;\n  }, // watch `layer.visible` property\n  function (visible) {\n    _this3.setEnable(true === layer.selected ? visible : _this3.hasVisibleLayers());\n    _this3.toggle(_this3.isToggled() && _this3.getEnable());\n  }));\n\n  this.setEnable(this.hasVisibleLayers());\n};\n\n/**\n * @since 3.8.0\n */\nproto.onRemoveExternalLayer = function () {\n  this.setEnable(this.hasVisibleLayers());\n};\n\n/**\n * @returns {Promise<void>}\n * \n * @since 3.8.0\n */\nproto.runSpatialQuery = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n  return regeneratorRuntime.wrap(function _callee$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          _gui2.default.closeOpenSideBarComponent();\n\n          _context.prev = 1;\n          _context.next = 4;\n          return _data2.default.getData('query:polygon', {\n            inputs: {\n              layerName: 'Draw',\n              feature: this.feature,\n              excludeSelected: null === this.getSelectedLayer(),\n              external: {\n                add: this.addExternalLayerToResult(),\n                filter: {\n                  SELECTED: this.isExternalLayerSelected()\n                }\n              },\n              filterConfig: {\n                spatialMethod: this.getSpatialMethod()\n              },\n              multilayers: _projects2.default.getCurrentProject().isQueryMultiLayers(this.name)\n            },\n            outputs: {\n              show: function show(_ref3) {\n                var _ref3$error = _ref3.error,\n                    error = _ref3$error === undefined ? false : _ref3$error;\n\n                return !error;\n              }\n            }\n          });\n\n        case 4:\n          _context.next = 9;\n          break;\n\n        case 6:\n          _context.prev = 6;\n          _context.t0 = _context['catch'](1);\n\n          console.warn(_context.t0);\n\n        case 9:\n        case 'end':\n          return _context.stop();\n      }\n    }\n  }, _callee, this, [[1, 6]]);\n}));\n\n/**\n * @since 3.8.0\n */\nproto.clear = function () {\n  this.feature = null;\n};\n\nmodule.exports = QueryByDrawPolygonControl;\n\n},{\"core/utils/utils\":68,\"g3w-ol/controls/basequerypolygoncontrol\":78,\"services/data\":358,\"services/gui\":361,\"store/projects\":379}],91:[function(require,module,exports){\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nvar _data = require('services/data');\n\nvar _data2 = _interopRequireDefault(_data);\n\nvar _projects = require('store/projects');\n\nvar _projects2 = _interopRequireDefault(_projects);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nvar _require = require('core/utils/utils'),\n    throttle = _require.throttle;\n\nvar _require2 = require('core/utils/geo'),\n    getMapLayersByFilter = _require2.getMapLayersByFilter,\n    Geometry = _require2.Geometry;\n\nvar BaseQueryPolygonControl = require('g3w-ol/controls/basequerypolygoncontrol');\nvar PickCoordinatesInteraction = require('g3w-ol/interactions/pickcoordinatesinteraction');\n\nvar VALIDGEOMETRIES = Geometry.getAllPolygonGeometryTypes();\n\nvar condition = {\n  filtrable: {\n    ows: 'WFS'\n  }\n};\n\nvar QueryByPolygonControl = function QueryByPolygonControl() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n\n  var controlQuerableLayers = getMapLayersByFilter({ QUERYABLE: true, SELECTED_OR_ALL: true });\n  var controlFiltrableLayers = _gui2.default.getService('map').filterableLayersAvailable(condition);\n\n  var _options = _extends({}, options, {\n    offline: false,\n    enabled: false,\n    name: \"querybypolygon\",\n    tipLabel: \"sdk.mapcontrols.querybypolygon.tooltip\",\n    label: options.label || '\\uE903',\n    interactionClass: PickCoordinatesInteraction,\n    layers: controlFiltrableLayers.length ? [].concat(_toConsumableArray(new Set([].concat(_toConsumableArray(controlFiltrableLayers), _toConsumableArray(controlQuerableLayers))))) : [],\n    help: {\n      title: \"sdk.mapcontrols.querybypolygon.help.title\",\n      message: \"sdk.mapcontrols.querybypolygon.help.message\"\n    }\n  });\n\n  BaseQueryPolygonControl.call(this, _options);\n\n  /**\n   * Data needed to runSpatialQuery\n   */\n  this.data = {\n    layer: null,\n    feature: null,\n    coordinates: null\n  };\n};\n\nol.inherits(QueryByPolygonControl, BaseQueryPolygonControl);\n\nvar proto = QueryByPolygonControl.prototype;\n\n/**\n * @deprecated since 3.7.0. Will be removed in 3.9.0\n * \n * @param {unknown[]} layers\n */\nproto.change = function () {\n  var layers = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n  this.layers = layers;\n  this.setEnable(false);\n  this.listenLayersVisibilityChange();\n};\n\n/**\n * Check visibiliy of control\n * \n * @param layers\n * \n * @returns {boolean}\n */\nproto.checkVisibile = function (layers) {\n  // if no layer or just one\n  if (!layers.length || 1 === layers.length) {\n    return false;\n  }\n\n  // get all layers that haven't the geometries above filterable\n  var filterableLayers = layers.filter(function (layer) {\n    return layer.isFilterable();\n  });\n  // get all layer that have the valid geometries\n  var queryableLayers = layers.filter(function (layer) {\n    return -1 !== VALIDGEOMETRIES.indexOf(layer.getGeometryType());\n  });\n\n  if (1 === queryableLayers.length && 1 === filterableLayers.length) {\n    return filterableLayers[0] !== queryableLayers[0];\n  }\n\n  return queryableLayers.length > 0 && filterableLayers.length > 0;\n};\n\n/**\n * @param {ol.Map} map \n * \n * @listens PickCoordinatesInteraction~picked\n */\nproto.setMap = function (map) {\n  var _this = this;\n\n  BaseQueryPolygonControl.prototype.setMap.call(this, map);\n\n  this._interaction.on('picked', throttle(function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(evt) {\n      return regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _this.data.coordinates = evt.coordinate;\n\n              _this.dispatchEvent({ type: 'picked', coordinates: _this.data.coordinates });\n\n              if (_this._autountoggle) {\n                _this.toggle();\n              }\n\n            case 3:\n            case 'end':\n              return _context.stop();\n          }\n        }\n      }, _callee, _this);\n    }));\n\n    return function (_x3) {\n      return _ref.apply(this, arguments);\n    };\n  }()));\n\n  this.setEventKey({\n    eventType: 'picked',\n    eventKey: this.on('picked', this.getPolygonFeatureFromCoordinates)\n  });\n\n  this.setEnable(false);\n};\n\n/**\n * @param layer\n * \n * @since 3.8.0\n */\nproto.onSelectLayer = function (layer) {\n  if (layer && layer.isQueryable() && -1 !== this.getGeometryTypes().indexOf(layer.getGeometryType())) {\n    this.setEnable(this.isThereVisibleLayerNotSelected());\n    this.toggle(this.isToggled() && this.getEnable());\n  } else {\n    this.setEnable(false);\n    this.toggle(false);\n  }\n};\n\n/**\n * @since 3.8.0 \n */\nproto.listenLayersVisibilityChange = function () {\n  var _this2 = this;\n\n  this.unwatches.forEach(function (unwatch) {\n    return unwatch();\n  });\n  this.unwatches.splice(0);\n  this.layers.forEach(function (layer) {\n    _this2.unwatches.push(_this2.watchLayer(function () {\n      return layer.state.visible;\n    }, function (visible) {\n      if (layer === _this2.getSelectedLayer()) {\n        _this2.setEnable(visible && _this2.isThereVisibleLayerNotSelected());\n      } else {\n        _this2.setEnable(_this2.isThereVisibleLayerNotSelected());\n      }\n      // enable control only if current changed visible layer is true or\n      // if at least one layer (not selected) is visible\n      _this2.toggle(_this2.isToggled() && _this2.getEnable());\n    }));\n  });\n};\n\n/**\n * @returns {Promise<boolean>}\n * \n * @since 3.8.0\n */\nproto.getPolygonFeatureFromCoordinates = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2() {\n  var _ref3, _ref3$data, data;\n\n  return regeneratorRuntime.wrap(function _callee2$(_context2) {\n    while (1) {\n      switch (_context2.prev = _context2.next) {\n        case 0:\n          _gui2.default.closeOpenSideBarComponent();\n\n          // ask for coordinates\n          _context2.prev = 1;\n          _context2.next = 4;\n          return _data2.default.getData('query:coordinates', {\n            inputs: {\n              feature_count: _projects2.default.getCurrentProject().getQueryFeatureCount(),\n              coordinates: this.data.coordinates\n            },\n            outputs: {\n              // whether to show picked coordinates on map\n              show: function show(_ref4) {\n                var _ref4$data = _ref4.data,\n                    data = _ref4$data === undefined ? [] : _ref4$data,\n                    query = _ref4.query;\n\n                var show = data.length === 0;\n                // set query coordinates to null in case to avoid `externalvector` added to query response\n                query.coordinates = show ? query.coordinates : null;\n                return show;\n              }\n            }\n          });\n\n        case 4:\n          _ref3 = _context2.sent;\n          _ref3$data = _ref3.data;\n          data = _ref3$data === undefined ? [] : _ref3$data;\n\n          if (data.length && data[0].features.length) {\n            this.data.feature = data[0].features[0];\n            this.data.layer = data[0].layer;\n            this.runSpatialQuery();\n          }\n          _context2.next = 13;\n          break;\n\n        case 10:\n          _context2.prev = 10;\n          _context2.t0 = _context2['catch'](1);\n\n          console.warn('Error running spatial query:', _context2.t0);\n\n        case 13:\n        case 'end':\n          return _context2.stop();\n      }\n    }\n  }, _callee2, this, [[1, 10]]);\n}));\n\n/**\n * @returns {boolean} whether at least a visible layer not selected\n * \n * @since 3.8.0\n */\nproto.isThereVisibleLayerNotSelected = function () {\n  var _this3 = this;\n\n  return !!(\n  // check if user has selected a layer\n  this.getSelectedLayer() &&\n  // check if current selected layer is visible\n  this.isSelectedLayerVisible() && (\n  // check if at least one layer is visible (project or external layer)\n  !!this.layers.find(function (layer) {\n    return layer !== _this3.getSelectedLayer() && layer.isVisible() && layer.isFilterable(condition.filtrable);\n  }) || this.getExternalLayers().find(function (layer) {\n    return layer !== _this3.getSelectedLayer() && true === layer.visible;\n  })));\n};\n\n/**\n * @deprecated since v3.8.0. Will be removed in v4.0.0. Use `QueryByPolygonControl::listenLayersVisibilityChange()` instead.\n */\nproto.listenPolygonLayersChange = function () {\n  this.listenLayersVisibilityChange();\n};\n\n/**\n * @param {{ layer, unWatches }}\n * \n * @since 3.8.0\n */\nproto.onAddExternalLayer = function (_ref5) {\n  var _this4 = this;\n\n  var layer = _ref5.layer,\n      unWatches = _ref5.unWatches;\n\n\n  // watch `layer.selected` property only on Polygon layers (in order to enable/disable map control)\n  if (Geometry.isPolygonGeometryType(layer.geometryType)) {\n    unWatches.push(this.watchLayer(function () {\n      return layer.selected;\n    }, // watch `layer.selected` property\n    function (selected) {\n      if (true === selected) {\n        _this4.setEnable(layer.visible && _this4.isThereVisibleLayerNotSelected());\n      } else {\n        _this4.setEnable(false);\n      }\n      _this4.toggle(_this4.isToggled() && _this4.getEnable());\n    }));\n\n    unWatches.push(this.watchLayer(function () {\n      return layer.visible;\n    }, // watch `layer.visible` property\n    function (visible) {\n      if (layer.selected) {\n        _this4.setEnable(visible && _this4.isThereVisibleLayerNotSelected());\n      } else {\n        _this4.setEnable(_this4.isThereVisibleLayerNotSelected());\n      }\n      _this4.toggle(_this4.isToggled() && _this4.getEnable());\n    }));\n  }\n\n  this.setEnable(this.isThereVisibleLayerNotSelected());\n};\n\n/**\n * @since 3.8.0\n */\nproto.onRemoveExternalLayer = function () {\n  this.setEnable(this.isThereVisibleLayerNotSelected());\n};\n\n/**\n * Execute query Polygon request to server\n * \n * @since 3.8.0\n */\nproto.runSpatialQuery = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee3() {\n  return regeneratorRuntime.wrap(function _callee3$(_context3) {\n    while (1) {\n      switch (_context3.prev = _context3.next) {\n        case 0:\n          if (null !== this.data.coordinates && null !== this.data.feature && null !== this.data.layer) {\n            _context3.next = 2;\n            break;\n          }\n\n          return _context3.abrupt('return');\n\n        case 2:\n          _context3.next = 4;\n          return _data2.default.getData('query:polygon', {\n            inputs: {\n              layerName: this.data.layer.getName ? this.data.layer.getName() : this.data.layer.get('name'),\n              excludeSelected: true,\n              feature: this.data.feature,\n              external: {\n                add: true,\n                filter: {\n                  SELECTED: false\n                }\n              },\n              filterConfig: {\n                spatialMethod: this.getSpatialMethod() // added spatial method to polygon filter\n              },\n              multilayers: _projects2.default.getCurrentProject().isQueryMultiLayers(this.name)\n            },\n            outputs: {\n              show: function show(_ref7) {\n                var _ref7$error = _ref7.error,\n                    error = _ref7$error === undefined ? false : _ref7$error;\n\n                return !error;\n              }\n            }\n          });\n\n        case 4:\n        case 'end':\n          return _context3.stop();\n      }\n    }\n  }, _callee3, this);\n}));\n\n/**\n * @since v3.8.0\n */\nproto.clear = function () {\n  this.data.layer = this.data.feature = this.data.coordinates = null;\n};\n\nmodule.exports = QueryByPolygonControl;\n\n},{\"core/utils/geo\":64,\"core/utils/utils\":68,\"g3w-ol/controls/basequerypolygoncontrol\":78,\"g3w-ol/interactions/pickcoordinatesinteraction\":105,\"services/data\":358,\"services/gui\":361,\"store/projects\":379}],92:[function(require,module,exports){\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nvar _projects = require('store/projects');\n\nvar _projects2 = _interopRequireDefault(_projects);\n\nvar _data = require('services/data');\n\nvar _data2 = _interopRequireDefault(_data);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar _require = require('core/utils/utils'),\n    throttle = _require.throttle;\n\nvar utils = require('core/utils/ol');\nvar InteractionControl = require('g3w-ol/controls/interactioncontrol');\nvar PickCoordinatesInteraction = require('g3w-ol/interactions/pickcoordinatesinteraction');\n\nvar QueryControl = function QueryControl() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  var _options = {\n    offline: false,\n    name: \"querylayer\",\n    tipLabel: \"sdk.mapcontrols.query.tooltip\",\n    label: options.label || '\\uEA0F',\n    clickmap: true, // set ClickMap\n    interactionClass: PickCoordinatesInteraction\n  };\n\n  options = utils.merge(options, _options);\n\n  InteractionControl.call(this, options);\n};\n\nol.inherits(QueryControl, InteractionControl);\n\nvar proto = QueryControl.prototype;\n\n/**\n * @param {ol.Map} map\n * \n * @listens InteractionControl~toggled\n */\nproto.setMap = function (map) {\n  var _this = this;\n\n  var eventSingleClickKey = null;\n\n  this.on('toggled', function (_ref) {\n    var toggled = _ref.toggled;\n\n\n    if (true !== toggled) {\n      ol.Observable.unByKey(eventSingleClickKey);\n      eventSingleClickKey = null;\n    } else if (null === eventSingleClickKey && map) {\n      // register click on map event. It use to dispatch picked event by control\n      eventSingleClickKey = map.on('singleclick', throttle(function (evt) {\n        return _this.dispatchEvent({ type: 'picked', coordinates: evt.coordinate });\n      }));\n    }\n  });\n\n  this.setEventKey({\n    eventType: 'picked',\n    eventKey: this.on('picked', this.runQuery)\n  });\n\n  InteractionControl.prototype.setMap.call(this, map);\n};\n\n/**\n * @since 3.8.0\n * @param event\n */\nproto.runQuery = function () {\n  var _ref3 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(_ref2) {\n    var coordinates = _ref2.coordinates;\n    var project;\n    return regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _gui2.default.closeOpenSideBarComponent();\n            _context.prev = 1;\n            project = _projects2.default.getCurrentProject();\n            _context.next = 5;\n            return _data2.default.getData('query:coordinates', {\n              inputs: {\n                coordinates: coordinates,\n                feature_count: project.getQueryFeatureCount(),\n                query_point_tolerance: project.getQueryPointTolerance(),\n                multilayers: project.isQueryMultiLayers(this.name)\n              }\n            });\n\n          case 5:\n            _context.next = 10;\n            break;\n\n          case 7:\n            _context.prev = 7;\n            _context.t0 = _context['catch'](1);\n\n            console.warn('Error running spatial query: ', _context.t0);\n\n          case 10:\n          case 'end':\n            return _context.stop();\n        }\n      }\n    }, _callee, this, [[1, 7]]);\n  }));\n\n  return function (_x2) {\n    return _ref3.apply(this, arguments);\n  };\n}();\n\nmodule.exports = QueryControl;\n\n},{\"core/utils/ol\":66,\"core/utils/utils\":68,\"g3w-ol/controls/interactioncontrol\":83,\"g3w-ol/interactions/pickcoordinatesinteraction\":105,\"services/data\":358,\"services/gui\":361,\"store/projects\":379}],93:[function(require,module,exports){\nvar utils = require('core/utils/ol');\nvar InteractionControl = require('g3w-ol/controls/interactioncontrol');\n\nvar ResetControl = function ResetControl(options) {\n  this._toggled = true;\n  this._startCoordinate = null;\n  var _options = {\n    name: \"reset\",\n    tipLabel: \"Pan\",\n    label: '\\uE901'\n  };\n  options = utils.merge(options, _options);\n  InteractionControl.call(this, options);\n};\n\nol.inherits(ResetControl, InteractionControl);\n\nmodule.exports = ResetControl;\n\nvar proto = ResetControl.prototype;\n\nproto._postRender = function () {\n  this.toggle(true);\n};\n\n},{\"core/utils/ol\":66,\"g3w-ol/controls/interactioncontrol\":83}],94:[function(require,module,exports){\nvar _constant = require('app/constant');\n\nvar _require = require('core/i18n/i18n.service'),\n    t = _require.t;\n\nvar _require2 = require('core/utils/ol'),\n    getResolutionFromScale = _require2.getResolutionFromScale,\n    getScaleFromResolution = _require2.getScaleFromResolution;\n\nvar ScaleControl = function ScaleControl() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  this.isMobile = options.isMobile || false;\n  options.target = 'scale-control';\n  ol.control.Control.call(this, options);\n};\n\nol.inherits(ScaleControl, ol.control.Control);\n\nmodule.exports = ScaleControl;\n\nvar proto = ScaleControl.prototype;\n\nproto.offline = true;\n\n// called from map when layout change\nproto.changelayout = function (map) {\n  var position = this.position;\n  var element = $(this.element);\n};\n\nproto.layout = function (map) {\n  var self = this;\n  var isMapResolutionChanged = false;\n  var selectedOnClick = false;\n  var element = $(this.element);\n  var select2 = element.children('select').select2({\n    tags: true,\n    dropdownParent: $(map.getTargetElement()),\n    width: '120px',\n    height: '20px',\n    language: {\n      noResults: function noResults(params) {\n        return t(\"sdk.mapcontrols.scale.no_valid_scale\");\n      }\n    },\n    minimumResultsForSearch: this.isMobile ? -1 : 0,\n    createTag: function createTag(params) {\n      var newTag = null;\n      var scale = void 0;\n      // Don't offset to create a tag if there is no @ symbol\n      if (params.term.indexOf('1:') !== -1) {\n        // Return null to disable tag creation\n        scale = params.term.split('1:')[1];\n      } else if (Number.isInteger(Number(params.term)) && Number(params.term) > 0) {\n        scale = Number(params.term);\n        if (1 * scale <= self.scales[0]) {\n          newTag = {\n            id: scale,\n            text: '1:' + params.term,\n            new: true\n          };\n          deleteLastCustomScale();\n        }\n      }\n      return newTag;\n    }\n  });\n  //get change mapsize to close\n  map.on('change:size', function () {\n    return select2.select2('close');\n  });\n  function deleteLastCustomScale() {\n    select2.find('option').each(function (index, option) {\n      return self.scales.indexOf(1 * option.value) === -1 && $(option).remove();\n    });\n  }\n\n  function addCustomTag(data) {\n    if (select2.find(\"option[value='\" + data.id + \"']\").length) select2.val(data.id).trigger('change');else {\n      deleteLastCustomScale();\n      var newOption = new Option(data.text, data.id, true, true);\n      select2.append(newOption).trigger('change');\n    }\n  }\n\n  map.on('moveend', function () {\n    if (isMapResolutionChanged) {\n      var view = this.getView();\n      var resolution = view.getResolution();\n      var mapUnits = view.getProjection().getUnits();\n      var scale = parseInt(getScaleFromResolution(resolution, mapUnits));\n      var data = {\n        id: scale,\n        text: '1:' + scale,\n        new: true\n      };\n      addCustomTag(data);\n      isMapResolutionChanged = false;\n    } else selectedOnClick = false;\n  });\n  var setChangeResolutionHandler = function setChangeResolutionHandler() {\n    map.getView().on('change:resolution', function () {\n      return isMapResolutionChanged = !selectedOnClick;\n    });\n  };\n  setChangeResolutionHandler();\n\n  map.on('change:view', function () {\n    return setChangeResolutionHandler();\n  });\n\n  select2.on('select2:select', function (e) {\n    selectedOnClick = true;\n    var data = e.params.data;\n    if (data.new) {\n      deleteLastCustomScale();\n      addCustomTag(data);\n    }\n    var mapUnits = map.getView().getProjection().getUnits();\n    var scale = 1 * data.id;\n    var resolution = getResolutionFromScale(scale, mapUnits);\n    map.getView().setResolution(resolution);\n  });\n};\n\nproto._setScales = function (map) {\n  var mapUnits = map.getView().getProjection().getUnits();\n  var currentResolution = map.getView().getResolution();\n  var currentScale = parseInt(getScaleFromResolution(currentResolution, mapUnits));\n  this.scales = _constant.PRINT_SCALES.map(function (scale) {\n    return scale.value;\n  }).filter(function (scale) {\n    return scale < currentScale;\n  });\n  this.scales.unshift(currentScale);\n  this._createControl();\n};\n\nproto._createControl = function () {\n  var controlDomElement = document.createElement('div');\n  var select = document.createElement('select');\n  var optgroup = document.createElement('optgroup');\n  optgroup.label = '';\n  this.scales.forEach(function (scale, index) {\n    var option = document.createElement('option');\n    option.value = scale;\n    option.text = '1:' + scale;\n    option.selected = index === 0 ? true : false;\n    optgroup.appendChild(option);\n  });\n  select.appendChild(optgroup);\n  if (!this.isMobile) {\n    var optgroup_custom = document.createElement('optgroup');\n    optgroup_custom.label = 'Custom';\n    select.appendChild(optgroup_custom);\n  }\n  controlDomElement.appendChild(select);\n  // set element of control (it is necessary to visualize it)\n  this.element = controlDomElement;\n  $(this.element).css('height', '20px');\n};\n\nproto.setMap = function (map) {\n  if (map) {\n    this._setScales(map);\n    this.layout(map);\n    ol.control.Control.prototype.setMap.call(this, map);\n  }\n};\n\n},{\"app/constant\":4,\"core/i18n/i18n.service\":13,\"core/utils/ol\":66}],95:[function(require,module,exports){\nvar _require = require('core/utils/utils'),\n    sameOrigin = _require.sameOrigin;\n\nvar OnClickControl = require('g3w-ol/controls/onclickcontrol');\n\nfunction ScreenshotControl() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  this.layers = options.layers || [];\n  options.visible = this.checkVisible(this.layers);\n  options.name = options.name || \"maptoimage\";\n  options.tipLabel = options.tipLabel || \"Screenshot\";\n  options.label = options.label || '\\uE90F';\n  options.toggled = false;\n  OnClickControl.call(this, options);\n}\n\nol.inherits(ScreenshotControl, OnClickControl);\n\nvar proto = ScreenshotControl.prototype;\n\nproto.change = function () {\n  var layers = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n  var visible = this.checkVisible(layers);\n  this.setVisible(visible);\n};\n\n/**\n * Check visibility for map control based on layers URLs.\n * \n * Allow to print external WMS layers only when they have\n * same origin URL of current application in order to avoid\n * CORS issue while getting map image.\n * \n * @param {array} layers\n * \n * @returns {boolean}\n */\nproto.checkVisible = function () {\n  var layers = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n  return undefined === layers.find(function (layer) {\n    return !sameOrigin(layer.getSource() && layer.getSource().url, location);\n  });\n};\n\nmodule.exports = ScreenshotControl;\n\n},{\"core/utils/utils\":68,\"g3w-ol/controls/onclickcontrol\":88}],96:[function(require,module,exports){\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _applicationState = require('store/application-state');\n\nvar _applicationState2 = _interopRequireDefault(_applicationState);\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar _require = require('core/utils/utils'),\n    XHR = _require.XHR;\n\nvar utils = require('core/utils/ol');\nvar StreetViewComponent = require('gui/streetview/vue/streetview');\nvar InteractionControl = require('g3w-ol/controls/interactioncontrol');\nvar PickCoordinatesInteraction = require('g3w-ol/interactions/pickcoordinatesinteraction');\n\nvar GoogleStreetViewApiUrl = 'https://maps.googleapis.com/maps/api/';\n\nvar StreetViewControl = function StreetViewControl() {\n  var _this = this;\n\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  var _options = {\n    offline: false,\n    visible: true, // always visible. Only change behavior if exist or not\n    name: \"streetview\",\n    tipLabel: \"StreetView\",\n    clickmap: true, // set ClickMap\n    label: '\\uE905',\n    interactionClass: PickCoordinatesInteraction\n  };\n  /**\n   * Check Google Key\n   * */\n\n  this.key = _applicationState2.default.keys.vendorkeys.google;\n  this.keyError;\n  if (this.key) {\n    XHR.get({\n      url: GoogleStreetViewApiUrl + 'streetview?location=0,0&size=456x456&key=' + this.key\n    }).catch(function (error) {\n      return _this.keyError = error.responseText;\n    });\n  }\n  //get script script\n  $script(GoogleStreetViewApiUrl + 'js?' + (this.key ? 'key=' + this.key : ''));\n\n  /***/\n\n  this._sv = null;\n  this._panorama = null;\n  this._map = null;\n  this._projection = null;\n  this._lastposition = null;\n  this._streetViewFeature = new ol.Feature();\n  var streetVectorSource = new ol.source.Vector({ features: [] });\n  this.active = false;\n  this._layer = new ol.layer.Vector({\n    source: streetVectorSource,\n    style: function style(feature) {\n      var coordinates = feature.getGeometry().getCoordinates();\n      this._lastposition = this._lastposition ? this._lastposition : coordinates;\n      var dx = coordinates[0] - this._lastposition[0];\n      var dy = coordinates[1] - this._lastposition[1];\n      var rotation = -Math.atan2(dy, dx);\n      var styles = [new ol.style.Style({\n        text: new ol.style.Text({\n          text: '\\uE905',\n          font: 'bold 18px icomoon',\n          fill: new ol.style.Fill({\n            color: '#ffffff'\n          })\n        })\n      }), new ol.style.Style({\n        image: new ol.style.Icon({\n          src: '/static/client/images/streetviewarrow.png',\n          rotation: rotation\n        })\n      })];\n      this._lastposition = coordinates;\n      return styles;\n    }\n  });\n\n  options = utils.merge(options, _options);\n\n  InteractionControl.call(this, options);\n};\n\nol.inherits(StreetViewControl, InteractionControl);\n\nvar proto = StreetViewControl.prototype;\n\nproto.setProjection = function (projection) {\n  this._projection = projection;\n};\n\nproto.setPosition = function (position) {\n  var _this2 = this;\n\n  var self = this;\n  this.active = true;\n  var pixel = void 0;\n  if (!this._sv) this._sv = new google.maps.StreetViewService();\n  this._sv.getPanorama({ location: position }, function (data, status) {\n    self._panorama = new google.maps.StreetViewPanorama(document.getElementById('streetview'), {\n      imageDateControl: true\n    });\n    /**\n     * Listen on position change\n    */\n    self._panorama.addListener('position_changed', function () {\n      if (self.isToggled()) {\n        var lnglat = ol.proj.transform([this.getPosition().lng(), this.getPosition().lat()], 'EPSG:4326', self._projection.getCode());\n        self._streetViewFeature.setGeometry(new ol.geom.Point(lnglat));\n        pixel = self._map.getPixelFromCoordinate(lnglat);\n        if (pixel[0] + 15 > self._map.getSize()[0] || pixel[1] + 15 > self._map.getSize()[1] || pixel[0] < 15 || pixel[1] < 15) {\n          self._map.getView().setCenter(lnglat);\n        }\n      }\n    });\n    if (data && data.location) {\n      self._panorama.setPov({\n        pitch: 0,\n        heading: 0\n      });\n\n      self._panorama.setPosition(data.location.latLng);\n    }\n  }).then(function (response) {\n    if (response === undefined) {\n      _gui2.default.closeContent();\n    }\n  }).catch(function () {\n    return _this2.toggle();\n  });\n};\n\nproto.setMap = function (map) {\n  var _this3 = this;\n\n  this._map = map;\n  InteractionControl.prototype.setMap.call(this, map);\n\n  this.setProjection(this._map.getView().getProjection());\n  this._map.addLayer(this._layer);\n\n  this._interaction.on('picked', function (_ref) {\n    var coordinate = _ref.coordinate;\n\n    _this3.showStreetView(coordinate);\n    _this3._autountoggle && _this3.toggle();\n  });\n};\n\n/**\n * Method to show StreetView depending of key and keyError\n * @param coordinate\n */\nproto.showStreetView = function (coordinate) {\n  var _ol$proj$transform = ol.proj.transform(coordinate, this._map.getView().getProjection().getCode(), 'EPSG:4326'),\n      _ol$proj$transform2 = _slicedToArray(_ol$proj$transform, 2),\n      lng = _ol$proj$transform2[0],\n      lat = _ol$proj$transform2[1];\n\n  if (this.key) {\n    _gui2.default.setContent({\n      content: new StreetViewComponent({\n        keyError: this.keyError\n      }),\n      title: 'StreetView'\n    });\n    !this.keyError && this.setPosition({\n      lng: lng, lat: lat\n    });\n  } else {\n    this._streetViewFeature.setGeometry(new ol.geom.Point(coordinate));\n    window.open('https://www.google.com/maps/@?api=1&map_action=pano&viewpoint=' + lat + ',' + lng);\n  }\n};\n\nproto.clearMarker = function () {\n  this._streetViewFeature.setGeometry(null);\n};\n\nproto.clear = function () {\n  this._layer.getSource().clear();\n  this._streetViewFeature.setGeometry(null);\n  this.clearMarker();\n  this._panorama = null;\n  this.active && _gui2.default.closeContent();\n  this.active = false;\n};\n\nproto.toggle = function (toggle) {\n  InteractionControl.prototype.toggle.call(this, toggle);\n  if (!this.isToggled()) this.clear();else this._layer.getSource().addFeatures([this._streetViewFeature]);\n};\n\nmodule.exports = StreetViewControl;\n\n},{\"core/utils/ol\":66,\"core/utils/utils\":68,\"g3w-ol/controls/interactioncontrol\":83,\"g3w-ol/interactions/pickcoordinatesinteraction\":105,\"gui/streetview/vue/streetview\":182,\"services/gui\":361,\"store/application-state\":373}],97:[function(require,module,exports){\nvar _ol = require('core/utils/ol.controls');\n\nvar _ol2 = _interopRequireDefault(_ol);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nmodule.exports = _ol2.default; /**\n                                * @file\n                                * @deprecated since v3.8. Will be removed in v3.9. Use `core/utils/ol.controls` instead.\n                                */\n\n},{\"core/utils/ol.controls\":65}],98:[function(require,module,exports){\nvar InteractionControl = require('g3w-ol/controls/interactioncontrol');\n\nvar ZoomBoxControl = function ZoomBoxControl(options) {\n  this._startCoordinate = null;\n  var _options = {\n    name: \"zoombox\",\n    tipLabel: \"Zoom to box\",\n    label: \"\\uE901\",\n    interactionClass: ol.interaction.DragBox\n  };\n  options = Object.assign({}, options, _options);\n  InteractionControl.call(this, options);\n};\nol.inherits(ZoomBoxControl, InteractionControl);\nmodule.exports = ZoomBoxControl;\n\nvar proto = ZoomBoxControl.prototype;\n\nproto.setMap = function (map) {\n  var _this = this;\n\n  InteractionControl.prototype.setMap.call(this, map);\n  this._interaction.on('boxstart', function (evt) {\n    return _this._startCoordinate = evt.coordinate;\n  });\n\n  this._interaction.on('boxend', function (evt) {\n    var start_coordinate = _this._startCoordinate;\n    var end_coordinate = evt.coordinate;\n    var extent = ol.extent.boundingExtent([start_coordinate, end_coordinate]);\n    _this.dispatchEvent({\n      type: 'zoomend',\n      extent: extent\n    });\n    _this._startCoordinate = null;\n    _this._autountoggle && _this.toggle();\n  });\n};\n\n},{\"g3w-ol/controls/interactioncontrol\":83}],99:[function(require,module,exports){\nvar _MapControlZoomHistory = require(\"components/MapControlZoomHistory.vue\");\n\nvar _MapControlZoomHistory2 = _interopRequireDefault(_MapControlZoomHistory);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar Control = require('g3w-ol/controls/control');\n\nfunction ZoomHistoryControl() {\n  var vueElement = Vue.extend(_MapControlZoomHistory2.default);\n  Control.call(this, {\n    name: \"zoomhistory\",\n    tipLabel: \"sdk.mapcontrols.addlayer.tooltip\",\n    element: new vueElement().$mount().$el\n  });\n}\n\nol.inherits(ZoomHistoryControl, Control);\n\nvar proto = ZoomHistoryControl.prototype;\n\nproto.setMap = function (map) {\n  Control.prototype.setMap.call(this, map);\n};\n\nproto.layout = function (map) {\n  Control.prototype.layout.call(this, map);\n};\n\nmodule.exports = ZoomHistoryControl;\n\n},{\"components/MapControlZoomHistory.vue\":256,\"g3w-ol/controls/control\":79}],100:[function(require,module,exports){\nvar utils = require('core/utils/ol');\nvar maphelpers = require('g3w-ol/map/maphelpers');\n\nvar helpers = utils.merge({}, maphelpers);\n\nmodule.exports = {\n  helpers: helpers\n};\n\n},{\"core/utils/ol\":66,\"g3w-ol/map/maphelpers\":109}],101:[function(require,module,exports){\nvar MeasureInteraction = require('g3w-ol/interactions/measureinteraction');\n\n// Area\nvar AreaIteraction = function AreaIteraction() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  options.geometryType = \"Polygon\";\n  MeasureInteraction.call(this, options);\n};\n\nol.inherits(AreaIteraction, MeasureInteraction);\n\nmodule.exports = AreaIteraction;\n\n},{\"g3w-ol/interactions/measureinteraction\":104}],102:[function(require,module,exports){\nvar DeleteInteractionEvent = function DeleteInteractionEvent(type, layer, features, coordinate) {\n  this.type = type;\n  this.features = features;\n  this.coordinate = coordinate;\n};\n\nvar DeleteInteraction = function DeleteInteraction(options) {\n  ol.interaction.Pointer.call(this, {\n    handleDownEvent: DeleteInteraction.handleDownEvent_,\n    handleMoveEvent: DeleteInteraction.handleMoveEvent_,\n    handleUpEvent: DeleteInteraction.handleUpEvent_,\n    handleEvent: DeleteInteraction.handleEvent_\n  });\n\n  this.previousCursor_ = undefined;\n  this.startCursor_ = undefined;\n  this.lastCoordinate_ = null;\n  this.features_ = options.features !== undefined ? options.features : null;\n  this.layer_ = options.layer !== undefined ? options.layer : null;\n  this.map_ = null;\n};\n\nol.inherits(DeleteInteraction, ol.interaction.Pointer);\n\nDeleteInteraction.handleEvent_ = function (mapBrowserEvent) {\n  if (mapBrowserEvent.type == 'keydown') {\n    if (this.features_.getArray().length && mapBrowserEvent.originalEvent.keyCode == 46) {\n      // an event can be string or an object with attribute type\n      this.dispatchEvent(new DeleteInteractionEvent('deleteend', this.layer_, this.features_, event.coordinate));\n      return true;\n    }\n  } else {\n    return ol.interaction.Pointer.handleEvent.call(this, mapBrowserEvent);\n  }\n};\n\nDeleteInteraction.handleDownEvent_ = function (event) {\n  this.lastFeature_ = this.featuresAtPixel_(event.pixel, event.map);\n  if (this.lastFeature_) {\n    DeleteInteraction.handleMoveEvent_.call(this, event);\n    this.dispatchEvent(new DeleteInteractionEvent('deleteend', this.layer_, this.features_, event.coordinate));\n    return true;\n  }\n  return false;\n};\n\nDeleteInteraction.handleMoveEvent_ = function (event) {\n  var _this = this;\n\n  this.map_ = event.map;\n  var elem = this.map_.getTargetElement();\n  if (this.startCursor_ === undefined) {\n    this.startCursor_ = elem.style.cursor;\n  }\n  var intersectingFeature = this.map_.forEachFeatureAtPixel(event.pixel, function (feature, layer) {\n    ///check if is the same layero of editing\n    feature = layer == _this.layer_ ? feature : null;\n    return feature;\n  });\n  if (intersectingFeature) {\n    this.previousCursor_ = elem.style.cursor;\n    elem.style.cursor = 'pointer';\n  } else {\n    elem.style.cursor = this.previousCursor_ !== undefined ? this.previousCursor_ : '';\n    this.previousCursor_ = undefined;\n  }\n};\n\nDeleteInteraction.prototype.featuresAtPixel_ = function (pixel, map) {\n  var found = null;\n  var intersectingFeature = map.forEachFeatureAtPixel(pixel, function (feature) {\n    return feature;\n  });\n  if (this.features_ && _.includes(this.features_.getArray(), intersectingFeature)) {\n    found = intersectingFeature;\n  }\n  return found;\n};\n\nDeleteInteraction.prototype.clear = function () {\n  var elem = void 0;\n  if (this.map_) {\n    elem = this.map_.getTargetElement();\n    elem.style.cursor = this.startCursor_;\n  }\n};\n\nmodule.exports = DeleteInteraction;\n\n},{}],103:[function(require,module,exports){\nvar MeasureInteraction = require('g3w-ol/interactions/measureinteraction');\n\n// LenghtInteracion\nvar LengthIteraction = function LengthIteraction() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  options.geometryType = \"LineString\";\n  MeasureInteraction.call(this, options);\n};\n\nol.inherits(LengthIteraction, MeasureInteraction);\n\nmodule.exports = LengthIteraction;\n\n},{\"g3w-ol/interactions/measureinteraction\":104}],104:[function(require,module,exports){\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _require = require('core/i18n/i18n.service'),\n    t = _require.t;\n\nvar _require2 = require('core/utils/ol'),\n    createMeasureTooltip = _require2.createMeasureTooltip,\n    setMeasureTooltipStatic = _require2.setMeasureTooltipStatic,\n    removeMeasureTooltip = _require2.removeMeasureTooltip,\n    needUseSphereMethods = _require2.needUseSphereMethods;\n\nvar MeasureIteraction = function MeasureIteraction() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  this._helpTooltip;\n  this._measureTooltipElement;\n  this._measureTooltip;\n  this._featureGeometryChangelistener;\n  this._poinOnMapMoveListener;\n  this.testTooltip;\n  this._helpMsg = options.help;\n  this._projection = options.projection;\n  this.feature = options.feature;\n  var drawColor = options.drawColor || 'rgba(0, 0, 0, 0.5)';\n  var useSphereMethods = needUseSphereMethods(this._projection);\n  var measureStyle = new ol.style.Style({\n    fill: new ol.style.Fill({\n      color: 'rgba(255, 255, 255, 0.2)'\n    }),\n    stroke: new ol.style.Stroke({\n      color: drawColor,\n      lineDash: [10, 10],\n      width: 3\n    }),\n    image: new ol.style.Circle({\n      radius: 5,\n      stroke: new ol.style.Stroke({\n        color: 'rgba(0, 0, 0, 0.7)'\n      }),\n      fill: new ol.style.Fill({\n        color: 'rgba(255, 255, 255, 0.2)'\n      })\n    })\n  });\n  var geometryType = options.geometryType || 'LineString';\n  var source = new ol.source.Vector();\n  this._helpTooltipElement;\n  this._map = null;\n  this._feature = null;\n  this._layer = new ol.layer.Vector({\n    source: source,\n    style: function style() {\n      var styles = [\n      // linestring\n      new ol.style.Style({\n        stroke: new ol.style.Stroke({\n          lineDash: [10, 10],\n          width: 3\n        }),\n        fill: new ol.style.Fill({\n          color: 'rgba(255, 255, 255, 0.2)'\n        })\n      })];\n      return styles;\n    }\n  });\n\n  ol.interaction.Draw.call(this, {\n    source: source,\n    type: geometryType,\n    style: measureStyle\n  });\n  this.set('beforeRemove', this.clear);\n  this.set('layer', this._layer);\n  // register event on two action\n  this.on('drawstart', this._drawStart);\n  this.on('drawend', this._drawEnd);\n};\n\nol.inherits(MeasureIteraction, ol.interaction.Draw);\n\nvar proto = MeasureIteraction.prototype;\n\nproto.setDrawMessage = function (message) {\n  this._helpMsg = message;\n};\n\nproto.clear = function () {\n  this._layer.getSource().clear();\n  this._clearMessagesAndListeners();\n  if (this._map) {\n    removeMeasureTooltip(_extends({\n      map: this._map\n    }, this.measureTooltip));\n    this.measureTooltip = null;\n    this._map.removeLayer(this._layer);\n  }\n};\n\nproto._clearMessagesAndListeners = function () {\n  this._feature = null;\n  // unset tooltip so that a new one can be created\n  if (this._map) {\n    this._measureTooltipElement = null;\n    this._helpTooltipElement.innerHTML = '';\n    this._helpTooltipElement.classList.add('hidden');\n    ol.Observable.unByKey(this._featureGeometryChangelistener);\n    ol.Observable.unByKey(this._poinOnMapMoveListener);\n    $(document).off('keydown', this._keyDownEventHandler);\n  }\n};\n\nproto._removeLastPoint = function (event) {\n  var geom = this._feature.getGeometry();\n  if (event.keyCode === 46) {\n    if (geom instanceof ol.geom.Polygon && geom.getCoordinates()[0].length > 2) {\n      this.removeLastPoint();\n    } else if (geom instanceof ol.geom.LineString && geom.getCoordinates().length > 1) {\n      this.removeLastPoint();\n    }\n  }\n};\n\n//drawStart function\nproto._drawStart = function (evt) {\n  var _this = this;\n\n  this._map = this.getMap();\n  this._map.removeLayer(this._layer);\n  this._feature = evt.feature;\n  this.feature && this._feature.setGeometry(this.feature.getGeometry());\n  this._keyDownEventHandler = this._removeLastPoint.bind(this);\n  $(document).on('keydown', this._keyDownEventHandler);\n  this._layer.getSource().clear();\n  this._poinOnMapMoveListener = this._map.on('pointermove', function (evt) {\n    if (evt.dragging) return;\n    if (_this._feature && _this._helpMsg) {\n      var helpMsg = t(_this._helpMsg);\n      _this._helpTooltipElement.innerHTML = helpMsg;\n      _this._helpTooltip.setPosition(evt.coordinate);\n      _this._helpTooltipElement.classList.remove('hidden');\n    }\n  });\n  this._createHelpTooltip();\n  this._createMeasureTooltip();\n};\n\nproto._drawEnd = function () {\n  var tooltip = this.measureTooltip.tooltip;\n\n  setMeasureTooltipStatic(tooltip);\n  this._clearMessagesAndListeners();\n  this._map.addLayer(this._layer);\n};\n\n/**\n * Creates a new help tooltip\n */\nproto._createHelpTooltip = function () {\n  this._helpTooltipElement && this._helpTooltipElement.parentNode.removeChild(this._helpTooltipElement);\n  this._helpTooltip && this._map.removeOverlay(this._helpTooltip);\n  this._helpTooltipElement = document.createElement('div');\n  this._helpTooltipElement.className = 'mtooltip hidden';\n  this._helpTooltip = new ol.Overlay({\n    element: this._helpTooltipElement,\n    offset: [15, 0],\n    positioning: 'center-left'\n  });\n  this._map.addOverlay(this._helpTooltip);\n};\n\n/**\n * Creates a new measure tooltip\n */\nproto._createMeasureTooltip = function () {\n  this.measureTooltip && removeMeasureTooltip(_extends({}, this.measureTooltip, {\n    map: this._map\n  }));\n  this.measureTooltip = createMeasureTooltip({\n    map: this._map,\n    feature: this._feature\n  });\n};\n// END MEASURE CONTROLS //\n\nmodule.exports = MeasureIteraction;\n\n},{\"core/i18n/i18n.service\":13,\"core/utils/ol\":66}],105:[function(require,module,exports){\nvar PickCoordinatesEventType = {\n  PICKED: 'picked'\n};\n\nvar PickCoordinatesEvent = function PickCoordinatesEvent(type, coordinate) {\n  this.type = type;\n  this.coordinate = coordinate;\n};\n\nvar PickCoordinatesInteraction = function PickCoordinatesInteraction(options) {\n  this.previousCursor_ = null;\n  this._centerMap = null;\n\n  ol.interaction.Pointer.call(this, {\n    handleDownEvent: PickCoordinatesInteraction.handleDownEvent_,\n    handleUpEvent: PickCoordinatesInteraction.handleUpEvent_,\n    handleMoveEvent: PickCoordinatesInteraction.handleMoveEvent_\n  });\n};\n\nol.inherits(PickCoordinatesInteraction, ol.interaction.Pointer);\n\nPickCoordinatesInteraction.handleDownEvent_ = function (event) {\n  var _this = this;\n\n  this._centerMap = event.map.getView().getCenter();\n  // set timeout to avoid to block pan\n  setTimeout(function () {\n    if (_this._centerMap === event.map.getView().getCenter()) {\n      PickCoordinatesInteraction.handleUpEvent_.call(_this, event);\n    }\n  }, 300);\n  // return false to avoid  start of drag event\n  return false;\n};\n\nPickCoordinatesInteraction.handleUpEvent_ = function (event) {\n  this.dispatchEvent(new PickCoordinatesEvent(PickCoordinatesEventType.PICKED, event.coordinate));\n  // it used to stop drag event\n  return false;\n};\n\nPickCoordinatesInteraction.handleMoveEvent_ = function (event) {\n  var elem = event.map.getTargetElement();\n  elem.style.cursor = 'pointer';\n  return true;\n};\n\nPickCoordinatesInteraction.prototype.shouldStopEvent = function () {\n  return false;\n};\n\nPickCoordinatesInteraction.prototype.setActive = function (active) {\n  var map = this.getMap();\n  if (map) {\n    var elem = map.getTargetElement();\n    elem.style.cursor = '';\n  }\n  ol.interaction.Pointer.prototype.setActive.call(this, active);\n};\n\nPickCoordinatesInteraction.prototype.setMap = function (map) {\n  if (!map) {\n    var elem = this.getMap().getTargetElement();\n    elem.style.cursor = '';\n  }\n  ol.interaction.Pointer.prototype.setMap.call(this, map);\n};\n\nmodule.exports = PickCoordinatesInteraction;\n\n},{}],106:[function(require,module,exports){\nvar PickFeatureEventType = {\n  PICKED: 'picked'\n};\n\nvar PickFeatureEvent = function PickFeatureEvent(type, coordinate, layer, feature) {\n  this.type = type;\n  this.feature = feature;\n  this.coordinate = coordinate;\n  this.layer = layer;\n};\n\nvar PickFeatureInteraction = function PickFeatureInteraction() {\n  var _this = this;\n\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  ol.interaction.Pointer.call(this, {\n    handleDownEvent: PickFeatureInteraction.handleDownEvent_,\n    handleUpEvent: PickFeatureInteraction.handleUpEvent_,\n    handleMoveEvent: PickFeatureInteraction.handleMoveEvent_\n  });\n  var features = options.features;\n\n  this.features_ = Array.isArray(features) && features.length && features || null;\n  this.layers_ = options.layers || null;\n  this.pickedFeature_ = null;\n  this.pickedLayer_ = null;\n  this.layerFilter_ = function (layer) {\n    var include = _.includes(_this.layers_, layer);\n    _this.pickedLayer_ = include && layer;\n    return include;\n  };\n};\nol.inherits(PickFeatureInteraction, ol.interaction.Pointer);\n\nPickFeatureInteraction.handleDownEvent_ = function (event) {\n  this.pickedFeature_ = this.featuresAtPixel_(event.pixel, event.map);\n  return this.pickedFeature_;\n};\n\nPickFeatureInteraction.handleUpEvent_ = function (event) {\n  if (this.pickedFeature_) {\n    this.dispatchEvent(new PickFeatureEvent(PickFeatureEventType.PICKED, event.coordinate, this.pickedLayer_, this.pickedFeature_));\n  }\n  return true;\n};\n\nPickFeatureInteraction.handleMoveEvent_ = function (event) {\n  var elem = event.map.getTargetElement();\n  var intersectingFeature = this.featuresAtPixel_(event.pixel, event.map);\n  elem.style.cursor = intersectingFeature ? 'pointer' : '';\n};\n\nPickFeatureInteraction.prototype.featuresAtPixel_ = function (pixel, map) {\n  var _this2 = this;\n\n  var featureFound = null;\n  var intersectingFeature = map.forEachFeatureAtPixel(pixel, function (feature) {\n    if (_this2.features_) {\n      if (_this2.features_.indexOf(feature) > -1) return feature;else return null;\n    }\n    return feature;\n  }, {\n    layerFilter: this.layerFilter_,\n    hitTolerance: isMobile && isMobile.any ? 10 : 0\n  });\n  if (intersectingFeature) featureFound = intersectingFeature;\n  return featureFound;\n};\n\nPickFeatureInteraction.prototype.shouldStopEvent = function () {\n  return false;\n};\n\nPickFeatureInteraction.prototype.setMap = function (map) {\n  if (!map) {\n    var elem = this.getMap().getTargetElement();\n    elem.style.cursor = '';\n  }\n  ol.interaction.Pointer.prototype.setMap.call(this, map);\n};\n\nmodule.exports = PickFeatureInteraction;\n\n},{}],107:[function(require,module,exports){\nvar RasterLayers = require('g3w-ol/layers/rasters');\nvar BaseLayers = {};\n\nBaseLayers.OSM = {};\n\nBaseLayers.OSM.get = function () {\n  var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      title = _ref.title,\n      id = _ref.id,\n      url = _ref.url;\n\n  return new ol.layer.Tile({\n    source: new ol.source.OSM({\n      url: url\n    }),\n    id: id || 'osm',\n    title: title || 'OSM',\n    basemap: true\n  });\n};\n\nBaseLayers.TMS = {\n  get: function get() {\n    var _ref2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        _ref2$visible = _ref2.visible,\n        visible = _ref2$visible === undefined ? false : _ref2$visible,\n        _ref2$url = _ref2.url,\n        url = _ref2$url === undefined ? null : _ref2$url,\n        _ref2$source_type = _ref2.source_type,\n        source_type = _ref2$source_type === undefined ? \"xyz\" : _ref2$source_type,\n        minZoom = _ref2.minZoom,\n        maxZoom = _ref2.maxZoom,\n        projection = _ref2.projection,\n        attributions = _ref2.attributions,\n        _ref2$crossOrigin = _ref2.crossOrigin,\n        crossOrigin = _ref2$crossOrigin === undefined ? 'anonymous' : _ref2$crossOrigin;\n\n    var layer = void 0;\n    switch (source_type) {\n      case 'xyz':\n        layer = RasterLayers.XYZLayer({\n          url: url,\n          visible: visible,\n          minZoom: minZoom,\n          maxZoom: maxZoom,\n          attributions: attributions,\n          projection: projection,\n          crossOrigin: crossOrigin\n        });\n        break;\n      case 'arcgismapserver':\n        layer = RasterLayers.TiledArgisMapServer({\n          url: url,\n          visible: visible,\n          projection: projection,\n          attributions: attributions\n        });\n        break;\n      default:\n    }\n    return layer;\n  }\n};\n\nBaseLayers.WMS = {\n  get: function get(_ref3) {\n    var url = _ref3.url,\n        projection = _ref3.projection,\n        attributions = _ref3.attributions,\n        layers = _ref3.layers,\n        _ref3$singleTile = _ref3.singleTile,\n        singleTile = _ref3$singleTile === undefined ? false : _ref3$singleTile,\n        _ref3$opacity = _ref3.opacity,\n        opacity = _ref3$opacity === undefined ? 1 : _ref3$opacity;\n\n    return RasterLayers.WMSLayer({\n      url: url,\n      projection: projection,\n      attributions: attributions,\n      layers: layers,\n      tiled: singleTile,\n      opacity: opacity\n    });\n  }\n};\n\nBaseLayers.WMTS = {\n  get: function get() {\n    var _ref4 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        url = _ref4.url,\n        layer = _ref4.layer,\n        visible = _ref4.visible,\n        attributions = _ref4.attributions,\n        matrixSet = _ref4.matrixSet,\n        projection = _ref4.projection,\n        requestEncoding = _ref4.requestEncoding,\n        _ref4$style = _ref4.style,\n        style = _ref4$style === undefined ? 'default' : _ref4$style,\n        _ref4$format = _ref4.format,\n        format = _ref4$format === undefined ? 'image/png' : _ref4$format,\n        _ref4$opacity = _ref4.opacity,\n        opacity = _ref4$opacity === undefined ? 0.7 : _ref4$opacity;\n\n    var projectionExtent = projection.getExtent();\n    var resolutions = new Array(14);\n    var size = ol.extent.getWidth(projectionExtent) / 256;\n    var matrixIds = new Array(14);\n    for (var z = 0; z < 14; ++z) {\n      // generate resolutions and matrixIds arrays for this WMTS\n      resolutions[z] = size / Math.pow(2, z);\n      matrixIds[z] = z;\n    }\n    return new ol.layer.Tile({\n      opacity: opacity,\n      source: new ol.source.WMTS({\n        url: url,\n        projection: projection,\n        layer: layer,\n        matrixSet: matrixSet,\n        requestEncoding: requestEncoding,\n        format: format,\n        attributions: attributions,\n        tileGrid: new ol.tilegrid.WMTS({\n          origin: ol.extent.getTopLeft(projectionExtent),\n          resolutions: resolutions,\n          matrixIds: matrixIds\n        }),\n        style: style\n      })\n    });\n  }\n};\n\nBaseLayers.BING = {};\n\nBaseLayers.BING.get = function () {\n  var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  var imagerySet = config.imagerySet || 'Aerial'; // 'Road', 'AerialWithLabels', 'Aerial'\n  return new ol.layer.Tile({\n    name: imagerySet,\n    visible: false,\n    preload: Infinity,\n    source: new ol.source.BingMaps({\n      imagerySet: imagerySet,\n      key: config.key\n    }),\n    basemap: true\n  });\n};\n\nmodule.exports = BaseLayers;\n\n},{\"g3w-ol/layers/rasters\":108}],108:[function(require,module,exports){\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar DPI = require('core/utils/ol').getDPI();\n\nvar RasterLayers = {};\n\nvar loadImageTileFunction = function loadImageTileFunction(_ref) {\n  var _ref$method = _ref.method,\n      method = _ref$method === undefined ? 'GET' : _ref$method,\n      _ref$type = _ref.type,\n      type = _ref$type === undefined ? 'image' : _ref$type,\n      _ref$sourceOptions = _ref.sourceOptions,\n      sourceOptions = _ref$sourceOptions === undefined ? {} : _ref$sourceOptions;\n\n  window.URL = window.URL || window.webkitURL;\n  sourceOptions[type + 'LoadFunction'] = function (imageTile, url) {\n    var xhr = new XMLHttpRequest();\n\n    var _url$split = url.split('?'),\n        _url$split2 = _slicedToArray(_url$split, 2),\n        _url = _url$split2[0],\n        params = _url$split2[1];\n\n    xhr.open(method, method === 'POST' && _url || url);\n    xhr.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded; charset=UTF-8');\n    xhr.responseType = 'blob';\n    xhr.onload = function () {\n      var data = this.response;\n      if (data !== undefined) imageTile.getImage().src = window.URL.createObjectURL(data);else imageTile.setState(ol.TileState.ERROR);\n    };\n    xhr.onerror = function () {\n      image.setState(ol.TileState.ERROR);\n    };\n    xhr.send(method === 'POST' && params);\n  };\n};\n\nRasterLayers.TiledWMSLayer = function (layerObj, extraParams) {\n  var options = {\n    layerObj: layerObj,\n    extraParams: extraParams || {},\n    tiled: true\n  };\n  return RasterLayers._WMSLayer(options);\n};\n\nRasterLayers.WMSLayer = function (layerObj) {\n  var extraParams = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var method = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 'GET';\n\n  var options = {\n    layerObj: layerObj,\n    extraParams: extraParams,\n    method: method\n  };\n  return RasterLayers._WMSLayer(options);\n};\n\nRasterLayers.WMTSLayer = function (layerObj, extraParams) {\n  var optionsFromCapabilities = ol.source.WMTS.optionsFromCapabilities;\n  return new ol.layer.Tile({\n    opacity: 1,\n    source: new ol.source.WMTS(options)\n  });\n};\n\nRasterLayers.ImageArgisMapServer = function () {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  return new ol.layer.Image({\n    source: new ol.source.ImageArcGISRest({\n      ratio: options.ratio,\n      params: {\n        FORMAT: options.format\n      },\n      url: options.url\n    })\n  });\n};\n\nRasterLayers.TiledArgisMapServer = function () {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var url = options.url,\n      _options$visible = options.visible,\n      visible = _options$visible === undefined ? true : _options$visible,\n      extent = options.extent,\n      projection = options.projection,\n      attributions = options.attributions,\n      crossOrigin = options.crossOrigin;\n\n  var source = new ol.source.TileArcGISRest({\n    url: url,\n    projection: projection,\n    attributions: attributions,\n    crossOrigin: crossOrigin\n  });\n  return new ol.layer.Tile({\n    extent: extent,\n    visible: visible,\n    source: source\n  });\n};\n\nRasterLayers._WMSLayer = function () {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var layerObj = options.layerObj,\n      _options$method = options.method,\n      method = _options$method === undefined ? 'GET' : _options$method,\n      extraParams = options.extraParams,\n      _options$tiled = options.tiled,\n      tiled = _options$tiled === undefined ? false : _options$tiled;\n  var _layerObj$iframe_inte = layerObj.iframe_internal,\n      iframe_internal = _layerObj$iframe_inte === undefined ? false : _layerObj$iframe_inte,\n      _layerObj$layers = layerObj.layers,\n      layers = _layerObj$layers === undefined ? '' : _layerObj$layers,\n      _layerObj$version = layerObj.version,\n      version = _layerObj$version === undefined ? '1.3.0' : _layerObj$version,\n      _layerObj$sld_version = layerObj.sld_version,\n      sld_version = _layerObj$sld_version === undefined ? '1.1.0' : _layerObj$sld_version,\n      id = layerObj.id,\n      name = layerObj.name,\n      _layerObj$opacity = layerObj.opacity,\n      opacity = _layerObj$opacity === undefined ? 1.0 : _layerObj$opacity,\n      visible = layerObj.visible,\n      extent = layerObj.extent,\n      maxResolution = layerObj.maxResolution,\n      format = layerObj.format;\n\n\n  var params = {\n    LAYERS: layers,\n    VERSION: version,\n    TRANSPARENT: true,\n    SLD_VERSION: sld_version,\n    DPI: DPI\n  };\n\n  /**\n   * Check if not undefined otherwise FORMAT parameter is not send\n   * \n   * @since 3.7.11\n   */\n  if (\"undefined\" !== typeof format) {\n    params.FORMAT = format;\n  }\n\n  var sourceOptions = {\n    url: layerObj.url,\n    params: Object.assign({}, params, extraParams),\n    ratio: 1,\n    projection: layerObj.projection ? layerObj.projection.getCode() : null\n  };\n\n  if (iframe_internal || 'POST' === method) {\n    loadImageTileFunction({ method: method, sourceOptions: sourceOptions, type: 'image' });\n  }\n\n  var imageOptions = {\n    id: id,\n    name: name,\n    opacity: opacity,\n    visible: visible,\n    extent: extent,\n    maxResolution: maxResolution\n  };\n\n  if (tiled) {\n    imageOptions.source = new ol.source.TileWMS(sourceOptions);\n    return new ol.layer.Tile(imageOptions);\n  }\n\n  imageOptions.source = new ol.source.ImageWMS(sourceOptions);\n  return new ol.layer.Image(imageOptions);\n};\n\nRasterLayers.XYZLayer = function () {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var method = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'GET';\n\n  var iframe_internal = options.iframe_internal || false;\n  var url = options.url,\n      projection = options.projection,\n      maxZoom = options.maxZoom,\n      minZoom = options.minZoom,\n      _options$visible2 = options.visible,\n      visible = _options$visible2 === undefined ? true : _options$visible2,\n      crossOrigin = options.crossOrigin;\n\n  if (!url) return;\n  var sourceOptions = {\n    url: url,\n    maxZoom: maxZoom,\n    minZoom: minZoom,\n    projection: projection,\n    crossOrigin: crossOrigin\n  };\n  if (iframe_internal) loadImageTileFunction({\n    method: method,\n    type: 'tile',\n    sourceOptions: sourceOptions\n  });\n\n  if (projection.getUnits() === 'degrees') {\n    var extent = projection.getExtent();\n    var resolutions = ol.tilegrid.createXYZ({ extent: extent, maxZoom: maxZoom }).getResolutions();\n    // needed to remove the first resolutis because in this version of ol createXYZ doesn't  accept maxResolution options .\n    // The extent of EPSG:4326 is not squared [-180, -90, 180, 90] as EPSG:3857 so the resolution is calculate by Math.max(width(extent)/tileSize,Height(extent)/tileSize)\n    // we need to calculate to Math.min instead so we have to remove the first resolution\n    resolutions.splice(0, 1);\n    //////////////////////////////////////////\n    sourceOptions.tileGrid = new ol.tilegrid.TileGrid({\n      extent: extent,\n      resolutions: resolutions\n    });\n  }\n\n  var source = new ol.source.XYZ(sourceOptions);\n  return new ol.layer.Tile({\n    visible: visible,\n    projection: projection,\n    source: source\n  });\n};\n\nmodule.exports = RasterLayers;\n\n},{\"core/utils/ol\":66}],109:[function(require,module,exports){\nvar BaseLayers = require('../layers/bases');\n\nvar MapHelpers = {\n  createViewer: function createViewer() {\n    var opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    return new _Viewer(opts);\n  }\n};\n\nvar _Viewer = function _Viewer() {\n  var opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  var controls = ol.control.defaults({\n    attribution: false,\n    zoom: false\n  });\n\n  var interactions = ol.interaction.defaults().extend([new ol.interaction.DragRotate()]);\n  interactions.removeAt(1); // remove douclickzoom\n  var view = opts.view instanceof ol.View ? opts.view : new ol.View(opts.view);\n  var options = {\n    controls: controls,\n    interactions: interactions,\n    ol3Logo: false,\n    view: view,\n    keyboardEventTarget: document\n  };\n  options.target = opts.id;\n  var map = new ol.Map(options);\n  this.map = map;\n};\n\n_Viewer.prototype.destroy = function () {\n  if (this.map) {\n    this.map.dispose();\n    this.map = null;\n  }\n};\n\n_Viewer.prototype.getView = function () {\n  return this.map.getView();\n};\n\n_Viewer.prototype.updateMap = function (mapObject) {};\n\n_Viewer.prototype.updateView = function () {};\n\n_Viewer.prototype.getMap = function () {\n  return this.map;\n};\n\n_Viewer.prototype.setTarget = function (id) {\n  this.map.setTarget(id);\n};\n\n_Viewer.prototype.zoomTo = function (coordinate, zoom) {\n  var view = this.map.getView();\n  view.setCenter(coordinate);\n  view.setZoom(zoom);\n};\n\n_Viewer.prototype.goTo = function (coordinates, options) {\n  options = options || {};\n  var animate = options.animate || true;\n  var zoom = options.zoom || false;\n  var view = this.map.getView();\n  var panAnimation = void 0;\n  var duration = 300;\n  var zoomAnimation = void 0;\n  if (animate) {\n    panAnimation = {\n      duration: duration,\n      center: coordinates\n    };\n    if (zoom) {\n      zoomAnimation = {\n        duration: duration,\n        zoom: zoom\n      };\n    } else {\n      zoomAnimation = {\n        duration: duration,\n        resolution: view.getResolution()\n      };\n    }\n    view.animate(panAnimation, zoomAnimation);\n  } else {\n    view.setCenter(coordinates);\n    if (zoom) {\n      view.setZoom(zoom);\n    }\n  }\n};\n\n_Viewer.prototype.goToRes = function (coordinates, options) {\n  options = options || {};\n  var animate = options.animate || true;\n  var view = this.map.getView();\n  var resolution = options.resolution || view.getResolution();\n  var panAnimation = void 0;\n  var zoomAnimation = void 0;\n  if (animate) {\n    panAnimation = {\n      duration: 200,\n      center: coordinates\n    };\n    zoomAnimation = {\n      duration: 200,\n      resolution: resolution\n    };\n    view.animate(panAnimation, zoomAnimation);\n  } else {\n    view.setCenter(coordinates);\n    view.setResolution(resolution);\n  }\n};\n\n_Viewer.prototype.fit = function (geometry) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  var view = this.map.getView();\n  var animate = options.animate || true;\n  var panAnimation = void 0;\n  var zoomAnimation = void 0;\n  var duration = 200;\n  if (animate) {\n    panAnimation = view.animate({\n      duration: duration,\n      center: view.getCenter()\n    });\n    zoomAnimation = view.animate({\n      duration: duration,\n      resolution: view.getResolution()\n    });\n  }\n\n  if (options.animate) {\n    delete options.animate; // non lo passo al metodo di OL3 perché è un'opzione interna\n  }\n  options.constrainResolution = options.constrainResolution === undefined && true || options.constrainResolution;\n  options.size = this.map.getSize();\n  view.fit(geometry, options);\n};\n\n_Viewer.prototype.getZoom = function () {\n  var view = this.map.getView();\n  return view.getZoom();\n};\n\n_Viewer.prototype.getResolution = function () {\n  var view = this.map.getView();\n  return view.getResolution();\n};\n\n_Viewer.prototype.getCenter = function () {\n  var view = this.map.getView();\n  return view.getCenter();\n};\n\n_Viewer.prototype.getBBOX = function () {\n  return this.map.getView().calculateExtent(this.map.getSize());\n};\n\n_Viewer.prototype.getLayerByName = function (layerName) {\n  var layers = this.map.getLayers();\n  var length = layers.getLength();\n  for (var i = 0; i < length; i++) {\n    if (layerName === layers.item(i).get('name')) {\n      return layers.item(i);\n    }\n  }\n  return null;\n};\n\n_Viewer.prototype.removeLayerByName = function (layerName) {\n  var layer = this.getLayerByName(layerName);\n  if (layer) {\n    this.map.removeLayer(layer);\n    layer = undefined;\n  }\n};\n\n_Viewer.prototype.getActiveLayers = function () {\n  var activelayers = [];\n  this.map.getLayers().forEach(function (layer) {\n    var props = layer.getProperties();\n    if (props.basemap !== true && props.visible) {\n      activelayers.push(layer);\n    }\n  });\n\n  return activelayers;\n};\n\n_Viewer.prototype.removeLayers = function () {\n  this.map.getLayers().clear();\n};\n\n_Viewer.prototype.getLayersNoBase = function () {\n  var layers = [];\n  this.map.getLayers().forEach(function (layer) {\n    var props = layer.getProperties();\n    if (props.basemap != true) {\n      layers.push(layer);\n    }\n  });\n\n  return layers;\n};\n\n_Viewer.prototype.addBaseLayer = function (type) {\n  var layer = void 0;\n  type ? layer = BaseLayers[type] : layer = BaseLayers.BING.Aerial;\n  this.map.addLayer(layer);\n};\n\n_Viewer.prototype.changeBaseLayer = function (layerName) {\n  var baseLayer = this.getLayerByName(layername);\n  var layers = this.map.getLayers();\n  layers.insertAt(0, baseLayer);\n};\n\nmodule.exports = MapHelpers;\n\n},{\"../layers/bases\":107}],110:[function(require,module,exports){\nvar Projection = function Projection() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  if (!options.crs) return null;\n  // structure of information crs from server set on each layer and base layer\n  var _options$crs = options.crs,\n      epsg = _options$crs.epsg,\n      proj4def = _options$crs.proj4,\n      _options$crs$geograph = _options$crs.geographic,\n      geographic = _options$crs$geograph === undefined ? false : _options$crs$geograph,\n      _options$crs$axisinve = _options$crs.axisinverted,\n      axisinverted = _options$crs$axisinve === undefined ? false : _options$crs$axisinve,\n      extent = _options$crs.extent;\n\n  proj4def && proj4.defs(epsg, proj4def);\n  this._axisOrientation = axisinverted ? 'neu' : 'enu';\n  var degrees = geographic;\n  ol.proj.Projection.call(this, {\n    code: epsg,\n    extent: extent,\n    axisOrientation: this._axisOrientation,\n    units: degrees ? 'degrees' : 'm'\n  });\n};\n\nol.inherits(Projection, ol.proj.Projection);\n\nvar proto = Projection.prototype;\n\nproto.getAxisOrientation = function () {\n  return this._axisOrientation;\n};\n\nproto.isInvertedAxisOrientation = function () {\n  return this._axisOrientation === 'neu';\n};\n\nproto.getOlProjection = function () {};\n\nmodule.exports = Projection;\n\n},{}],111:[function(require,module,exports){\nvar _constant = require('constant');\n\nvar Projection = require('./projection');\n\nvar _require = require('core/utils/utils'),\n    XHR = _require.XHR;\n\nvar _require2 = require('core/utils/geo'),\n    normalizeEpsg = _require2.normalizeEpsg;\n\nvar Projections = {\n\n  /**\n   * @since v3.8\n   */\n  isRegistered: function isRegistered(epsg) {\n    return ol.proj.get(epsg);\n  },\n  get: function get() {\n    var crs = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    var cachedProjection = this.isRegistered(crs.epsg);\n    if (cachedProjection) return cachedProjection;\n    var projection = new Projection({\n      crs: crs\n    });\n    ol.proj.addProjection(projection);\n    ol.proj.proj4.register(proj4);\n    return projection;\n  },\n\n\n  /**\n   * Check and register epsg\n   * \n   * @param epsg : \"EPSG:<CODE>\" Ex. \"EPSG:4326\"\n   * @returns {Promise<Projection>}\n   * @since v3.8\n   */\n  registerProjection: function registerProjection(epsg) {\n    var _this = this;\n\n    return new Promise(function (resolve, reject) {\n      var projection = _this.isRegistered(epsg);\n      // check if already register\n      if (projection) resolve(projection);else {\n        XHR.get({ url: '' + _constant.API_BASE_URLS.CRS + epsg.split(':')[1] }).then(function (_ref) {\n          var result = _ref.result,\n              data = _ref.data;\n\n          if (result) {\n            data.epsg = normalizeEpsg(data.epsg);\n            projection = _this.get(data);\n            ol.proj.proj4.register(proj4);\n            resolve(projection);\n          }\n        }).catch(function (err) {\n          return reject(err);\n        });\n      }\n    });\n  }\n};\n\nmodule.exports = Projections;\n\n},{\"./projection\":110,\"constant\":4,\"core/utils/geo\":64,\"core/utils/utils\":68}],112:[function(require,module,exports){\nvar _catalogLayers = require('store/catalog-layers');\n\nvar _catalogLayers2 = _interopRequireDefault(_catalogLayers);\n\nvar _projects = require('store/projects');\n\nvar _projects2 = _interopRequireDefault(_projects);\n\nvar _application = require('services/application');\n\nvar _application2 = _interopRequireDefault(_application);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit;\n\nvar G3WObject = require('core/g3wobject');\n\nfunction CatalogService() {\n  var _this2 = this;\n\n  this.state = {\n    prstate: _projects2.default.state,\n    highlightlayers: false,\n    external: {\n      wms: [], // added by wms cside bar component\n      vector: [] // added to map controls for the moment\n    },\n    layerstrees: [],\n    layersgroups: []\n  };\n\n  this.setters = {\n\n    /**\n     * @param {{ layer: unknown, type: 'vector' }}\n     * \n     * @fires CatalogService~addExternalLayer\n     * \n     * @since 3.8.0\n     */\n    addExternalLayer: function addExternalLayer() {\n      var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          layer = _ref.layer,\n          _ref$type = _ref.type,\n          type = _ref$type === undefined ? 'vector' : _ref$type;\n\n      layer.removable = true;\n      this.state.external[type].push(layer);\n    },\n\n\n    /**\n     * @param {{ name: string, type: 'vector' }}\n     * \n     * @fires CatalogService~removeExternalLayer\n     * \n     * @since 3.8.0\n     */\n    removeExternalLayer: function removeExternalLayer() {\n      var _this = this;\n\n      var _ref2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          name = _ref2.name,\n          _ref2$type = _ref2.type,\n          type = _ref2$type === undefined ? 'vector' : _ref2$type;\n\n      this.state.external[type].filter(function (layer, index) {\n        if (layer.name === name) {\n          _this.state.external[type].splice(index, 1);\n          return true;\n        }\n      });\n    },\n\n\n    /**\n     * @param {{ layer: unknown, type: unknown, selected: unknown }}\n     * \n     * @fires CatalogService~setSelectedExternalLayer\n     * \n     * @since 3.8.0\n     */\n    setSelectedExternalLayer: function setSelectedExternalLayer(_ref3) {\n      var layer = _ref3.layer,\n          type = _ref3.type,\n          selected = _ref3.selected;\n\n      this.state.external[type].forEach(function (externalLayer) {\n        if (typeof externalLayer.selected != \"undefined\") externalLayer.selected = layer === externalLayer ? selected : false;\n      });\n    }\n  };\n\n  base(this);\n  var layersStores = _catalogLayers2.default.getLayersStores();\n\n  layersStores.forEach(function (layersStore) {\n    return _this2.addLayersStoreToLayersTrees(layersStore);\n  });\n\n  _catalogLayers2.default.onafter('addLayersStore', function (layersStore) {\n    _this2.addLayersStoreToLayersTrees(layersStore);\n  });\n\n  _catalogLayers2.default.onafter('removeLayersStore', function (layersStore) {\n    _this2.state.layerstrees.find(function (layersTree, idx) {\n      if (layersTree.storeid === layersStore.getId()) {\n        _this2.state.layerstrees.splice(idx, 1);\n        return true;\n      }\n    });\n  });\n  _catalogLayers2.default.onafter('removeLayersStores', function () {\n    _this2.state.layerstrees.forEach(function (layersTree, idx) {\n      _this2.state.layerstrees.splice(idx, 1);\n    });\n  });\n}\n\ninherit(CatalogService, G3WObject);\n\nvar proto = CatalogService.prototype;\n\nproto.createLayersGroup = function () {\n  var _ref4 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      _ref4$title = _ref4.title,\n      title = _ref4$title === undefined ? 'Layers Group' : _ref4$title,\n      _ref4$layers = _ref4.layers,\n      layers = _ref4$layers === undefined ? [] : _ref4$layers;\n\n  var nodes = [];\n  layers.forEach(function (layer) {\n    return nodes.push(layer);\n  });\n  return {\n    title: title,\n    nodes: nodes\n  };\n};\n\nproto.getMajorQgisVersion = function () {\n  return _projects2.default.getCurrentProject().getQgisVersion({\n    type: 'major'\n  });\n};\n\n// method to add a custom layers group\nproto.addLayersGroup = function (layersGroup) {\n  this.state.layersgroups.push(layersGroup);\n};\n\nproto.addLayersStoreToLayersTrees = function (layersStore) {\n  this.state.layerstrees.push({\n    tree: layersStore.getLayersTree(),\n    storeid: layersStore.getId()\n  });\n};\n\nproto.changeMapTheme = function () {\n  var _ref5 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(map_theme) {\n    var currentProject, rootNode, layerstree, changeMapThemeProjectObj;\n    return regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            // set is changing project view\n            _application2.default.changeProjectView(true);\n            currentProject = this.state.prstate.currentProject;\n            rootNode = this.state.layerstrees[0];\n\n            rootNode.checked = true;\n            layerstree = rootNode.tree[0].nodes;\n            _context.next = 7;\n            return currentProject.setLayersTreePropertiesFromMapTheme({\n              map_theme: map_theme,\n              layerstree: layerstree,\n              rootNode: rootNode\n            });\n\n          case 7:\n            changeMapThemeProjectObj = _context.sent;\n\n            _application2.default.changeProjectView(false);\n            return _context.abrupt('return', changeMapThemeProjectObj);\n\n          case 10:\n          case 'end':\n            return _context.stop();\n        }\n      }\n    }, _callee, this);\n  }));\n\n  return function (_x4) {\n    return _ref5.apply(this, arguments);\n  };\n}();\n\n/**\n * @param {{ type: 'vector' }}\n * \n * @returns {unknown}\n * \n * @since 3.8.0\n */\nproto.getExternalLayers = function (_ref6) {\n  var _ref6$type = _ref6.type,\n      type = _ref6$type === undefined ? 'vector' : _ref6$type;\n\n  return this.state.external[type];\n};\n\n/**\n * @param {{ type: 'vector' }}\n * \n * @returns {unknown}\n * \n * @since 3.8.0\n */\nproto.getExternalSelectedLayers = function (_ref7) {\n  var _ref7$type = _ref7.type,\n      type = _ref7$type === undefined ? 'vector' : _ref7$type;\n\n  return this.getExternalLayers({ type: type }).filter(function (layer) {\n    return layer.selected;\n  });\n};\n\n/**\n * @param {{ id: string, type: 'vector' }}\n * \n * @returns {unknown}\n * \n * @since 3.8.0\n */\nproto.getExternalLayerById = function (_ref8) {\n  var id = _ref8.id,\n      _ref8$type = _ref8.type,\n      type = _ref8$type === undefined ? 'vector' : _ref8$type;\n\n  return this.state.external[type].find(function (layer) {\n    return layer.id === id;\n  });\n};\n\n/**\n * @param {{ id: string, type: unknown }}\n * \n * @returns {boolean}\n * \n * @since 3.8.0\n */\nproto.isExternalLayerSelected = function (_ref9) {\n  var id = _ref9.id,\n      type = _ref9.type;\n\n  var externalLayer = this.getExternalLayerById({ id: id, type: type });\n  return externalLayer && externalLayer.selected;\n};\n\nmodule.exports = CatalogService;\n\n},{\"core/g3wobject\":12,\"core/utils/utils\":68,\"services/application\":351,\"store/catalog-layers\":374,\"store/projects\":379}],113:[function(require,module,exports){\nvar _Catalog = require('components/Catalog.vue');\n\nvar catalogComponentOptions = _interopRequireWildcard(_Catalog);\n\nvar _CatalogLayersGroup = require('components/CatalogLayersGroup.vue');\n\nvar catalogLayersGroupComponentOptions = _interopRequireWildcard(_CatalogLayersGroup);\n\nvar _CatalogTristateTree = require('components/CatalogTristateTree.vue');\n\nvar catalogTristateTreeComponentOptions = _interopRequireWildcard(_CatalogTristateTree);\n\nvar _CatalogLayersLegend = require('components/CatalogLayersLegend.vue');\n\nvar catalogLayersLegendComponentOptions = _interopRequireWildcard(_CatalogLayersLegend);\n\nvar _CatalogLayersLegendItems = require('components/CatalogLayersLegendItems.vue');\n\nvar catalogLayersLegendItemsComponentOptions = _interopRequireWildcard(_CatalogLayersLegendItems);\n\nvar _components = require('store/components');\n\nvar _components2 = _interopRequireDefault(_components);\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nvar _require = require('core/utils/utils'),\n    inherit = _require.inherit,\n    base = _require.base;\n\nvar Component = require('gui/component/component');\nvar Service = require('gui/catalog/catalogservice');\n\nvar InternalComponent = Vue.extend(catalogComponentOptions);\n\nVue.component('g3w-catalog', catalogComponentOptions);\nVue.component('layers-group', catalogLayersGroupComponentOptions);\nVue.component('tristate-tree', catalogTristateTreeComponentOptions);\nVue.component('layerslegend', catalogLayersLegendComponentOptions);\nVue.component('layerslegend-items', catalogLayersLegendItemsComponentOptions);\n\nfunction CatalogComponent() {\n  var _this = this;\n\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  options.resizable = true;\n  base(this, options);\n  var legend = options.config.legend;\n\n  this.title = \"catalog\";\n  this.mapComponentId = options.mapcomponentid;\n  var service = options.service || new Service();\n  this.setService(service);\n  this.setInternalComponent(new InternalComponent({\n    service: service,\n    legend: legend\n  }));\n  this.internalComponent.state = this.getService().state;\n  var listenToMapVisibility = function listenToMapVisibility(map) {\n    var mapService = map.getService();\n    _this.state.visible = !mapService.state.hidden;\n    mapService.onafter('setHidden', function (hidden) {\n      _this.state.visible = !mapService.state.hidden;\n      _this.state.expanded = true;\n    });\n  };\n  if (this.mapComponentId) {\n    var map = _gui2.default.getComponent(this.mapComponentId);\n    !map && _components2.default.on('componentregistered', function (component) {\n      return component.getId() === _this.mapComponentId && listenToMapVisibility(component);\n    }) || listenToMapVisibility(map);\n  }\n}\n\ninherit(CatalogComponent, Component);\n\nmodule.exports = CatalogComponent;\n\n},{\"components/Catalog.vue\":196,\"components/CatalogLayersGroup.vue\":200,\"components/CatalogLayersLegend.vue\":201,\"components/CatalogLayersLegendItems.vue\":202,\"components/CatalogTristateTree.vue\":203,\"core/utils/utils\":68,\"gui/catalog/catalogservice\":112,\"gui/component/component\":117,\"services/gui\":361,\"store/components\":375}],114:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n/**\n * NB: node.js modules are singletons by default.\n * \n * @see https://medium.com/@lazlojuly/are-node-js-modules-singletons-764ae97519af\n */\nvar CatalogEventHub = new Vue();\n\nexports.default = CatalogEventHub;\n\n},{}],115:[function(require,module,exports){\nvar _ChangeMapMenu = require('components/ChangeMapMenu.vue');\n\nvar vueComponentOptions = _interopRequireWildcard(_ChangeMapMenu);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit,\n    merge = _require.merge; /**\n                             * @file\n                             * @since 3.8.0\n                             */\n\nvar Component = require('gui/component/component');\n\nvar InternalComponent = Vue.extend(vueComponentOptions);\n\nfunction ChangeMapMenuComponent() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  options.id = 'changemapmenu';\n  base(this, options);\n  this.state.visible = true;\n  merge(this, options);\n  this.internalComponent = new InternalComponent();\n}\ninherit(ChangeMapMenuComponent, Component);\n\nmodule.exports = ChangeMapMenuComponent;\n\n},{\"components/ChangeMapMenu.vue\":204,\"core/utils/utils\":68,\"gui/component/component\":117}],116:[function(require,module,exports){\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _C3XYLine = require('components/C3XYLine.vue');\n\nvar _C3XYLine2 = _interopRequireDefault(_C3XYLine);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar Chartsfactory = {\n  CHARTS: {\n    c3: {\n      lineXY: _C3XYLine2.default\n    }\n  },\n  /*\n  * type: <library(es:c3)>:<chartType:(es.lineXY)>\n  * */\n  build: function build() {\n    var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        type = _ref.type,\n        _ref$hooks = _ref.hooks,\n        hooks = _ref$hooks === undefined ? {} : _ref$hooks;\n\n    var _type$split = type.split(':'),\n        _type$split2 = _slicedToArray(_type$split, 2),\n        _type$split2$ = _type$split2[0],\n        library = _type$split2$ === undefined ? 'c3' : _type$split2$,\n        _type$split2$2 = _type$split2[1],\n        chartType = _type$split2$2 === undefined ? 'lineXY' : _type$split2$2;\n\n    var chartVue = this.CHARTS[library][chartType];\n    return Object.assign(hooks, chartVue);\n  }\n};\n\nmodule.exports = Chartsfactory;\n\n},{\"components/C3XYLine.vue\":195}],117:[function(require,module,exports){\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit,\n    merge = _require.merge,\n    noop = _require.noop,\n    capitalize_first_letter = _require.capitalize_first_letter,\n    resolve = _require.resolve;\n\nvar G3WObject = require('core/g3wobject');\n\nvar VUECOMPONENTSATTRIBUTES = ['methods', 'computed', 'data', 'components'];\n\n// class component\nvar Component = function Component() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  this._firstLayout = true;\n  // internal VUE component\n  this.internalComponent = null;\n  this._components = [];\n  var _options$id = options.id,\n      id = _options$id === undefined ? Math.random() * 1000 : _options$id,\n      _options$title = options.title,\n      title = _options$title === undefined ? '' : _options$title,\n      _options$visible = options.visible,\n      visible = _options$visible === undefined ? true : _options$visible,\n      _options$open = options.open,\n      open = _options$open === undefined ? false : _options$open,\n      _options$resizable = options.resizable,\n      resizable = _options$resizable === undefined ? false : _options$resizable,\n      _options$info = options.info,\n      info = _options$info === undefined ? null : _options$info,\n      _options$loading = options.loading,\n      loading = _options$loading === undefined ? false : _options$loading,\n      _options$disabled = options.disabled,\n      disabled = _options$disabled === undefined ? false : _options$disabled,\n      _options$closewhensho = options.closewhenshowviewportcontent,\n      closewhenshowviewportcontent = _options$closewhensho === undefined ? true : _options$closewhensho;\n\n  this.id = id;\n  this.title = title;\n  this.state = {\n    visible: visible, // visibile\n    open: open, // open,\n    resizable: resizable,\n    info: info,\n    loading: loading,\n    disabled: disabled,\n    closewhenshowviewportcontent: closewhenshowviewportcontent,\n    sizes: {\n      width: 0,\n      height: 0\n    }\n  };\n  //setters\n  this.setters = {\n    setOpen: function setOpen(bool) {\n      this.state.open = bool;\n      this._setOpen(bool);\n    },\n    setVisible: function setVisible(bool) {\n      this.state.visible = bool;\n      this._setVisible(bool);\n    },\n    setLoading: function setLoading() {\n      var bool = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n      this.state.loading = bool;\n    },\n    setDisabled: function setDisabled() {\n      var bool = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n      this.state.disabled = bool;\n    },\n    reload: function reload() {\n      this._reload();\n    }\n  };\n  merge(this, options);\n  base(this);\n  // add events options\n  this.events = options.events;\n  this.events && this.handleEventsComponent();\n};\n\ninherit(Component, G3WObject);\n\nvar proto = Component.prototype;\n\nproto.init = function () {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  this.vueComponent = this.createVueComponent(options.vueComponentObject);\n  this._components = options.components || [];\n  var service = options.service || noop;\n  var template = options.template,\n      propsData = options.propsData;\n\n  this.setService(service);\n  this._service.init ? this._service.init(options) : null;\n  template && this.setInternalComponentTemplate(template);\n  this.setInternalComponent = function () {\n    var InternalComponent = Vue.extend(this.vueComponent);\n    this.internalComponent = new InternalComponent({\n      service: this._service,\n      template: template,\n      propsData: propsData\n    });\n    this.internalComponent.state = this.getService().state;\n  };\n  this.setInternalComponent();\n};\n\nproto.getId = function () {\n  return this.id;\n};\n\nproto.setId = function (id) {\n  this.id = id;\n};\n\nproto.getOpen = function () {\n  return this.state.open;\n};\n\nproto.closeWhenViewportContentIsOpen = function () {\n  return this.getOpen() && this.state.closewhenshowviewportcontent;\n};\n\nproto.getVisible = function () {\n  return this.state.visible;\n};\n\nproto.getTitle = function () {\n  return this.state.title;\n};\n\nproto.setTitle = function (title) {\n  this.state.title = title;\n};\n\nproto.getService = function () {\n  return this._service;\n};\n\nproto.setService = function (service) {\n  this._service = service;\n};\n\nproto.handleEventsComponent = function () {\n  var _events = this.events,\n      open = _events.open,\n      visible = _events.visible;\n\n  if (open) {\n    var _open$when = open.when,\n        when = _open$when === undefined ? \"after\" : _open$when,\n        _open$cb = open.cb,\n        cb = _open$cb === undefined ? function () {} : _open$cb,\n        _open$guiEvents = open.guiEvents,\n        guiEvents = _open$guiEvents === undefined ? [] : _open$guiEvents;\n\n    this['on' + when]('setOpen', function (bool) {\n      return cb(bool);\n    });\n  }\n};\n\nproto.insertComponentAt = function (index, Component) {\n  this._components.splice(index, 0, Component);\n};\n\nproto.removeCompomentAt = function (index) {\n  this._components.splice(index, 1);\n};\n\nproto.addComponent = function (Component) {\n  this._components.push(Component);\n};\n\nproto.popComponent = function () {\n  return this._components.pop();\n};\n\nproto.removeComponent = function (Component) {\n  var _this = this;\n\n  this._components.forEach(function (component, index) {\n    if (component === Component) {\n      _this.splice(index, 1);\n      return false;\n    }\n  });\n};\n\nproto.setComponents = function (components) {\n  this._components = Array.isArray(components) ? components : [];\n};\n\nproto.exendComponents = function (components) {\n  _.merge(this._components, components);\n};\n\nproto.getInternalComponent = function () {\n  return this.internalComponent;\n};\n\nproto.setInternalComponent = function (internalComponent) {\n  var _this2 = this;\n\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  if (!internalComponent && this.internalComponentClass) this.internalComponent = new this.internalComponentClass();else this.internalComponent = internalComponent;\n  var _options$events = options.events,\n      events = _options$events === undefined ? [] : _options$events;\n\n  events.forEach(function (event) {\n    var name = event.name,\n        handler = event.handler;\n\n    _this2.internalComponent.$on(name, function (data) {\n      return handler && handler(data) || _this2['set' + capitalize_first_letter(name)](data);\n    });\n  });\n};\n\nproto.createVueComponent = function (vueObjOptions) {\n  return _.cloneDeep(vueObjOptions);\n};\n\nproto.addInternalComponentData = function (data) {\n  _.merge(this.internalComponent, data);\n};\n\nproto.overwriteServiceMethod = function (methodName, method) {\n  this._service[methodName] = method;\n};\n\nproto.overwriteServiceMethods = function (methodsOptions) {\n  var _this3 = this;\n\n  Object.entries(methodsOptions).forEach(function (_ref) {\n    var _ref2 = _slicedToArray(_ref, 2),\n        methodName = _ref2[0],\n        method = _ref2[1];\n\n    return _this3.overwriteServiceMethod(methodName, method);\n  });\n};\n\nproto.extendService = function (serviceOptions) {\n  this._service && merge(this._service, serviceOptions);\n};\n\nproto.extendInternalComponent = function (internalComponentOptions) {\n  var _this4 = this;\n\n  if (this.vueComponent) {\n    Object.entries(internalComponentOptions).forEach(function (_ref3) {\n      var _ref4 = _slicedToArray(_ref3, 2),\n          key = _ref4[0],\n          value = _ref4[1];\n\n      if (VUECOMPONENTSATTRIBUTES.indexOf(key) > -1) {\n        switch (key) {\n          case 'methods':\n            _this4.extendInternalComponentMethods(value);\n            break;\n          case 'components':\n            _this4.extendInternalComponentComponents(value);\n            break;\n          default:\n            merge(_this4.vueComponent[key], value);\n        }\n      }\n    });\n  } else this.vueComponent = internalComponentOptions;\n};\n\nproto.extendInternalComponentComponents = function (components) {\n  components && merge(this.vueComponent.components, components);\n};\n\nproto.extendComponents = function (components) {\n  this.extendInternalComponentComponents(components);\n};\n\nproto.addComponent = function (component) {\n  if (component) this.vueComponent.components[component.key] = component.value;\n};\n\nproto.extendInternalComponentMethods = function (methods) {\n  if (methods) {\n    Object.entries(methods).forEach.forEach(function (_ref5) {\n      var _ref6 = _slicedToArray(_ref5, 2),\n          key = _ref6[0],\n          value = _ref6[1];\n\n      return !(value instanceof Function) && delete methods[key];\n    });\n    merge(this.vueComponent.methods, methods);\n  }\n};\n\nproto.extendInternalComponentComputed = function (computed) {\n  if (computed) {\n    Object.entries(computed).forEach(function (_ref7) {\n      var _ref8 = _slicedToArray(_ref7, 2),\n          key = _ref8[0],\n          value = _ref8[1];\n\n      return !(value instanceof Function) && delete computed[key];\n    });\n    merge(this.vueComponent.computed, computed);\n  }\n};\n\nproto.setInternalComponentTemplate = function (template) {\n  if (template) this.vueComponent.template = template;\n};\n\nproto.getInternalTemplate = function () {\n  return this.vueComponent.template;\n};\n\nproto.destroy = function () {};\n\nproto.click = function () {};\n\n// hook function to show componet\nproto.show = function () {};\n\nproto._setOpen = function (bool) {};\n\nproto._setVisible = function () {};\n\nproto._reload = function () {};\n\nproto.mount = function (parent, append) {\n  var _this5 = this;\n\n  var d = $.Deferred();\n  if (!this.internalComponent) this.setInternalComponent();\n  if (append) {\n    var iCinstance = this.internalComponent.$mount();\n    $(parent).append(iCinstance.$el);\n  } else this.internalComponent.$mount(parent);\n  this.internalComponent.$nextTick(function () {\n    $(parent).localize();\n    _this5.emit('ready');\n    d.resolve(true);\n  });\n  // emit mount event\n  this.emit('mount');\n  return d.promise();\n};\n\nproto.unmount = function () {\n  if (!this.internalComponent) return resolve();\n  if (this.state.resizable) this.internalComponent.$off('resize-component', this.internalComponent.layout);\n  this.state.open = false;\n  // destroy vue component\n  this.internalComponent.$destroy(true);\n  // remove dom element\n  $(this.internalComponent.$el).remove();\n  // set internal componet to null (for GC)\n  this.internalComponent = null;\n  // emit unmount event\n  this.emit('unmount');\n  return resolve();\n};\n\nproto.ismount = function () {\n  return this.internalComponent && this.internalComponent.$el;\n};\n\nproto.layout = function (width, height) {\n  var _this6 = this;\n\n  if (this.state.resizable && this._firstLayout) {\n    this.internalComponent.$on('resize-component', this.internalComponent.layout);\n    this._firstLayout = false;\n  }\n  this.internalComponent.$nextTick(function () {\n    _this6.internalComponent.$emit('resize-component', {\n      width: width,\n      height: height\n    });\n  });\n  // emit layout event\n  this.emit('layout');\n};\n\nmodule.exports = Component;\n\n},{\"core/g3wobject\":12,\"core/utils/utils\":68}],118:[function(require,module,exports){\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar Component = require('gui/component/component');\n\nvar ComponentsFactory = {\n  // build a componet\n  build: function build(_ref) {\n    var vueComponentObject = _ref.vueComponentObject,\n        service = _ref.service,\n        propsData = _ref.propsData;\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    var component = new Component(options);\n    component.init({\n      vueComponentObject: vueComponentObject,\n      service: service,\n      propsData: propsData\n    });\n    return component;\n  },\n\n  //buildSidebarComponent and add to sidebar\n  buildSidebar: function buildSidebar(_ref2) {\n    var vueComponentObject = _ref2.vueComponentObject,\n        service = _ref2.service,\n        propsData = _ref2.propsData;\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    var id = options.id,\n        title = options.title,\n        _options$open = options.open,\n        open = _options$open === undefined ? false : _options$open,\n        _options$collapsible = options.collapsible,\n        collapsible = _options$collapsible === undefined ? true : _options$collapsible,\n        _options$isolate = options.isolate,\n        isolate = _options$isolate === undefined ? false : _options$isolate,\n        _options$mobile = options.mobile,\n        mobile = _options$mobile === undefined ? true : _options$mobile,\n        _options$iconConfig = options.iconConfig,\n        iconConfig = _options$iconConfig === undefined ? {} : _options$iconConfig,\n        _options$events = options.events,\n        events = _options$events === undefined ? {} : _options$events,\n        _options$sidebarOptio = options.sidebarOptions,\n        sidebarOptions = _options$sidebarOptio === undefined ? { position: 1 } : _options$sidebarOptio;\n\n\n    var component = this.build({ vueComponentObject: vueComponentObject }, {\n      id: id,\n      title: title,\n      open: open,\n      collapsible: collapsible,\n      isolate: isolate,\n      iconColor: iconConfig.color && iconConfig.color,\n      icon: iconConfig.icon && _gui2.default.getFontClass(iconConfig.icon),\n      mobile: mobile,\n      events: events\n    });\n\n    _gui2.default.addComponent(component, 'sidebar', sidebarOptions);\n    return component;\n  }\n};\n\nmodule.exports = ComponentsFactory;\n\n},{\"gui/component/component\":117,\"services/gui\":361}],119:[function(require,module,exports){\nvar _require = require('core/i18n/i18n.service'),\n    t = _require.t;\n\nmodule.exports = {\n  matcher: function matcher(params, data) {\n    var searchItem = params.term ? params.term.toLowerCase() : params.term;\n    // If there are no search terms, return all of the data\n    if ($.trim(searchItem) === '') return data;\n    // Do not display the item if there is no 'text' property\n    if (typeof data.text === 'undefined') return null;\n    // `params.term` should be the term that is used for searching\n    // `data.text` is the text that is displayed for the data object\n    if (data.text.toLowerCase().indexOf(searchItem) > -1) {\n      var modifiedData = $.extend({}, data, true);\n      // You can return modified objects from here\n      // This includes matching the `children` how you want in nested data sets\n      return modifiedData;\n    }\n    // Return `null` if the term should not be displayed\n    return null;\n  },\n  language: {\n    noResults: function noResults() {\n      return t(\"sdk.search.no_results\");\n    },\n    errorLoading: function errorLoading() {\n      return t(\"sdk.search.error_loading\");\n    },\n    searching: function searching() {\n      return t(\"sdk.search.searching\");\n    },\n    inputTooShort: function inputTooShort(args) {\n      var remainingChars = args.minimum - args.input.length;\n      return t(\"sdk.search.autocomplete.inputshort.pre\") + ' ' + remainingChars + ' ' + t(\"sdk.search.autocomplete.inputshort.post\");\n    }\n  }\n};\n\n},{\"core/i18n/i18n.service\":13}],120:[function(require,module,exports){\nvar _FieldText = require('components/FieldText.vue');\n\nvar _FieldText2 = _interopRequireDefault(_FieldText);\n\nvar _FieldLink = require('components/FieldLink.vue');\n\nvar _FieldLink2 = _interopRequireDefault(_FieldLink);\n\nvar _FieldImage = require('components/FieldImage.vue');\n\nvar _FieldImage2 = _interopRequireDefault(_FieldImage);\n\nvar _FieldGeo = require('components/FieldGeo.vue');\n\nvar _FieldGeo2 = _interopRequireDefault(_FieldGeo);\n\nvar _FieldMedia = require('components/FieldMedia.vue');\n\nvar _FieldMedia2 = _interopRequireDefault(_FieldMedia);\n\nvar _FieldVue = require('components/FieldVue.vue');\n\nvar _FieldVue2 = _interopRequireDefault(_FieldVue);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar Fields = {\n  simple_field: _FieldText2.default,\n  text_field: _FieldText2.default,\n  link_field: _FieldLink2.default,\n  image_field: _FieldImage2.default,\n  geo_field: _FieldGeo2.default,\n  photo_field: _FieldImage2.default,\n  media_field: _FieldMedia2.default,\n  vue_field: _FieldVue2.default\n};\n\nmodule.exports = Fields;\n\n},{\"components/FieldGeo.vue\":207,\"components/FieldImage.vue\":208,\"components/FieldLink.vue\":209,\"components/FieldMedia.vue\":210,\"components/FieldText.vue\":211,\"components/FieldVue.vue\":212}],121:[function(require,module,exports){\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _catalogLayers = require('store/catalog-layers');\n\nvar _catalogLayers2 = _interopRequireDefault(_catalogLayers);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar Fields = require('./fields');\n\nvar _require = require('core/utils/utils'),\n    toRawType = _require.toRawType;\n\nvar URLPattern = /^(https?:\\/\\/[^\\s]+)/g;\nvar PhotoPattern = /[^\\s]+.(png|jpg|jpeg|gif)$/g;\n\nvar FieldType = {\n  SIMPLE: 'simple',\n  GEO: 'geo',\n  LINK: 'link',\n  PHOTO: 'photo',\n  PHOTOLINK: \"photolink\",\n  IMAGE: 'image',\n  POINTLINK: 'pointlink',\n  ROUTE: 'route',\n  VUE: 'vue'\n};\n\nmodule.exports = {\n  /**\n   * Get Type field from field value\n   * field : Object contain the value of the field\n   * @param field\n   * @returns {string}\n   */\n  getType: function getType(field) {\n    var type = field.type;\n    if (type !== 'vue') {\n      var fieldValue = field.value;\n      var value = fieldValue && toRawType(fieldValue) === 'Object' && !fieldValue.coordinates && !fieldValue.vue ? fieldValue.value : fieldValue;\n      if (!value) type = FieldType.SIMPLE;else if (value && (typeof value === 'undefined' ? 'undefined' : _typeof(value)) == 'object') {\n        if (value.coordinates) type = FieldType.GEO;else if (value.vue) type = FieldType.VUE;\n      } else if (value && Array.isArray(value)) {\n        if (value.length && value[0].photo) type = FieldType.PHOTO;else type = FieldType.SIMPLE;\n      } else if (value.toString().toLowerCase().match(PhotoPattern)) {\n        type = FieldType.PHOTO;\n      } else if (value.toString().match(URLPattern)) {\n        type = FieldType.LINK;\n      } else type = FieldType.SIMPLE;\n    }\n    return type + '_field';\n  },\n  isSimple: function isSimple(field) {\n    return this.getType(field) === FieldType.SIMPLE + '_field';\n  },\n  isLink: function isLink(field) {\n    return this.getType(field) === FieldType.LINK + '_field';\n  },\n  isImage: function isImage(field) {\n    return this.getType(field) === FieldType.IMAGE + '_field';\n  },\n  isPhoto: function isPhoto(field) {\n    return this.getType(field) === FieldType.PHOTO + '_field';\n  },\n  isVue: function isVue(field) {\n    return this.getType(field) === FieldType.VUE + '_field';\n  },\n\n  /**\n   * Method to add a new field type to Fields\n   * @param type\n   * @param field\n   */\n  add: function add(_ref) {\n    var type = _ref.type,\n        field = _ref.field;\n\n    Fields[type] = field;\n  },\n\n  /**\n   * Remove field from Fields list\n   * @param type\n   */\n  remove: function remove(type) {\n    delete Fields[type];\n  },\n\n  /**\n   * chenge type of field (example to set vue type)\n   * @param layerId\n   * @param field\n   */\n  changeConfigFieldType: function changeConfigFieldType(_ref2) {\n    var layerId = _ref2.layerId,\n        _ref2$field = _ref2.field,\n        field = _ref2$field === undefined ? {} : _ref2$field;\n\n    var layer = _catalogLayers2.default.getLayerById(layerId);\n    layer.changeConfigFieldType(field);\n  },\n\n  /**\n   * Reset origin type\n   * @param layerId\n   * @param field\n   */\n  resetConfigFieldType: function resetConfigFieldType(_ref3) {\n    var layerId = _ref3.layerId,\n        _ref3$field = _ref3.field,\n        field = _ref3$field === undefined ? {} : _ref3$field;\n\n    var layer = _catalogLayers2.default.getLayerById(layerId);\n    layer.resetConfigField(field);\n  }\n};\n\n},{\"./fields\":120,\"core/utils/utils\":68,\"store/catalog-layers\":374}],122:[function(require,module,exports){\nvar _inputservice = require('core/expression/inputservice');\n\nvar _inputservice2 = _interopRequireDefault(_inputservice);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nvar _require = require('core/utils/utils'),\n    inherit = _require.inherit,\n    base = _require.base;\n\nvar G3WObject = require('core/g3wobject');\n\nfunction FormService() {\n  var _this = this;\n\n  this.state = null;\n  this.eventBus = new Vue();\n  /**\n   * property used to force some state property to force to be a certain value.\n   * It set fro example by child form service to form service parent\n   * @type {{valid: boolean, update: boolean}}\n   */\n  this.force = {\n    update: false,\n    valid: false // NOT USED FOR THE MOMENT\n  };\n  this.layer;\n  this.setters = {\n    setInitForm: function setInitForm() {\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      this._setInitForm(options);\n    },\n    setFormStructure: function setFormStructure(formStructure) {\n      this.state.formstructure = formStructure;\n    },\n\n    // setter change fields\n    setFormFields: function setFormFields() {\n      var fields = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n      this.state.fields = fields;\n      this.handleFieldsWithExpression(fields);\n    },\n    setupFields: function setupFields() {\n      this._setupFields();\n    },\n\n    // setter insert data into form\n    setFormData: function setFormData(fields) {\n      this.setFormFields(fields);\n    },\n\n    // setter single field\n    setField: function setField(field) {},\n\n    // settere state\n    setState: function setState(state) {\n      this._setState(state);\n    },\n\n    // setter add action\n    addActionsForForm: function addActionsForForm(actions) {},\n    postRender: function postRender(element) {\n      // hook for listener to chenge DOM\n    }\n  };\n  base(this);\n  this.init = function () {\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    this._setInitForm(options);\n  };\n  // init form options passed for example by editor\n  this._setInitForm = function () {\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    var fields = options.fields,\n        feature = options.feature,\n        parentData = options.parentData,\n        layer = options.layer,\n        _options$title = options.title,\n        title = _options$title === undefined ? 'Form' : _options$title,\n        formId = options.formId,\n        name = options.name,\n        _options$buttons = options.buttons,\n        buttons = _options$buttons === undefined ? {} : _options$buttons,\n        context_inputs = options.context_inputs,\n        isnew = options.isnew,\n        _options$footer = options.footer,\n        footer = _options$footer === undefined ? {} : _options$footer,\n        headerComponent = options.headerComponent;\n\n    this.layer = layer;\n    // need to be cloned\n    this.feature = feature.clone();\n    this.title = title;\n    this.formId = formId;\n    this.name = name;\n    this.buttons = buttons;\n    this.context_inputs = context_inputs;\n    this.parentData = parentData;\n    this.headerComponent = headerComponent;\n    // Property used to set forced update state of the service\n    //Used fro example from child form to set update also parent service\n    this.state = {\n      layerid: layer.getId(),\n      loading: false,\n      components: [],\n      disabledcomponents: [],\n      component: null,\n      headers: [],\n      currentheaderid: null,\n      fields: null,\n      buttons: this.buttons,\n      disabled: false,\n      isnew: isnew,\n      valid: true, // global form validation state. True at beginning\n      update: feature.isNew(), // set update in case or not is a new feature\n      // when input change will be update\n      tovalidate: {},\n      feature: feature,\n      componentstovalidate: {},\n      footer: footer,\n      ready: false\n    };\n    this.force.update = feature.isNew();\n    this.filter_expression_fields_dependencies = {}; // expression fields dependencies from filter_expression\n    this.default_expression_fields_dependencies = {}; // expression fields dependencies from default_expression\n    this.default_expression_fields_on_update = []; // since 3.8.0\n    this.listenChangeInput = true; // since 3.8.0\n    this.setFormFields(fields);\n    if (this.layer && options.formStructure) {\n      var formstructure = this.layer.getLayerEditingFormStructure(fields);\n      this.setFormStructure(formstructure);\n    }\n  };\n  this.eventBus.$on('set-loading-form', function () {\n    var bool = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n    return _this.state.loading = bool;\n  });\n}\n\ninherit(FormService, G3WObject);\n\nvar proto = FormService.prototype;\n\nproto.setReady = function () {\n  var bool = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n  this.state.ready = bool;\n};\n\n/**\n * Method called when an input change value\n * @param input\n */\nproto.changeInput = function (input) {\n  //add 3.8.0 to avoid listen changes when\n  // saveDefaultExpressionFieldsNotDependencies is called\n  // TODO find better solution\n  if (true === this.listenChangeInput) {\n    this.evaluateFilterExpressionFields(input);\n    this.evaluateDefaultExpressionFields(input);\n    this.isValid(input);\n    this.isUpdated(input);\n  }\n};\n\n/**\n * Method to check if form is updated base on change on input\n * @param input\n */\nproto.isUpdated = function (input) {\n  this.state.update = this.force.update || (!this.state.update ? input.update : !!this.state.fields.find(function (field) {\n    return field.update;\n  }));\n};\n\n/**\n *\n */\nproto.setUpdate = function () {\n  var bool = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var _options$force = options.force,\n      force = _options$force === undefined ? false : _options$force;\n\n  this.force.update = force;\n  this.state.update = this.force.update || bool;\n};\n\n/**\n * Method to evaluate filter expression\n * @param input\n */\nproto.evaluateDefaultExpressionFields = function () {\n  var _this2 = this;\n\n  var input = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  var default_expression_fields_dependencies = this.default_expression_fields_dependencies[input.name];\n  if (default_expression_fields_dependencies) {\n    this.feature.set(input.name, input.value);\n    default_expression_fields_dependencies.forEach(function (expression_dependency_field) {\n      var field = _this2._getField(expression_dependency_field);\n      var qgs_layer_id = _this2.layer.getId();\n      _inputservice2.default.handleDefaultExpressionFormInput({\n        parentData: _this2.parentData,\n        qgs_layer_id: qgs_layer_id, // the owner of feature\n        field: field, // field related\n        feature: _this2.feature //feature to transform in form_data\n      });\n    });\n  }\n};\n\n/**\n * Method to evaluate filter expression\n * @param input\n */\nproto.evaluateFilterExpressionFields = function () {\n  var _this3 = this;\n\n  var input = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  var filter_expression_fields_dependencies = this.filter_expression_fields_dependencies[input.name];\n  if (filter_expression_fields_dependencies) {\n    //need in case of init form service where filter_expression option has\n    //referencing_fields or referenced_columns from another layer\n    var fieldForm = this._getField(input.name);\n    fieldForm && this.feature.set(fieldForm.name, fieldForm.value);\n    filter_expression_fields_dependencies.forEach(function (expression_dependency_field) {\n      var field = _this3._getField(expression_dependency_field);\n      var qgs_layer_id = _this3.layer.getId();\n      _inputservice2.default.handleFilterExpressionFormInput({\n        parentData: _this3.parentData,\n        qgs_layer_id: qgs_layer_id, // the owner of feature\n        field: field, // field related\n        feature: _this3.feature //feature to transform in form_data\n      });\n    });\n  }\n};\n\n/**\n * Handle a field that has a `filter_expression` value object\n * \n * @since 3.8.0\n */\nproto._handleFieldWithFilterExpression = function (field, filter_expression) {\n  var _this4 = this;\n\n  if (filter_expression) {\n    var _filter_expression$re = filter_expression.referencing_fields,\n        referencing_fields = _filter_expression$re === undefined ? [] : _filter_expression$re,\n        _filter_expression$re2 = filter_expression.referenced_columns,\n        referenced_columns = _filter_expression$re2 === undefined ? [] : _filter_expression$re2;\n\n    var dependency_fields = new Set();\n\n    // TODO: add description\n    [].concat(_toConsumableArray(referenced_columns), _toConsumableArray(referencing_fields)).forEach(function (dependency_field) {\n      return dependency_fields.add(dependency_field);\n    });\n\n    dependency_fields.forEach(function (dependency_field) {\n      // TODO: shorten variable name\n      if (undefined === _this4.filter_expression_fields_dependencies[dependency_field]) {\n        _this4.filter_expression_fields_dependencies[dependency_field] = [];\n      }\n      _this4.filter_expression_fields_dependencies[dependency_field].push(field.name);\n    });\n  }\n};\n\n/**\n * Handle a field that has a `default_value` object and check if `apply_on_update` only\n * \n * @since 3.8.0\n */\nproto._handleFieldWithDefaultExpression = function (field, default_expression) {\n  var _this5 = this;\n\n  if (default_expression) {\n    var _default_expression$r = default_expression.referencing_fields,\n        referencing_fields = _default_expression$r === undefined ? [] : _default_expression$r,\n        _default_expression$r2 = default_expression.referenced_columns,\n        referenced_columns = _default_expression$r2 === undefined ? [] : _default_expression$r2,\n        _default_expression$a = default_expression.apply_on_update,\n        apply_on_update = _default_expression$a === undefined ? false : _default_expression$a;\n\n    // Skip if not apply_on_update (listen dependencies change only for new Feature)\n\n    if (!apply_on_update && !this.state.isnew) {\n      return;\n    }\n\n    var dependency_fields = new Set();\n\n    // Get array of dependency fields on default expression if exist\n    // add each of it in a Set (unique array items)\n    [].concat(_toConsumableArray(referenced_columns), _toConsumableArray(referencing_fields)).forEach(function (dependency_field) {\n      return dependency_fields.add(dependency_field);\n    });\n\n    //Only in apply update listen changeInput\n    if (apply_on_update) {\n\n      this.default_expression_fields_on_update.push(field);\n\n      dependency_fields.forEach(function (dependency_field) {\n        // TODO: shorten variable name\n        if (undefined === _this5.default_expression_fields_dependencies[dependency_field]) {\n          _this5.default_expression_fields_dependencies[dependency_field] = [];\n        }\n        _this5.default_expression_fields_dependencies[dependency_field].push(field.name);\n      });\n    }\n\n    // Call input service if a field has a default_expression and is a new feature\n    if (this.state.isnew) {\n      _inputservice2.default.handleDefaultExpressionFormInput({\n        field: field,\n        feature: this.feature,\n        qgs_layer_id: this.layer.getId(),\n        parentData: this.parentData\n      });\n    }\n  }\n};\n\n/**\n * Handle fields with associated expression\n * \n * @param {Array} [fields = []]\n */\nproto.handleFieldsWithExpression = function () {\n  var _this6 = this;\n\n  var fields = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n  // TODO: add description\n  fields.forEach(function (field) {\n    var _field$input$options = field.input.options,\n        options = _field$input$options === undefined ? {} : _field$input$options;\n\n    _this6._handleFieldWithFilterExpression(field, options.filter_expression);\n    _this6._handleFieldWithDefaultExpression(field, options.default_expression);\n  });\n  // start to evaluate filter expression field\n  Object.keys(this.filter_expression_fields_dependencies).forEach(function (name) {\n    _this6.evaluateFilterExpressionFields({ name: name });\n  });\n};\n\nproto.setCurrentFormPercentage = function (perc) {\n  this.layer.setFormPercentage(perc);\n};\n\nproto.setLoading = function () {\n  var bool = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n  this.state.loading = bool;\n};\n\nproto.setValidComponent = function (_ref) {\n  var id = _ref.id,\n      valid = _ref.valid;\n\n  this.state.componentstovalidate[id] = valid;\n  this.isValid();\n};\n\nproto.getValidComponent = function (id) {\n  return this.state.componentstovalidate[id];\n};\n\n// Every input send to form it valid value that will change the general state of form\nproto.isValid = function (input) {\n  var _this7 = this;\n\n  if (input) {\n    // check mutually\n    if (input.validate.mutually) {\n      if (!input.validate.required) {\n        if (!input.validate.empty) {\n          input.validate._valid = input.validate.valid;\n          input.validate.mutually_valid = input.validate.mutually.reduce(function (previous, inputname) {\n            return previous && _this7.state.tovalidate[inputname].validate.empty;\n          }, true);\n          input.validate.valid = input.validate.mutually_valid && input.validate.valid;\n        } else {\n          input.value = null;\n          input.validate.mutually_valid = true;\n          input.validate.valid = true;\n          input.validate._valid = true;\n          var countNoTEmptyInputName = [];\n          for (var i = input.validate.mutually.length; i--;) {\n            var inputname = input.validate.mutually[i];\n            !this.state.tovalidate[inputname].validate.empty && countNoTEmptyInputName.push(inputname);\n          }\n          if (countNoTEmptyInputName.length < 2) {\n            countNoTEmptyInputName.forEach(function (inputname) {\n              _this7.state.tovalidate[inputname].validate.mutually_valid = true;\n              _this7.state.tovalidate[inputname].validate.valid = true;\n              setTimeout(function () {\n                _this7.state.tovalidate[inputname].validate.valid = _this7.state.tovalidate[inputname].validate._valid;\n                _this7.state.valid = _this7.state.valid && _this7.state.tovalidate[inputname].validate.valid;\n              });\n            });\n          }\n        }\n      }\n      //check if min_field or max_field is set\n    } else if (!input.validate.empty && (input.validate.min_field || input.validate.max_field)) {\n      var input_name = input.validate.min_field || input.validate.max_field;\n      input.validate.valid = input.validate.min_field ? this.state.tovalidate[input.validate.min_field].validate.empty || 1 * input.value > 1 * this.state.tovalidate[input.validate.min_field].value : this.state.tovalidate[input.validate.max_field].validate.empty || 1 * input.value < 1 * this.state.tovalidate[input.validate.max_field].value;\n      if (input.validate.valid) this.state.tovalidate[input_name].validate.valid = true;\n    }\n  }\n  this.state.valid = Object.values(this.state.tovalidate).reduce(function (previous, input) {\n    return previous && input.validate.valid;\n  }, true) && Object.values(this.state.componentstovalidate).reduce(function (previous, valid) {\n    return previous && valid;\n  }, true);\n};\n\nproto.addComponents = function () {\n  var components = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n  var _iteratorNormalCompletion = true;\n  var _didIteratorError = false;\n  var _iteratorError = undefined;\n\n  try {\n    for (var _iterator = components[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n      var component = _step.value;\n\n      this.addComponent(component);\n    }\n  } catch (err) {\n    _didIteratorError = true;\n    _iteratorError = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion && _iterator.return) {\n        _iterator.return();\n      }\n    } finally {\n      if (_didIteratorError) {\n        throw _iteratorError;\n      }\n    }\n  }\n};\n\nproto.addComponent = function (component) {\n  var id = component.id,\n      title = component.title,\n      name = component.name,\n      icon = component.icon,\n      valid = component.valid,\n      headerComponent = component.headerComponent,\n      _component$header = component.header,\n      header = _component$header === undefined ? true : _component$header;\n\n  if (valid !== undefined) {\n    this.state.componentstovalidate[id] = valid;\n    this.state.valid = this.state.valid && valid;\n    this.eventBus.$emit('add-component-validate', {\n      id: id,\n      valid: valid\n    });\n  }\n  // we can set a component that can be part of headers (tabs or not)\n  if (header) {\n    this.state.headers.push({ title: title, name: name, id: id, icon: icon, component: headerComponent });\n    this.state.currentheaderid = this.state.currentheaderid || id;\n  }\n\n  this.state.components.push(component);\n};\n\nproto.replaceComponent = function () {\n  var _ref2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      id = _ref2.id,\n      component = _ref2.component;\n\n  var index = this.state.components.findIndex(function (component) {\n    return component.id === id;\n  });\n  this.state.components.splice(index, 1, component);\n};\n\nproto.disableComponent = function (_ref3) {\n  var id = _ref3.id,\n      disabled = _ref3.disabled;\n\n  if (disabled) this.state.disabledcomponents.push(id);else this.state.disabledcomponents = this.state.disabledcomponents.filter(function (disableId) {\n    return disabledId !== id;\n  });\n};\n\nproto.setCurrentComponentById = function (id) {\n  if (this.state.disabledcomponents.indexOf(id) === -1) {\n    this.setIdHeader(id);\n    this.state.component = this.state.components.find(function (component) {\n      return component.id === id;\n    }).component;\n    return this.state.component;\n  }\n};\n\n/**\n * setRootComponent (is form )\n */\nproto.setRootComponent = function () {\n  this.state.component = this.state.components.find(function (component) {\n    return component.root;\n  }).component;\n};\n\nproto.getRootComponent = function () {\n  return this.state.components.find(function (component) {\n    return component.root;\n  }).component;\n};\n\nproto.isRootComponent = function (component) {\n  return this.getRootComponent() == component;\n};\n\nproto.getComponentById = function (id) {\n  return this.state.components.find(function (component) {\n    return component.id === id;\n  });\n};\n\nproto.setComponent = function (component) {\n  this.state.component = component;\n};\n\nproto.addedComponentTo = function () {\n  var formcomponent = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'body';\n\n  this.state.addedcomponentto[formcomponent] = true;\n};\n\nproto.addToValidate = function (input) {\n  this.state.tovalidate[input.name] = input;\n  // check if is mounted on form gui otherwise leave form component to run is Valid whe form is mounted on dom\n  this.state.ready && this.isValid(input);\n};\n\nproto.removeToValidate = function (input) {\n  delete this.state.tovalidate[input.name];\n  this.isValid();\n};\n\nproto.getState = function () {\n  return this.state;\n};\n\nproto._setState = function (state) {\n  this.state = state;\n};\n\nproto.getFields = function () {\n  return this.state.fields;\n};\n\nproto._getField = function (fieldName) {\n  return this.state.fields.find(function (field) {\n    return field.name === fieldName;\n  });\n};\n\nproto.getEventBus = function () {\n  return this.eventBus;\n};\n\nproto.setIdHeader = function (id) {\n  this.state.currentheaderid = id;\n};\n\nproto.getContext = function () {\n  return this.context_inputs.context;\n};\n\nproto.getSession = function () {\n  return this.getContext().session;\n};\n\nproto.getInputs = function () {\n  return this.context_inputs.inputs;\n};\n\n/**\n * handleRelation\n */\n\nproto.handleRelation = function (_ref4) {\n  //OVERWRITE BY  PLUGIN EDITING PLUGIN\n\n  var relationId = _ref4.relationId,\n      feature = _ref4.feature;\n};\n\n//method to clear all the open things opened by service\nproto.clearAll = function () {\n  this.eventBus.$off('addtovalidate');\n  this.eventBus.$off('set-main-component');\n  this.eventBus.$off('set-loading-form');\n  this.eventBus.$off('component-validation');\n  this.eventBus.$off('disable-component');\n};\n\n/**\n * @since 3.8.0\n * @returns {Promise<void>}\n * Method\n */\nproto.saveDefaultExpressionFieldsNotDependencies = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n  var _this8 = this;\n\n  var alreadyRequestDefaultExpressionFields, _loop, i, defaultExpressionPromises;\n\n  return regeneratorRuntime.wrap(function _callee$(_context3) {\n    while (1) {\n      switch (_context3.prev = _context3.next) {\n        case 0:\n          if (!(0 === this.default_expression_fields_on_update.length)) {\n            _context3.next = 4;\n            break;\n          }\n\n          return _context3.abrupt('return');\n\n        case 4:\n          // disable listen changeInput\n          // TODO improve\n          this.listenChangeInput = false;\n          //Array contain field name already resolved with server default_expression request\n          alreadyRequestDefaultExpressionFields = [];\n          // loop through default_expression_fields\n\n          _loop = /*#__PURE__*/regeneratorRuntime.mark(function _loop(i) {\n            var dFs, _loop2, _i, _ret2;\n\n            return regeneratorRuntime.wrap(function _loop$(_context2) {\n              while (1) {\n                switch (_context2.prev = _context2.next) {\n                  case 0:\n                    // extract all dependency fields of current field\n                    dFs = Object.keys(_this8.default_expression_fields_dependencies).filter(function (field) {\n                      return (\n                        // check if dependency field is field on update\n                        _this8.default_expression_fields_on_update.find(function (_ref6) {\n                          var name = _ref6.name;\n                          return name === field;\n                        }) &&\n                        // if has bind current field\n                        _this8.default_expression_fields_dependencies[field].find(function (fieldName) {\n                          return fieldName === _this8.default_expression_fields_on_update[i].name;\n                        })\n                      );\n                    });\n                    // id current field has a Array (at least one) dependency fields\n                    // need to evaluate its value and after evaluate field value expression\n\n                    _loop2 = /*#__PURE__*/regeneratorRuntime.mark(function _loop2(_i) {\n                      var value;\n                      return regeneratorRuntime.wrap(function _loop2$(_context) {\n                        while (1) {\n                          switch (_context.prev = _context.next) {\n                            case 0:\n                              if (!(\"undefined\" !== typeof alreadyRequestDefaultExpressionFields.find(function (name) {\n                                return name === dFs[_i];\n                              }))) {\n                                _context.next = 2;\n                                break;\n                              }\n\n                              return _context.abrupt('return', 'continue');\n\n                            case 2:\n                              _context.prev = 2;\n                              _context.next = 5;\n                              return _inputservice2.default.handleDefaultExpressionFormInput({\n                                field: _this8._getField(dFs[_i]),\n                                feature: _this8.feature,\n                                qgs_layer_id: _this8.layer.getId(),\n                                parentData: _this8.parentData\n                              });\n\n                            case 5:\n                              value = _context.sent;\n\n                              // update field with evaluated value to feature\n                              _this8.feature.set(dFs[_i], value);\n                              // add to array\n                              alreadyRequestDefaultExpressionFields.push(dFs[_i]);\n                              _context.next = 12;\n                              break;\n\n                            case 10:\n                              _context.prev = 10;\n                              _context.t0 = _context['catch'](2);\n\n                            case 12:\n                            case 'end':\n                              return _context.stop();\n                          }\n                        }\n                      }, _loop2, _this8, [[2, 10]]);\n                    });\n                    _i = 0;\n\n                  case 3:\n                    if (!(_i < dFs.length)) {\n                      _context2.next = 11;\n                      break;\n                    }\n\n                    return _context2.delegateYield(_loop2(_i), 't0', 5);\n\n                  case 5:\n                    _ret2 = _context2.t0;\n\n                    if (!(_ret2 === 'continue')) {\n                      _context2.next = 8;\n                      break;\n                    }\n\n                    return _context2.abrupt('continue', 8);\n\n                  case 8:\n                    _i++;\n                    _context2.next = 3;\n                    break;\n\n                  case 11:\n                  case 'end':\n                    return _context2.stop();\n                }\n              }\n            }, _loop, _this8);\n          });\n          i = 0;\n\n        case 8:\n          if (!(i < this.default_expression_fields_on_update.length)) {\n            _context3.next = 13;\n            break;\n          }\n\n          return _context3.delegateYield(_loop(i), 't0', 10);\n\n        case 10:\n          i++;\n          _context3.next = 8;\n          break;\n\n        case 13:\n\n          // array of defaultExpressionPromises request\n          defaultExpressionPromises = [];\n\n\n          this.default_expression_fields_on_update.forEach(function (field) {\n            if (\"undefined\" === typeof alreadyRequestDefaultExpressionFields.find(function (name) {\n              return name === field.name;\n            })) {\n              defaultExpressionPromises.push(_inputservice2.default.handleDefaultExpressionFormInput({\n                field: field,\n                feature: _this8.feature,\n                qgs_layer_id: _this8.layer.getId(),\n                parentData: _this8.parentData\n              }));\n            }\n          });\n\n          _context3.prev = 15;\n          _context3.next = 18;\n          return Promise.allSettled(defaultExpressionPromises);\n\n        case 18:\n          _context3.next = 22;\n          break;\n\n        case 20:\n          _context3.prev = 20;\n          _context3.t1 = _context3['catch'](15);\n\n        case 22:\n        case 'end':\n          return _context3.stop();\n      }\n    }\n  }, _callee, this, [[15, 20]]);\n}));\n\nmodule.exports = FormService;\n\n},{\"core/expression/inputservice\":10,\"core/g3wobject\":12,\"core/utils/utils\":68}],123:[function(require,module,exports){\nvar _Form = require('components/Form.vue');\n\nvar vueComponentOptions = _interopRequireWildcard(_Form);\n\nvar _FormBody = require('components/FormBody.vue');\n\nvar _FormBody2 = _interopRequireDefault(_FormBody);\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit;\n\nvar Component = require('gui/component/component');\nvar Service = require('gui/form/formservice');\n\nfunction FormComponent() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var _options$id = options.id,\n      id = _options$id === undefined ? 'form' : _options$id,\n      name = options.name,\n      title = options.title,\n      headerComponent = options.headerComponent;\n\n  base(this, options);\n  options.service = options.service ? new options.service() : new Service();\n  options.vueComponentObject = options.vueComponentObject || vueComponentOptions;\n  //set element of the form\n  var components = options.components || [{\n    id: id,\n    title: title,\n    name: name,\n    root: true,\n    component: _FormBody2.default,\n    headerComponent: headerComponent\n  }];\n  options.perc = options.layer.getFormPercentage() !== null ? options.layer.getFormPercentage() : options.perc;\n  // initialize component\n  this.init(options);\n  this.getService().addComponents(components);\n  this.getService().setComponent(components[0].component);\n  /**\n   * Used to add component to form body\n   * @param component\n   */\n  this.addBodyFormComponent = function () {\n    var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        component = _ref.component,\n        _ref$where = _ref.where,\n        where = _ref$where === undefined ? 'after' : _ref$where;\n\n    this.getInternalComponent().body.components[where].push(component);\n  };\n\n  this.addBodyFormComponents = function () {\n    var _this = this;\n\n    var _ref2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        _ref2$components = _ref2.components,\n        components = _ref2$components === undefined ? [] : _ref2$components,\n        _ref2$where = _ref2.where,\n        where = _ref2$where === undefined ? \"after\" : _ref2$where;\n\n    components.forEach(function (component) {\n      return _this.addBodyFormComponent({\n        component: component,\n        where: where\n      });\n    });\n  };\n\n  this.addFormComponents = function () {\n    var components = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n    this.getService().addComponents(components);\n  };\n\n  this.addFormComponent = function (component) {\n    component && this.getService().addComponent(component);\n  };\n  // some utilities methods\n  this.addDependecyComponents = function (components) {\n    this.getService().addDependecyComponents(components);\n  };\n  this.addComponentBeforeBody = function (Component) {\n    //this.getService().addedComponentTo('body');\n    //this.insertComponentAt(1, Component);\n  };\n\n  this.addComponentAfterBody = function (Component) {\n    //this.getService().addedComponentTo('body');\n    //this.insertComponentAt(2, Component)\n  };\n\n  this.addComponentBeforeFooter = function () {\n    //TODO\n  };\n\n  this.addComponentAfterFooter = function (Component) {\n    //TODO\n  };\n  // overwrite father mount method.\n  this.mount = function (parent, append) {\n    return base(this, 'mount', parent, append).then(function () {\n      // set modal window to true\n      _gui2.default.setModal(true);\n    });\n  };\n\n  this.layout = function () {\n    this.internalComponent.reloadLayout();\n  };\n}\n\ninherit(FormComponent, Component);\n\nmodule.exports = FormComponent;\n\n},{\"components/Form.vue\":214,\"components/FormBody.vue\":215,\"core/utils/utils\":68,\"gui/component/component\":117,\"gui/form/formservice\":122,\"services/gui\":361}],124:[function(require,module,exports){\nvar _require = require('core/utils/utils'),\n    inherit = _require.inherit,\n    base = _require.base;\n\nvar Service = require('gui/inputs/service');\n\nfunction CheckBoxService() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  var value = options.state.input.options.values.find(function (value) {\n    return value.checked === false;\n  });\n  options.validatorOptions = {\n    values: options.state.input.options.values.map(function (value) {\n      return value;\n    })\n  };\n  if (options.state.value === null && !options.state.forceNull) options.state.value = value.value;\n  base(this, options);\n}\n\ninherit(CheckBoxService, Service);\n\nvar proto = CheckBoxService.prototype;\n\nproto.convertCheckedToValue = function (checked) {\n  checked = checked === null || checked === undefined ? false : checked;\n  var option = this.state.input.options.values.find(function (value) {\n    return value.checked === checked;\n  });\n  this.state.value = option.value;\n  return this.state.value;\n};\n\nproto.convertValueToChecked = function () {\n  var valueToCheck = this.state.value;\n  if (valueToCheck === null || valueToCheck === undefined) return false;\n  var option = this.state.input.options.values.find(function (value) {\n    return value.value == valueToCheck;\n  });\n  if (option === undefined) {\n    option = this.state.input.options.values.find(function (value) {\n      return value.checked === false;\n    });\n    this.state.value = option.value;\n  }\n  return option.checked;\n};\n\nmodule.exports = CheckBoxService;\n\n},{\"core/utils/utils\":68,\"gui/inputs/service\":147}],125:[function(require,module,exports){\nvar _InputCheckbox = require('components/InputCheckbox.vue');\n\nvar vueComponentOptions = _interopRequireWildcard(_InputCheckbox);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nvar CheckBoxInput = Vue.extend(vueComponentOptions);\n\nmodule.exports = CheckBoxInput;\n\n},{\"components/InputCheckbox.vue\":235}],126:[function(require,module,exports){\nvar _InputColor = require('components/InputColor.vue');\n\nvar vueComponentOptions = _interopRequireWildcard(_InputColor);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nvar TextInput = Vue.extend(vueComponentOptions);\n\nmodule.exports = TextInput;\n\n},{\"components/InputColor.vue\":236}],127:[function(require,module,exports){\nvar _application = require('services/application');\n\nvar _application2 = _interopRequireDefault(_application);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar _require = require('core/utils/utils'),\n    inherit = _require.inherit,\n    base = _require.base,\n    convertQGISDateTimeFormatToMoment = _require.convertQGISDateTimeFormatToMoment;\n\nvar Service = require('gui/inputs/service');\n\nfunction DateTimePickerService() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  this.validatorOptions = {};\n  base(this, options);\n}\n\ninherit(DateTimePickerService, Service);\n\nvar proto = DateTimePickerService.prototype;\n\nproto.getLocale = function () {\n  var applicationConfig = _application2.default.getConfig();\n  return applicationConfig.user.i18n ? applicationConfig.user.i18n : 'en';\n};\n\nproto.convertQGISDateTimeFormatToMoment = function (datetimeformat) {\n  return convertQGISDateTimeFormatToMoment(datetimeformat);\n};\n\nproto.setValidatorOptions = function (options) {\n  this.validatorOptions = options;\n};\n\nmodule.exports = DateTimePickerService;\n\n},{\"core/utils/utils\":68,\"gui/inputs/service\":147,\"services/application\":351}],128:[function(require,module,exports){\nvar _InputDateTimePicker = require('components/InputDateTimePicker.vue');\n\nvar vueComponentOptions = _interopRequireWildcard(_InputDateTimePicker);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nvar DateTimePickerInput = Vue.extend(vueComponentOptions);\n\nmodule.exports = DateTimePickerInput;\n\n},{\"components/InputDateTimePicker.vue\":237}],129:[function(require,module,exports){\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit;\n\nvar Service = require('gui/inputs/service');\n\nfunction FloatService() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  base(this, options);\n}\n\ninherit(FloatService, Service);\n\nmodule.exports = FloatService;\n\n},{\"core/utils/utils\":68,\"gui/inputs/service\":147}],130:[function(require,module,exports){\nvar _InputFloat = require('components/InputFloat.vue');\n\nvar vueComponentOptions = _interopRequireWildcard(_InputFloat);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nvar FloatInput = Vue.extend(vueComponentOptions);\n\nmodule.exports = FloatInput;\n\n},{\"components/InputFloat.vue\":238}],131:[function(require,module,exports){\nvar _applicationState = require('store/application-state');\n\nvar _applicationState2 = _interopRequireDefault(_applicationState);\n\nvar _InputBase = require('components/InputBase.vue');\n\nvar _InputBase2 = _interopRequireDefault(_InputBase);\n\nvar _mixins = require('mixins');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar InputServices = require('./services');\n\nvar Input = {\n  props: ['state'],\n  mixins: [_mixins.baseInputMixin],\n  components: {\n    'baseinput': _InputBase2.default\n  },\n  watch: {\n    'notvalid': function notvalid(_notvalid) {\n      _notvalid && this.service.setErrorMessage(this.state);\n    },\n    'state.value': function stateValue() {\n      var _this = this;\n\n      if (\"undefined\" !== typeof this.state.input.options.default_expression) {\n        // need to postpone state.value watch parent that use mixin\n        setTimeout(function () {\n          return _this.change();\n        });\n      }\n    }\n  },\n  created: function created() {\n    var _this2 = this;\n\n    this.service = new InputServices[this.state.input.type]({\n      state: this.state\n    });\n    this.$watch(function () {\n      return _applicationState2.default.language;\n    }, function () {\n      return _this2.service.setErrorMessage(_this2.state);\n    });\n    this.state.editable && this.state.validate.required && this.service.validate();\n    this.$emit('addinput', this.state);\n    /**\n     * in case of input value is fill with default value option we need to emit changeinput event\n     * without check validation. Example:\n     * {\n        \"name\": \"id\",\n        \"type\": \"integer\",\n        \"label\": \"id\",\n        \"editable\": false,\n        \"validate\": {\n            \"required\": true,\n            \"unique\": true\n        },\n        \"pk\": true,\n        \"default\": \"nextval('g3wsuite.zone_id_seq'::regclass)\",\n        \"input\": {\n            \"type\": \"text\",\n            \"options\": {}\n        }\n      }\n     in this case if we start a validation, it fail because default value is a string while input is interger\n     */\n    this.state.value_from_default_value && this.$emit('changeinput', this.state);\n  },\n  destroyed: function destroyed() {\n    // emit remove input to form (in case for example tab visibility condition)\n    this.$emit('removeinput', this.state);\n  }\n};\n\nmodule.exports = Input;\n\n},{\"./services\":148,\"components/InputBase.vue\":234,\"mixins\":343,\"store/application-state\":373}],132:[function(require,module,exports){\nvar InputsComponents = {\n  'text_input': require('./text/vue/text'),\n  'texthtml_input': require('./texthtml/vue/texthtml'),\n  'textarea_input': require('./textarea/vue/textarea'),\n  'integer_input': require('./integer/vue/integer'),\n  'string_input': require('./text/vue/text'), //temporary\n  'float_input': require('./float/vue/float'),\n  'radio_input': require('./radio/vue/radio'),\n  'check_input': require('./checkbox/vue/checkbox'),\n  'range_input': require('./range/vue/range'),\n  'datetimepicker_input': require('./datetimepicker/vue/datetimepicker'),\n  'unique_input': require('./unique/vue/unique'),\n  'select_input': require('./select/vue/select'),\n  'media_input': require('./media/vue/media'),\n  'select_autocomplete_input': require('./select/vue/select'),\n  'picklayer_input': require('./picklayer/vue/picklayer'),\n  'color_input': require('./color/vue/color'),\n  'slider_input': require('./sliderrange/vue/sliderrange'),\n  'lonlat_input': require('./lonlat/vue/lonlat')\n};\n\nmodule.exports = InputsComponents;\n\n},{\"./checkbox/vue/checkbox\":125,\"./color/vue/color\":126,\"./datetimepicker/vue/datetimepicker\":128,\"./float/vue/float\":130,\"./integer/vue/integer\":134,\"./lonlat/vue/lonlat\":136,\"./media/vue/media\":138,\"./picklayer/vue/picklayer\":140,\"./radio/vue/radio\":142,\"./range/vue/range\":144,\"./select/vue/select\":146,\"./sliderrange/vue/sliderrange\":150,\"./text/vue/text\":151,\"./textarea/vue/textarea\":152,\"./texthtml/vue/texthtml\":153,\"./unique/vue/unique\":155}],133:[function(require,module,exports){\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit;\n\nvar Service = require('gui/inputs/service');\n\nfunction IntegerService() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  base(this, options);\n}\n\ninherit(IntegerService, Service);\n\nmodule.exports = IntegerService;\n\n},{\"core/utils/utils\":68,\"gui/inputs/service\":147}],134:[function(require,module,exports){\nvar _InputInteger = require('components/InputInteger.vue');\n\nvar vueComponentOptions = _interopRequireWildcard(_InputInteger);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nvar IntegerInput = Vue.extend(vueComponentOptions);\n\nmodule.exports = IntegerInput;\n\n},{\"components/InputInteger.vue\":241}],135:[function(require,module,exports){\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit;\n\nvar Service = require('gui/inputs/service');\n\nfunction LonLatService() {\n  var _this = this;\n\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  base(this, options);\n  this.coordinatebutton;\n  this.mapService = _gui2.default.getComponent('map').getService();\n  this.mapEpsg = this.mapService.getCrs();\n  this.mapControlToggleEventHandler = function (evt) {\n    if (evt.target.isToggled() && evt.target.isClickMap()) {\n      _this.coordinatebutton.active && _this.toggleGetCoordinate();\n    }\n  };\n  this.map = _gui2.default.getComponent('map').getService().getMap();\n  this.outputEpsg = this.state.epsg || this.mapEpsg;\n  this.eventMapKey;\n}\n\ninherit(LonLatService, Service);\n\nvar proto = LonLatService.prototype;\n\nproto.setCoordinateButtonReactiveObject = function (coordinatebutton) {\n  this.coordinatebutton = coordinatebutton;\n};\n\nproto.validate = function () {\n  if (this.state.values.lon < -180) this.state.values.lon = -180;else if (this.state.values.lon > 180) this.state.values.lon = 180;\n  if (this.state.values.lat < -90) this.state.values.lon = -90;else if (this.state.values.lat > 90) this.state.values.lon = 90;\n  this.state.validate.valid = !Number.isNaN(1 * this.state.values.lon);\n};\n\nproto.toggleGetCoordinate = function () {\n  this.coordinatebutton.active = !this.coordinatebutton.active;\n  this.coordinatebutton.active ? this.startToGetCoordinates() : this.stopToGetCoordinates();\n};\n\nproto.startToGetCoordinates = function () {\n  var _this2 = this;\n\n  this.mapService.deactiveMapControls();\n  this.mapService.on('mapcontrol:toggled', this.mapControlToggleEventHandler);\n  this.eventMapKey = this.map.on('click', function (evt) {\n    evt.originalEvent.stopPropagation();\n    evt.preventDefault();\n    var coordinate = _this2.mapEpsg !== _this2.outputEpsg ? ol.proj.transform(evt.coordinate, _this2.mapEpsg, _this2.outputEpsg) : evt.coordinate;\n    _this2.state.value = [coordinate];\n\n    var _coordinate = _slicedToArray(coordinate, 2),\n        lon = _coordinate[0],\n        lat = _coordinate[1];\n\n    _this2.state.values.lon = lon;\n    _this2.state.values.lat = lat;\n  });\n};\n\nproto.stopToGetCoordinates = function () {\n  ol.Observable.unByKey(this.eventMapKey);\n  this.mapService.off('mapcontrol:toggled', this.mapControlToggleEventHandler);\n};\n\nproto.clear = function () {\n  this.stopToGetCoordinates();\n};\n\nmodule.exports = LonLatService;\n\n},{\"core/utils/utils\":68,\"gui/inputs/service\":147,\"services/gui\":361}],136:[function(require,module,exports){\nvar _InputLonLat = require('components/InputLonLat.vue');\n\nvar vueComponentOptions = _interopRequireWildcard(_InputLonLat);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nvar LatLontInput = Vue.extend(vueComponentOptions);\n\nmodule.exports = LatLontInput;\n\n},{\"components/InputLonLat.vue\":242}],137:[function(require,module,exports){\nvar _require = require('core/utils/utils'),\n    inherit = _require.inherit,\n    base = _require.base;\n\nvar Service = require('gui/inputs/service');\n\nfunction MediaService() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  base(this, options);\n}\n\ninherit(MediaService, Service);\n\nmodule.exports = MediaService;\n\n},{\"core/utils/utils\":68,\"gui/inputs/service\":147}],138:[function(require,module,exports){\nvar _InputMedia = require('components/InputMedia.vue');\n\nvar vueComponentOptions = _interopRequireWildcard(_InputMedia);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nvar MediaInput = Vue.extend(vueComponentOptions);\n\nmodule.exports = MediaInput;\n\n},{\"components/InputMedia.vue\":243}],139:[function(require,module,exports){\nvar _mapLayers = require('store/map-layers');\n\nvar _mapLayers2 = _interopRequireDefault(_mapLayers);\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar PickFeatureInteraction = require('g3w-ol/interactions/pickfeatureinteraction');\nvar PickCoordinatesInteraction = require('g3w-ol/interactions/pickcoordinatesinteraction');\n\nvar _require = require('core/utils/geo'),\n    getQueryLayersPromisesByCoordinates = _require.getQueryLayersPromisesByCoordinates;\n\nfunction PickLayerService() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  this.pick_type = options.pick_type || 'wms';\n  this.ispicked = false;\n  this.fields = options.fields || [options.value];\n  this.layerId = options.layer_id;\n  this.mapService = _gui2.default.getService('map');\n  this.interaction = this.pick_type === 'map' ? new PickFeatureInteraction({\n    layers: [this.mapService.getLayerById(this.layerId)]\n  }) : new PickCoordinatesInteraction();\n}\n\nvar proto = PickLayerService.prototype;\n\nproto.isPicked = function () {\n  return this.ispicked;\n};\n\n//bind interrupt event\nproto.escKeyUpHandler = function (_ref) {\n  var keyCode = _ref.keyCode,\n      owner = _ref.data.owner;\n\n  keyCode === 27 && owner.unpick();\n};\n\nproto.unbindEscKeyUp = function () {\n  $(document).unbind('keyup', this.escKeyUpHandler);\n};\n\nproto.bindEscKeyUp = function () {\n  $(document).on('keyup', { owner: this }, this.escKeyUpHandler);\n};\n\nproto.pick = function () {\n  var _this = this;\n\n  return new Promise(function (resolve, reject) {\n    _this.bindEscKeyUp();\n    var values = {};\n    _this.ispicked = true;\n    var afterPick = function afterPick(feature) {\n      if (feature) {\n        var attributes = feature.getProperties();\n        _this.fields.forEach(function (field) {\n          values[field] = attributes[field];\n        });\n        resolve(values);\n      } else reject();\n      _this.ispicked = false;\n      _this.unpick();\n    };\n    _gui2.default.setModal(false);\n    _this.mapService.addInteraction(_this.interaction);\n    _this.interaction.once('picked', function (event) {\n      if (_this.pick_type === 'map') {\n        var feature = event.feature;\n        afterPick(feature);\n      } else if (_this.pick_type === 'wms') {\n        var layer = _mapLayers2.default.getLayerById(_this.layerId);\n        if (layer) {\n          getQueryLayersPromisesByCoordinates([layer], {\n            map: _this.mapService.getMap(),\n            feature_count: 1,\n            coordinates: event.coordinate\n          }).then(function (response) {\n            var _response$0$data = response[0].data,\n                data = _response$0$data === undefined ? [] : _response$0$data;\n\n            var feature = data.length && data[0].features[0] || null;\n            afterPick(feature);\n          });\n        }\n      }\n    });\n  });\n};\n\nproto.unpick = function () {\n  this.mapService.removeInteraction(this.interaction);\n  _gui2.default.setModal(true);\n  this.unbindEscKeyUp();\n  this.ispicked = false;\n};\n\nproto.clear = function () {\n  this.isPicked() && this.unpick();\n  this.mapService = this.interaction = this.field = null;\n};\n\nmodule.exports = PickLayerService;\n\n},{\"core/utils/geo\":64,\"g3w-ol/interactions/pickcoordinatesinteraction\":105,\"g3w-ol/interactions/pickfeatureinteraction\":106,\"services/gui\":361,\"store/map-layers\":377}],140:[function(require,module,exports){\nvar _InputPickLayer = require('components/InputPickLayer.vue');\n\nvar vueComponentOptions = _interopRequireWildcard(_InputPickLayer);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nvar PickLayerInput = Vue.extend(vueComponentOptions);\n\nmodule.exports = PickLayerInput;\n\n},{\"components/InputPickLayer.vue\":244}],141:[function(require,module,exports){\nvar _require = require('core/utils/utils'),\n    inherit = _require.inherit,\n    base = _require.base;\n\nvar Service = require('gui/inputs/service');\n\nfunction RadioService() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  base(this, options);\n}\n\ninherit(RadioService, Service);\n\nmodule.exports = RadioService;\n\n},{\"core/utils/utils\":68,\"gui/inputs/service\":147}],142:[function(require,module,exports){\nvar _InputRadio = require('components/InputRadio.vue');\n\nvar vueComponentOptions = _interopRequireWildcard(_InputRadio);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nvar RadioInput = Vue.extend(vueComponentOptions);\n\nmodule.exports = RadioInput;\n\n},{\"components/InputRadio.vue\":245}],143:[function(require,module,exports){\nvar _require = require('core/utils/utils'),\n    inherit = _require.inherit,\n    base = _require.base;\n\nvar Service = require('gui/inputs/service');\nvar Validators = require('core/utils/validators');\n\nfunction RangeService() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var _options$state$input$ = options.state.input.options.values[0],\n      min = _options$state$input$.min,\n      max = _options$state$input$.max;\n\n  options.state.info = '[MIN: ' + min + ' - MAX: ' + max + ']';\n  base(this, options);\n  var validator = Validators.get('range', {\n    min: 1 * min,\n    max: 1 * max\n  });\n  this.setValidator(validator);\n}\n\ninherit(RangeService, Service);\n\nvar proto = Service.prototype;\n\nproto.isValueInRange = function (value, min, max) {\n  return value <= max && value >= min;\n};\n\nmodule.exports = RangeService;\n\n},{\"core/utils/utils\":68,\"core/utils/validators\":69,\"gui/inputs/service\":147}],144:[function(require,module,exports){\nvar _InputRange = require('components/InputRange.vue');\n\nvar vueComponentOptions = _interopRequireWildcard(_InputRange);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nvar RangeInput = Vue.extend(vueComponentOptions);\n\nmodule.exports = RangeInput;\n\n},{\"components/InputRange.vue\":246}],145:[function(require,module,exports){\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _catalogLayers = require('store/catalog-layers');\n\nvar _catalogLayers2 = _interopRequireDefault(_catalogLayers);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar _require = require('core/utils/utils'),\n    inherit = _require.inherit,\n    base = _require.base;\n\nvar Service = require('gui/inputs/service');\n\nfunction SelectService() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  base(this, options);\n  this.layer = null;\n}\n\ninherit(SelectService, Service);\n\nvar proto = SelectService.prototype;\n\nproto._getLayerById = function (layer_id) {\n  return _catalogLayers2.default.getLayerById(layer_id);\n};\n\nproto.addValue = function (value) {\n  this.state.input.options.values.push(value);\n};\n\nproto.getKeyByValue = function () {\n  var _this = this;\n\n  var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      search = _ref.search;\n\n  var options = this.state.input.options;\n  var value = options.value,\n      key = options.key;\n\n  this.getData({\n    key: value,\n    value: key,\n    search: search\n  }).then(function (arrayValues) {\n    var _arrayValues = _slicedToArray(arrayValues, 1),\n        _value = _arrayValues[0];\n\n    var key = _value.$value,\n        value = _value.text;\n\n    _this.addValue({\n      key: key,\n      value: value\n    });\n  }).catch(function (err) {\n    return console.log(err);\n  });\n};\n\nproto.getData = function () {\n  var _this2 = this;\n\n  var _ref2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      _ref2$layer_id = _ref2.layer_id,\n      layer_id = _ref2$layer_id === undefined ? this.state.input.options.layer_id : _ref2$layer_id,\n      _ref2$key = _ref2.key,\n      key = _ref2$key === undefined ? this.state.input.options.key : _ref2$key,\n      _ref2$value = _ref2.value,\n      value = _ref2$value === undefined ? this.state.input.options.value : _ref2$value,\n      search = _ref2.search;\n\n  var search_value = (key + '|' + search).trim();\n  return new Promise(function (resolve, reject) {\n    if (!_this2._layer) _this2._layer = _this2._getLayerById(layer_id);\n    _this2._layer.getDataTable({\n      suggest: search_value,\n      ordering: key\n    }).then(function (response) {\n      var values = [];\n      var features = response.features;\n      for (var i = 0; i < features.length; i++) {\n        values.push({\n          text: features[i].properties[key],\n          id: i,\n          $value: features[i].properties[value]\n        });\n      }\n      resolve(values);\n    }).fail(function (err) {\n      return reject(err);\n    });\n  });\n};\n\nmodule.exports = SelectService;\n\n},{\"core/utils/utils\":68,\"gui/inputs/service\":147,\"store/catalog-layers\":374}],146:[function(require,module,exports){\nvar _InputSelect = require('components/InputSelect.vue');\n\nvar vueComponentOptions = _interopRequireWildcard(_InputSelect);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nvar SelectInput = Vue.extend(vueComponentOptions);\n\nmodule.exports = SelectInput;\n\n},{\"components/InputSelect.vue\":247}],147:[function(require,module,exports){\nvar Validators = require('core/utils/validators');\n\nvar _require = require('core/utils/utils'),\n    toRawType = _require.toRawType;\n\nvar _require2 = require('core/i18n/i18n.service'),\n    t = _require2.t;\n\nfunction Service() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  // set state of input\n  this.state = options.state || {};\n  // type of input\n  //this.state.validate.required && this.setValue(this.state.value);\n  /*\n  * set starting value of input based on value or default value on options\n   */\n  this.setValue(this.state.value);\n  this.setEmpty(this.state.value);\n  var type = this.state.type;\n  var validatorOptions = options.validatorOptions || this.state.input.options || {};\n  // useful for the validator to validate input\n  this._validator = Validators.get(type, validatorOptions);\n  this.setErrorMessage(options.state);\n}\n\nvar proto = Service.prototype;\n\nproto.getState = function () {\n  return this.state;\n};\n\nproto.getValue = function () {\n  return this.state.value;\n};\n\n/**\n * @param value\n *\n * @returns {void}\n */\nproto.setValue = function (value) {\n\n  if (null !== value || undefined !== value) {\n    return;\n  }\n\n  var options = this.state.input.options;\n\n  var default_value = options.default;\n\n  /** @TODO (maybe need to removed in v3.9.0) double check G3W-ADMIN server configuration. */\n  if (Array.isArray(options)) {\n    if (options[0].default) {\n      default_value = options[0].default;\n    } else if (Array.isArray(options.values) && options.values.length > 0) {\n      default_value = options.values[0] && (options.values[0].value || options.values[0]);\n    }\n  }\n\n  // check if default value is set\n  var get_default_value = this.state.get_default_value && // ref: core/layers/tablelayer.js::getFieldsWithValues()\n  undefined !== default_value && null !== default_value;\n\n  // check if we can state.check get_default_value from input.options.default is set\n  if (get_default_value && undefined === options.default_expression) {\n    this.state.value = default_value;\n  }\n\n  this.state.value_from_default_value = get_default_value;\n};\n\nproto.addValueToValues = function (value) {\n  this.state.input.options.values.unshift(value);\n};\n\nproto._getValidatorType = function () {\n  return this.state.type;\n};\n\nproto.setState = function () {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  this.state = _.isObject(state) ? state : {};\n};\n\n// return validator\nproto.getValidator = function () {\n  return this._validator;\n};\n\nproto.setValidator = function (validator) {\n  this._validator = validator;\n};\n\nproto.setEmpty = function () {\n  this.state.validate.empty = !(Array.isArray(this.state.value) && this.state.value.length || !_.isEmpty(_.trim(this.state.value)));\n};\n\n// general method to check the value of the state is valid or not\nproto.validate = function () {\n  if (this.state.validate.empty) {\n    this.state.validate.empty = true;\n    this.state.value = null;\n    this.state.validate.unique = true;\n    // check if require or check validation\n    this.state.validate.valid = this.state.validate.required ? false : this._validator.validate(this.state.value);\n  } else {\n    if (this.state.input.type === 'integer' || this.state.input.type === 'float') {\n      if (+this.state.value < 0) {\n        this.state.value = null;\n        this.state.validate.empty = true;\n        this.state.validate.valid = !this.state.validate.required;\n      } else this.state.validate.valid = this._validator.validate(this.state.value);\n    }\n    if (this.state.validate.exclude_values && this.state.validate.exclude_values.size) {\n      this.state.validate.valid = !this.state.validate.exclude_values.has(this.state.value);\n    } else this.state.validate.valid = this._validator.validate(this.state.value);\n  }\n  return this.state.validate.valid;\n};\n\nproto.setErrorMessage = function (input) {\n  var message = void 0;\n  if (input.validate.mutually && !input.validate.mutually_valid) this.state.validate.message = t(\"sdk.form.inputs.input_validation_mutually_exclusive\") + ' ( ' + input.validate.mutually.join(',') + ' )';else if (input.validate.max_field) this.state.validate.message = t(\"sdk.form.inputs.input_validation_max_field\") + ' (' + input.validate.max_field + ')';else if (input.validate.min_field) this.state.validate.message = t(\"sdk.form.inputs.input_validation_min_field\") + ' (' + input.validate.min_field + ')';else if (input.validate.unique && input.validate.exclude_values && input.validate.exclude_values.size) this.state.validate.message = '' + t(\"sdk.form.inputs.input_validation_exclude_values\");else if (input.validate.required) {\n    message = t(\"sdk.form.inputs.input_validation_error\") + ' ( ' + t(\"sdk.form.inputs.\" + input.type) + ' )';\n    if (this.state.info) {\n      message = message + '\\n                 <div>\\n                  <b>' + this.state.info + '</b>\\n                 </div>         \\n      ';\n    }\n    this.state.validate.message = this.state.info || message;\n  } else this.state.validate.message = this.state.info;\n};\n/**\n * Method to set update\n */\nproto.setUpdate = function () {\n  var _state = this.state,\n      value = _state.value,\n      _value = _state._value;\n\n  if (this.state.input.type === 'media' && toRawType(value) !== 'Object' && toRawType(_value) !== 'Object') {\n    this.state.update = value.value != _value.value;\n  } else if (this.state.input.type === \"datetimepicker\") {\n    //check\n    this.state.update = (null !== value ? value.toUpperCase() : value) != (_value ? _value.toUpperCase() : _value);\n  } else {\n    this.state.update = value != _value;\n  }\n};\n\nmodule.exports = Service;\n\n},{\"core/i18n/i18n.service\":13,\"core/utils/utils\":68,\"core/utils/validators\":69}],148:[function(require,module,exports){\nvar InputsServices = {\n  'text': require('./service'),\n  'textarea': require('./service'),\n  'texthtml': require('./service'),\n  'integer': require('./integer/service'),\n  'string': require('./service'),\n  'float': require('./float/service'),\n  'radio': require('./radio/service'),\n  'check': require('./checkbox/service'),\n  'range': require('./range/service'),\n  'datetimepicker': require('./datetimepicker/service'),\n  'unique': require('./unique/service'),\n  'select': require('./select/service'),\n  'media': require('./media/service'),\n  'select_autocomplete': require('./select/service'),\n  'picklayer': require('./service'),\n  'color': require('./service'),\n  'slider': require('./sliderrange/service'),\n  'lonlat': require('./lonlat/service')\n};\n\nmodule.exports = InputsServices;\n\n},{\"./checkbox/service\":124,\"./datetimepicker/service\":127,\"./float/service\":129,\"./integer/service\":133,\"./lonlat/service\":135,\"./media/service\":137,\"./radio/service\":141,\"./range/service\":143,\"./select/service\":145,\"./service\":147,\"./sliderrange/service\":149,\"./unique/service\":154}],149:[function(require,module,exports){\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit;\n\nvar Service = require('gui/inputs/service');\nvar Validators = require('core/utils/validators');\n\nfunction SliderRangeService() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var state = options.state;\n\n  options.state.info = '[MIN: ' + state.input.options.min + ' - MAX: ' + state.input.options.max + ']';\n  base(this, options);\n  var validator = Validators.get('range', {\n    min: 1 * state.input.options.min,\n    max: 1 * state.input.options.max\n  });\n  this.setValidator(validator);\n  this.validate = function () {\n    this.state.value = 1 * this.state.value;\n    this.state.validate.valid = this.state.value >= this.state.input.options.min || this.state.value <= this.state.input.options.max;\n  };\n}\n\ninherit(SliderRangeService, Service);\n\nvar proto = SliderRangeService.prototype;\n\nproto.changeInfoMessage = function () {\n  this.state.info = '[MIN: ' + this.state.input.options.min + ' - MAX: ' + this.state.input.options.max + ']';\n};\n\nmodule.exports = SliderRangeService;\n\n},{\"core/utils/utils\":68,\"core/utils/validators\":69,\"gui/inputs/service\":147}],150:[function(require,module,exports){\nvar _InputSliderRange = require('components/InputSliderRange.vue');\n\nvar vueComponentOptions = _interopRequireWildcard(_InputSliderRange);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nvar RangeInput = Vue.extend(vueComponentOptions);\n\nmodule.exports = RangeInput;\n\n},{\"components/InputSliderRange.vue\":248}],151:[function(require,module,exports){\nvar _InputText = require('components/InputText.vue');\n\nvar vueComponentOptions = _interopRequireWildcard(_InputText);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nvar TextInput = Vue.extend(vueComponentOptions);\n\nmodule.exports = TextInput;\n\n},{\"components/InputText.vue\":249}],152:[function(require,module,exports){\nvar _InputTextArea = require('components/InputTextArea.vue');\n\nvar vueComponentOptions = _interopRequireWildcard(_InputTextArea);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nvar TextAreaInput = Vue.extend(vueComponentOptions);\n\nmodule.exports = TextAreaInput;\n\n},{\"components/InputTextArea.vue\":250}],153:[function(require,module,exports){\nvar _InputTextHtml = require('components/InputTextHtml.vue');\n\nvar vueComponentOptions = _interopRequireWildcard(_InputTextHtml);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nvar TextHtmlInput = Vue.extend(vueComponentOptions);\n\nmodule.exports = TextHtmlInput;\n\n},{\"components/InputTextHtml.vue\":251}],154:[function(require,module,exports){\nvar _require = require('core/utils/utils'),\n    inherit = _require.inherit,\n    base = _require.base;\n\nvar Service = require('gui/inputs/service');\n\nfunction UniqueService() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  base(this, options);\n}\n\ninherit(UniqueService, Service);\n\nmodule.exports = UniqueService;\n\n},{\"core/utils/utils\":68,\"gui/inputs/service\":147}],155:[function(require,module,exports){\nvar _InputUnique = require('components/InputUnique.vue');\n\nvar vueComponentOptions = _interopRequireWildcard(_InputUnique);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nvar UniqueInput = Vue.extend(vueComponentOptions);\n\nmodule.exports = UniqueInput;\n\n},{\"components/InputUnique.vue\":252}],156:[function(require,module,exports){\nvar ResetControl = require('g3w-ol/controls/resetcontrol');\nvar QueryControl = require('g3w-ol/controls/querycontrol');\nvar ZoomBoxControl = require('g3w-ol/controls/zoomboxcontrol');\nvar QueryBBoxControl = require('g3w-ol/controls/querybboxcontrol');\nvar QueryByPolygonControl = require('g3w-ol/controls/querybypolygoncontrol');\nvar GeolocationControl = require('g3w-ol/controls/geolocationcontrol');\nvar StreetViewControl = require('g3w-ol/controls/streetviewcontrol');\nvar AddLayersControl = require('g3w-ol/controls/addlayers');\nvar LengthControl = require('g3w-ol/controls/lengthcontrol');\nvar AreaControl = require('g3w-ol/controls/areacontrol');\nvar OLControl = require('g3w-ol/controls/olcontrol');\nvar GeocodingControl = require('g3w-ol/controls/geocodingcontrol');\nvar MousePositionControl = require('g3w-ol/controls/mousepositioncontrol');\nvar ScaleControl = require('g3w-ol/controls/scalecontrol');\nvar OnClikControl = require('g3w-ol/controls/onclickcontrol');\nvar ScreenshotControl = require('g3w-ol/controls/screenshotcontrol');\nvar geoScreenshotControl = require('g3w-ol/controls/geoscreenshotcontrol');\nvar ZoomHistoryControl = require('g3w-ol/controls/zoomhistorycontrol');\nvar QueryByDrawPolygonControl = require('g3w-ol/controls/querybydrawpolygoncontrol');\n\nvar ControlsFactory = {\n  create: function create() {\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    var ControlClass = ControlsFactory.CONTROLS[options.type];\n    if (ControlClass) return new ControlClass(options);\n  }\n};\n\nControlsFactory.CONTROLS = {\n  'reset': ResetControl,\n  'zoombox': ZoomBoxControl,\n  'zoomtoextent': OLControl,\n  'query': QueryControl,\n  'querybbox': QueryBBoxControl,\n  'querybypolygon': QueryByPolygonControl,\n  'geolocation': GeolocationControl,\n  'streetview': StreetViewControl,\n  'zoom': OLControl,\n  'scaleline': OLControl,\n  'overview': OLControl,\n  'geocoding': GeocodingControl,\n  'addlayers': AddLayersControl,\n  'length': LengthControl,\n  'area': AreaControl,\n  'mouseposition': MousePositionControl,\n  'scale': ScaleControl,\n  'onclick': OnClikControl,\n  'screenshot': ScreenshotControl,\n  'geoscreenshot': geoScreenshotControl,\n  'querybydrawpolygon': QueryByDrawPolygonControl,\n\n  /**\n   * @since 3.8.0\n   */\n  'zoomhistory': ZoomHistoryControl,\n\n  /**\n   * @deprecated since version ??. Will be removed in version ??. Use 'geocoding' control instead.\n   */\n  'nominatim': GeocodingControl\n\n};\n\nmodule.exports = ControlsFactory;\n\n},{\"g3w-ol/controls/addlayers\":76,\"g3w-ol/controls/areacontrol\":77,\"g3w-ol/controls/geocodingcontrol\":80,\"g3w-ol/controls/geolocationcontrol\":81,\"g3w-ol/controls/geoscreenshotcontrol\":82,\"g3w-ol/controls/lengthcontrol\":84,\"g3w-ol/controls/mousepositioncontrol\":86,\"g3w-ol/controls/olcontrol\":87,\"g3w-ol/controls/onclickcontrol\":88,\"g3w-ol/controls/querybboxcontrol\":89,\"g3w-ol/controls/querybydrawpolygoncontrol\":90,\"g3w-ol/controls/querybypolygoncontrol\":91,\"g3w-ol/controls/querycontrol\":92,\"g3w-ol/controls/resetcontrol\":93,\"g3w-ol/controls/scalecontrol\":94,\"g3w-ol/controls/screenshotcontrol\":95,\"g3w-ol/controls/streetviewcontrol\":96,\"g3w-ol/controls/zoomboxcontrol\":98,\"g3w-ol/controls/zoomhistorycontrol\":99}],157:[function(require,module,exports){\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _constant = require('app/constant');\n\nvar _wms = require('gui/wms/vue/wms');\n\nvar _wms2 = _interopRequireDefault(_wms);\n\nvar _data = require('services/data');\n\nvar _data2 = _interopRequireDefault(_data);\n\nvar _mapLayers = require('store/map-layers');\n\nvar _mapLayers2 = _interopRequireDefault(_mapLayers);\n\nvar _projects = require('store/projects');\n\nvar _projects2 = _interopRequireDefault(_projects);\n\nvar _application = require('services/application');\n\nvar _application2 = _interopRequireDefault(_application);\n\nvar _mapControls = require('store/map-controls');\n\nvar _mapControls2 = _interopRequireDefault(_mapControls);\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar _require = require('core/i18n/i18n.service'),\n    t = _require.t;\n\nvar _require2 = require('core/utils/utils'),\n    inherit = _require2.inherit,\n    base = _require2.base,\n    copyUrl = _require2.copyUrl,\n    uniqueId = _require2.uniqueId,\n    throttle = _require2.throttle,\n    toRawType = _require2.toRawType,\n    createFilterFromString = _require2.createFilterFromString;\n\nvar G3WObject = require('core/g3wobject');\n\nvar _require3 = require('core/utils/geo'),\n    createVectorLayerFromFile = _require3.createVectorLayerFromFile,\n    createWMSLayer = _require3.createWMSLayer,\n    createSelectedStyle = _require3.createSelectedStyle,\n    getMapLayersByFilter = _require3.getMapLayersByFilter,\n    getGeoTIFFfromServer = _require3.getGeoTIFFfromServer;\n\nvar WFSProvider = require('core/layers/providers/wfsprovider');\nvar olhelpers = require('g3w-ol/g3w.ol').helpers;\n\nvar _require4 = require('core/utils/ol'),\n    getScaleFromResolution = _require4.getScaleFromResolution,\n    getResolutionFromScale = _require4.getResolutionFromScale;\n\nvar ControlsFactory = require('gui/map/control/factory');\nvar VectorLayer = require('core/layers/vectorlayer');\n\nvar SETTINGS = {\n  zoom: {\n    maxScale: 1000\n  },\n  animation: {\n    duration: 2000\n  }\n};\n\nfunction MapService() {\n  var _this = this;\n\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  this.state = {\n    mapUnits: 'm',\n    bbox: [],\n    hidemaps: [],\n    resolution: null,\n    center: null,\n    loading: false,\n    hidden: true,\n    scale: 0,\n    mapcontrolsalignement: 'rv',\n    mapcontrolDOM: null,\n    mapcontrolready: false,\n    mapcontrolSizes: {\n      height: 47,\n      width: 47,\n      minWidth: 47,\n      minHeight: 47\n    },\n    mapControl: {\n      grid: [],\n      length: 0,\n      currentIndex: 0,\n      update: true,\n      disabled: false\n    },\n    map_info: {\n      info: null,\n      style: null\n    },\n    mapunits: ['metric']\n  };\n  this.id = 'MapService';\n  this.viewer = null;\n  this.target = options.target || null;\n  this.layersCount = 0; // useful to set Zindex to layer order on map\n  this.maps_container = options.maps_container || null;\n  this._layersStoresEventKeys = {};\n  this._keyEvents = {\n    ol: [],\n    g3wobject: [],\n    eventemitter: []\n  };\n  this.project = null;\n  this._mapControls = [];\n  this._changeMapMapControls = [];\n  this._mapLayers = [];\n  this._externalMapLayers = [];\n  this._externalLayers = [];\n  // array where store interactions added from plugin or external from application\n  this._externalInteractions = [];\n  this.mapBaseLayers = {};\n  /**\n   * Default layers are OL layers that are add to map by default.\n   * Are used to show selection Features and/or highlight Layer feature\n   */\n  this.defaultsLayers = {\n    _style: {\n      highlightLayer: {\n        color: undefined\n      },\n      selectionLayer: {\n        color: 'red'\n      }\n    },\n    highlightLayer: new ol.layer.Vector({\n      source: new ol.source.Vector(),\n      style: function style(feature) {\n        var styles = [];\n        var geometryType = feature.getGeometry().getType();\n        var style = createSelectedStyle({\n          geometryType: geometryType,\n          color: _this.defaultsLayers._style.highlightLayer.color,\n          fill: false\n        });\n        styles.push(style);\n        return styles;\n      }\n    }),\n    selectionLayer: new ol.layer.Vector({\n      source: new ol.source.Vector(),\n      style: function style(feature) {\n        var styles = [];\n        var geometryType = feature.getGeometry().getType();\n        var style = createSelectedStyle({\n          geometryType: geometryType,\n          color: _this.defaultsLayers._style.selectionLayer.color,\n          fill: false\n        });\n        styles.push(style);\n        return styles;\n      }\n    })\n  };\n  this.layersExtraParams = {};\n  this._greyListenerKey = null;\n  this._drawShadow = {\n    type: 'coordinate',\n    outer: [],\n    inner: [],\n    scale: null,\n    rotation: null\n  };\n  this.config = options.config || _application2.default.getConfig();\n  this._howManyAreLoading = 0;\n  this._layersLoadingError = false;\n  // function to show spinner layers\n  this._incrementLoaders = function () {\n    if (_this._howManyAreLoading === 0) {\n      _this.emit('loadstart');\n      _gui2.default.showSpinner({\n        container: $('#map-spinner'),\n        id: 'maploadspinner',\n        style: 'transparent'\n      });\n    }\n    _this._howManyAreLoading += 1;\n  };\n\n  this._decrementLoaders = function () {\n    _this._howManyAreLoading -= 1;\n    if (_this._howManyAreLoading === 0) {\n      _this.emit('loadend');\n      _gui2.default.hideSpinner('maploadspinner');\n    }\n  };\n\n  this._mapLayerLoadError = function () {\n    if (!_this._layersLoadingError) {\n      _gui2.default.notify.warning('sdk.errors.layers.load');\n      _this._layersLoadingError = true;\n    }\n    _this._decrementLoaders();\n  };\n  if (options.project) this.project = options.project;else {\n    this.project = _projects2.default.getCurrentProject();\n    //on after setting current project\n    var keysetCurrentProject = _projects2.default.onafter('setCurrentProject', function (project) {\n      _this.removeLayers();\n      _this._removeListeners();\n      // check if reload same project\n      var isSameProject = _this.project.getId() === project.getId();\n      _this.project = project;\n      var changeProjectCallBack = function changeProjectCallBack() {\n        _this._resetView();\n        _this._setupAllLayers();\n        _this._checkMapControls();\n        _this.setUpMapOlEvents();\n        _this.setupCustomMapParamsToLegendUrl();\n      };\n      _application2.default.isIframe() && changeProjectCallBack();\n      isSameProject ? changeProjectCallBack() : _this.getMap().once('change:size', changeProjectCallBack);\n    });\n    this._keyEvents.g3wobject.push({\n      who: _projects2.default,\n      setter: 'setCurrentProject',\n      key: keysetCurrentProject\n    });\n  }\n  this._setupListeners();\n  this._marker = null;\n  this._bboxLayer = new ol.layer.Vector({\n    source: new ol.source.Vector({})\n  });\n  this.debounces = {\n    setupCustomMapParamsToLegendUrl: {\n      fnc: function fnc() {\n        _this._setupCustomMapParamsToLegendUrl.apply(_this, arguments);\n      },\n      delay: 1000\n    }\n  };\n  this.setters = {\n    setupControls: function setupControls() {\n      return this._setupControls();\n    },\n    addHideMap: function addHideMap() {\n      var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          ratio = _ref.ratio,\n          _ref$layers = _ref.layers,\n          layers = _ref$layers === undefined ? [] : _ref$layers,\n          _ref$mainview = _ref.mainview,\n          mainview = _ref$mainview === undefined ? false : _ref$mainview,\n          _ref$switchable = _ref.switchable,\n          switchable = _ref$switchable === undefined ? false : _ref$switchable;\n\n      var id = 'hidemap_' + Date.now();\n      var idMap = {\n        id: id,\n        map: null,\n        switchable: switchable\n      };\n      this.state.hidemaps.push(idMap);\n      return idMap;\n    },\n    updateMapView: function updateMapView(bbox, resolution, center) {\n      this.state.bbox = bbox;\n      this.state.resolution = resolution;\n      this.state.center = center;\n      this.updateMapLayers();\n    },\n    setHidden: function setHidden(bool) {\n      this.state.hidden = bool;\n    },\n    setupViewer: function setupViewer(width, height) {\n      if (width === 0 || height === 0) return;\n      if (this.viewer) {\n        this.viewer.destroy();\n        this.viewer = null;\n      }\n      this._setupViewer(width, height);\n      this.state.bbox = this.viewer.getBBOX();\n      this.state.resolution = this.viewer.getResolution();\n      this.state.center = this.viewer.getCenter();\n      this._setupAllLayers();\n      this.setUpMapOlEvents();\n      this.emit('viewerset');\n    },\n    controlClick: function controlClick(mapcontrol) {\n      var info = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    },\n    loadExternalLayer: function loadExternalLayer(layer) {},\n    // used in general to alert external layer is  loaded\n    unloadExternalLayer: function unloadExternalLayer(layer) {}\n  };\n\n  this._onCatalogSelectLayer = function (layer) {\n    _mapControls2.default.catalogSelectedLayer(layer);\n  };\n\n  this.on('cataloglayerselected', this._onCatalogSelectLayer);\n\n  this._keyEvents.eventemitter.push({\n    event: 'cataloglayerselected',\n    listener: this._onCatalogSelectLayer\n  });\n\n  var extraParamsSet = function extraParamsSet(extraParams, update) {\n    update && _this.getMapLayers().forEach(function (mapLayer) {\n      return mapLayer.update(_this.state, extraParams);\n    });\n  };\n\n  this.on('extraParamsSet', extraParamsSet);\n\n  this._keyEvents.eventemitter.push({\n    event: 'extraParamsSet',\n    listener: extraParamsSet\n  });\n\n  this.once('viewerset', function () {\n    //CHECK IF MAPLAYESRSTOREREGISTRY HAS LAYERSTORE\n    _mapLayers2.default.getLayersStores().forEach(function (layersStore) {\n      _this._setUpEventsKeysToLayersStore(layersStore);\n    });\n    // LISTEN ON EVERY ADDED LAYERSSTORE\n    _mapLayers2.default.onafter('addLayersStore', function (layersStore) {\n      _this._setUpEventsKeysToLayersStore(layersStore);\n    });\n    // LISTENER ON REMOVE LAYERSTORE\n    _mapLayers2.default.onafter('removeLayersStore', function (layerStore) {\n      _this._removeEventsKeysToLayersStore(layerStore);\n    });\n  });\n\n  base(this);\n}\n\ninherit(MapService, G3WObject);\n\nvar proto = MapService.prototype;\n\nproto.setUpMapOlEvents = function () {\n  var _this2 = this;\n\n  var dynamicLegend = this.project.getContextBaseLegend();\n  // set change resolution\n  this._keyEvents.ol.forEach(function (keyEvent) {\n    return ol.Observable.unByKey(keyEvent);\n  });\n  var keyolchangeresolution = this.viewer.map.getView().on(\"change:resolution\", function (evt) {\n    _this2._updateMapView();\n    dynamicLegend && _this2.setupCustomMapParamsToLegendUrl();\n  });\n  this._keyEvents.ol.push(keyolchangeresolution);\n  if (dynamicLegend) {\n    var keyolmoveeend = this.viewer.map.on(\"moveend\", function (evt) {\n      return _this2.setupCustomMapParamsToLegendUrl();\n    });\n    this._keyEvents.ol.push(keyolmoveeend);\n  } else this.setupCustomMapParamsToLegendUrl(); //set always to show legend at start\n};\n\n//clear methods to remove all listeners events\nproto.clear = function () {\n  var _this3 = this;\n\n  Object.keys(this._keyEvents).forEach(function (type) {\n    switch (type) {\n      case 'ol':\n        _this3._keyEvents[type].forEach(function (keyEvent) {\n          return ol.Observable.unByKey(keyEvent);\n        });\n        break;\n      case 'g3wobject':\n        _this3._keyEvents[type].forEach(function (eventObject) {\n          var who = eventObject.who,\n              setter = eventObject.setter,\n              key = eventObject.key;\n\n          who.un(setter, key);\n        });\n        break;\n      case 'eventemitter':\n        _this3._keyEvents[type].forEach(function (eventObject) {\n          var event = eventObject.event,\n              listener = eventObject.listener;\n\n          _this3.removeListener(event, listener);\n        });\n        break;\n    }\n  });\n  this._keyEvents = null;\n  _mapLayers2.default.getLayersStores().forEach(function (layerStore) {\n    _this3._removeEventsKeysToLayersStore(layerStore);\n  });\n};\n\nproto.showMapSpinner = function () {\n  _gui2.default.showSpinner({\n    container: $('#map-spinner'),\n    id: 'maploadspinner',\n    style: 'transparent'\n  });\n};\n\nproto.hideMapSpinner = function () {\n  _gui2.default.hideSpinner('maploadspinner');\n};\n\nproto.getScaleFromExtent = function (extent) {\n  var resolution = this.getMap().getView().getResolutionForExtent(extent, this.getMap().getSize());\n  var scale = getScaleFromResolution(resolution, this.getMapUnits());\n  return scale;\n};\n\nproto._addHideMap = function () {\n  var _ref2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      ratio = _ref2.ratio,\n      _ref2$layers = _ref2.layers,\n      layers = _ref2$layers === undefined ? [] : _ref2$layers,\n      _ref2$mainview = _ref2.mainview,\n      mainview = _ref2$mainview === undefined ? false : _ref2$mainview;\n\n  var idMap = this.state.hidemaps[this.state.hidemaps.length - 1];\n  var view = this.getMap().getView();\n  var view_options = {\n    projection: view.getProjection(),\n    center: view.getCenter(),\n    resolution: this.getResolution()\n  };\n  var viewer = olhelpers.createViewer({\n    id: idMap.id,\n    view: mainview ? view : view_options\n  });\n  // set Map\n  idMap.map = viewer.getMap();\n  // in case of rate\n  if (ratio) {\n    var _idMap$map$getSize = idMap.map.getSize(),\n        _idMap$map$getSize2 = _slicedToArray(_idMap$map$getSize, 2),\n        width = _idMap$map$getSize2[0],\n        height = _idMap$map$getSize2[1];\n\n    idMap.map.setSize([width, width * ratio]);\n  }\n\n  for (var i = 0; i < layers.length; i++) {\n    var layer = layers[i];\n    idMap.map.addLayer(layer);\n  }\n  return idMap.map;\n};\n\nproto.removeHideMap = function (id) {\n  var index = void 0;\n  for (var i = 0; i < this.state.hidemaps.length; i++) {\n    if (id === this.state.hidemaps[i].id) {\n      index = i;\n      break;\n    }\n  }\n  index !== undefined && this.state.hidemaps.splice(index, 1);\n};\n\nproto._showHideMapElement = function () {\n  var _ref3 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      map = _ref3.map,\n      _ref3$show = _ref3.show,\n      show = _ref3$show === undefined ? false : _ref3$show;\n\n  show ? $(map.getTargetElement()).addClass('show') : $(map.getTargetElement()).removeClass('show');\n};\n\nproto.createMapImage = function () {\n  var _this4 = this;\n\n  var _ref4 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      map = _ref4.map,\n      background = _ref4.background;\n\n  return new Promise(function (resolve, reject) {\n    try {\n      var canvas = _this4.getMapCanvas(map);\n      if (navigator.msSaveBlob) resolve(canvas.msToBlob());else canvas.toBlob(function (blob) {\n        return resolve(blob);\n      });\n    } catch (err) {\n      reject(err);\n    }\n  });\n};\n\nproto.getApplicationAttribution = function () {\n  var _config$group = this.config.group,\n      header_terms_of_use_link = _config$group.header_terms_of_use_link,\n      header_terms_of_use_text = _config$group.header_terms_of_use_text;\n\n  if (header_terms_of_use_text) {\n    return header_terms_of_use_link ? '<a href=\"' + header_terms_of_use_link + '\">' + header_terms_of_use_text + '</a>' : '<span class=\"skin-color\" style=\"font-weight: bold\">' + header_terms_of_use_text + '</span>';\n  } else return false;\n};\n\nproto.slaveOf = function (mapService, sameLayers) {\n  sameLayers = sameLayers || false;\n};\n\nproto.setLayersExtraParams = function (params, update) {\n  this.layersExtraParams = _.assign(this.layersExtraParams, params);\n  this.emit('extraParamsSet', params, update);\n};\n\nproto.getProject = function () {\n  return this.project;\n};\n\nproto.getMap = function () {\n  try {\n    return this.viewer.map;\n  } catch (err) {}\n};\n\nproto.getMapCanvas = function (map) {\n  var viewport = map ? map.getViewport() : $('#' + this.maps_container + ' .g3w-map').last().children('.ol-viewport')[0];\n  return $(viewport).children('canvas')[0];\n};\n\nproto.getProjection = function () {\n  return this.project.getProjection();\n};\n\nproto.isMapHidden = function () {\n  return this.state.hidden;\n};\n\nproto.isAxisOrientationInverted = function () {\n  return this.getProjection().getAxisOrientation() === 'neu' ? true : false;\n};\n\nproto.getCrs = function () {\n  return this.getProjection().getCode();\n};\n\nproto.getViewerElement = function () {\n  return this.viewer.map.getTargetElement();\n};\n\nproto.getViewport = function () {\n  return this.viewer.map.getViewport();\n};\n\nproto.getResolution = function () {\n  return this.viewer.map.getView().getResolution();\n};\n\nproto.getEpsg = function () {\n  return this.viewer.map.getView().getProjection().getCode();\n};\n\nproto.getGetFeatureInfoUrlForLayer = function (layer, coordinates, resolution, epsg, params) {\n  var mapLayer = this.getMapLayerForLayer(layer);\n  return mapLayer.getGetFeatureInfoUrl(coordinates, resolution, epsg, params);\n};\n\n/**\n * Show Marker on map\n * @param coordinates\n * @param duration\n */\nproto.showMarker = function (coordinates) {\n  var _this5 = this;\n\n  var duration = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1000;\n\n  this._marker.setPosition(coordinates);\n  setTimeout(function () {\n    return _this5._marker.setPosition();\n  }, duration);\n};\n\n// return layer by name\nproto.getLayerByName = function (name) {\n  return this.getMap().getLayers().getArray().find(function (lyr) {\n    return lyr.get('name') === name;\n  });\n};\n\n// return layer by id\nproto.getLayerById = function (id) {\n  return this.getMap().getLayers().getArray().find(function (layer) {\n    return layer.get('id') === id;\n  });\n};\n\n// method do get all feature from vector layer based on coordinates\nproto.getVectorLayerFeaturesFromCoordinates = function (layerId, coordinates) {\n  var intersectGeom = void 0;\n  var features = [];\n  var map = this.getMap();\n  var vectorLayer = this.getLayerById(layerId);\n  if (Array.isArray(coordinates)) {\n    if (coordinates.length === 2) {\n      var pixel = map.getPixelFromCoordinate(coordinates);\n      map.forEachFeatureAtPixel(pixel, function (feature) {\n        return features.push(feature);\n      }, {\n        layerFilter: function layerFilter(layer) {\n          return layer === vectorLayer;\n        }\n      });\n    } else if (coordinates.length === 4) {\n      intersectGeom = ol.geom.Polygon.fromExtent(coordinates);\n      switch (vectorLayer.constructor) {\n        case VectorLayer:\n          features = vectorLayer.getIntersectedFeatures(intersectGeom);\n          break;\n        case ol.layer.Vector:\n          vectorLayer.getSource().getFeatures().forEach(function (feature) {\n            intersectGeom.intersectsExtent(feature.getGeometry().getExtent()) && features.push(feature);\n          });\n          break;\n      }\n    }\n  } else if (coordinates instanceof ol.geom.Polygon || coordinates instanceof ol.geom.MultiPolygon) {\n    intersectGeom = coordinates;\n    switch (vectorLayer.constructor) {\n      case VectorLayer:\n        features = vectorLayer.getIntersectedFeatures(intersectGeom);\n        break;\n      case ol.layer.Vector:\n        vectorLayer.getSource().getFeatures().forEach(function (feature) {\n          intersectGeom.intersectsExtent(feature.getGeometry().getExtent()) && features.push(feature);\n        });\n        break;\n    }\n  }\n  return features;\n};\n\nproto.getQueryLayerByCoordinates = function () {\n  var _ref5 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      layer = _ref5.layer,\n      coordinates = _ref5.coordinates;\n\n  var mapProjection = this.getProjection();\n  var resolution = this.getResolution();\n  return new Promise(function (resolve, reject) {\n    layer.query({\n      coordinates: coordinates,\n      mapProjection: mapProjection,\n      resolution: resolution\n    }).then(function (response) {\n      return resolve(response);\n    }).fail(function (err) {\n      return reject(err);\n    });\n  });\n};\n\nproto.getQueryLayerPromiseByCoordinates = function () {\n  var _this6 = this;\n\n  var _ref6 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      layer = _ref6.layer,\n      coordinates = _ref6.coordinates;\n\n  return new Promise(function (resolve, reject) {\n    var mapProjection = _this6.getProjection();\n    var resolution = _this6.getResolution();\n    layer.query({\n      coordinates: coordinates,\n      mapProjection: mapProjection,\n      resolution: resolution\n    }).then(function (response) {\n      resolve(response);\n    }).fail(function (error) {\n      reject(error);\n    });\n  });\n};\n\n//setup controls\n/*\n  layout : {\n    lv: <options> h : horizontal (default), v vertical\n    lh: <options> h: horizontal: v vertical (default)\n  }\n */\n\nproto.activeMapControl = function (controlName) {\n  var mapControl = this._mapControls.find(function (control) {\n    return control.type === controlName;\n  });\n  var control = mapControl.control;\n  !control.isToggled() ? control.toggle() : null;\n};\n\nproto.createMapControl = function (type) {\n  var _ref7 = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n      id = _ref7.id,\n      _ref7$add = _ref7.add,\n      add = _ref7$add === undefined ? true : _ref7$add,\n      _ref7$toggled = _ref7.toggled,\n      toggled = _ref7$toggled === undefined ? false : _ref7$toggled,\n      visible = _ref7.visible,\n      _ref7$options = _ref7.options,\n      options = _ref7$options === undefined ? {} : _ref7$options;\n\n  id = id || type;\n  var control = ControlsFactory.create(_extends({\n    type: type,\n    toggled: toggled\n  }, options));\n  visible = visible === undefined ? control.isVisible ? control.isVisible() : true : visible;\n  control && this.addControl(id, type, control, add, visible);\n  return control;\n};\n\nproto.addScaleLineUnits = function () {\n  var _this7 = this;\n\n  var units = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n  units.forEach(function (unit) {\n    return _this7.state.mapunits.push(unit);\n  });\n};\n\nproto.changeScaleLineUnit = function (unit) {\n  var scalelinecontrol = this.getMapControlByType({\n    type: 'scaleline'\n  });\n  scalelinecontrol && scalelinecontrol.getOlControl().setUnits(unit);\n};\n\nproto.showAddLayerModal = function () {\n  this.emit('addexternallayer');\n};\n\nproto._checkMapControls = function () {\n  this._changeMapMapControls.forEach(function (_ref8) {\n    var control = _ref8.control,\n        getLayers = _ref8.getLayers;\n\n    var layers = getLayers();\n    control.change(layers);\n  });\n};\n\nproto._setupControls = function () {\n  var _this8 = this;\n\n  var baseLayers = getMapLayersByFilter({\n    BASELAYER: true\n  });\n  this.getMapLayers().forEach(function (mapLayer) {\n    return mapLayer.getSource().setAttributions(_this8.getApplicationAttribution());\n  });\n  // check if base layer is set. If true add attribution control\n  if (this.getApplicationAttribution() || baseLayers.length) {\n    var attributionControl = new ol.control.Attribution({\n      collapsible: false,\n      target: 'map_footer_left'\n    });\n    this.getMap().addControl(attributionControl);\n  }\n\n  if (this.config && this.config.mapcontrols) {\n    var mapcontrols = this.config.mapcontrols;\n    //common spatial methods for map controls\n    var spatialMethod = 'intersects';\n    mapcontrols.forEach(function (mapcontrol) {\n      var control = void 0;\n      // mapcontrol can be a String or object with options\n      var controlType = toRawType(mapcontrol) === 'String' ? mapcontrol : mapcontrol.name;\n      switch (controlType) {\n        case 'reset':\n          if (!isMobile.any) {\n            control = ControlsFactory.create({\n              type: controlType\n            });\n          }\n          _this8.addControl(controlType, control, false);\n          break;\n        case 'zoom':\n          control = _this8.createMapControl(controlType, {\n            options: {\n              zoomInLabel: '\\uE98A',\n              zoomOutLabel: '\\uE98B'\n            }\n          });\n          break;\n        case 'zoombox':\n          if (!isMobile.any) {\n            control = _this8.createMapControl(controlType, {});\n            control.on('zoomend', function (e) {\n              _this8.viewer.fit(e.extent);\n            });\n          }\n          break;\n        case 'zoomtoextent':\n          control = _this8.createMapControl(controlType, {\n            options: {\n              label: '\\uE98C',\n              extent: _this8.project.state.initextent\n            }\n          });\n          break;\n        case 'mouseposition':\n          if (!isMobile.any) {\n            var coordinateLabels = _this8.getProjection().getUnits() === 'm' ? ['X', 'Y'] : ['Lng', 'Lat'];\n            var crs = _this8.getCrs();\n            control = _this8.createMapControl(controlType, {\n              add: false,\n              options: {\n                coordinateFormat: function coordinateFormat(coordinate) {\n                  return ol.coordinate.format(coordinate, '\\xA0' + coordinateLabels[0] + ': {x}, ' + coordinateLabels[1] + ': {y}\\xA0\\xA0 [' + crs + ']\\xA0', 4);\n                },\n\n                undefinedHTML: false,\n                projection: _this8.getCrs()\n              }\n            });\n            if (_this8.getEpsg() !== 'EPSG:4326') {\n              var mapEspg = _this8.getEpsg();\n              var _coordinateLabels = ['Lng', 'Lat'];\n              var _crs = _this8.getCrs();\n              control = _this8.createMapControl(controlType, {\n                add: false,\n                options: {\n                  target: 'mouse-position-control-epsg-4326',\n                  coordinateFormat: function coordinateFormat(coordinate) {\n                    coordinate = ol.proj.transform(coordinate, mapEspg, 'EPSG:4326');\n                    return ol.coordinate.format(coordinate, '\\xA0' + _coordinateLabels[0] + ': {x}, ' + _coordinateLabels[1] + ': {y}\\xA0\\xA0 [' + _crs + ']\\xA0', 4);\n                  },\n\n                  undefinedHTML: false,\n                  projection: _this8.getCrs()\n                }\n              });\n            }\n          }\n          break;\n        case 'screenshot':\n        case 'geoscreenshot':\n          if (!isMobile.any) {\n            control = _this8.createMapControl(controlType, {\n              options: {\n                layers: _mapLayers2.default.getLayers(),\n                onclick: function () {\n                  var _ref9 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n                    var caller_download_id, blobImage, url, _bbox, csrfmiddlewaretoken, geoTIFF;\n\n                    return regeneratorRuntime.wrap(function _callee$(_context) {\n                      while (1) {\n                        switch (_context.prev = _context.next) {\n                          case 0:\n                            // Start download show Image\n                            caller_download_id = _application2.default.setDownload(true);\n                            _context.prev = 1;\n                            _context.next = 4;\n                            return _this8.createMapImage();\n\n                          case 4:\n                            blobImage = _context.sent;\n\n                            if (!(controlType === 'screenshot')) {\n                              _context.next = 9;\n                              break;\n                            }\n\n                            saveAs(blobImage, 'map_' + Date.now() + '.png');\n                            _context.next = 22;\n                            break;\n\n                          case 9:\n                            url = '/' + _this8.project.getType() + '/api/asgeotiff/' + _this8.project.getId() + '/';\n                            _bbox = _this8.getMapBBOX().toString();\n                            csrfmiddlewaretoken = _this8.getCookie('csrftoken');\n                            _context.prev = 12;\n                            _context.next = 15;\n                            return getGeoTIFFfromServer({\n                              url: url,\n                              params: {\n                                image: blobImage,\n                                csrfmiddlewaretoken: csrfmiddlewaretoken,\n                                bbox: _bbox\n                              },\n                              method: \"POST\"\n                            });\n\n                          case 15:\n                            geoTIFF = _context.sent;\n\n                            saveAs(geoTIFF, 'map_' + Date.now() + '.tif');\n                            _context.next = 22;\n                            break;\n\n                          case 19:\n                            _context.prev = 19;\n                            _context.t0 = _context['catch'](12);\n\n                            console.log(_context.t0);\n\n                          case 22:\n                            _context.next = 27;\n                            break;\n\n                          case 24:\n                            _context.prev = 24;\n                            _context.t1 = _context['catch'](1);\n\n                            _gui2.default.showUserMessage({\n                              type: 'alert',\n                              message: t(\"mapcontrols.screenshot.error\"),\n                              autoclose: true\n                            });\n\n                          case 27:\n                            // Stop download show Image\n                            _application2.default.setDownload(false, caller_download_id);\n                            return _context.abrupt('return', true);\n\n                          case 29:\n                          case 'end':\n                            return _context.stop();\n                        }\n                      }\n                    }, _callee, _this8, [[1, 24], [12, 19]]);\n                  }));\n\n                  function onclick() {\n                    return _ref9.apply(this, arguments);\n                  }\n\n                  return onclick;\n                }()\n              }\n            });\n          }\n          break;\n        case 'scale':\n          control = _this8.createMapControl(controlType, {\n            add: false,\n            options: {\n              coordinateFormat: ol.coordinate.createStringXY(4),\n              projection: _this8.getCrs(),\n              isMobile: isMobile.any\n            }\n          });\n          break;\n        case 'query':\n          control = _this8.createMapControl(controlType, {\n            add: true,\n            toggled: true\n          });\n          break;\n        case 'querybypolygon':\n          if (!isMobile.any) {\n            control = _this8.createMapControl(controlType, { options: { spatialMethod: spatialMethod } });\n          }\n          break;\n        case 'querybbox':\n          if (!isMobile.any) {\n            control = _this8.createMapControl(controlType, { options: { spatialMethod: spatialMethod } });\n          }\n          break;\n        case 'querybydrawpolygon':\n          if (!isMobile.any) {\n            control = _this8.createMapControl(controlType, { options: { spatialMethod: spatialMethod } });\n          }\n          break;\n        case 'streetview':\n          // streetview\n          control = _this8.createMapControl(controlType, {});\n          break;\n        case 'scaleline':\n          control = _this8.createMapControl(controlType, {\n            add: false,\n            options: {\n              position: 'br'\n            }\n          });\n          break;\n        case 'overview':\n          if (!isMobile.any) {\n            if (!_this8.config.overviewproject) return;\n            var overviewProjectGid = _this8.config.overviewproject.gid;\n            if (overviewProjectGid) {\n              _projects2.default.getProject(overviewProjectGid).then(function (project) {\n                var overViewMapLayers = _this8.getOverviewMapLayers(project);\n                var viewOptions = _this8._calculateViewOptions({\n                  width: 200, // at moment hardcoded\n                  height: 150,\n                  project: project\n                });\n                var view = new ol.View(viewOptions);\n                var mainView = _this8.getMap().getView();\n                view.on('change:center', function () {\n                  var currentCenter = this.getCenter();\n                  var center = mainView.constrainCenter(currentCenter);\n                  center[0] !== currentCenter[0] || center[1] !== currentCenter[1] && view.setCenter(center);\n                });\n                control = _this8.createMapControl(controlType, {\n                  add: false,\n                  options: {\n                    position: 'bl',\n                    className: 'ol-overviewmap ol-custom-overviewmap',\n                    collapseLabel: $('<span class=\"' + _gui2.default.getFontClass('arrow-left') + '\"></span>')[0],\n                    label: $('<span class=\"' + _gui2.default.getFontClass('arrow-right') + '\"></span>')[0],\n                    collapsed: false,\n                    layers: overViewMapLayers,\n                    view: view\n                  }\n                });\n              });\n            }\n          }\n          break;\n        case 'geocoding':\n        case 'nominatim':\n          var _project$state = _this8.project.state,\n              bbox = _project$state.extent,\n              _mapCrs = _project$state.crs.epsg;\n\n          control = _this8.createMapControl(controlType, {\n            add: false,\n            options: {\n              isMobile: isMobile.any,\n              bbox: bbox,\n              mapCrs: _mapCrs,\n              placeholder: \"mapcontrols.nominatim.placeholder\",\n              noresults: \"mapcontrols.nominatim.noresults\",\n              notresponseserver: \"mapcontrols.nominatim.notresponseserver\"\n            }\n          });\n          break;\n        case 'geolocation':\n          control = _this8.createMapControl(controlType);\n          control.on('click', throttle(function (evt) {\n            return _this8.showMarker(evt.coordinates);\n          }));\n          control.on('error', function (evt) {\n            _gui2.default.showUserMessage({\n              type: 'warning',\n              message: \"mapcontrols.geolocations.error\",\n              autoclose: true\n            });\n          });\n          break;\n        case 'addlayers':\n          if (!isMobile.any) {\n            control = _this8.createMapControl(controlType, {});\n            control.on('addlayer', function () {\n              return _this8.emit('addexternallayer');\n            });\n          }\n          break;\n        case 'length':\n          if (!isMobile.any) {\n            control = _this8.createMapControl(controlType, {\n              options: {\n                tipLabel: 'sdk.mapcontrols.measures.length.tooltip',\n                interactionClassOptions: {\n                  projection: _this8.getProjection(),\n                  help: 'sdk.mapcontrols.measures.length.help'\n                }\n              }\n            });\n          }\n          break;\n        case 'area':\n          if (!isMobile.any) {\n            control = _this8.createMapControl(controlType, {\n              options: {\n                tipLabel: 'sdk.mapcontrols.measures.area.tooltip',\n                interactionClassOptions: {\n                  projection: _this8.getProjection(),\n                  help: 'sdk.mapcontrols.measures.area.help'\n                }\n              }\n            });\n          }\n          break;\n        /**\n         * @since 3.8.0\n         */\n        case 'zoomhistory':\n          control = _this8.createMapControl(controlType, { add: false });\n          _this8._addControlToMapControlsLeftBottom(control);\n          break;\n\n      }\n    });\n    return this.getMapControls();\n  }\n};\n\n/**\n *  Set ZIndex layer from fa stack\n */\nproto.setZIndexLayer = function () {\n  var _ref10 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      layer = _ref10.layer,\n      _ref10$zindex = _ref10.zindex,\n      zindex = _ref10$zindex === undefined ? this.getMap().getLayers().getLength() : _ref10$zindex;\n\n  layer && layer.setZIndex(zindex);\n};\n\n/**\n *\n * Get map stack layer position\n */\nproto.getLayerZindex = function (layer) {\n  return layer && layer.getZIndex();\n};\n\nproto.getCenter = function () {\n  var map = this.getMap();\n  return map.getView().getCenter();\n};\n\n/**\n *\n *method to zoom to feature\n */\nproto.zoomToFid = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2() {\n  var zoom_to_fid = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n  var separator = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '|';\n\n  var _zoom_to_fid$split, _zoom_to_fid$split2, layerId, fid, layer, _ref12, _ref12$data, data, feature;\n\n  return regeneratorRuntime.wrap(function _callee2$(_context2) {\n    while (1) {\n      switch (_context2.prev = _context2.next) {\n        case 0:\n          _zoom_to_fid$split = zoom_to_fid.split(separator), _zoom_to_fid$split2 = _slicedToArray(_zoom_to_fid$split, 2), layerId = _zoom_to_fid$split2[0], fid = _zoom_to_fid$split2[1];\n\n          if (!(layerId !== undefined && fid !== undefined)) {\n            _context2.next = 10;\n            break;\n          }\n\n          layer = this.project.getLayerById(layerId);\n          _context2.next = 5;\n          return _data2.default.getData('search:fids', {\n            inputs: {\n              layer: layer,\n              fids: [fid]\n            },\n            outputs: {\n              show: {\n                loading: false,\n                condition: function condition() {\n                  var _ref13 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n                      _ref13$data = _ref13.data,\n                      data = _ref13$data === undefined ? [] : _ref13$data;\n\n                  return data[0] && data[0].features.length > 0;\n                }\n              }\n            }\n          });\n\n        case 5:\n          _ref12 = _context2.sent;\n          _ref12$data = _ref12.data;\n          data = _ref12$data === undefined ? [] : _ref12$data;\n          feature = data[0] && data[0].features[0];\n\n          feature && this.zoomToFeatures([feature]);\n\n        case 10:\n        case 'end':\n          return _context2.stop();\n      }\n    }\n  }, _callee2, this);\n}));\n\n/**\n * Method to handele ztf url parameter\n * @param zoom_to_feature\n */\nproto.handleZoomToFeaturesUrlParameter = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee3() {\n  var _ref15 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      _ref15$zoom_to_featur = _ref15.zoom_to_features,\n      zoom_to_features = _ref15$zoom_to_featur === undefined ? '' : _ref15$zoom_to_featur,\n      _ref15$search_endpoin = _ref15.search_endpoint,\n      search_endpoint = _ref15$search_endpoin === undefined ? 'api' : _ref15$search_endpoin;\n\n  var _zoom_to_features$spl, _zoom_to_features$spl2, layerNameorIdorOrigname, fieldsValuesSearch, projectLayer, layer, filter, _ref16, data;\n\n  return regeneratorRuntime.wrap(function _callee3$(_context3) {\n    while (1) {\n      switch (_context3.prev = _context3.next) {\n        case 0:\n          _context3.prev = 0;\n          _zoom_to_features$spl = zoom_to_features.split(':'), _zoom_to_features$spl2 = _slicedToArray(_zoom_to_features$spl, 2), layerNameorIdorOrigname = _zoom_to_features$spl2[0], fieldsValuesSearch = _zoom_to_features$spl2[1];\n\n          if (!(layerNameorIdorOrigname && fieldsValuesSearch)) {\n            _context3.next = 12;\n            break;\n          }\n\n          projectLayer = this.project.getLayers().find(function (layer) {\n            return layer.id === layerNameorIdorOrigname || layer.name === layerNameorIdorOrigname || layer.origname === layerNameorIdorOrigname;\n          });\n\n          if (!projectLayer) {\n            _context3.next = 12;\n            break;\n          }\n\n          layer = this.project.getLayerById(projectLayer.id);\n          filter = createFilterFromString({\n            layer: layer,\n            search_endpoint: search_endpoint,\n            filter: fieldsValuesSearch\n          });\n          _context3.next = 9;\n          return _data2.default.getData('search:features', {\n            inputs: {\n              layer: layer,\n              filter: filter,\n              search_endpoint: search_endpoint\n            },\n            outputs: {\n              show: {\n                loading: false\n              }\n            }\n          });\n\n        case 9:\n          _ref16 = _context3.sent;\n          data = _ref16.data;\n\n          data && data[0] && data[0].features && this.zoomToFeatures(data[0].features);\n\n        case 12:\n          _context3.next = 17;\n          break;\n\n        case 14:\n          _context3.prev = 14;\n          _context3.t0 = _context3['catch'](0);\n\n          console.log(_context3.t0);\n\n        case 17:\n        case 'end':\n          return _context3.stop();\n      }\n    }\n  }, _callee3, this, [[0, 14]]);\n}));\n\nproto.getMapExtent = function () {\n  var map = this.getMap();\n  return map.getView().calculateExtent(map.getSize());\n};\n\n/**\n * @param url\n * @param epsg cordinate referece system (since 3.8.0)\n * \n * @returns {string}\n */\nproto.addMapExtentUrlParameterToUrl = function (url, epsg) {\n  url = new URL(url);\n  url.searchParams.set('map_extent', (undefined !== epsg && this.getEpsg() !== epsg ? ol.proj.transformExtent(this.getMapExtent(), this.getEpsg(), epsg) : this.getMapExtent()).toString());\n  return url.toString();\n};\n\nproto.getMapExtentUrl = function () {\n  var url = new URL(location.href);\n  var map_extent = this.getMapExtent().toString();\n  url.searchParams.set('map_extent', map_extent);\n  return url.toString();\n};\n\nproto.createCopyMapExtentUrl = function () {\n  var url = this.getMapExtentUrl();\n  copyUrl(url);\n};\n\nproto._setMapControlsGrid = function (length) {\n  var grid = this.state.mapControl.grid;\n  if (length < 2) {\n    var rC = grid[grid.length - 1];\n    grid.push({\n      rows: rC.rows * 2,\n      columns: 2\n    });\n    return;\n  }\n  if (length === 2) {\n    if (grid.length) {\n      var _rC = grid[grid.length - 1];\n      grid.push({\n        rows: _rC.columns,\n        columns: _rC.rows\n      });\n    } else {\n      grid.push({\n        rows: 1,\n        columns: 2\n      });\n    }\n  } else if (length === 3) {\n    var _rC2 = grid[grid.length - 1];\n    grid.push({\n      rows: 2 * _rC2.rows,\n      columns: length\n    });\n  } else {\n    grid.push({\n      rows: grid.length + 1 + (Number.isInteger(length) ? 0 : 1),\n      columns: Number.isInteger(length) ? length : parseInt(length) + 1\n    });\n    var _length = Number.isInteger(length) ? length : parseInt(length);\n    this._setMapControlsGrid(_length / 2);\n  }\n};\n\nproto._setMapControlsInsideContainerLenght = function () {\n  var _this9 = this;\n\n  this.state.mapControl.length = 1;\n  // count the mapcontrol inside g3w-map-control container\n  this._mapControls.forEach(function (control) {\n    var map = _this9.getMap();\n    _this9.state.mapControl.length += control.mapcontrol ? control.id === 'zoom' ? 2 : 1 : 0;\n    control.control.changelayout ? control.control.changelayout(map) : null;\n  });\n  // add 1 id odd number\n  this.state.mapControl.length += this.state.mapControl.length % 2;\n  this.state.mapControl.grid = [];\n  this._setMapControlsGrid(this.state.mapControl.length);\n};\n\n/**\n * Get filtrable layer. Get parameter to custom filter Object\n */\nproto.filterableLayersAvailable = function () {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  var layers = getMapLayersByFilter({\n    FILTERABLE: true,\n    SELECTED_OR_ALL: true\n  }, options);\n  return layers.filter(function (layer) {\n    return layer.getProvider('filter') instanceof WFSProvider;\n  });\n};\n\nproto.setMapControlsAlignement = function () {\n  var alignement = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'rv';\n\n  this.state.mapcontrolsalignement = alignement;\n};\n\nproto.getMapControlsAlignement = function () {\n  return this.state.mapcontrolsalignement;\n};\n\nproto.isMapControlsVerticalAlignement = function () {\n  return this.state.mapcontrolsalignement.indexOf('v') !== -1;\n};\n\nproto.setMapControlsVerticalAlignement = function () {\n  this.state.mapcontrolsalignement = this.state.mapcontrolsalignement[0] + 'v';\n};\n\nproto.setMapControlsHorizontalAlignement = function () {\n  this.state.mapcontrolsalignement = this.state.mapcontrolsalignement[0] + 'h';\n};\n\nproto.flipControlsHorizontally = function () {\n  this.state.mapcontrolsalignement = this.state.mapcontrolsalignement[0] === 'r' ? 'l' + this.state.mapcontrolsalignement[1] : 'r' + this.state.mapcontrolsalignement[1];\n};\n\nproto.flipMapControlsVertically = function () {\n  this.state.mapcontrolsalignment = this.state.mapcontrolsalignement[1] === 'v' ? this.state.mapcontrolsalignement[0] + 'h' : this.state.mapcontrolsalignement[0] + 'v';\n};\n\nproto.setMapControlsContainer = function (mapControlDom) {\n  this.state.mapcontrolDOM = mapControlDom;\n};\n\nproto._updateMapControlsLayout = function () {\n  var _this10 = this;\n\n  var _ref17 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      width = _ref17.width,\n      height = _ref17.height;\n\n  // case mobile open keyboard\n  width == 0 || height == 0 ? this.state.mapcontrolDOM.css('z-index', 0) : this.state.mapcontrolDOM.css('z-index', 1);\n  // update only when all control are ready\n  if (this.state.mapcontrolready && this.state.mapControl.update) {\n    var changedAndMoreSpace = {\n      changed: false,\n      space: false\n    };\n    // count the mapcontrol insied g3w-map-control container\n    this._mapControls.forEach(function (control) {\n      var map = _this10.getMap();\n      control.control.changelayout ? control.control.changelayout(map) : null;\n    });\n    // check if is vertical\n    if (this.isMapControlsVerticalAlignement()) {\n      var handleVerticalMapControlDOMElements = function handleVerticalMapControlDOMElements() {\n        var mapControslHeight = _this10.state.mapControl.grid[_this10.state.mapControl.currentIndex].columns * _this10.state.mapcontrolSizes.minWidth;\n        // get bottom controls\n        var bottomMapControls = $('.ol-control-b' + _this10.getMapControlsAlignement()[0]);\n        var bottomMapControlTop = bottomMapControls.length ? $(bottomMapControls[bottomMapControls.length - 1]).position().top : height;\n        var freeSpace = bottomMapControlTop > 0 ? bottomMapControlTop - mapControslHeight : height - mapControslHeight;\n        if (freeSpace < 10) {\n          _this10.state.mapControl.currentIndex = _this10.state.mapControl.currentIndex === _this10.state.mapControl.grid.length - 1 ? _this10.state.mapControl.currentIndex : _this10.state.mapControl.currentIndex + 1;\n          changedAndMoreSpace.changed = true;\n        } else {\n          // check if there enough space to expand map controls\n          /**\n           Add 15 px of offset. Need to find a better solution in future\n           */\n          var nextHeight = 15 + (_this10.state.mapControl.currentIndex > 0 ? _this10.state.mapControl.grid[_this10.state.mapControl.currentIndex - 1].columns * _this10.state.mapcontrolSizes.minWidth - mapControslHeight : mapControslHeight);\n          if (freeSpace > nextHeight) {\n            changedAndMoreSpace.changed = true;\n            changedAndMoreSpace.space = true;\n            _this10.state.mapControl.currentIndex = _this10.state.mapControl.currentIndex === 0 ? _this10.state.mapControl.currentIndex : _this10.state.mapControl.currentIndex - 1;\n          }\n        }\n        if (changedAndMoreSpace.changed) {\n          var _mapControslHeight = _this10.state.mapControl.grid[_this10.state.mapControl.currentIndex].columns * _this10.state.mapcontrolSizes.minWidth;\n          var mapControlsWidth = _this10.state.mapControl.grid[_this10.state.mapControl.currentIndex].rows * _this10.state.mapcontrolSizes.minWidth;\n          _this10.state.mapcontrolDOM.css('height', _mapControslHeight + 'px');\n          _this10.state.mapcontrolDOM.css('width', mapControlsWidth + 'px');\n          changedAndMoreSpace.changed = false;\n          changedAndMoreSpace.space && setTimeout(function () {\n            return handleVerticalMapControlDOMElements();\n          });\n        }\n      };\n      handleVerticalMapControlDOMElements();\n    } else isMobile.any && this.setMapControlsAlignement('rv');\n  }\n};\n\n/**\n *\n * @param control\n * @param visible\n * @private\n */\nproto._setMapControlVisible = function (_ref18) {\n  var control = _ref18.control,\n      _ref18$visible = _ref18.visible,\n      visible = _ref18$visible === undefined ? true : _ref18$visible;\n\n  control && control.setVisible(visible);\n};\n\nproto._addControlToMapControls = function (control) {\n  var visible = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n\n  var controlElement = control.element;\n  if (!visible) control.element.style.display = \"none\";\n  $('.g3w-map-controls').append(controlElement);\n};\n\n/**\n * @since 3.8.0\n */\nproto._addControlToMapControlsLeftBottom = function (control) {\n  var visible = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n\n  if (!visible) {\n    control.element.style.display = \"none\";\n  }\n  $('.g3w-map-controls-left-bottom').append(control.element);\n};\n\nproto.getMapControlByType = function () {\n  var _ref19 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      type = _ref19.type;\n\n  var mapControl = this._mapControls.find(function (mapControl) {\n    return type === mapControl.type;\n  });\n  return mapControl && mapControl.control;\n};\n\n/**\n *\n *\n * @param id\n * @param type\n * @param control\n * @param addToMapControls\n * @param visible\n */\nproto.addControl = function (id, type, control) {\n  var _this11 = this;\n\n  var addToMapControls = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : true;\n  var visible = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : true;\n\n  this.state.mapcontrolready = false;\n  this.viewer.map.addControl(control);\n  control.on('toggled', function (evt) {\n    return _this11.emit('mapcontrol:toggled', evt);\n  });\n  this._mapControls.push({\n    id: id,\n    type: type,\n    control: control,\n    visible: visible,\n    mapcontrol: addToMapControls && visible\n  });\n  control.on('controlclick', function (evt) {\n    var mapcontrol = evt.target;\n\n    var info = {\n      clickmap: mapcontrol.isClickMap && mapcontrol.isClickMap() || false\n    };\n    info.clickmap && _this11._externalInteractions.forEach(function (interaction) {\n      return interaction.setActive(false);\n    });\n    _this11.controlClick(mapcontrol, info);\n  });\n  var buttonControl = $(control.element).find('button');\n  buttonControl.tooltip({\n    placement: 'bottom',\n    trigger: _gui2.default.isMobile() ? 'click' : 'hover'\n  });\n  // in case of mobile hide tooltip after click\n  _gui2.default.isMobile() && buttonControl.on('shown.bs.tooltip', function () {\n    var _this12 = this;\n\n    setTimeout(function () {\n      return $(_this12).tooltip('hide');\n    }, 600);\n  });\n  if (addToMapControls) this._addControlToMapControls(control, visible);else {\n    var $mapElement = $('#' + this.getMap().getTarget());\n    this._updateMapControlsLayout({\n      width: $mapElement.width(),\n      height: $mapElement.height()\n    });\n  }\n  _mapControls2.default.registerControl(type, control);\n  this._setMapControlsInsideContainerLenght();\n  this.state.mapcontrolready = true;\n};\n\nproto.showControl = function (type) {\n  this.showControls([type]);\n};\n\nproto.hideControl = function (type) {\n  this.hideControls([type]);\n};\n\nproto.showControls = function (types) {\n  this.toggleControls(true, types);\n};\n\nproto.hideControls = function (types) {\n  this.toggleControls(false, types);\n};\n\nproto.showAllControls = function () {\n  this.toggleControls(true);\n};\n\nproto.hideAllControls = function () {\n  this.toggleControls(false);\n};\n\nproto.toggleControls = function (toggle, types) {\n  this._removeControls();\n  this._mapControls.forEach(function (controlObj) {\n    if (types) {\n      if (types.indexOf(controlObj.type) > -1) controlObj.visible = toggle;\n    } else controlObj.visible = toggle;\n  });\n  this._layoutControls();\n};\n\nproto._layoutControls = function () {\n  var _this13 = this;\n\n  this._mapControls.forEach(function (controlObj) {\n    if (controlObj.visible) _this13.viewer.map.addControl(controlObj.control);\n  });\n};\n\nproto.getMapControls = function () {\n  return this._mapControls;\n};\n\nproto.removeControlById = function (id) {\n  var _this14 = this;\n\n  this._mapControls.find(function (controlObj, ctrlIdx) {\n    if (id === controlObj.id) {\n      _this14._mapControls.splice(ctrlIdx, 1);\n      var control = controlObj.control;\n      _this14.viewer.map.removeControl(control);\n      control.hideControl && control.hideControl();\n      return true;\n    }\n  });\n};\n\nproto.removeControl = function (type) {\n  var _this15 = this;\n\n  this._mapControls.find(function (controlObj, ctrlIdx) {\n    if (type === controlObj.type) {\n      _this15._mapControls.splice(ctrlIdx, 1);\n      var control = controlObj.control;\n      _this15.viewer.map.removeControl(control);\n      control.hideControl && control.hideControl();\n      return true;\n    }\n  });\n};\n\nproto._removeControls = function () {\n  var _this16 = this;\n\n  this._mapControls.forEach(function (controlObj) {\n    return _this16.viewer.map.removeControl(controlObj.control);\n  });\n};\n\n/**\n * untoggle mapcontrol\n * @param close GUI content\n * @private\n */\nproto._unToggleControls = function () {\n  var _ref20 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      _ref20$close = _ref20.close,\n      close = _ref20$close === undefined ? true : _ref20$close;\n\n  this._mapControls.forEach(function (controlObj) {\n    if (controlObj.control.isToggled && controlObj.control.isToggled()) {\n      controlObj.control.toggle(false);\n      close && _gui2.default.closeContent();\n    }\n  });\n};\n\nproto.deactiveMapControls = function () {\n  this._unToggleControls({\n    close: false\n  });\n};\n\n/**\n *\n * Method to disable\n */\nproto.disableClickMapControls = function () {\n  var bool = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n\n  this._mapControls.forEach(function (controlObj) {\n    var control = controlObj.control;\n\n    var clickmap = control.isClickMap ? control.isClickMap() : false;\n    if (clickmap) {\n      control.isToggled() && control.toggle();\n      control[bool ? 'disable' : 'enable']();\n    }\n  });\n};\n\nproto.addMapLayers = function (mapLayers) {\n  var _this17 = this;\n\n  mapLayers.reverse().forEach(function (mapLayer) {\n    return _this17.addMapLayer(mapLayer);\n  });\n};\n\nproto._setupCustomMapParamsToLegendUrl = function () {\n  var bool = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n\n  if (bool) {\n    var map = this.getMap();\n    var size = map && map.getSize().filter(function (value) {\n      return value > 0;\n    }) || null;\n    var bbox = size && size.length === 2 ? map.getView().calculateExtent(size) : this.project.state.initextent;\n    // in case of axis orientation inverted i need to inverted the axis\n    bbox = map.getView().getProjection().getAxisOrientation() === \"neu\" ? [bbox[1], bbox[0], bbox[3], bbox[2]] : bbox;\n    var crs = this.getEpsg();\n    //setup initial legend parameter\n    this.getMapLayers().forEach(function (mapLayer) {\n      mapLayer.setupCustomMapParamsToLegendUrl && mapLayer.setupCustomMapParamsToLegendUrl({\n        crs: crs,\n        bbox: bbox\n      });\n    });\n    this.emit('change-map-legend-params');\n  }\n};\n\nproto.addMapLayer = function (mapLayer) {\n  this._mapLayers.push(mapLayer);\n  this.addLayerToMap(mapLayer);\n};\n\nproto.getMapLayerByLayerId = function (layerId) {\n  return this.getMapLayers().find(function (mapLayer) {\n    return mapLayer.getLayerConfigs().find(function (layer) {\n      return layer.getId() === layerId;\n    });\n  });\n};\n\nproto.getMapLayers = function () {\n  return this._mapLayers;\n};\n\nproto.getBaseLayers = function () {\n  return this.mapBaseLayers;\n};\n\nproto.getMapLayerForLayer = function (layer) {\n  var multilayerId = 'layer_' + layer.getMultiLayerId();\n  var mapLayers = this.getMapLayers();\n  var mapLayer = mapLayers.find(function (mapLayer) {\n    return mapLayer.getId() === multilayerId;\n  });\n  return mapLayer;\n};\n\nproto.getProjectLayer = function (layerId) {\n  return _mapLayers2.default.getLayerById(layerId);\n};\n\nproto._setSettings = function () {\n  var ZOOM = _constant.MAP_SETTINGS.ZOOM;\n\n  var maxScale = this.getScaleFromExtent(this.project.state.initextent);\n  // settings maxScale\n  ZOOM.maxScale = ZOOM.maxScale > maxScale ? maxScale : ZOOM.maxScale;\n};\n\nproto._resetView = function () {\n  var _viewer$map$getSize = this.viewer.map.getSize(),\n      _viewer$map$getSize2 = _slicedToArray(_viewer$map$getSize, 2),\n      width = _viewer$map$getSize2[0],\n      height = _viewer$map$getSize2[1];\n\n  var extent = this.project.state.extent;\n  var maxxRes = ol.extent.getWidth(extent) / width;\n  var minyRes = ol.extent.getHeight(extent) / height;\n  var maxResolution = Math.max(maxxRes, minyRes) > this.viewer.map.getView().getMaxResolution() ? Math.max(maxxRes, minyRes) : this.viewer.map.getView().getMaxResolution();\n  var view = new ol.View({\n    extent: extent,\n    projection: this.viewer.map.getView().getProjection(),\n    center: this.viewer.map.getView().getCenter(),\n    resolution: this.viewer.map.getView().getResolution(),\n    maxResolution: maxResolution\n  });\n  this._setSettings();\n  this.viewer.map.setView(view);\n};\n\nproto._calculateViewOptions = function () {\n  var _this18 = this;\n\n  var _ref21 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      project = _ref21.project,\n      width = _ref21.width,\n      height = _ref21.height;\n\n  var searchParams = new URLSearchParams(location.search);\n  var map_extent = searchParams.get('map_extent');\n  var zoom_to_fid = searchParams.get('zoom_to_fid');\n  var zoom_to_features = searchParams.get('ztf'); // zoom to features\n  var lat_lon = searchParams.get('lat') && searchParams.get('lon') && {\n    lat: 1 * searchParams.get('lat'),\n    lon: 1 * searchParams.get('lon')\n  };\n  var x_y = searchParams.get('x') && searchParams.get('y') && {\n    x: 1 * searchParams.get('x'),\n    y: 1 * searchParams.get('y')\n  };\n  if (zoom_to_fid) this.zoomToFid(zoom_to_fid);else if (zoom_to_features) this.handleZoomToFeaturesUrlParameter({ zoom_to_features: zoom_to_features });else if (lat_lon && !Number.isNaN(lat_lon.lat) && !Number.isNaN(lat_lon.lon)) {\n    setTimeout(function () {\n      var geometry = new ol.geom.Point(ol.proj.transform([lat_lon.lon, lat_lon.lat], 'EPSG:4326', _this18.getEpsg()));\n      if (geometry.getExtent()) _this18.zoomToGeometry(geometry);\n    });\n  } else if (x_y && !Number.isNaN(x_y.x) && !Number.isNaN(x_y.y)) setTimeout(function () {\n    var geometry = new ol.geom.Point([x_y.x, x_y.y]);\n    _this18.zoomToGeometry(geometry);\n  });\n  var initextent = map_extent ? map_extent.split(',').map(function (coordinate) {\n    return 1 * coordinate;\n  }) : project.state.initextent;\n  var projection = this.getProjection();\n  var extent = project.state.extent;\n  var maxxRes = ol.extent.getWidth(extent) / width;\n  var maxyRes = ol.extent.getHeight(extent) / height;\n  var maxResolution = Math.max(maxxRes, maxyRes);\n  var initxRes = ol.extent.getWidth(initextent) / width;\n  var inityRes = ol.extent.getHeight(initextent) / height;\n  var resolution = Math.max(initxRes, inityRes);\n  var center = ol.extent.getCenter(initextent);\n  return {\n    projection: projection,\n    center: center,\n    extent: extent,\n    maxResolution: maxResolution,\n    resolution: resolution\n  };\n};\n\n// set view based on project config\nproto._setupViewer = function (width, height) {\n  var _this19 = this;\n\n  this.viewer = olhelpers.createViewer({\n    id: this.target,\n    view: this._calculateViewOptions({\n      width: width,\n      height: height,\n      project: this.project\n    })\n  });\n  this._setSettings();\n  this.state.size = this.viewer.map.getSize();\n  //set mapunit\n  this.state.mapUnits = this.viewer.map.getView().getProjection().getUnits();\n\n  if (this.config.background_color) {\n    $('#' + this.target).css('background-color', this.config.background_color);\n  }\n\n  $(this.viewer.map.getViewport()).prepend('<div id=\"map-spinner\" style=\"position:absolute; top: 50%; right: 50%\"></div>');\n\n  this.viewer.map.getInteractions().forEach(function (interaction) {\n    return _this19._watchInteraction(interaction);\n  });\n\n  this.viewer.map.getInteractions().on('add', function (interaction) {\n    return _this19._watchInteraction(interaction.element);\n  });\n\n  this.viewer.map.getInteractions().on('remove', function (interaction) {\n    //this._onRemoveInteraction(interaction););\n  });\n\n  this._marker = new ol.Overlay({\n    position: null,\n    positioning: 'center-center',\n    element: document.getElementById('marker'),\n    stopEvent: false\n  });\n\n  this.viewer.map.addOverlay(this._marker);\n\n  /**\n   *\n   * Register map addLayer\n   *\n   */\n  this.viewer.map.getLayers().on('add', function (evt) {\n    var layer = evt.element;\n\n    var basemap = layer.get('basemap');\n    var position = layer.get('position');\n    var zindex = basemap && 0;\n    if (position && position === 'bottom') zindex = 0;\n    zindex = _this19.setLayerZIndex({\n      layer: layer,\n      zindex: zindex\n    });\n    _this19.moveDefaultLayersOnTop(zindex);\n  });\n\n  this.viewer.map.getLayers().on('remove', function (evt) {\n    var layer = evt.element;\n\n    var layerZIndex = layer.getZIndex();\n    if (layerZIndex === _this19.layersCount) _this19.layersCount -= 1;\n  });\n};\n\nproto.getMapUnits = function () {\n  return this.state.mapUnits;\n};\n\nproto._removeListeners = function () {\n  this._setBaseLayerListenerKey && this.project.un('setBaseLayer', this._setBaseLayerListenerKey);\n};\n\n// remove all events of layersStore\nproto._removeEventsKeysToLayersStore = function (layerStore) {\n  var layerStoreId = layerStore.getId();\n  if (this._layersStoresEventKeys[layerStoreId]) {\n    this._layersStoresEventKeys[layerStoreId].forEach(function (eventObj) {\n      Object.entries(eventObj).forEach(function (_ref22) {\n        var _ref23 = _slicedToArray(_ref22, 2),\n            event = _ref23[0],\n            eventKey = _ref23[1];\n\n        return layerStore.un(event, eventKey);\n      });\n    });\n    delete this._layersStoresEventKeys[layerStoreId];\n  }\n};\n\n// register all events of layersStore and relative keys\nproto._setUpEventsKeysToLayersStore = function (layerStore) {\n  var _this20 = this;\n\n  var layerStoreId = layerStore.getId();\n  // check if already store a key of events\n  this._layersStoresEventKeys[layerStoreId] = [];\n  //ADD LAYER\n  var addLayerKey = layerStore.onafter('addLayer', function (layer) {\n    if (layer.getType() === 'vector') {\n      var mapLayer = layer.getMapLayer();\n      _this20.addLayerToMap(mapLayer);\n    }\n  });\n  this._layersStoresEventKeys[layerStoreId].push({\n    addLayer: addLayerKey\n  });\n  // REMOVE LAYER\n  var removeLayerKey = layerStore.onafter('removeLayer', function (layer) {\n    if (layer.getType() === 'vector') {\n      var olLayer = layer.getOLLayer();\n      _this20.viewer.map.removeLayer(olLayer);\n    }\n  });\n\n  this._layersStoresEventKeys[layerStoreId].push({\n    removeLayer: removeLayerKey\n  });\n};\n\nproto._setupListeners = function () {\n  var _this21 = this;\n\n  this._setBaseLayerListenerKey = this.project.onafter('setBaseLayer', function () {\n    _this21.updateMapLayers();\n  });\n};\n\n// SETUP ALL LAYERS\nproto._setupAllLayers = function () {\n  this._setupBaseLayers();\n  this._setupMapLayers();\n  this._setupVectorLayers();\n  this._setUpDefaultLayers();\n};\n\n//SETUP BASELAYERS\nproto._setupBaseLayers = function () {\n  var _this22 = this;\n\n  var baseLayers = getMapLayersByFilter({\n    BASELAYER: true\n  });\n  if (!baseLayers.length) return;\n  baseLayers.forEach(function (layer) {\n    var baseMapLayer = layer.getMapLayer();\n    _this22.registerMapLayerListeners(baseMapLayer);\n    _this22.mapBaseLayers[layer.getId()] = baseMapLayer;\n  });\n  var reverseBaseLayers = Object.values(this.mapBaseLayers).reverse();\n  reverseBaseLayers.forEach(function (baseMapLayer) {\n    baseMapLayer.update(_this22.state, _this22.layersExtraParams);\n    _this22.addLayerToMap(baseMapLayer);\n  });\n};\n\n//SETUP MAPLAYERS\nproto._setupMapLayers = function () {\n  var _this23 = this;\n\n  // get all geolayers exclude baselayers and eventually vector layers\n  var layers = getMapLayersByFilter({\n    BASELAYER: false,\n    VECTORLAYER: false\n  });\n  this._setMapProjectionToLayers(layers);\n  //group layer by mutilayer (multilayer property of layer on project configuration)\n  // nee to split time series to group to speed up eventualli time seriesries loading of single layer\n  var qtimeseries_multilayerid_split_values = {};\n  var multiLayers = _.groupBy(layers, function (layer) {\n    var multiLayerId = layer.getMultiLayerId();\n    if (layer.isQtimeseries()) {\n      qtimeseries_multilayerid_split_values[multiLayerId] = qtimeseries_multilayerid_split_values[multiLayerId] === undefined ? 0 : qtimeseries_multilayerid_split_values[multiLayerId] + 1;\n      multiLayerId = multiLayerId + '_' + qtimeseries_multilayerid_split_values[multiLayerId];\n    } else multiLayerId = qtimeseries_multilayerid_split_values[multiLayerId] === undefined ? multiLayerId : multiLayerId + '_' + (qtimeseries_multilayerid_split_values[multiLayerId] + 1);\n    return multiLayerId;\n  });\n  qtimeseries_multilayerid_split_values = null; // delete to garbage collector\n  var mapLayers = [];\n  Object.entries(multiLayers).forEach(function (_ref24) {\n    var _ref25 = _slicedToArray(_ref24, 2),\n        id = _ref25[0],\n        layers = _ref25[1];\n\n    var multilayerId = 'layer_' + id;\n    var mapLayer = void 0;\n    var layer = layers[0] || [];\n    if (layers.length === 1) {\n      mapLayer = layer.getMapLayer({\n        id: multilayerId,\n        projection: _this23.getProjection(),\n        /**\n         * @since 3.7.11\n         */\n        format: layer.getSource() && layer.getSource().format\n      }, {});\n      mapLayer.addLayer(layer);\n      mapLayers.push(mapLayer);\n    } else {\n      mapLayer = layer.getMapLayer({\n        id: multilayerId,\n        projection: _this23.getProjection()\n      }, _this23.layersExtraParams);\n      layers.reverse().forEach(function (sub_layer) {\n        return mapLayer.addLayer(sub_layer);\n      });\n      mapLayers.push(mapLayer);\n    }\n    _this23.registerMapLayerListeners(mapLayer);\n  });\n  this.addMapLayers(mapLayers);\n  this.updateMapLayers();\n  return mapLayers;\n};\n\n//SETUP VECTORLAYERS\nproto._setupVectorLayers = function () {\n  var _this24 = this;\n\n  var layers = getMapLayersByFilter({\n    VECTORLAYER: true\n  });\n  this._setMapProjectionToLayers(layers);\n  layers.forEach(function (layer) {\n    var mapVectorLayer = layer.getMapLayer();\n    _this24.addLayerToMap(mapVectorLayer);\n  });\n};\n\nproto._setUpDefaultLayers = function () {\n  // follow the order that i want\n  this.getMap().addLayer(this.defaultsLayers.highlightLayer);\n  this.getMap().addLayer(this.defaultsLayers.selectionLayer);\n};\n\n/**\n * Method to set Default layers (selectionLayer, and highlightLayer)\n * always on top of layers stack of map to be always visible\n */\nproto.moveDefaultLayersOnTop = function (zindex) {\n  this.setZIndexLayer({\n    layer: this.defaultsLayers.highlightLayer,\n    zindex: zindex + 1\n  });\n  this.setZIndexLayer({\n    layer: this.defaultsLayers.selectionLayer,\n    zindex: zindex + 2\n  });\n};\n\nproto.removeDefaultLayers = function () {\n  this.defaultsLayers.highlightLayer.getSource().clear();\n  this.defaultsLayers.selectionLayer.getSource().clear();\n  this.getMap().removeLayer(this.defaultsLayers.highlightLayer);\n  this.getMap().removeLayer(this.defaultsLayers.selectionLayer);\n};\n\nproto.setDefaultLayerStyle = function (type) {\n  var style = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  if (type && this.defaultsLayers[type]) this.defaultsLayers._style[type] = style;\n};\n\nproto.resetDefaultLayerStyle = function (type) {\n  var style = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  if (type && this.defaultsLayers[type]) this.defaultsLayers._style[type] = {\n    color: type === 'highlightLayer' ? undefined : 'red'\n  };\n};\n\nproto.removeLayers = function () {\n  this._removeBaseLayers();\n  this._removeMapLayers();\n  this.removeExternalLayers();\n  this.removeDefaultLayers();\n};\n\nproto.removeAllLayers = function () {\n  this.viewer.removeLayers();\n};\n\n//set ad increase layerIndex\nproto.setLayerZIndex = function (_ref26) {\n  var layer = _ref26.layer,\n      _ref26$zindex = _ref26.zindex,\n      zindex = _ref26$zindex === undefined ? this.layersCount += 1 : _ref26$zindex;\n\n  layer.setZIndex(zindex);\n  return zindex;\n};\n\n/**\n * Add olLayer to mapLayer\n * @param layer\n */\nproto.addLayerToMap = function (layer) {\n  var olLayer = layer.getOLLayer();\n  olLayer && this.getMap().addLayer(olLayer);\n};\n\nproto._setMapProjectionToLayers = function (layers) {\n  var _this25 = this;\n\n  // setup mapProjection on ech layers\n  layers.forEach(function (layer) {\n    return layer.setMapProjection(_this25.getProjection());\n  });\n};\n\nproto.createMapLayer = function (layer) {\n  layer.setMapProjection(this.getProjection());\n  var multilayerId = 'layer_' + layer.getMultiLayerId();\n  var mapLayer = layer.getMapLayer({\n    id: multilayerId,\n    projection: this.getProjection()\n  }, this.layersExtraParams);\n  mapLayer.addLayer(layer);\n  return mapLayer;\n};\n\nproto.getOverviewMapLayers = function (project) {\n  var WMSLayer = require('core/layers/map/wmslayer');\n  var projectLayers = project.getLayersStore().getLayers({\n    GEOLAYER: true,\n    BASELAYER: false\n  });\n  var multiLayers = _.groupBy(projectLayers, function (layer) {\n    return layer.getMultiLayerId();\n  });\n  var overviewMapLayers = [];\n\n  Object.entries(multiLayers).forEach(function (_ref27) {\n    var _ref28 = _slicedToArray(_ref27, 2),\n        id = _ref28[0],\n        layers = _ref28[1];\n\n    var multilayerId = 'overview_layer_' + id;\n    var tiled = layers[0].state.tiled;\n    var config = {\n      url: project.getWmsUrl(),\n      id: multilayerId,\n      tiled: tiled\n    };\n    var mapLayer = new WMSLayer(config);\n    layers.reverse().forEach(function (layer) {\n      return mapLayer.addLayer(layer);\n    });\n    overviewMapLayers.push(mapLayer.getOLLayer(true));\n  });\n  return overviewMapLayers.reverse();\n};\n\n/**\n * method to update MapLayer\n * @param mapLayer\n * @param options\n */\nproto.updateMapLayer = function (mapLayer) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : { force: false };\n\n  var _ref29 = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {},\n      _ref29$showSpinner = _ref29.showSpinner,\n      showSpinner = _ref29$showSpinner === undefined ? true : _ref29$showSpinner;\n\n  // if force add g3w_time parameter to force request of map layer from server\n  if (options.force) options.g3w_time = Date.now();\n  if (showSpinner !== mapLayer.showSpinnerWhenLoading) {\n    mapLayer.showSpinnerWhenLoading = showSpinner;\n    this[showSpinner ? 'registerMapLayerLoadingEvents' : 'unregisterMapLayerLoadingEvents'](mapLayer);\n  }\n  mapLayer.update(this.state, options);\n  return mapLayer;\n};\n\n// run update function on each mapLayer\nproto.updateMapLayers = function () {\n  var _this26 = this;\n\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  this.getMapLayers().forEach(function (mapLayer) {\n    return _this26.updateMapLayer(mapLayer, options);\n  });\n  var baseLayers = this.getBaseLayers();\n  //updatebase layer\n  Object.values(baseLayers).forEach(function (baseLayer) {\n    return baseLayer.update(_this26.state, _this26.layersExtraParams);\n  });\n};\n\n// register map Layer listeners of creation\nproto.registerMapLayerListeners = function (mapLayer) {\n  var _this27 = this;\n\n  var projectLayer = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n\n  this.registerMapLayerLoadingEvents(mapLayer);\n  //listen change filter token\n  if (projectLayer && mapLayer.layers && Array.isArray(mapLayer.layers)) mapLayer.layers.forEach(function (layer) {\n    layer.onbefore('change', function () {\n      return _this27.updateMapLayer(mapLayer, { force: true });\n    });\n    layer.on('filtertokenchange', function () {\n      return _this27.updateMapLayer(mapLayer, { force: true });\n    });\n  });\n  ///\n};\n\n/** Methos to register and unregister map loadmap\n *\n * */\nproto.registerMapLayerLoadingEvents = function (mapLayer) {\n  mapLayer.on('loadstart', this._incrementLoaders);\n  mapLayer.on('loadend', this._decrementLoaders);\n  mapLayer.on('loaderror', this._mapLayerLoadError);\n};\n\nproto.unregisterMapLayerLoadingEvents = function (mapLayer) {\n  mapLayer.off('loadstart', this._incrementLoaders);\n  mapLayer.off('loadend', this._decrementLoaders);\n  mapLayer.off('loaderror', this._mapLayerLoadError);\n};\n\n/**\n * End\n */\n\n// unregister listeners of mapLayers creation\nproto.unregisterMapLayerListeners = function (mapLayer) {\n  var projectLayer = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n  this.unregisterMapLayerLoadingEvents(mapLayer);\n  // try to remove layer filter token\n  if (projectLayer && mapLayer.layers && Array.isArray(mapLayer.layers)) mapLayer.layers.forEach(function (layer) {\n    layer.un('change');\n    layer.removeEvent('filtertokenchange');\n  });\n};\n\nproto.setTarget = function (elId) {\n  this.target = elId;\n};\n\nproto.getCurrentToggledMapControl = function () {\n  var mapControl = this._mapControls.find(function (_ref30) {\n    var control = _ref30.control;\n    return control && control.isToggled && control.isToggled();\n  });\n  return mapControl && mapControl.control;\n};\n\n/**\n * close: param to close eventually right content open\n * @param interaction\n * @param options is an object contain: {\n *   active: If set new interaction active or not\n *   active: If set new interaction active or not\n *   close: if close eventually GUI Content (es. result right content )\n * }\n * return object having current toggled control if there is a toggled mapcontrol\n */\nproto.addInteraction = function (interaction) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : { active: true, close: true };\n  var _options$active = options.active,\n      active = _options$active === undefined ? true : _options$active;\n\n  var control = this.getCurrentToggledMapControl();\n  var toggled = control && control.isToggled && control.isToggled() || false;\n  var untoggleMapControls = control && control.isClickMap ? control.isClickMap() : true;\n  untoggleMapControls && active && this._unToggleControls(options);\n  this.getMap().addInteraction(interaction);\n  interaction.setActive(active);\n  this._externalInteractions.push(interaction);\n  return {\n    control: control,\n    toggled: toggled // return current toggled map control if toggled\n  };\n};\n\nproto.removeInteraction = function (interaction) {\n  interaction && interaction.setActive(false);\n  this.viewer.map.removeInteraction(interaction);\n  this._externalInteractions = this._externalInteractions.filter(function (_interaction) {\n    return interaction !== _interaction;\n  });\n};\n\nproto._watchInteraction = function (interaction) {\n  var _this28 = this;\n\n  interaction.on('change:active', function (e) {\n    if (e.target instanceof ol.interaction.Pointer && e.target.getActive()) {\n      _this28.emit('mapcontrol:active', e.target);\n    }\n  });\n};\n\n/**\n * Show map Info\n * @param info\n */\nproto.showMapInfo = function () {\n  var _ref31 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      info = _ref31.info,\n      style = _ref31.style;\n\n  this.state.map_info.info = info;\n  this.state.map_info.style = style || this.state.map_info.style;\n};\n\nproto.hideMapInfo = function () {\n  this.state.map_info.info = null;\n  this.state.map_info.style = null;\n};\n\nproto.zoomTo = function (coordinate) {\n  var zoom = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 6;\n\n  this.viewer.zoomTo(coordinate, zoom);\n};\n\nproto.goTo = function (coordinates, zoom) {\n  var options = {\n    zoom: zoom || 6\n  };\n  this.viewer.goTo(coordinates, options);\n};\n\nproto.goToRes = function (coordinates, resolution) {\n  this.viewer.goToRes(coordinates, {\n    resolution: resolution\n  });\n};\n\nproto.getGeometryAndExtentFromFeatures = function () {\n  var features = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n  var extent = void 0;\n  var geometryType = void 0;\n  var geometry = void 0;\n  var coordinates = void 0;\n  var geometryCoordinates = [];\n  for (var i = 0; i < features.length; i++) {\n    var feature = features[i];\n    var _geometry = feature.getGeometry ? feature.getGeometry() : feature.geometry;\n    if (_geometry) {\n      if (_geometry instanceof ol.geom.Geometry) {\n        var featureExtent = [].concat(_toConsumableArray(_geometry.getExtent()));\n        extent = !extent ? featureExtent : ol.extent.extend(extent, featureExtent);\n        geometryType = geometryType ? geometryType : _geometry.getType();\n        coordinates = _geometry.getCoordinates();\n        if (geometryType.includes('Multi')) geometryCoordinates = [].concat(_toConsumableArray(geometryCoordinates), _toConsumableArray(coordinates));else geometryCoordinates.push(coordinates);\n      } else {\n        var _featureExtent = feature.bbox;\n        extent = !extent ? _featureExtent : ol.extent.extend(extent, _featureExtent);\n        geometryType = _geometry.type;\n        coordinates = _geometry.coordinates;\n      }\n      if (geometryType.includes('Multi')) geometryCoordinates = [].concat(_toConsumableArray(geometryCoordinates), _toConsumableArray(coordinates));else geometryCoordinates.push(coordinates);\n    }\n  }\n  try {\n    var olClassGeomType = geometryType.includes('Multi') ? geometryType : 'Multi' + geometryType;\n    geometry = new ol.geom[olClassGeomType](geometryCoordinates);\n    if (extent === undefined) extent = geometry.getExtent();\n  } catch (err) {}\n  return {\n    extent: extent,\n    geometry: geometry\n  };\n};\n\nproto.highlightFeatures = function (features) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  var _getGeometryAndExtent = this.getGeometryAndExtentFromFeatures(features),\n      geometry = _getGeometryAndExtent.geometry;\n  //force zoom false\n\n\n  options.zoom = false;\n  this.highlightGeometry(geometry, options);\n};\n\n/**\n * Zoom methods\n */\n\nproto.zoomToGeometry = function (geometry) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : { highlight: false };\n\n  var extent = geometry && geometry.getExtent();\n  var highlight = options.highlight;\n\n  if (highlight && extent) options.highLightGeometry = geometry;\n  extent && this.zoomToExtent(extent, options);\n};\n\nproto.zoomToFeatures = function (features) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : { highlight: false };\n\n  var _getGeometryAndExtent2 = this.getGeometryAndExtentFromFeatures(features),\n      geometry = _getGeometryAndExtent2.geometry,\n      extent = _getGeometryAndExtent2.extent;\n\n  var highlight = options.highlight;\n\n  if (highlight && extent) options.highLightGeometry = geometry;\n  return extent && this.zoomToExtent(extent, options) || Promise.resolve();\n};\n\n/**\n * @param   { ol.extent }                                          extent\n * @param   {{ force?: boolean, highLightGeometry?: ol.geometry }} [options={}]\n * @returns { Promise<void> }\n */\nproto.zoomToExtent = function (extent) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  this.goToRes(ol.extent.getCenter(extent), this.getResolutionForZoomToExtent(extent, { force: options.force || false }));\n  if (options.highLightGeometry) {\n    return this.highlightGeometry(options.highLightGeometry, { zoom: false, duration: options.duration });\n  }\n  return Promise.resolve();\n};\n\nproto.zoomToProjectInitExtent = function () {\n  this.zoomToExtent(this.project.state.initextent);\n};\n\n/**\n * End zoom methods\n */\n\nproto.compareExtentWithProjectMaxExtent = function (extent) {\n  var projectExtent = this.project.state.extent;\n  var inside = ol.extent.containsExtent(projectExtent, extent);\n  return inside ? extent : projectExtent;\n};\n\n/**\n * @param   {[ minx: number, miny: number, maxx: number, maxy: number ]} extent\n * @param   {{ force?: boolean }} [options] if force is undefined calculate `resolution` from given `extent`\n * @returns {number} resolution (in pixels?)\n */\nproto.getResolutionForZoomToExtent = function (extent) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : { force: false };\n\n  var map = this.getMap();\n\n  // if outside project extent, return max resolution\n  if (false === ol.extent.containsExtent(this.project.state.extent, extent)) {\n    return map.getView().getResolutionForExtent(this.project.state.extent, map.getSize());\n  }\n\n  var extentResolution = map.getView().getResolutionForExtent(extent, map.getSize()); // resolution of request extent\n\n  // retrive resolution from given `extent`\n  if (true === options.force) {\n    return extentResolution;\n  }\n\n  // calculate main resolutions from map\n  var resolution = void 0;\n  var currentResolution = map.getView().getResolution();\n  var maxResolution = getResolutionFromScale(_constant.MAP_SETTINGS.ZOOM.maxScale, this.getMapUnits()); // max resolution of the map\n  resolution = extentResolution > maxResolution ? extentResolution : maxResolution;\n  resolution = currentResolution < resolution && currentResolution > extentResolution ? currentResolution : resolution;\n  return resolution;\n};\n\nproto.goToBBox = function (bbox) {\n  var epsg = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.getEpsg();\n\n  bbox = epsg === this.getEpsg() ? bbox : ol.proj.transformExtent(bbox, epsg, this.getEpsg());\n  this.viewer.fit(this.compareExtentWithProjectMaxExtent(bbox));\n};\n\nproto.goToWGS84 = function (coordinates, zoom) {\n  coordinates = ol.proj.transform(coordinates, 'EPSG:4326', this.project.state.crs.epsg);\n  this.goTo(coordinates, zoom);\n};\n\nproto.extentToWGS84 = function (extent) {\n  return ol.proj.transformExtent(extent, this.project.state.crs.epsg, 'EPSG:4326');\n};\n\nproto.getResolutionForMeters = function (meters) {\n  var viewport = this.viewer.map.getViewport();\n  return meters / Math.max(viewport.clientWidth, viewport.clientHeight);\n};\n\nvar animatingHighlight = false;\n\n/*\n* geometries = array of geometries\n* action: add, clear, remove :\n*                             add: feature/features to selectionLayer. If selectionLayer doesn't exist create a  new vector layer.\n*                             clear: remove selectionLayer\n*                             remove: remove feature from selection layer. If no more feature are in selectionLayer it will be removed\n* */\nproto.setSelectionFeatures = function () {\n  var action = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'add';\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var feature = options.feature,\n      color = options.color;\n\n  color && this.setDefaultLayerStyle('selectionLayer', {\n    color: color\n  });\n  var source = this.defaultsLayers.selectionLayer.getSource();\n  switch (action) {\n    case 'add':\n      source.addFeature(feature);\n      break;\n    case 'remove':\n      source.removeFeature(feature);\n      break;\n    case 'update':\n      var id = feature.getId();\n      var addedFeature = source.getFeatureById(id);\n      addedFeature.setGeometry(feature.getGeometry());\n      break;\n    case 'clear':\n      source.clear();\n      break;\n  }\n};\n\nproto.clearSelectionFeatures = function () {\n  this.defaultsLayers.selectionLayer.getSource().clear();\n};\n\nproto.seSelectionLayerVisible = function () {\n  var visible = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n\n  this.defaultsLayers.selectionLayer.setVisible(visible);\n};\n\nproto.highlightGeometry = function (geometryObj) {\n  var _this29 = this;\n\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  return new Promise(function (resolve, reject) {\n    var color = options.color;\n\n    _this29.clearHighlightGeometry();\n    _this29.setDefaultLayerStyle('highlightLayer', {\n      color: color\n    });\n    var zoom = typeof options.zoom === 'boolean' ? options.zoom : true;\n    var hide = options.hide;\n    if (hide) hide = typeof hide === 'function' ? hide : null;\n    var customStyle = options.style;\n    var defaultStyle = function defaultStyle(feature) {\n      var styles = [];\n      var geometryType = feature.getGeometry().getType();\n      var style = createSelectedStyle({\n        geometryType: geometryType,\n        color: color,\n        fill: false\n      });\n      styles.push(style);\n      return styles;\n    };\n    var ANIMATION = _constant.MAP_SETTINGS.ANIMATION;\n\n    var highlight = typeof options.highlight == 'boolean' ? options.highlight : true;\n    var duration = options.duration || ANIMATION.duration;\n    var geometry = void 0;\n    if (geometryObj instanceof ol.geom.Geometry) geometry = geometryObj;else {\n      var format = new ol.format.GeoJSON();\n      geometry = format.readGeometry(geometryObj);\n    }\n    if (zoom) {\n      var extent = geometry.getExtent();\n      _this29.zoomToExtent(extent);\n    }\n    if (highlight) {\n      var feature = new ol.Feature({\n        geometry: geometry\n      });\n      var highlightLayer = _this29.defaultsLayers.highlightLayer;\n      customStyle && highlightLayer.setStyle(customStyle);\n      highlightLayer.getSource().addFeature(feature);\n      if (hide) {\n        var callback = function callback() {\n          highlightLayer.getSource().clear();\n          customStyle && highlightLayer.setStyle(defaultStyle);\n          resolve();\n        };\n        hide(callback);\n      } else if (duration) {\n        if (duration !== Infinity) {\n          animatingHighlight = true;\n          setTimeout(function () {\n            highlightLayer.getSource().clear();\n            customStyle && highlightLayer.setStyle(defaultStyle);\n            animatingHighlight = false;\n            resolve();\n          }, duration);\n        }\n      }\n    } else resolve();\n  });\n};\n\nproto.clearHighlightGeometry = function () {\n  !animatingHighlight && this.defaultsLayers.highlightLayer.getSource().clear();\n  this.resetDefaultLayerStyle('highlightLayer');\n};\n\n/**\n * Force to referesh map\n * @param options\n */\nproto.refreshMap = function () {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : { force: true };\n\n  this.updateMapLayers(options);\n};\n\n// called when layout (window) resize\nproto.layout = function (_ref32) {\n  var width = _ref32.width,\n      height = _ref32.height;\n\n  var is_hidden = width <= 0 || height <= 0;\n  if (!this.viewer) {\n    this.setupViewer(width, height);\n    if (this.viewer) {\n      this.setupControls();\n      this.emit('ready');\n    }\n  } else {\n    if (!is_hidden) {\n      this.getMap().updateSize();\n      this.state.hidemaps.forEach(function (hidemap) {\n        return hidemap.map.updateSize();\n      });\n      this._updateMapView();\n    }\n  }\n  this.setHidden(is_hidden);\n  this._mapControls.length && this._updateMapControlsLayout({ width: width, height: height });\n};\n\n//remove BaseLayers\nproto._removeBaseLayers = function () {\n  var _this30 = this;\n\n  Object.keys(this.mapBaseLayers).forEach(function (baseLayerId) {\n    _this30.viewer.map.removeLayer(_this30.mapBaseLayers[baseLayerId].getOLLayer());\n  });\n};\n\n// function to remove maplayers\nproto._removeMapLayers = function () {\n  var _this31 = this;\n\n  this.getMapLayers().forEach(function (mapLayer) {\n    _this31.unregisterMapLayerListeners(mapLayer);\n    _this31.viewer.map.removeLayer(mapLayer.getOLLayer());\n  });\n  this._mapLayers = [];\n};\n\nproto.getMapBBOX = function () {\n  return this.viewer.getBBOX();\n};\n\nproto._updateMapView = function () {\n  var bbox = this.viewer.getBBOX();\n  var resolution = this.viewer.getResolution();\n  var center = this.viewer.getCenter();\n  var size = this.getMap().getSize();\n  this.updateMapView(bbox, resolution, center, size);\n};\n\nproto.getMapSize = function () {\n  var map = this.viewer.map;\n  return map.getSize();\n};\n\nproto.setInnerGreyCoverScale = function (scale) {\n  this._drawShadow.scale = scale;\n};\n\nproto._resetDrawShadowInner = function () {\n  this._drawShadow = {\n    type: 'coordinate',\n    outer: [],\n    inner: [],\n    scale: null,\n    rotation: null\n  };\n};\n\nproto.setInnerGreyCoverBBox = function () {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  var map = this.viewer.map;\n  var type = options.type || 'coordinate';\n  var inner = options.inner || null;\n  var rotation = options.rotation;\n  var scale = options.scale;\n  var lowerLeftInner = void 0;\n  var upperRightInner = void 0;\n  if (inner) {\n    switch (type) {\n      case 'coordinate':\n        lowerLeftInner = map.getPixelFromCoordinate([inner[0], inner[1]]);\n        upperRightInner = map.getPixelFromCoordinate([inner[2], inner[3]]);\n        break;\n      case 'pixel':\n        lowerLeftInner = [inner[0], inner[1]];\n        upperRightInner = [inner[2], inner[3]];\n        break;\n    }\n    var y_min = lowerLeftInner[1] * ol.has.DEVICE_PIXEL_RATIO;\n    var x_min = lowerLeftInner[0] * ol.has.DEVICE_PIXEL_RATIO;\n    var y_max = upperRightInner[1] * ol.has.DEVICE_PIXEL_RATIO;\n    var x_max = upperRightInner[0] * ol.has.DEVICE_PIXEL_RATIO;\n    this._drawShadow.inner[0] = x_min;\n    this._drawShadow.inner[1] = y_min;\n    this._drawShadow.inner[2] = x_max;\n    this._drawShadow.inner[3] = y_max;\n  }\n  if (_.isNil(scale)) this._drawShadow.scale = this._drawShadow.scale || 1;else this._drawShadow.scale = scale;\n\n  if (_.isNil(rotation)) this._drawShadow.rotation = this._drawShadow.rotation || 0;else this._drawShadow.rotation = rotation;\n\n  this._drawShadow.outer && map.render();\n};\n\n// grey map precompose mapcompose\nproto.startDrawGreyCover = function (message) {\n  var _this32 = this;\n\n  // after rendering the layer, restore the canvas context\n  var map = this.viewer.map;\n  var x_min = void 0,\n      x_max = void 0,\n      y_min = void 0,\n      y_max = void 0,\n      rotation = void 0,\n      scale = void 0;\n  this.stopDrawGreyCover();\n  var postcompose = function postcompose(evt) {\n    var ctx = evt.context;\n    var size = _this32.getMap().getSize();\n    // Inner polygon,must be counter-clockwise\n    var height = size[1] * ol.has.DEVICE_PIXEL_RATIO;\n    var width = size[0] * ol.has.DEVICE_PIXEL_RATIO;\n    _this32._drawShadow.outer = [0, 0, width, height];\n    ctx.restore();\n    ctx.beginPath();\n    // Outside polygon, must be clockwise\n    ctx.moveTo(0, 0);\n    ctx.lineTo(width, 0);\n    ctx.lineTo(width, height);\n    ctx.lineTo(0, height);\n    ctx.lineTo(0, 0);\n    ctx.closePath();\n    // end external bbox (map is cover)\n    if (_this32._drawShadow.inner.length) {\n      ctx.save();\n      x_min = _this32._drawShadow.inner[0];\n      y_min = _this32._drawShadow.inner[3];\n      x_max = _this32._drawShadow.inner[2];\n      y_max = _this32._drawShadow.inner[1];\n      rotation = _this32._drawShadow.rotation;\n      scale = _this32._drawShadow.scale;\n      // Inner polygon,must be counter-clockwise antiorario\n      ctx.translate((x_max + x_min) / 2, (y_max + y_min) / 2);\n      ctx.rotate(rotation * Math.PI / 180);\n      ctx.moveTo(-((x_max - x_min) / 2), (y_max - y_min) / 2);\n      ctx.lineTo((x_max - x_min) / 2, (y_max - y_min) / 2);\n      ctx.lineTo((x_max - x_min) / 2, -((y_max - y_min) / 2));\n      ctx.lineTo(-((x_max - x_min) / 2), -((y_max - y_min) / 2));\n      ctx.lineTo(-((x_max - x_min) / 2), (y_max - y_min) / 2);\n      ctx.closePath();\n      // end inner bbox\n    }\n    ctx.fillStyle = 'rgba(0, 5, 25, 0.40)';\n    ctx.fill();\n    if (message) {\n      ctx.font = \"bold 25px Arial\";\n      ctx.fillStyle = \"#ffffff\";\n      ctx.textAlign = \"center\";\n      var arrayMessages = message.split('\\n');\n      for (var i = 0; i < arrayMessages.length; i++) {\n        ctx.fillText(arrayMessages[i], width / 2, height / 2 + 30 * i);\n      }\n      //ctx.fillText(message,width/2, height/2);\n    }\n    ctx.restore();\n  };\n  this._greyListenerKey = map.on('postcompose', postcompose);\n};\n\nproto.stopDrawGreyCover = function () {\n  var map = this.getMap();\n  if (this._greyListenerKey) {\n    ol.Observable.unByKey(this._greyListenerKey);\n    this._greyListenerKey = null;\n    this._drawShadow.inner.length && this._resetDrawShadowInner();\n  }\n  map.render();\n};\n\nproto.removeExternalLayers = function () {\n  var _this33 = this;\n\n  this._externalLayers.forEach(function (layer) {\n    var name = layer.get('name');\n    _this33.removeExternalLayer(name);\n  });\n  this._externalLayers = [];\n};\n\nproto.changeLayerVisibility = function (_ref33) {\n  var id = _ref33.id,\n      _ref33$external = _ref33.external,\n      external = _ref33$external === undefined ? false : _ref33$external,\n      visible = _ref33.visible;\n\n  var layer = this.getLayerById(id);\n  if (layer) {\n    layer.setVisible(visible);\n    this.emit('change-layer-visibility', { id: id, visible: visible });\n  }\n};\n\nproto.changeLayerOpacity = function () {\n  var _ref34 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      id = _ref34.id,\n      _ref34$opacity = _ref34.opacity,\n      opacity = _ref34$opacity === undefined ? 1 : _ref34$opacity;\n\n  var layer = this.getLayerById(id);\n  layer && layer.setOpacity(opacity);\n  this.emit('change-layer-opacity', { id: id, opacity: opacity });\n};\n\nproto.changeLayerMapPosition = function (_ref35) {\n  var id = _ref35.id,\n      _ref35$position = _ref35.position,\n      position = _ref35$position === undefined ? _constant.MAP_SETTINGS.LAYER_POSITIONS.default : _ref35$position;\n\n  var layer = this.getLayerById(id);\n  switch (position) {\n    case 'top':\n      layer.setZIndex(this.layersCount);\n      break;\n    case 'bottom':\n      layer.setZIndex(0);\n      break;\n  }\n  this.emit('change-layer-position-map', { id: id, position: position });\n};\n\n/**\n * Remove externla layer\n * @param name\n */\nproto.removeExternalLayer = function (name) {\n  var _this34 = this;\n\n  var layer = this.getLayerByName(name);\n  var catalogService = _gui2.default.getService('catalog');\n  var QueryResultService = _gui2.default.getService('queryresults');\n  QueryResultService.unregisterVectorLayer(layer);\n  this.viewer.map.removeLayer(layer);\n  var type = layer._type || 'vector';\n  catalogService.removeExternalLayer({\n    name: name,\n    type: type\n  });\n  if (type == 'wms') this._externalMapLayers = this._externalMapLayers.filter(function (externalMapLayer) {\n    if (externalMapLayer.getId() === layer.id) _this34.unregisterMapLayerListeners(externalMapLayer, layer.projectLayer);\n    return externalMapLayer.getId() !== layer.id;\n  });\n  this._externalLayers = this._externalLayers.filter(function (externalLayer) {\n    return externalLayer.get('id') !== layer.get('id');\n  });\n  this.unloadExternalLayer(layer);\n  this.emit('remove-external-layer', name);\n};\n\n/**\n * Add wms external layer to mapo\n * @param url\n * @param layers\n * @param name\n * @param projection\n * @param position\n * @returns {Promise<unknown>}\n */\nproto.addExternalWMSLayer = function () {\n  var _this35 = this;\n\n  var _ref36 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      url = _ref36.url,\n      layers = _ref36.layers,\n      name = _ref36.name,\n      _ref36$epsg = _ref36.epsg,\n      epsg = _ref36$epsg === undefined ? this.getEpsg() : _ref36$epsg,\n      _ref36$position = _ref36.position,\n      position = _ref36$position === undefined ? _constant.MAP_SETTINGS.LAYER_POSITIONS.default : _ref36$position,\n      opacity = _ref36.opacity,\n      _ref36$visible = _ref36.visible,\n      visible = _ref36$visible === undefined ? true : _ref36$visible;\n\n  var projection = ol.proj.get(epsg);\n  return new Promise(function (resolve, reject) {\n    var _createWMSLayer = createWMSLayer({\n      name: name,\n      url: url,\n      layers: layers,\n      projection: projection\n    }),\n        wmslayer = _createWMSLayer.wmslayer,\n        olLayer = _createWMSLayer.olLayer;\n\n    wmslayer.once('loadend', function () {\n      resolve(wmslayer);\n    });\n\n    wmslayer.once('loaderror', function (err) {\n      reject(err);\n    });\n\n    /**\n     * add to map\n     */\n    _this35.addExternalLayer(olLayer, {\n      position: position,\n      opacity: opacity,\n      visible: visible\n    });\n\n    /**\n     * cal register and other thing to alert that new map layer is added\n     */\n    _this35.addExternalMapLayer(wmslayer, false);\n  });\n};\n\n/**\n *\n * Return extanla layers added to map\n * @returns {[]|*[]|T[]}\n */\nproto.getExternalLayers = function () {\n  return this._externalLayers;\n};\n\nproto.addExternalMapLayer = function (externalMapLayer) {\n  var projectLayer = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n  this._externalMapLayers.push(externalMapLayer);\n  this.registerMapLayerListeners(externalMapLayer, projectLayer);\n};\n\n/**\n * Add an external layer to the map (eg. ZIP, KMZ, GPX, ...)\n * \n * @param { ol.layer.Vector | ol.layer.Image | unknown } externalLayer\n * @param {{ position: unknown, opacity: number, visible: boolean, crs: unknown, type: unknown, download: unknown }} options\n * \n * @returns { Promise<unknown> }\n */\nproto.addExternalLayer = function () {\n  var _ref37 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee4(externalLayer) {\n    var _this36 = this;\n\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    var vectorLayer, name, data, color, style, type, crs, _options$position, position, _options$opacity, opacity, _options$visible, visible, map, catalogService, QueryResultService, _color, _style, loadExternalLayer, layer;\n\n    return regeneratorRuntime.wrap(function _callee4$(_context4) {\n      while (1) {\n        switch (_context4.prev = _context4.next) {\n          case 0:\n            vectorLayer = void 0, name = void 0, data = void 0, color = void 0, style = void 0, type = void 0, crs = void 0;\n            _options$position = options.position, position = _options$position === undefined ? _constant.MAP_SETTINGS.LAYER_POSITIONS.default : _options$position, _options$opacity = options.opacity, opacity = _options$opacity === undefined ? 1 : _options$opacity, _options$visible = options.visible, visible = _options$visible === undefined ? true : _options$visible;\n            map = this.viewer.map;\n            catalogService = _gui2.default.getService('catalog');\n            QueryResultService = _gui2.default.getService('queryresults');\n\n            /**\n             * EXTERNAL VECTOR LAYER\n             */\n\n            if (externalLayer instanceof ol.layer.Vector) {\n              _color = void 0;\n\n\n              if (undefined === externalLayer.get('id')) {\n                externalLayer.set('id', uniqueId());\n              }\n\n              vectorLayer = externalLayer;\n              vectorLayer.filter = { // used by `selection` for query result purpose ?\n                active: false // UNUSUED - it means not yet implemented?\n              };\n              vectorLayer.selection = {\n                active: false,\n                features: []\n              };\n\n              try {\n                _style = externalLayer.getStyle();\n\n                _color = _style._g3w_options ? _style._g3w_options.color : 'blue'; //setted by geo utils create style function\n              } catch (err) {\n                _color = 'blue';\n              }\n\n              name = vectorLayer.get('name') || vectorLayer.get('id');\n              type = 'vector';\n              externalLayer = {\n                id: externalLayer.get('id'),\n                name: name,\n                projectLayer: false,\n                title: name,\n                removable: true,\n                external: true,\n                crs: options.crs,\n                type: options.type,\n                _type: type,\n                download: options.download || false,\n                visible: visible,\n                checked: true,\n                position: position,\n                opacity: opacity,\n                color: _color,\n                filter: vectorLayer.filter,\n                selection: vectorLayer.selection,\n                tochighlightable: false //@since 3.8.0\n              };\n            }\n\n            /**\n             * EXTERNAL IMAGE LAYER\n             */\n            else if (externalLayer instanceof ol.layer.Image) {\n                type = 'wms';\n                name = externalLayer.get('name');\n                externalLayer.id = externalLayer.get('id');\n                externalLayer.removable = true;\n                externalLayer.projectLayer = false;\n                externalLayer.name = name;\n                externalLayer.title = name;\n                externalLayer._type = type;\n                externalLayer.opacity = opacity;\n                externalLayer.position = position;\n                externalLayer.external = true;\n                externalLayer.checked = visible;\n              }\n\n              /**\n               * UKNOWN EXTERNAL LAYER TYPE ?\n               */\n              else {\n                  name = externalLayer.name;\n                  type = externalLayer.type;\n                  crs = externalLayer.crs;\n                  data = externalLayer.data;\n                  color = externalLayer.color;\n                }\n\n            loadExternalLayer = function loadExternalLayer(layer, type) {\n              var extent = void 0;\n              // skip if is not a valid layer\n              if (!layer) {\n                return Promise.reject();\n              }\n              if (type === 'vector') {\n                var features = layer.getSource().getFeatures();\n                if (features.length) {\n                  var id = 0;\n                  // add id value\n                  features.forEach(function (feature) {\n                    feature.setId(id++);\n                  });\n                  externalLayer.geometryType = features[0].getGeometry().getType();\n                  externalLayer.selected = false;\n                }\n                extent = layer.getSource().getExtent();\n                externalLayer.bbox = { minx: extent[0], miny: extent[1], maxx: extent[2], maxy: extent[3] };\n              }\n              layer.set('position', position);\n              layer.setOpacity(opacity);\n              layer.setVisible(visible);\n              map.addLayer(layer);\n              _this36._externalLayers.push(layer);\n              QueryResultService.registerVectorLayer(layer);\n              catalogService.addExternalLayer({ layer: externalLayer, type: type });\n              if (extent) {\n                map.getView().fit(extent);\n              }\n              _this36.loadExternalLayer(layer);\n              return Promise.resolve(layer);\n            };\n\n            layer = this.getLayerByName(name);\n\n            if (layer) {\n              _context4.next = 20;\n              break;\n            }\n\n            _context4.t0 = type;\n            _context4.next = _context4.t0 === 'vector' ? 12 : _context4.t0 === 'wms' ? 13 : 14;\n            break;\n\n          case 12:\n            return _context4.abrupt('return', loadExternalLayer(vectorLayer, type));\n\n          case 13:\n            return _context4.abrupt('return', loadExternalLayer(externalLayer, type));\n\n          case 14:\n            _context4.next = 16;\n            return createVectorLayerFromFile({ name: name, type: type, crs: crs, mapCrs: mapCrs, data: data, style: style });\n\n          case 16:\n            vectorLayer = _context4.sent;\n            return _context4.abrupt('return', loadExternalLayer(vectorLayer));\n\n          case 18:\n            _context4.next = 21;\n            break;\n\n          case 20:\n            _gui2.default.notify.warning(\"layer_is_added\", false);\n\n          case 21:\n          case 'end':\n            return _context4.stop();\n        }\n      }\n    }, _callee4, this);\n  }));\n\n  return function (_x56) {\n    return _ref37.apply(this, arguments);\n  };\n}();\n\nproto.setExternalLayerStyle = function (color, field) {\n  color = color.rgba;\n  color = 'rgba(' + color.r + ',' + color.g + ',' + color.b + ',' + color.a + ')';\n  var defaultStyle = {\n    'Point': new ol.style.Style({\n      image: new ol.style.Circle({\n        fill: new ol.style.Fill({\n          color: color\n        }),\n        radius: 5,\n        stroke: new ol.style.Stroke({\n          color: color,\n          width: 1\n        })\n      })\n    }),\n    'LineString': new ol.style.Style({\n      stroke: new ol.style.Stroke({\n        color: color,\n        width: 3\n      })\n    }),\n    'Polygon': new ol.style.Style({\n      fill: new ol.style.Fill({\n        color: 'rgba(255,255,255,0.5)'\n      }),\n      stroke: new ol.style.Stroke({\n        color: color,\n        width: 3\n      })\n    }),\n    'MultiPoint': new ol.style.Style({\n      image: new ol.style.Circle({\n        fill: new ol.style.Fill({\n          color: color\n        }),\n        radius: 5,\n        stroke: new ol.style.Stroke({\n          color: color,\n          width: 1\n        })\n      })\n    }),\n    'MultiLineString': new ol.style.Style({\n      stroke: new ol.style.Stroke({\n        color: color,\n        width: 3\n      })\n    }),\n    'MultiPolygon': new ol.style.Style({\n      fill: new ol.style.Fill({\n        color: 'rgba(255,255,255,0.5)'\n      }),\n      stroke: new ol.style.Stroke({\n        color: color,\n        width: 3\n      })\n    })\n  };\n  var styleFunction = function styleFunction(feature, resolution) {\n    var featureStyleFunction = feature.getStyleFunction();\n    return featureStyleFunction ? featureStyleFunction.call(feature, resolution) : defaultStyle[feature.getGeometry().getType()];\n  };\n  return styleFunction;\n};\n\nmodule.exports = MapService;\n\n},{\"app/constant\":4,\"core/g3wobject\":12,\"core/i18n/i18n.service\":13,\"core/layers/map/wmslayer\":45,\"core/layers/providers/wfsprovider\":53,\"core/layers/vectorlayer\":57,\"core/utils/geo\":64,\"core/utils/ol\":66,\"core/utils/utils\":68,\"g3w-ol/g3w.ol\":100,\"gui/map/control/factory\":156,\"gui/wms/vue/wms\":192,\"services/application\":351,\"services/data\":358,\"services/gui\":361,\"store/map-controls\":376,\"store/map-layers\":377,\"store/projects\":379}],158:[function(require,module,exports){\nvar _Map = require('components/Map.vue');\n\nvar vueComponentOptions = _interopRequireWildcard(_Map);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    merge = _require.merge,\n    inherit = _require.inherit;\n\nvar Component = require('gui/component/component');\nvar MapService = require('gui/map/mapservice');\n\n// interanl registration\nvar InternalComponent = Vue.extend(vueComponentOptions);\n\nVue.component('g3w-map', vueComponentOptions);\n\nfunction MapComponent() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  base(this, options);\n  this.id = \"map-component\";\n  this.title = \"Map Component\";\n  var target = options.target || \"map\";\n  var maps_container = options.maps_container || \"g3w-maps\";\n  options.target = target;\n  options.maps_container = maps_container;\n  var service = new MapService(options);\n  this.setService(service);\n  merge(this, options);\n  this.internalComponent = new InternalComponent({\n    service: service,\n    target: target,\n    maps_container: maps_container\n  });\n  /**\n   * add Vue get cookie method\n   *\n   */\n  service.getCookie = this.internalComponent.$cookie.get;\n}\n\ninherit(MapComponent, Component);\n\nvar proto = MapComponent.prototype;\n\nproto.layout = function (width, height) {\n  $('#' + this.target).height(height);\n  $('#' + this.target).width(width);\n  this._service.layout({ width: width, height: height });\n};\n\nmodule.exports = MapComponent;\n\n},{\"components/Map.vue\":254,\"core/utils/utils\":68,\"gui/component/component\":117,\"gui/map/mapservice\":157}],159:[function(require,module,exports){\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _projects = require('store/projects');\n\nvar _projects2 = _interopRequireDefault(_projects);\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar _require = require('core/utils/utils'),\n    inherit = _require.inherit;\n\nvar G3WObject = require('core/g3wobject');\nvar ProjectMetadataComponent = require('gui/metadata/vue/components/project/project');\n\nvar METADATAGROUPS = {\n  general: ['title', 'name', 'description', 'abstract', 'keywords', 'fees', 'accessconstraints', 'contactinformation', 'wms_url'],\n  spatial: ['crs', 'extent'],\n  layers: ['layers']\n};\n\nfunction MetadataService() {\n  this.content = null;\n  this.show = false;\n  this.state = {\n    name: '',\n    groups: {}\n  };\n  this._buildProjectGroupMetadata();\n}\n\ninherit(MetadataService, G3WObject);\n\nvar proto = MetadataService.prototype;\n\nproto._buildProjectGroupMetadata = function () {\n  var project = _projects2.default.getCurrentProject().getState();\n  this.state.name = project.title;\n  var groups = {};\n  Object.entries(METADATAGROUPS).forEach(function (_ref) {\n    var _ref2 = _slicedToArray(_ref, 2),\n        groupName = _ref2[0],\n        value = _ref2[1];\n\n    groups[groupName] = {};\n    value.forEach(function (field) {\n      var fieldValue = project.metadata && project.metadata[field] ? project.metadata[field] : project[field];\n      if (!!fieldValue) {\n        groups[groupName][field] = {\n          label: ['sdk', 'metadata', 'groups', groupName, 'fields', field].join('.'),\n          value: fieldValue\n        };\n      }\n    });\n  });\n  this.state.groups = groups;\n};\n\nproto.getProjectMetadata = function () {\n  return this.state;\n};\n\nproto.getLayersMetadata = function () {\n  return this.state.groups.layers;\n};\n\nproto.getLayerMetadata = function (id) {\n  var layerMetadata = this.state.groups.layers.filter(function (layer) {\n    return layer.id === id;\n  });\n  return layerMetadata[0];\n};\n\nproto.showMetadata = function (bool) {\n  this.show = bool;\n  if (this.show) {\n    this.content = new ProjectMetadataComponent({\n      state: this.getProjectMetadata(),\n      service: this\n    });\n    _gui2.default.setContent({\n      content: this.content,\n      title: \"sdk.metadata.title\",\n      perc: 100\n    });\n    this.show = true;\n  } else _gui2.default.closeContent();\n};\n\nproto.reload = function () {\n  this.emit('reload');\n  this._buildProjectGroupMetadata();\n};\n\nmodule.exports = MetadataService;\n\n},{\"core/g3wobject\":12,\"core/utils/utils\":68,\"gui/metadata/vue/components/project/project\":160,\"services/gui\":361,\"store/projects\":379}],160:[function(require,module,exports){\nvar _MetadataProject = require('components/MetadataProject.vue');\n\nvar _MetadataProject2 = _interopRequireDefault(_MetadataProject);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar _require = require('core/utils/utils'),\n    inherit = _require.inherit,\n    base = _require.base;\n\nvar Component = require('gui/component/component');\n\nfunction ProjectMetadataComponent() {\n  var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      _ref$state = _ref.state,\n      state = _ref$state === undefined ? {} : _ref$state,\n      service = _ref.service;\n\n  base(this);\n  var vueComponent = Vue.extend(_MetadataProject2.default);\n  this.setService(service);\n  this.internalComponent = new vueComponent({\n    state: state\n  });\n  this.layout = function () {};\n}\n\ninherit(ProjectMetadataComponent, Component);\n\nmodule.exports = ProjectMetadataComponent;\n\n},{\"components/MetadataProject.vue\":262,\"core/utils/utils\":68,\"gui/component/component\":117}],161:[function(require,module,exports){\nvar _Metadata = require('components/Metadata.vue');\n\nvar vueComponentOptions = _interopRequireWildcard(_Metadata);\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nvar _require = require('core/utils/utils'),\n    inherit = _require.inherit,\n    base = _require.base;\n\nvar Component = require('gui/component/component');\nvar MetadataService = require('gui/metadata/metadataservice');\n\nvar InternalComponent = Vue.extend(vueComponentOptions);\n\nvar MetadataComponent = function MetadataComponent() {\n  var _this = this;\n\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  base(this, options);\n  this.title = \"sdk.metadata.title\";\n  var service = options.service || new MetadataService(options);\n  this.setService(service);\n  this._service.on('reload', function () {\n    _this.setOpen(false);\n  });\n  this.setInternalComponent = function () {\n    this.internalComponent = new InternalComponent({\n      service: service\n    });\n    this.internalComponent.state = service.state;\n    return this.internalComponent;\n  };\n  this._setOpen = function (bool) {\n    this._service.showMetadata(bool);\n  };\n  _gui2.default.on('closecontent', function () {\n    _this.state.open = false;\n  });\n};\n\ninherit(MetadataComponent, Component);\n\nmodule.exports = MetadataComponent;\n\n},{\"components/Metadata.vue\":260,\"core/utils/utils\":68,\"gui/component/component\":117,\"gui/metadata/metadataservice\":159,\"services/gui\":361}],162:[function(require,module,exports){\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar _require = require('core/utils/utils'),\n    inherit = _require.inherit,\n    resolvedValue = _require.resolve;\n\nvar G3WObject = require('core/g3wobject');\n\nvar Panel = function Panel() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  this.id = options.id || null;\n  this.title = options.title || '';\n  this.internalPanel = options.panel || null;\n  this.service = options.service;\n};\n\ninherit(Panel, G3WObject);\n\nvar proto = Panel.prototype;\n\nproto.getId = function () {\n  return this.id;\n};\n\nproto.getTitle = function () {\n  return this.title;\n};\n\nproto.getService = function () {\n  return this.service;\n};\n\nproto.setService = function (service) {\n  this.service = service;\n};\n\nproto.getInternalPanel = function () {\n  return this.internalPanel;\n};\n\nproto.setInternalPanel = function (internalPanel) {\n  this.internalPanel = internalPanel;\n};\n\nproto.show = function () {\n  _gui2.default.showPanel(this);\n};\n\nproto.close = function () {\n  _gui2.default.closePanel();\n};\n\nproto.mount = function (parent) {\n  var panel = this.internalPanel;\n  var iCinstance = panel.$mount();\n  $(parent).append(iCinstance.$el);\n  iCinstance.$nextTick(function () {\n    $(parent).localize();\n    panel.onShow && panel.onShow();\n  });\n  return resolvedValue(true);\n};\n\nproto.unmount = function () {\n  var panel = this.internalPanel;\n  var d = $.Deferred();\n  panel.$destroy(true);\n  $(panel.$el).remove();\n  panel.onClose && panel.onClose();\n  this.internalComponent = null;\n  d.resolve();\n  return d.promise();\n};\n\nproto.onResize = function (parentWidth, parentHeight) {};\n\nmodule.exports = Panel;\n\n},{\"core/g3wobject\":12,\"core/utils/utils\":68,\"services/gui\":361}],163:[function(require,module,exports){\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _projects = require('store/projects');\n\nvar _projects2 = _interopRequireDefault(_projects);\n\nvar _application = require('services/application');\n\nvar _application2 = _interopRequireDefault(_application);\n\nvar _constant = require('app/constant');\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit,\n    downloadFile = _require.downloadFile;\n\nvar _require2 = require('core/i18n/i18n.service'),\n    t = _require2.t;\n\nvar G3WObject = require('core/g3wobject');\nvar PrintService = require('core/print/printservice');\n\nvar _require3 = require('core/utils/ol'),\n    getScaleFromResolution = _require3.getScaleFromResolution,\n    getResolutionFromScale = _require3.getResolutionFromScale,\n    getMetersFromDegrees = _require3.getMetersFromDegrees;\n\nvar PrintPage = require('gui/print/vue/printpage');\n\nfunction PrintComponentService() {\n  base(this);\n  this.printService = new PrintService();\n  this._initialized = false;\n  this.state = {\n    loading: false\n  };\n  this._moveMapKeyEvent = null;\n  this._page = null;\n  this._mapService = null;\n  this._map = null;\n  this._mapUnits;\n  this._scalesResolutions = {};\n  this.init = function () {\n    this._project = _projects2.default.getCurrentProject();\n    this.state.print = this._project.getPrint() || [];\n    this.state.visible = this.state.print.length > 0;\n    this.state.isShow = false;\n    this.state.url = null;\n    this.state.output = {\n      url: null,\n      method: this._project.getOwsMethod(),\n      layers: true,\n      format: null,\n      loading: false,\n      type: null\n    };\n    this.state.printextent = {\n      minx: [0, 0],\n      miny: [0, 0],\n      maxx: [0, 0],\n      maxy: [0, 0]\n    };\n    this.state.visible && this.setInitState();\n  };\n}\n\ninherit(PrintComponentService, G3WObject);\n\nvar proto = PrintComponentService.prototype;\n\nproto.setInitState = function () {\n  this.state.template = this.state.print[0].name;\n  this.state.atlas = this.state.print[0].atlas;\n  this.state.atlasValues = [];\n  this.state.rotation = 0;\n  this.state.inner = [0, 0, 0, 0];\n  this.state.center = null;\n  this.state.size = null;\n  this.state.scale = _constant.PRINT_SCALES;\n  this.state.scala = null;\n  this.state.dpis = _constant.PRINT_RESOLUTIONS;\n  this.state.dpi = _constant.PRINT_RESOLUTIONS[0];\n  this.state.formats = _constant.PRINT_FORMATS;\n  this.state.output.format = _constant.PRINT_FORMATS[0].value;\n  this.state.maps = this.state.print[0].maps;\n  // label section\n  this.state.labels = this.state.print[0].labels;\n};\n\nproto.changeTemplate = function () {\n  var _this = this;\n\n  if (!this.state.template) return;\n  var isPreviousAtlas = this.state.atlas;\n\n  var _state$print$find = this.state.print.find(function (print) {\n    return print.name === _this.state.template;\n  }),\n      atlas = _state$print$find.atlas,\n      maps = _state$print$find.maps,\n      labels = _state$print$find.labels;\n\n  this.state.maps = maps;\n  this.state.atlas = atlas;\n  this.state.labels = labels;\n  this.state.atlasValues = [];\n  this.state.atlas ? this._clearPrint() : isPreviousAtlas ? this.showPrintArea(true) : this._setPrintArea();\n};\n\nproto.changeScale = function () {\n  this.state.scala && this._setPrintArea();\n};\n\nproto.changeRotation = function () {\n  this._mapService.setInnerGreyCoverBBox({\n    rotation: this.state.rotation\n  });\n};\n\nproto._getPrintExtent = function () {\n  var _ref = [].concat(_toConsumableArray(this.state.printextent.lowerleft), _toConsumableArray(this.state.printextent.upperright)),\n      minx = _ref[0],\n      miny = _ref[1],\n      maxx = _ref[2],\n      maxy = _ref[3];\n\n  var extent = this._mapService.isAxisOrientationInverted() ? [miny, minx, maxy, maxx] : [minx, miny, maxx, maxy];\n  return extent.join();\n};\n\nproto.getOverviewExtent = function () {\n  var extent = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var xmin = extent.xmin,\n      xmax = extent.xmax,\n      ymin = extent.ymin,\n      ymax = extent.ymax;\n\n  var overviewextent = this._mapService.isAxisOrientationInverted() ? [ymin, xmin, ymax, xmax] : [xmin, ymin, xmax, ymax];\n  return overviewextent.join();\n};\n\nproto._getOptionsPrint = function () {\n  var _this2 = this;\n\n  var is_maps_preset_theme = false;\n  var maps = this.state.maps.map(function (map) {\n    is_maps_preset_theme = is_maps_preset_theme || map.preset_theme !== undefined;\n    return {\n      name: map.name,\n      preset_theme: map.preset_theme,\n      scale: map.overview ? map.scale : _this2.state.scala,\n      extent: map.overview ? _this2.getOverviewExtent(map.extent) : _this2._getPrintExtent()\n    };\n  });\n  var options = {\n    rotation: this.state.rotation,\n    dpi: this.state.dpi,\n    template: this.state.template,\n    maps: maps,\n    scale: this.state.scala,\n    format: this.state.output.format,\n    labels: this.state.labels,\n    is_maps_preset_theme: is_maps_preset_theme\n  };\n\n  return options;\n};\n\nproto.setPrintAreaAfterCloseContent = function () {\n  this._map.once('postrender', this._setPrintArea.bind(this));\n  this.stopLoading();\n};\n\nproto.print = function () {\n  var _this3 = this;\n\n  return new Promise(function (resolve, reject) {\n    //disable sidebar\n    _gui2.default.disableSideBar(true);\n    if (_this3.state.atlas) {\n      var caller_download_id = _application2.default.setDownload(true);\n      _this3.state.loading = true;\n      _this3.printService.printAtlas({\n        template: _this3.state.template,\n        field: _this3.state.atlas.field_name || '$id',\n        values: _this3.state.atlasValues,\n        download: true\n      }).then(function (_ref2) {\n        var url = _ref2.url;\n\n        downloadFile({\n          url: url,\n          filename: _this3.state.template,\n          mime_type: 'application/pdf'\n        }).then(function () {\n          resolve();\n        }).catch(function (error) {\n          _this3.showError(error);\n          reject();\n        }).finally(function () {\n          _this3.state.loading = false;\n          _application2.default.setDownload(false, caller_download_id);\n          _gui2.default.disableSideBar(false);\n        });\n      });\n    } else {\n      _this3.state.output.url = null;\n      _this3.state.output.layers = true;\n      _this3._page = new PrintPage({\n        service: _this3\n      });\n      _gui2.default.setContent({\n        content: _this3._page,\n        title: 'print',\n        perc: 100\n      });\n      var options = _this3._getOptionsPrint();\n      _this3.printService.print(options, method = _this3.state.output.method).then(function (data) {\n        _this3.state.output.url = data.url;\n        _this3.state.output.layers = data.layers;\n        _this3.state.output.mime_type = data.mime_type;\n        resolve();\n      }).catch(function (err) {\n        _this3.showError();\n        reject(err);\n      }).finally(function () {\n        // in case of no layers\n        !_this3.state.output.layers && _gui2.default.disableSideBar(false);\n      });\n    }\n  });\n};\n\nproto.startLoading = function () {\n  this.state.output.loading = true;\n};\n\nproto.stopLoading = function () {\n  this.state.output.loading = false;\n};\n\nproto.showError = function (error) {\n  _gui2.default.notify.error(error || t(\"info.server_error\"));\n  _gui2.default.closeContent();\n};\n\nproto._calculateInternalPrintExtent = function () {\n  var resolution = this._map.getView().getResolution();\n  var scala = parseFloat(this.state.scala);\n\n  var _state$maps$find = this.state.maps.find(function (map) {\n    return !map.overview;\n  }),\n      height = _state$maps$find.h,\n      width = _state$maps$find.w;\n\n  var resolutionInMeters = this._mapService.getMapUnits() === 'm' ? resolution : getMetersFromDegrees(resolution);\n  var w = width / 1000.0 * scala / resolutionInMeters;\n  var h = height / 1000.0 * scala / resolutionInMeters;\n  // get current map center ( in pixel)\n  var center = [this.state.size[0] / 2, // X\n  this.state.size[1] / 2 // Y\n  ];\n  // Calculate the inner bbox in pixel\n  var xmin = center[0] - w / 2;\n  var ymin = center[1] - h / 2;\n  var xmax = center[0] + w / 2;\n  var ymax = center[1] + h / 2;\n  this.state.printextent.lowerleft = this._map.getCoordinateFromPixel([xmin, ymax]) ? this._map.getCoordinateFromPixel([xmin, ymax]) : this.state.printextent.lowerleft;\n  this.state.printextent.upperright = this._map.getCoordinateFromPixel([xmax, ymin]) ? this._map.getCoordinateFromPixel([xmax, ymin]) : this.state.printextent.upperright;\n  this.state.inner = [xmin, ymax, xmax, ymin];\n};\n\nproto._setPrintArea = function () {\n  this.state.size = this._map.getSize();\n  var resolution = this._map.getView().getResolution();\n  this.state.currentScala = getScaleFromResolution(resolution, this._mapUnits);\n  this.state.center = this._map.getView().getCenter();\n  this._calculateInternalPrintExtent();\n  this._mapService.setInnerGreyCoverBBox({\n    type: 'pixel',\n    inner: this.state.inner,\n    rotation: this.state.rotation\n  });\n};\n\nproto._clearPrint = function () {\n  var reset = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n  ol.Observable.unByKey(this._moveMapKeyEvent);\n  this._moveMapKeyEvent = null;\n  this._mapService.stopDrawGreyCover();\n};\n\nproto._setAllScalesBasedOnMaxResolution = function (maxResolution) {\n  var _this4 = this;\n\n  var resolution = maxResolution;\n  var mapScala = getScaleFromResolution(resolution, this._mapUnits);\n  var orderScales = _.orderBy(this.state.scale, ['value'], ['desc']);\n  var scale = [];\n  var addedFirstHighestScale = false;\n  var handleScala = function handleScala(scala) {\n    scale.push(scala);\n    resolution = getResolutionFromScale(scala.value, _this4._mapUnits);\n    _this4._scalesResolutions[scala.value] = resolution;\n    resolution = resolution / 2;\n  };\n  orderScales.forEach(function (scala, index) {\n    if (mapScala > scala.value) {\n      if (!addedFirstHighestScale) {\n        var higherScale = orderScales[index - 1];\n        handleScala(higherScale);\n        addedFirstHighestScale = true;\n      }\n      handleScala(scala);\n    }\n  });\n  this.state.scale = scale;\n};\n\nproto._setInitialScalaSelect = function () {\n  this.state.scala = this.state.scale[0].value;\n  $('#scala').val(this.state.scala);\n};\n\nproto._setCurrentScala = function (resolution) {\n  var _this5 = this;\n\n  Object.entries(this._scalesResolutions).find(function (_ref3) {\n    var _ref4 = _slicedToArray(_ref3, 2),\n        scala = _ref4[0],\n        res = _ref4[1];\n\n    if (resolution <= res) {\n      _this5.state.scala = scala;\n      return true;\n    }\n  });\n};\n\nproto._setMoveendMapEvent = function () {\n  this._moveMapKeyEvent = this._map.on('moveend', this._setPrintArea.bind(this));\n};\n\nproto._showPrintArea = function () {\n  if (this.state.atlas === undefined) {\n    this._setPrintArea();\n    this._mapService.startDrawGreyCover();\n  }\n};\n\nproto._initPrintConfig = function () {\n  if (!this._initialized) {\n    var maxResolution = this._map.getView().getMaxResolution();\n    this._setAllScalesBasedOnMaxResolution(maxResolution);\n    this._initialized = true;\n  }\n  var resolution = this._map.getView().getResolution();\n  this._setCurrentScala(resolution);\n};\n\nproto.showPrintArea = function (bool) {\n  var _this6 = this;\n\n  // close content if open\n  this.state.isShow = bool;\n  _gui2.default.closeContent().then(function (mapComponent) {\n    setTimeout(function () {\n      _this6._mapService = mapComponent.getService();\n      _this6._mapUnits = _this6._mapService.getMapUnits();\n      _this6._mapService.getMap().once('postrender', function (evt) {\n        _this6._map = evt.map;\n        if (bool) {\n          _this6._setMoveendMapEvent();\n          _this6._initPrintConfig();\n          _this6._showPrintArea();\n        } else _this6._clearPrint();\n      });\n      _this6._mapService.getMap().renderSync();\n    });\n  });\n};\n\nproto.reload = function () {\n  var _this7 = this;\n\n  this._project = _projects2.default.getCurrentProject();\n  this._mapService = _gui2.default.getService('map');\n  this._map = this._mapService.viewer.map;\n  this.state.print = this._project.state.print || [];\n  this.state.visible = this.state.print.length > 0;\n  if (this.state.visible) {\n    this.state.template = this.state.print[0].name;\n    !this._initialized && this.init();\n    this._initPrintConfig();\n    this._mapService.on('changeviewaftercurrentproject', function () {\n      var maxResolution = _this7._map.getView().getMaxResolution();\n      _this7.state.scale = _constant.PRINT_SCALES;\n      _this7._setAllScalesBasedOnMaxResolution(maxResolution);\n    });\n  } else this._clearPrint();\n};\n\nmodule.exports = PrintComponentService;\n\n},{\"app/constant\":4,\"core/g3wobject\":12,\"core/i18n/i18n.service\":13,\"core/print/printservice\":60,\"core/utils/ol\":66,\"core/utils/utils\":68,\"gui/print/vue/printpage\":165,\"services/application\":351,\"services/gui\":361,\"store/projects\":379}],164:[function(require,module,exports){\nvar _Print = require('components/Print.vue');\n\nvar vueComponentOptions = _interopRequireWildcard(_Print);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nvar _require = require('core/utils/utils'),\n    inherit = _require.inherit,\n    base = _require.base;\n\nvar Component = require('gui/component/component');\nvar PrintService = require('gui/print/printservice');\n\nfunction PrintComponent() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  base(this, options);\n  this.title = \"print\";\n  this.vueComponent = vueComponentOptions;\n  this.internalComponent = null;\n  var service = options.service || new PrintService();\n  this.setService(service);\n  // init service\n  this._service.init();\n  this.setInternalComponent = function () {\n    var InternalComponent = Vue.extend(this.vueComponent);\n    this.internalComponent = new InternalComponent({\n      service: service\n    });\n    this.state.visible = service.state.visible;\n    this.internalComponent.state = service.state;\n    return this.internalComponent;\n  };\n\n  this._reload = function () {\n    var service = this.getService();\n    service.reload();\n    this.state.visible = service.state.visible;\n  };\n\n  this._setOpen = function (bool) {\n    this._service.showPrintArea(bool);\n  };\n}\n\ninherit(PrintComponent, Component);\n\nmodule.exports = PrintComponent;\n\n},{\"components/Print.vue\":271,\"core/utils/utils\":68,\"gui/component/component\":117,\"gui/print/printservice\":163}],165:[function(require,module,exports){\nvar _PrintPage = require('components/PrintPage.vue');\n\nvar vueComponentOptions = _interopRequireWildcard(_PrintPage);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nvar _require = require('core/utils/utils'),\n    inherit = _require.inherit,\n    base = _require.base;\n\nvar Component = require('gui/component/component');\n\nvar InternalComponent = Vue.extend(vueComponentOptions);\n\nvar PrintPage = function PrintPage() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  base(this);\n  var service = options.service;\n  this.setService(service);\n  var internalComponent = new InternalComponent({\n    service: service\n  });\n  this.setInternalComponent(internalComponent);\n  this.internalComponent.state = service.state.output;\n  this.unmount = function () {\n    this.getService().setPrintAreaAfterCloseContent();\n    return base(this, 'unmount');\n  };\n};\n\ninherit(PrintPage, Component);\n\nmodule.exports = PrintPage;\n\n},{\"components/PrintPage.vue\":273,\"core/utils/utils\":68,\"gui/component/component\":117}],166:[function(require,module,exports){\nvar _ProjectsMenu = require('components/ProjectsMenu.vue');\n\nvar vueComponentOptions = _interopRequireWildcard(_ProjectsMenu);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit,\n    merge = _require.merge;\n\nvar Component = require('gui/component/component');\n\nvar InternalComponent = Vue.extend(vueComponentOptions);\n\nfunction MenuComponent() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  base(this, options);\n  this.title = options.title || \"menu\";\n  this.state.visible = true;\n  this.state.menuitems = options.menuitems;\n  var host = options.host;\n  merge(this, options);\n  this.internalComponent = new InternalComponent({\n    service: this,\n    host: host\n  });\n  this.internalComponent.state = this.state;\n}\ninherit(MenuComponent, Component);\n\nvar proto = MenuComponent.prototype;\n\nproto.trigger = function (item) {};\n\nmodule.exports = MenuComponent;\n\n},{\"components/ProjectsMenu.vue\":275,\"core/utils/utils\":68,\"gui/component/component\":117}],167:[function(require,module,exports){\nvar _projects = require('store/projects');\n\nvar _projects2 = _interopRequireDefault(_projects);\n\nvar _application = require('services/application');\n\nvar _application2 = _interopRequireDefault(_application);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit;\n\nvar MenuComponent = require('gui/projectsmenu/menu');\n\nfunction ProjectsMenuComponent() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  options.id = 'projectsmenu';\n  base(this, options);\n  this.state.menuitems = [];\n  var host = options.host;\n  var projects = options.projects || _projects2.default.getListableProjects();\n  this.state.menuitems = projects.map(function (project) {\n    return {\n      title: project.title,\n      description: project.description,\n      thumbnail: project.thumbnail,\n      gid: project.gid,\n      cbk: options.cbk || function () {\n        var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n        var gid = options.gid;\n\n        return _application2.default.changeProject({\n          gid: gid,\n          host: host\n        });\n      }\n    };\n  });\n}\n\ninherit(ProjectsMenuComponent, MenuComponent);\n\nmodule.exports = ProjectsMenuComponent;\n\n},{\"core/utils/utils\":68,\"gui/projectsmenu/menu\":166,\"services/application\":351,\"store/projects\":379}],168:[function(require,module,exports){\nvar QueryBuilder = require('gui/querybuilder/vue/querybuilder');\nvar QueryBuilderPanel = require('gui/querybuilder/vue/panel/querybuilderpanel');\n\nvar QuerybuilderUIfactory = {\n  type: null,\n  show: function show() {\n    var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        _ref$type = _ref.type,\n        type = _ref$type === undefined ? 'sidebar' : _ref$type,\n        options = _ref.options;\n\n    var QueryBuilderInstance = void 0;\n    this.type = this.type === null ? type : this.type;\n    if (this.type === 'modal') {\n      QueryBuilderInstance = new QueryBuilder({\n        options: options\n      });\n      var queryBuilderDom = QueryBuilderInstance.$mount().$el;\n      GUI.showModalDialog({\n        title: 'Query Builder',\n        message: queryBuilderDom,\n        className: \"modal-background-dark \"\n      });\n    } else {\n      var panel = new QueryBuilderPanel({\n        options: options\n      });\n      QueryBuilderInstance = panel.getInternalPanel();\n      panel.show();\n    }\n    return QueryBuilderInstance;\n  }\n};\n\nmodule.exports = QuerybuilderUIfactory;\n\n},{\"gui/querybuilder/vue/panel/querybuilderpanel\":169,\"gui/querybuilder/vue/querybuilder\":170}],169:[function(require,module,exports){\nvar _require = require('core/utils/utils'),\n    inherit = _require.inherit,\n    base = _require.base;\n\nvar Panel = require('gui/panel');\nvar QueryBuilder = require('gui/querybuilder/vue/querybuilder');\n\nfunction QueryBuilderPanel() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  options.title = 'Query Builder';\n  base(this, options);\n  var internalPanel = new QueryBuilder(options);\n  this.setInternalPanel(internalPanel);\n}\n\ninherit(QueryBuilderPanel, Panel);\n\nmodule.exports = QueryBuilderPanel;\n\n},{\"core/utils/utils\":68,\"gui/panel\":162,\"gui/querybuilder/vue/querybuilder\":170}],170:[function(require,module,exports){\nvar _QueryBuilder = require('components/QueryBuilder.vue');\n\nvar vueComponentOptions = _interopRequireWildcard(_QueryBuilder);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nvar QueryBuilder = Vue.extend(vueComponentOptions);\n\nmodule.exports = QueryBuilder;\n\n},{\"components/QueryBuilder.vue\":276}],171:[function(require,module,exports){\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nvar _constant = require('constant');\n\nvar _projects = require('store/projects');\n\nvar _projects2 = _interopRequireDefault(_projects);\n\nvar _data = require('services/data');\n\nvar _data2 = _interopRequireDefault(_data);\n\nvar _catalogLayers = require('store/catalog-layers');\n\nvar _catalogLayers2 = _interopRequireDefault(_catalogLayers);\n\nvar _QueryResultsActionDownloadFormats = require('components/QueryResultsActionDownloadFormats.vue');\n\nvar _QueryResultsActionDownloadFormats2 = _interopRequireDefault(_QueryResultsActionDownloadFormats);\n\nvar _QueryResultsActionQueryPolygonCSVAttributes = require('components/QueryResultsActionQueryPolygonCSVAttributes.vue');\n\nvar _QueryResultsActionQueryPolygonCSVAttributes2 = _interopRequireDefault(_QueryResultsActionQueryPolygonCSVAttributes);\n\nvar _application = require('services/application');\n\nvar _application2 = _interopRequireDefault(_application);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit,\n    noop = _require.noop,\n    downloadFile = _require.downloadFile,\n    throttle = _require.throttle,\n    getUniqueDomId = _require.getUniqueDomId,\n    copyUrl = _require.copyUrl;\n\nvar _require2 = require('core/utils/geo'),\n    createFeatureFromFeatureObject = _require2.createFeatureFromFeatureObject,\n    intersects = _require2.intersects,\n    within = _require2.within;\n\nvar _require3 = require('core/utils/geo'),\n    getAlphanumericPropertiesFromFeature = _require3.getAlphanumericPropertiesFromFeature,\n    createFeatureFromGeometry = _require3.createFeatureFromGeometry,\n    createFeatureFromBBOX = _require3.createFeatureFromBBOX,\n    createFeatureFromCoordinates = _require3.createFeatureFromCoordinates;\n\nvar _require4 = require('core/i18n/i18n.service'),\n    t = _require4.t;\n\nvar Layer = require('core/layers/layer');\nvar G3WObject = require('core/g3wobject');\nvar VectorLayer = require('core/layers/vectorlayer');\nvar PrintService = require('core/print/printservice');\nvar RelationsPage = require('gui/relations/vue/relationspage');\nvar PickCoordinatesInteraction = require('g3w-ol/interactions/pickcoordinatesinteraction');\n\n//used to get and set vue reactivity to queryresultservice\nvar VM = new Vue();\n\nfunction QueryResultsService() {\n  var _this = this;\n\n  this.printService = new PrintService();\n  this._currentLayerIds = [];\n\n  _projects2.default.onafter('setCurrentProject', function (project) {\n    _this._project = project;\n    _this._setRelations(project);\n    _this._setAtlasActions(project);\n    _this.state.download_data = false;\n    _this.plotLayerIds = [];\n  });\n  this.unlistenerlayeractionevents = [];\n  this._actions = {\n    'zoomto': QueryResultsService.zoomToElement,\n    'highlightgeometry': this.highlightGeometry.bind(this),\n    'clearHighlightGeometry': this.clearHighlightGeometry.bind(this)\n  };\n  this._relations = [];\n  this._atlas = [];\n  this.plotLayerIds = [];\n  var project = this._project = _projects2.default.getCurrentProject();\n  // userful to set right order for query result based on toc order layers\n  this._projectLayerIds = this._project.getConfigLayers().map(function (layer) {\n    return layer.id;\n  });\n  // set reactive state\n  this.state = {\n    zoomToResult: true,\n    components: [],\n    layers: [],\n    changed: false,\n    query: null,\n    type: 'ows', // or api in case of search\n    layersactions: {},\n    actiontools: {}, // addd action tools (for features)\n    currentactiontools: {}, // current action tools contain component of a specific action (for example download)\n    currentactionfeaturelayer: {}, // contain current action that expose component vue (it useful to comprare id other action is toggled and expose component)\n    layeractiontool: {},\n    layersFeaturesBoxes: {},\n    layerscustomcomponents: {} // used to show a custom component for a layer\n  };\n  this.init = function () {\n    this.clearState();\n  };\n\n  /**\n  * Vector layer used by query result to show query\n  * request as coordinates, bbox, polygon, etc ..\n  * \n  * @type {ol.layer.Vector}\n  */\n  this.resultsQueryLayer = new ol.layer.Vector({\n    source: new ol.source.Vector(),\n    style: function style(feature) {\n      var fill = new ol.style.Fill({ color: 'rgba(0, 0, 255, 0.7)' });\n      var stroke = new ol.style.Stroke({ color: 'blue', width: 3 });\n      if ('Point' === feature.getGeometry().getType()) {\n        return new ol.style.Style({\n          text: new ol.style.Text({\n            text: '\\uF3C5',\n            font: '900 3em \"Font Awesome 5 Free\"',\n            fill: fill,\n            stroke: stroke,\n            offsetY: -15\n          })\n        });\n      }\n      return new ol.style.Style({ stroke: stroke });\n    }\n  });\n\n  this._vectorLayers = [];\n  this._addFeaturesLayerResultInteraction = {\n    id: null, // reference to current layer\n    interaction: null, // interaction bind to layer,\n    mapcontrol: null, // add current toggled map control if toggled\n    toggleeventhandler: null\n  };\n\n  this.setters = {\n\n    /**\n     * Hook method called when response is handled by Data Provider\n     * \n     * @param queryResponse\n     * @param {{ add: boolean }} options `add` is used to know if is a new query request or add/remove query request\n     */\n    setQueryResponse: function setQueryResponse(queryResponse) {\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : { add: false };\n\n\n      // set mandatory queryResponse fields\n      if (!queryResponse.data) queryResponse.data = [];\n      if (!queryResponse.query) queryResponse.query = { external: { add: false, filter: { SELECTED: false } } };\n      if (!queryResponse.query.external) queryResponse.query.external = { add: false, filter: { SELECTED: false } };\n\n      // whether add response to current results using addLayerFeaturesToResultsAction\n      if (!options.add) {\n        // in case of new request results reset the query otherwise maintain the previous request\n        this.clearState();\n        this.state.query = queryResponse.query;\n        this.state.type = queryResponse.type;\n\n        // if true add external layers to response\n        if (true === queryResponse.query.external.add) {\n          this._addVectorLayersDataToQueryResponse(queryResponse);\n        }\n\n        switch (this.state.query.type) {\n          case 'coordinates':\n            this.showCoordinates(this.state.query.coordinates);break;\n          case 'bbox':\n            this.showBBOX(this.state.query.bbox);break;\n          case 'polygon':\n            this.state.query.geometry && this.showGeometry(this.state.query.geometry);break;\n        }\n      }\n\n      this.setLayersData(this._digestFeaturesForLayers(queryResponse.data), options);\n    },\n\n\n    /**\n     * method to add layer and feature for response\n     * @param layers\n     * @param options\n     */\n    setLayersData: function setLayersData(layers) {\n      var _this2 = this;\n\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : { add: false };\n      var add = options.add;\n\n      if (!add) {\n        // here set the right order of result layers based on toc\n        this._currentLayerIds = layers.map(function (layer) {\n          return layer.id;\n        });\n        this._orderResponseByProjectLayers(layers);\n      }\n      layers.forEach(function (layer) {\n        // in case of a new request query\n        if (!add) _this2.state.layers.push(layer);\n        //get features from add pick layer\n        else _this2.updateLayerResultFeatures(layer);\n      });\n      this.setActionsForLayers(layers, { add: add });\n      this.state.changed = true;\n    },\n\n    /**\n     * Method\n     * @param component\n     */\n    addComponent: function addComponent(component) {\n      this._addComponent(component);\n    },\n\n    /**\n     *\n     */\n    addActionsForLayers: function addActionsForLayers(actions, layers) {},\n\n    /**\n     *\n     * @param element\n     */\n    postRender: function postRender(element) {},\n\n    /**\n     *\n     */\n    closeComponent: function closeComponent() {},\n\n    /**\n     *\n     * @param layer\n     */\n    changeLayerResult: function changeLayerResult(layer) {\n      this._changeLayerResult(layer);\n    },\n\n    /**\n     *\n     */\n    activeMapInteraction: function activeMapInteraction() {},\n\n    /**\n     *  setter hook to relation table\n     */\n    editFeature: function editFeature() {\n      var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          layer = _ref.layer,\n          feature = _ref.feature;\n    },\n\n    /**\n     * Method to listen open/close feature info data content.\n     * @param open\n     * @param layer\n     * @param feature\n     * @param container\n     */\n    openCloseFeatureResult: function openCloseFeatureResult() {\n      var _ref2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          open = _ref2.open,\n          layer = _ref2.layer,\n          feature = _ref2.feature,\n          container = _ref2.container;\n    }\n  };\n\n  base(this);\n\n  this.addLayersPlotIds = function () {\n    var layerIds = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n    this.plotLayerIds = layerIds;\n  };\n\n  this.getPlotIds = function () {\n    return this.plotLayerIds;\n  };\n\n  this.findPlotId = function (id) {\n    return this.plotLayerIds.find(function (plotId) {\n      return plotId == id;\n    });\n  };\n\n  this._setRelations(project);\n  this._setAtlasActions(project);\n  this._asyncFnc = {\n    todo: noop,\n    zoomToLayerFeaturesExtent: {\n      async: false\n    },\n    goToGeometry: {\n      async: false\n    }\n  };\n  _gui2.default.onbefore('setContent', function (options) {\n    var perc = options.perc;\n\n    _this.mapService = _this.mapService || _application2.default.getApplicationService('map');\n    if (perc === 100 && _gui2.default.isMobile()) {\n      _this._asyncFnc.zoomToLayerFeaturesExtent.async = true;\n      _this._asyncFnc.goToGeometry.async = true;\n    }\n  });\n}\n\n// Make the public service en Event Emitter\ninherit(QueryResultsService, G3WObject);\n\nvar proto = QueryResultsService.prototype;\n\n/**\n * Method to register for plugin or other component of application to add custom component on result for each layer feature or layer\n * @param id unique id identification\n * @param layerId Layer id of layer\n * @param component custom component\n * @param type feature or layer\n */\nproto.registerCustomComponent = function () {\n  var _ref3 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      _ref3$id = _ref3.id,\n      id = _ref3$id === undefined ? getUniqueDomId() : _ref3$id,\n      layerId = _ref3.layerId,\n      component = _ref3.component,\n      _ref3$type = _ref3.type,\n      type = _ref3$type === undefined ? 'feature' : _ref3$type,\n      _ref3$position = _ref3.position,\n      position = _ref3$position === undefined ? 'after' : _ref3$position;\n\n  if (this.state.layerscustomcomponents[layerId] === undefined) this.state.layerscustomcomponents[layerId] = {\n    layer: {\n      before: [],\n      after: []\n    },\n    feature: {\n      before: [],\n      after: []\n    }\n  };\n  this.state.layerscustomcomponents[layerId][type][position].push({\n    id: id,\n    component: component\n  });\n  return id;\n};\n\n/**\n * To check position\n * @param id\n * @param layerId\n * @param type\n */\nproto.unRegisterCustomComponent = function (_ref4) {\n  var _this3 = this;\n\n  var id = _ref4.id,\n      layerId = _ref4.layerId,\n      type = _ref4.type,\n      position = _ref4.position;\n\n  if (position) this.state.layerscustomcomponents[layerId][type][position] = this.state.layerscustomcomponents[layerId][type][position].filter(function (_ref5) {\n    var componentId = _ref5.id;\n    return componentId !== id;\n  });else Object.keys(this.state.layerscustomcomponents[layerId][type]).forEach(function (position) {\n    _this3.state.layerscustomcomponents[layerId][type][position] = _this3.state.layerscustomcomponents[layerId][type][position].filter(function (_ref6) {\n      var componentId = _ref6.id;\n      return componentId !== id;\n    });\n  });\n};\n\n/**\n * Method to add a feature to current layer result\n * @param layer\n * @param feature\n */\nproto.addFeatureLayerToResult = function (layer, feature) {\n  this.state.layersFeaturesBoxes[this.getBoxId(layer, feature)].collapsed = true;\n};\n\n/**\n * Method to remove a feature from current layer result\n * @param layer\n * @param feature\n */\nproto.removeFeatureLayerFromResult = function (layer, feature) {\n  var id = layer.id,\n      external = layer.external;\n\n  this.updateLayerResultFeatures({\n    id: id,\n    external: external,\n    features: [feature]\n  });\n};\n\n/**\n * Method wrapper for download\n */\n\nproto.downloadApplicationWrapper = function () {\n  var _ref7 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(downloadFnc) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    var download_caller_id;\n    return regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            download_caller_id = _application2.default.setDownload(true);\n\n            _gui2.default.setLoadingContent(true);\n            _context.prev = 2;\n            _context.next = 5;\n            return downloadFnc(options);\n\n          case 5:\n            _context.next = 10;\n            break;\n\n          case 7:\n            _context.prev = 7;\n            _context.t0 = _context['catch'](2);\n\n            _gui2.default.showUserMessage({\n              type: 'alert',\n              message: _context.t0 || 'server_error',\n              textMessage: _context.t0 ? true : false\n            });\n\n          case 10:\n            _application2.default.setDownload(false, download_caller_id);\n            _gui2.default.setLoadingContent(false);\n\n          case 12:\n          case 'end':\n            return _context.stop();\n        }\n      }\n    }, _callee, this, [[2, 7]]);\n  }));\n\n  return function (_x8) {\n    return _ref7.apply(this, arguments);\n  };\n}();\n\n/**\n * Based on layer response check if features layer are to add or remove to current state.layers results\n * @param layer\n * @since v3.8.0\n */\nproto.updateLayerResultFeatures = function (layer) {\n  var _this4 = this;\n\n  //extract features from layer object\n  var _layer$features = layer.features,\n      features = _layer$features === undefined ? [] : _layer$features;\n  // get layer from current state.layers showed on result\n\n  var findLayer = this.state.layers.find(function (_layer) {\n    return _layer.id === layer.id;\n  });\n  // if get features and find layer\n  if (findLayer && features.length) {\n    // get id external layer or not (external is a layer added by mapcontrol addexternlayer)\n    var external = findLayer.external;\n    // is array of idexes od features that we has to remove from state.layer because is already loaded\n\n    var removeFeatureIndexes = [];\n    // get id of the features\n    var features_ids = features.map(function (feature) {\n      return !external ? feature.attributes[_constant.G3W_FID] : feature.id;\n    });\n    // loop nad filter the features that we had to remove)\n    findLayer.features = findLayer.features.filter(function (feature) {\n      var indexFindFeature = features_ids.indexOf(!external ? feature.attributes[_constant.G3W_FID] : feature.id);\n      // check if need to filter or not\n      var filtered = indexFindFeature === -1;\n      if (!filtered) {\n        removeFeatureIndexes.push(indexFindFeature);\n        var featureRemoved = features[indexFindFeature];\n        _this4.state.layersFeaturesBoxes[_this4.getBoxId(layer, feature)].collapsed = true;\n        setTimeout(function () {\n          return delete _this4.state.layersFeaturesBoxes[_this4.getBoxId(layer, featureRemoved)];\n        });\n      } else _this4.state.layersFeaturesBoxes[_this4.getBoxId(layer, feature)].collapsed = true;\n      return filtered;\n    });\n    // filter features to add\n    features = features.filter(function (feature, index) {\n      return removeFeatureIndexes.indexOf(index) === -1;\n    });\n    // check if new feature ha to be added\n    if (features.length) {\n      var newlayerfeatures = [].concat(_toConsumableArray(findLayer.features), _toConsumableArray(features));\n      findLayer.features = newlayerfeatures;\n    }\n    //in case of removed features\n    if (findLayer.features.length === 1 && this.state.layersFeaturesBoxes[this.getBoxId(findLayer, findLayer.features[0])])\n      // used to do all vue reactive thing before update layers\n      setTimeout(function () {\n        return _this4.state.layersFeaturesBoxes[_this4.getBoxId(findLayer, findLayer.features[0])].collapsed = false;\n      });\n    // in case no more features on layer remove interaction pickcoordinate to get result from map\n    this.checkIfLayerHasNoFeatures(findLayer);\n  }\n  // hightlight new feature\n  this.state.layers.length === 1 && this.highlightFeaturesPermanently(this.state.layers[0]);\n  this.changeLayerResult(findLayer);\n};\n\n/**\n * @deprecated since v3.8. Will be deleted in 4.x. Use QueryResultsService::updateLayerResultFeatures(layer) instead\n */\nproto.addRemoveFeaturesToLayerResult = proto.updateLayerResultFeatures;\n\n/**\n * Method called when layer result features for example is changed\n * @param layer\n */\nproto._changeLayerResult = function (layer) {\n  var layeractions = this.state.layersactions[layer.id];\n  // call if present change mthod to action\n  layeractions.forEach(function (action) {\n    return action.change && action.change(layer);\n  });\n  //reset layer current actions tools\n  this.resetCurrentActionToolsLayer(layer);\n};\n\n/**\n * Check and do action if layer has no features after delete feature(s\n */\nproto.checkIfLayerHasNoFeatures = function (layer) {\n  var _this5 = this;\n\n  if (layer.features.length === 0) {\n    // used to do all vue reactive thing before update layers\n    setTimeout(function () {\n      _this5.state.layers = _this5.state.layers.filter(function (_layer) {\n        return _layer.id !== layer.id;\n      });\n      _this5.clearHighlightGeometry(layer);\n      _this5.removeAddFeaturesLayerResultInteraction({\n        toggle: true\n      });\n    });\n  }\n};\n\n/**\n * Method to create boxid identify to query result hmtl\n * @param layer\n * @param feature\n * @param relation_index\n * @returns {string}\n */\nproto.getBoxId = function (layer, feature, relation_index) {\n  return relation_index !== null && relation_index !== undefined ? layer.id + '_' + feature.id + '_' + relation_index : layer.id + '_' + feature.id;\n};\n\nproto.setActionsForLayers = function (layers) {\n  var _this6 = this;\n\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : { add: false };\n  var add = options.add;\n\n  if (!add) {\n    this.unlistenerlayeractionevents = [];\n    layers.forEach(function (layer) {\n      /**\n       * set eventually layer action tool and need to be reactive\n       * @type {{}}\n       */\n      _this6.state.layeractiontool[layer.id] = Vue.observable({\n        component: null,\n        config: null\n      });\n      var currentactiontoolslayer = {};\n      var currentationfeaturelayer = {};\n      layer.features.forEach(function (feature, index) {\n        currentactiontoolslayer[index] = null;\n        currentationfeaturelayer[index] = null;\n      });\n      _this6.state.currentactiontools[layer.id] = Vue.observable(currentactiontoolslayer);\n      _this6.state.currentactionfeaturelayer[layer.id] = Vue.observable(currentationfeaturelayer);\n      var is_external_layer_or_wms = layer.external || (layer.source ? layer.source.type === 'wms' : false);\n      if (!_this6.state.layersactions[layer.id]) _this6.state.layersactions[layer.id] = [];\n      /**\n       * An action is an object contains\n       * {\n       * id: Unique action Id => required True\n          download: if is action download or not => required False\n          class: calss fontawsome to show icon => required True,\n          state: need to be reactive. Used for example to toggled state of action icon => required False\n          hint: Tooltip text => required False\n          init: Method called when action is loaded => required False\n          clear: Method called before clear the service. Used for example to clear unwatch => require False\n          change: Method called when feature of layer is changed\n          cbk: Method called when action is cliccked => required True\n          }\n       *\n       * }\n       */\n\n      //in case of geometry\n      if (layer.hasgeometry) {\n        _this6.state.layersactions[layer.id].push({\n          id: 'gotogeometry',\n          download: false,\n          mouseover: true,\n          class: _gui2.default.getFontClass('marker'),\n          hint: 'sdk.mapcontrols.query.actions.zoom_to_feature.hint',\n          cbk: throttle(_this6.goToGeometry.bind(_this6))\n        });\n      }\n      // in case of relations\n      if (_this6._relations) {\n        var relations = _this6._relations[layer.id] && _this6._relations[layer.id].filter(function (relation) {\n          return relation.type === 'MANY';\n        });\n        if (relations && relations.length) {\n          var chartRelationIds = [];\n          relations.forEach(function (relation) {\n            var id = _this6.plotLayerIds.find(function (id) {\n              return id === relation.referencingLayer;\n            });\n            id && chartRelationIds.push(id);\n          });\n\n          _this6.state.layersactions[layer.id].push({\n            id: 'show-query-relations',\n            download: false,\n            class: _gui2.default.getFontClass('relation'),\n            hint: 'sdk.mapcontrols.query.actions.relations.hint',\n            cbk: _this6.showQueryRelations,\n            relations: relations,\n            chartRelationIds: chartRelationIds\n          });\n          var _state = _this6.createActionState({\n            layer: layer\n          });\n          chartRelationIds.length && _this6.state.layersactions[layer.id].push({\n            id: 'show-plots-relations',\n            download: false,\n            opened: true,\n            class: _gui2.default.getFontClass('chart'),\n            state: _state,\n            hint: 'sdk.mapcontrols.query.actions.relations_charts.hint',\n            cbk: throttle(_this6.showRelationsChart.bind(_this6, chartRelationIds))\n          });\n        }\n      }\n      /**\n       *\n       * Check if layer has atlas\n       */\n      _this6.getAtlasByLayerId(layer.id).length && _this6.state.layersactions[layer.id].push({\n        id: 'printatlas',\n        download: true,\n        class: _gui2.default.getFontClass('print'),\n        hint: 'sdk.tooltips.atlas',\n        cbk: _this6.printAtlas.bind(_this6)\n      });\n      var state = _this6.createActionState({\n        layer: layer\n      });\n      if (layer.downloads.length === 1) {\n        var _layer$downloads = _slicedToArray(layer.downloads, 1),\n            format = _layer$downloads[0];\n\n        var _cbk = _this6.downloadFeatures.bind(_this6, format);\n        layer[format] = Vue.observable({\n          active: false\n        });\n        _this6.state.layersactions[layer.id].push({\n          id: 'download_' + format + '_feature',\n          download: true,\n          state: state,\n          class: _gui2.default.getFontClass('download'),\n          hint: 'sdk.tooltips.download_' + format,\n          cbk: function cbk(layer, feature, action, index) {\n            action.state.toggled[index] = !action.state.toggled[index];\n            if (action.state.toggled[index]) _cbk(layer, feature, action, index);else _this6.setCurrentActionLayerFeatureTool({\n              index: index,\n              action: action,\n              layer: layer\n            });\n          }\n        });\n      } else if (layer.downloads.length > 1) {\n        // SET CONSTANT TO AVOID TO CHANGE ALL THINGS\n        var ACTIONTOOLSDOWNLOADFORMATS = _QueryResultsActionDownloadFormats2.default.name;\n        var downloads = [];\n        layer.downloads.forEach(function (format) {\n          downloads.push({\n            id: 'download_' + format + '_feature',\n            download: true,\n            format: format,\n            class: _gui2.default.getFontClass(format),\n            hint: 'sdk.tooltips.download_' + format,\n            cbk: function cbk(layer, feature, action, index) {\n              //used to untoggle downloads action\n              _this6.downloadFeatures(format, layer, feature, action, index);\n              var downloadsaction = _this6.state.layersactions[layer.id].find(function (action) {\n                return action.id === 'downloads';\n              });\n              if (_this6.state.query.type !== 'polygon') downloadsaction.cbk(layer, feature, downloadsaction, index);\n            }\n          });\n        });\n        _this6.state.actiontools[ACTIONTOOLSDOWNLOADFORMATS] = _this6.state.actiontools[ACTIONTOOLSDOWNLOADFORMATS] || {};\n        // set config of actionstools\n        _this6.state.actiontools[ACTIONTOOLSDOWNLOADFORMATS][layer.id] = {\n          downloads: downloads // ARE DOWNLOAD ACTIONS,\n        };\n        // used to\n        //check if has download actions\n        _this6.state.layersactions[layer.id].push({\n          id: 'downloads',\n          download: true,\n          class: _gui2.default.getFontClass('download'),\n          state: state,\n          toggleable: true,\n          hint: 'Downloads',\n          change: function change(_ref8) {\n            var _this7 = this;\n\n            var features = _ref8.features;\n\n            features.forEach(function (feature, index) {\n              if (_this7.state.toggled[index] === undefined) VM.$set(_this7.state.toggled, index, false);else _this7.state.toggled[index] = false;\n            });\n          },\n\n          cbk: function cbk(layer, feature, action, index) {\n            action.state.toggled[index] = !action.state.toggled[index];\n            _this6.setCurrentActionLayerFeatureTool({\n              layer: layer,\n              index: index,\n              action: action,\n              component: action.state.toggled[index] ? _QueryResultsActionDownloadFormats2.default : null\n            });\n          }\n        });\n      }\n      /*\n      Check if si external layer or wms\n       */\n      !is_external_layer_or_wms && _this6.state.layersactions[layer.id].push({\n        id: 'removefeaturefromresult',\n        download: false,\n        mouseover: true,\n        class: _gui2.default.getFontClass('minus-square'),\n        style: {\n          color: 'red'\n        },\n        hint: 'sdk.mapcontrols.query.actions.remove_feature_from_results.hint',\n        cbk: _this6.removeFeatureLayerFromResult.bind(_this6)\n      });\n\n      /**\n       * check if selection is active\n       */\n      if (layer.selection.active !== undefined) {\n        // selection action\n        var _state2 = _this6.createActionState({\n          layer: layer\n        });\n\n        _this6.state.layersactions[layer.id].push({\n          id: 'selection',\n          download: false,\n          class: _gui2.default.getFontClass('success'),\n          hint: 'sdk.mapcontrols.query.actions.add_selection.hint',\n          state: _state2,\n          init: function init() {\n            var _ref9 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n                feature = _ref9.feature,\n                index = _ref9.index,\n                action = _ref9.action;\n\n            typeof layer.selection.active !== \"undefined\" && _this6.checkFeatureSelection({\n              layer: layer,\n              index: index,\n              feature: feature,\n              action: action\n            });\n          },\n          cbk: throttle(_this6.addToSelection.bind(_this6))\n        });\n        /*\n        * In case of external layer don't listen selection event\n        * */\n        _this6.listenClearSelection(layer, 'selection');\n        //end selection action\n      }\n      /*\n        If not wms of external layer show copy link to feature\n       */\n      !is_external_layer_or_wms && layer.hasgeometry && _this6.state.layersactions[layer.id].push({\n        id: 'link_zoom_to_fid',\n        download: false,\n        class: _gui2.default.getFontClass('link'),\n        hint: 'sdk.mapcontrols.query.actions.copy_zoom_to_fid_url.hint',\n        hint_change: {\n          hint: 'sdk.mapcontrols.query.actions.copy_zoom_to_fid_url.hint_change',\n          duration: 1000\n        },\n        cbk: _this6.copyZoomToFidUrl.bind(_this6)\n      });\n      layer.editable && !layer.inediting && _this6.state.layersactions[layer.id].push({\n        id: 'editing',\n        class: _gui2.default.getFontClass('pencil'),\n        hint: 'Editing',\n        cbk: function cbk(layer, feature) {\n          _this6.editFeature({\n            layer: layer,\n            feature: feature\n          });\n        }\n      });\n    });\n    this.addActionsForLayers(this.state.layersactions, this.state.layers);\n  }\n};\n\nproto.createActionState = function (_ref10) {\n  var layer = _ref10.layer,\n      _ref10$dynamicPropert = _ref10.dynamicProperties,\n      dynamicProperties = _ref10$dynamicPropert === undefined ? ['toggled'] : _ref10$dynamicPropert;\n\n  // check number of download formats\n  var propertiesObject = dynamicProperties.reduce(function (accumulator, property) {\n    accumulator[property] = {};\n    return accumulator;\n  }, {});\n  layer.features.map(function (feature, index) {\n    Object.keys(propertiesObject).forEach(function (property) {\n      propertiesObject[property][index] = null;\n    });\n  });\n  return Vue.observable(propertiesObject);\n};\n\n/**\n * Method to get action referred to layer getting the acion id\n * @param layer layer linked to action\n * @param id action id\n * @returns {*}\n */\nproto.getActionLayerById = function () {\n  var _ref11 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      layer = _ref11.layer,\n      id = _ref11.id;\n\n  return this.state.layersactions[layer.id].find(function (action) {\n    return action.id === id;\n  });\n};\n\n/**\n * Set current layer action tool in feature\n * @param layer current layer\n * @param index feature index\n * @param value component value or null\n */\nproto.setCurrentActionLayerFeatureTool = function () {\n  var _ref12 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      layer = _ref12.layer,\n      action = _ref12.action,\n      index = _ref12.index,\n      _ref12$component = _ref12.component,\n      component = _ref12$component === undefined ? null : _ref12$component;\n\n  if (component) {\n    if (this.state.currentactiontools[layer.id][index] && action.id !== this.state.currentactionfeaturelayer[layer.id][index].id && this.state.currentactionfeaturelayer[layer.id][index].toggleable) this.state.currentactionfeaturelayer[layer.id][index].state.toggled[index] = false;\n    this.state.currentactionfeaturelayer[layer.id][index] = action;\n  } else this.state.currentactionfeaturelayer[layer.id][index] = null;\n  this.state.currentactiontools[layer.id][index] = component;\n};\n\nproto.addCurrentActionToolsLayer = function (_ref13) {\n  var id = _ref13.id,\n      layer = _ref13.layer,\n      _ref13$config = _ref13.config,\n      config = _ref13$config === undefined ? {} : _ref13$config;\n\n  this.state.actiontools[id] = {};\n  this.state.actiontools[id][layer.id] = config;\n};\n\n/**\n * Reset current action tools on layer when feature layer change\n * @param layer\n */\nproto.resetCurrentActionToolsLayer = function (layer) {\n  var _this8 = this;\n\n  layer.features.forEach(function (feature, index) {\n    if (_this8.state.currentactiontools[layer.id]) {\n      if (_this8.state.currentactiontools[layer.id][index] === undefined) Vue.set(_this8.state.currentactiontools[layer.id], index, null);else _this8.state.currentactiontools[layer.id][index] = null;\n      _this8.state.currentactionfeaturelayer[layer.id][index] = null;\n    }\n  });\n};\n\n/**\n *\n */\nproto.setLayerActionTool = function () {\n  var _ref14 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      layer = _ref14.layer,\n      _ref14$component = _ref14.component,\n      component = _ref14$component === undefined ? null : _ref14$component,\n      _ref14$config = _ref14.config,\n      config = _ref14$config === undefined ? null : _ref14$config;\n\n  this.state.layeractiontool[layer.id].component = component;\n  this.state.layeractiontool[layer.id].config = config;\n};\n\n/**\n * Method copy zoomtofid url\n * @param layer\n * @param feature\n */\nproto.copyZoomToFidUrl = function (layer, feature, action) {\n  var fid = feature.attributes[_constant.G3W_FID];\n  var url = new URL(location.href);\n  var zoom_to_fid = layer.id + '|' + fid;\n  url.searchParams.set('zoom_to_fid', zoom_to_fid);\n  copyUrl(url.toString());\n  action.hint_changed = true;\n};\n\n/**\n * Clear all\n */\nproto.clear = function () {\n  this.runAsyncTodo();\n  this.unlistenerEventsActions();\n  this.mapService.clearHighlightGeometry();\n  this.resultsQueryLayer.getSource().clear();\n  this.removeAddFeaturesLayerResultInteraction({\n    toggle: true\n  });\n  this._asyncFnc = null;\n  this._asyncFnc = {\n    todo: noop,\n    zoomToLayerFeaturesExtent: {\n      async: false\n    },\n    goToGeometry: {\n      async: false\n    }\n  };\n  this.clearState();\n  this.closeComponent();\n  this.removeQueryResultLayerFromMap();\n};\n\nproto.getCurrentLayersIds = function () {\n  return this._currentLayerIds;\n};\n\nproto.runAsyncTodo = function () {\n  this._asyncFnc.todo();\n};\n\nproto._orderResponseByProjectLayers = function (layers) {\n  var _this9 = this;\n\n  layers.sort(function (layerA, layerB) {\n    var aIndex = _this9._projectLayerIds.indexOf(layerA.id);\n    var bIndex = _this9._projectLayerIds.indexOf(layerB.id);\n    return aIndex > bIndex ? 1 : -1;\n  });\n};\n\nproto.setZoomToResults = function () {\n  var bool = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n\n  this.state.zoomToResult = bool;\n};\n\nproto.highlightFeaturesPermanently = function (layer) {\n  var features = layer.features;\n\n  this.mapService.highlightFeatures(features, {\n    duration: Infinity\n  });\n};\n\n/**\n * Check if one layer result\n * @returns {boolean}\n */\nproto.isOneLayerResult = function () {\n  return this.state.layers.length === 1;\n};\n\n/**\n *\n * @param toggle boolean If true toggle true the mapcontrol\n */\nproto.removeAddFeaturesLayerResultInteraction = function () {\n  var _ref15 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      _ref15$toggle = _ref15.toggle,\n      toggle = _ref15$toggle === undefined ? false : _ref15$toggle;\n\n  if (this._addFeaturesLayerResultInteraction.interaction) this.mapService.removeInteraction(this._addFeaturesLayerResultInteraction.interaction);\n  this._addFeaturesLayerResultInteraction.interaction = null;\n  this._addFeaturesLayerResultInteraction.id = null;\n  // check if map control query map is register and if toggled\n  toggle && this._addFeaturesLayerResultInteraction.mapcontrol && this._addFeaturesLayerResultInteraction.mapcontrol.toggle(true);\n  this._addFeaturesLayerResultInteraction.mapcontrol = null;\n  this._addFeaturesLayerResultInteraction.toggleeventhandler && this.mapService.off('mapcontrol:toggled', this._addFeaturesLayerResultInteraction.toggleeventhandler);\n  this._addFeaturesLayerResultInteraction.toggleeventhandler = null;\n};\n\n/**\n *\n * Adde feature to Features results\n * @param layer\n */\nproto.addLayerFeaturesToResultsAction = function (layer) {\n  var _this10 = this;\n\n  /**\n   * Check if layer is current layer to add or clear previous\n   */\n  if (this._addFeaturesLayerResultInteraction.id !== null && this._addFeaturesLayerResultInteraction.id !== layer.id) {\n    var _layer2 = this.state.layers.find(function (layer) {\n      return layer.id === _this10._addFeaturesLayerResultInteraction.id;\n    });\n    if (_layer2) _layer2.addfeaturesresults.active = false;\n    //remove previous add result interaction\n    if (this._addFeaturesLayerResultInteraction.interaction) this.mapService.removeInteraction(this._addFeaturesLayerResultInteraction.interaction);\n  }\n  this._addFeaturesLayerResultInteraction.id = layer.id;\n  layer.addfeaturesresults.active = !layer.addfeaturesresults.active;\n  if (layer.addfeaturesresults.active) {\n    this.activeMapInteraction(); // useful o send an event\n    var external = layer.external;\n\n    if (!this._addFeaturesLayerResultInteraction.mapcontrol) this._addFeaturesLayerResultInteraction.mapcontrol = this.mapService.getCurrentToggledMapControl();\n    this._addFeaturesLayerResultInteraction.interaction = new PickCoordinatesInteraction();\n    this.mapService.addInteraction(this._addFeaturesLayerResultInteraction.interaction, {\n      close: false\n    });\n    this._addFeaturesLayerResultInteraction.interaction.on('picked', function () {\n      var _ref16 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2(evt) {\n        var coordinates, vectorLayer, responseObject;\n        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                coordinates = evt.coordinate;\n\n                if (external) {\n                  _context2.next = 6;\n                  break;\n                }\n\n                _context2.next = 4;\n                return _data2.default.getData('query:coordinates', {\n                  inputs: {\n                    coordinates: coordinates,\n                    query_point_tolerance: _this10._project.getQueryPointTolerance(),\n                    layerIds: [layer.id],\n                    multilayers: false\n                  }, outputs: {\n                    show: {\n                      add: true\n                    }\n                  }\n                });\n\n              case 4:\n                _context2.next = 9;\n                break;\n\n              case 6:\n                vectorLayer = _this10._vectorLayers.find(function (vectorLayer) {\n                  return layer.id === vectorLayer.get('id');\n                });\n                responseObject = _this10.getVectorLayerFeaturesFromQueryRequest(vectorLayer, {\n                  coordinates: coordinates\n                });\n\n                _this10.setQueryResponse({\n                  data: [responseObject],\n                  query: {\n                    coordinates: coordinates\n                  }\n                }, { add: true });\n\n              case 9:\n              case 'end':\n                return _context2.stop();\n            }\n          }\n        }, _callee2, _this10);\n      }));\n\n      return function (_x16) {\n        return _ref16.apply(this, arguments);\n      };\n    }());\n    var eventHandler = function eventHandler(evt) {\n      if (evt.target.isToggled() && evt.target.isClickMap()) layer.addfeaturesresults.active = false;\n    };\n    this._addFeaturesLayerResultInteraction.toggleeventhandler = eventHandler;\n    this.mapService.once('mapcontrol:toggled', eventHandler);\n  } else this.removeAddFeaturesLayerResultInteraction({\n    toggle: true\n  });\n};\n\nproto.deactiveQueryInteractions = function () {\n  this.state.layers.forEach(function (layer) {\n    if (layer.addfeaturesresults) layer.addfeaturesresults.active = false;\n  });\n  this.removeAddFeaturesLayerResultInteraction();\n};\n\nproto.zoomToLayerFeaturesExtent = function (layer) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var features = layer.features;\n\n  options.highlight = !this.isOneLayerResult();\n  if (this._asyncFnc.zoomToLayerFeaturesExtent.async) this._asyncFnc.todo = this.mapService.zoomToFeatures.bind(this.mapService, features, options);else this.mapService.zoomToFeatures(features, options);\n};\n\nproto.clearState = function () {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  this.state.layers.splice(0);\n  this.state.query = null;\n  this.state.querytitle = \"\";\n  this.state.changed = false;\n  // clear action if present\n  Object.values(this.state.layersactions).forEach(function (layeractions) {\n    return layeractions.forEach(function (action) {\n      return action.clear && action.clear();\n    });\n  });\n  this.state.layersactions = {};\n  this.state.actiontools = {};\n  this.state.layeractiontool = {};\n  // current action tools\n  this.state.currentactiontools = {};\n  this.state.layersFeaturesBoxes = {};\n  this.removeAddFeaturesLayerResultInteraction();\n};\n\nproto.getState = function () {\n  return this.state;\n};\n\nproto.setState = function (state) {\n  this.state = state;\n};\n\nproto._setRelations = function (project) {\n  var projectRelations = project.getRelations();\n  this._relations = projectRelations ? _.groupBy(projectRelations, 'referencedLayer') : [];\n};\n\nproto.getAtlasByLayerId = function (layerId) {\n  return this._atlas.filter(function (atlas) {\n    return atlas.atlas.qgs_layer_id === layerId;\n  });\n};\n\nproto._setAtlasActions = function (project) {\n  this._atlas = project.getPrint().filter(function (printconfig) {\n    return printconfig.atlas;\n  }) || [];\n};\n\nproto.setTitle = function (querytitle) {\n  this.state.querytitle = querytitle || \"\";\n};\n\nproto.reset = function () {\n  this.clearState();\n};\n\n/**\n * Method that convert response from Data Provider to a Query Result component data structure\n * @param featuresForLayers: Array contains for each layer features\n * @returns {[]}\n * @private\n */\nproto._digestFeaturesForLayers = function (featuresForLayers) {\n  var _this11 = this;\n\n  var id = 0;\n  featuresForLayers = featuresForLayers || [];\n  var layers = [];\n  var layerAttributes = void 0,\n      layerRelationsAttributes = void 0,\n      layerTitle = void 0,\n      layerId = void 0;\n  var _handleFeatureFoLayer = function _handleFeatureFoLayer(featuresForLayer) {\n    var _layerObj;\n\n    var formStructure = void 0;\n    var sourceType = void 0;\n    var source = void 0;\n    var extractRelations = false;\n    var external = false;\n    var editable = false;\n    var inediting = false;\n    var layer = featuresForLayer.layer;\n    var downloads = [];\n    var infoformats = [];\n    var infoformat = void 0;\n    var filter = {};\n    var selection = {};\n    if (layer instanceof Layer) {\n      editable = layer.isEditable();\n      inediting = layer.isInEditing();\n      source = layer.getSource();\n      infoformats = layer.getInfoFormats(); // add infoformats property\n      infoformat = layer.getInfoFormat();\n      // set selection filter and relation if not wms\n      if ([Layer.SourceTypes.WMS, Layer.SourceTypes.WCS, Layer.SourceTypes.WMST].indexOf(layer.getSourceType()) === -1) {\n        filter = layer.state.filter;\n        selection = layer.state.selection;\n        extractRelations = true;\n      }\n      downloads = layer.getDownloadableFormats();\n      try {\n        sourceType = layer.getSourceType();\n      } catch (err) {}\n      // sanitize attributes layer only if is ows\n      layerAttributes = _this11.state.type === 'ows' ? layer.getAttributes().map(function (attribute) {\n        var sanitizeAttribute = _extends({}, attribute);\n        sanitizeAttribute.name = sanitizeAttribute.name.replace(/ /g, '_');\n        return sanitizeAttribute;\n      }) : layer.getAttributes();\n\n      layerRelationsAttributes = [];\n      layerTitle = layer.getTitle();\n      layerId = layer.getId();\n      if (layer.hasFormStructure()) {\n        var structure = layer.getLayerEditingFormStructure();\n        if (_this11._relations && _this11._relations.length) {\n          var getRelationFieldsFromFormStructure = function getRelationFieldsFromFormStructure(node) {\n            if (!node.nodes) {\n              node.name ? node.relation = true : null;\n            } else {\n              var _iteratorNormalCompletion = true;\n              var _didIteratorError = false;\n              var _iteratorError = undefined;\n\n              try {\n                for (var _iterator = node.nodes[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n                  var _node = _step.value;\n\n                  getRelationFieldsFromFormStructure(_node);\n                }\n              } catch (err) {\n                _didIteratorError = true;\n                _iteratorError = err;\n              } finally {\n                try {\n                  if (!_iteratorNormalCompletion && _iterator.return) {\n                    _iterator.return();\n                  }\n                } finally {\n                  if (_didIteratorError) {\n                    throw _iteratorError;\n                  }\n                }\n              }\n            }\n          };\n          var _iteratorNormalCompletion2 = true;\n          var _didIteratorError2 = false;\n          var _iteratorError2 = undefined;\n\n          try {\n            for (var _iterator2 = structure[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n              var node = _step2.value;\n\n              getRelationFieldsFromFormStructure(node);\n            }\n          } catch (err) {\n            _didIteratorError2 = true;\n            _iteratorError2 = err;\n          } finally {\n            try {\n              if (!_iteratorNormalCompletion2 && _iterator2.return) {\n                _iterator2.return();\n              }\n            } finally {\n              if (_didIteratorError2) {\n                throw _iteratorError2;\n              }\n            }\n          }\n        }\n        var fields = layer.getFields().filter(function (field) {\n          return field.show;\n        }); // get features show\n        formStructure = {\n          structure: structure,\n          fields: fields\n        };\n      }\n    } else if (layer instanceof ol.layer.Vector) {\n      selection = layer.selection;\n      layerAttributes = layer.getProperties();\n      layerRelationsAttributes = [];\n      layerTitle = layer.get('name');\n      layerId = layer.get('id');\n      external = true;\n    } else if (typeof layer === 'string' || layer instanceof String) {\n      sourceType = Layer.LayerTypes.VECTOR;\n      var feature = featuresForLayer.features[0];\n      layerAttributes = feature ? feature.getProperties() : [];\n      layerRelationsAttributes = [];\n      var split_layer_name = layer.split('_');\n      layerTitle = split_layer_name.length > 4 ? split_layer_name.slice(0, split_layer_name.length - 4).join(' ') : layer;\n      layerId = layer;\n      external = true;\n    }\n    var layerObj = (_layerObj = {\n      title: layerTitle,\n      id: layerId,\n      infoformat: infoformat,\n      infoformats: infoformats,\n      attributes: [],\n      features: [],\n      hasgeometry: false,\n      atlas: _this11.getAtlasByLayerId(layerId),\n      source: source,\n      downloads: downloads,\n      show: true,\n      filter: filter,\n      addfeaturesresults: {\n        active: false\n      }\n    }, _defineProperty(_layerObj, _QueryResultsActionDownloadFormats2.default.name, {\n      active: false\n    }), _defineProperty(_layerObj, 'external', external), _defineProperty(_layerObj, 'editable', editable), _defineProperty(_layerObj, 'inediting', inediting), _defineProperty(_layerObj, 'selection', selection), _defineProperty(_layerObj, 'expandable', true), _defineProperty(_layerObj, 'hasImageField', false), _defineProperty(_layerObj, 'relationsattributes', layerRelationsAttributes), _defineProperty(_layerObj, 'formStructure', formStructure), _defineProperty(_layerObj, 'error', ''), _defineProperty(_layerObj, 'rawdata', null), _defineProperty(_layerObj, 'loading', false), _layerObj);\n    if (featuresForLayer.rawdata) {\n      layerObj.rawdata = featuresForLayer.rawdata;\n      layers.push(layerObj);\n    } else if (featuresForLayer.features && featuresForLayer.features.length) {\n      var layerSpecialAttributesName = layer instanceof Layer ? layerAttributes.filter(function (attribute) {\n        try {\n          return attribute.name[0] === '_' || Number.isInteger(1 * attribute.name[0]);\n        } catch (e) {\n          return false;\n        }\n      }).map(function (attribute) {\n        return {\n          alias: attribute.name.replace(/_/, ''),\n          name: attribute.name\n        };\n      }) : [];\n      layerSpecialAttributesName.length && featuresForLayer.features.forEach(function (feature) {\n        return _this11._setSpecialAttributesFeatureProperty(layerSpecialAttributesName, feature);\n      });\n      layerObj.attributes = _this11._parseAttributes(layerAttributes, featuresForLayer.features[0], sourceType);\n      layerObj.attributes.forEach(function (attribute) {\n        if (formStructure) {\n          var relationField = layer.getFields().find(function (field) {\n            return field.name === attribute.name;\n          }); // need to check all field also show false\n          !relationField && formStructure.fields.push(attribute);\n        }\n        if (attribute.type === 'image') layerObj.hasImageField = true;\n      });\n      featuresForLayer.features.forEach(function (feature) {\n        var _getFeatureProperties = _this11.getFeaturePropertiesAndGeometry(feature),\n            fid = _getFeatureProperties.id,\n            geometry = _getFeatureProperties.geometry,\n            attributes = _getFeatureProperties.properties,\n            selection = _getFeatureProperties.selection;\n\n        if (geometry) layerObj.hasgeometry = true;\n        var featureObj = {\n          id: layerObj.external ? feature.getId() : fid,\n          attributes: attributes,\n          geometry: geometry,\n          selection: selection,\n          show: true\n        };\n        layerObj.features.push(featureObj);\n        id += 1;\n      });\n      layers.push(layerObj);\n    } else if (featuresForLayer.error) layerObj.error = featuresForLayer.error;\n  };\n  featuresForLayers.forEach(function (featuresForLayer) {\n    if (!Array.isArray(featuresForLayer)) _handleFeatureFoLayer(featuresForLayer);else featuresForLayer.forEach(function (featuresForLayer) {\n      return _handleFeatureFoLayer(featuresForLayer);\n    });\n  });\n  return layers;\n};\n\n/**\n * Method to set special attributes\n * @param layerSpecialAttributesName\n * @param feature\n * @private\n */\nproto._setSpecialAttributesFeatureProperty = function (layerSpecialAttributesName, feature) {\n  // get feature properties get from server request\n  var featureAttributes = feature.getProperties();\n  // get attributes special keys\n  var featureAttributesNames = Object.keys(featureAttributes);\n  if (layerSpecialAttributesName.length) {\n    layerSpecialAttributesName.forEach(function (attributeObj) {\n      featureAttributesNames.find(function (featureAttribute) {\n        if (featureAttribute === attributeObj.alias) {\n          feature.set(attributeObj.name, feature.get(featureAttribute));\n          return true;\n        }\n      });\n    });\n  }\n};\n\n/**\n * Method to get properties geometry and id from different type of fetaure\n * @param feature\n * @returns {{geometry: (undefined|*|null|ol.Feature), id: *, properties: string[]}|{geometry: *, id: *, properties: *}}\n */\nproto.getFeaturePropertiesAndGeometry = function (feature) {\n  if (feature instanceof ol.Feature) {\n    return {\n      selection: feature.selection,\n      properties: feature.getProperties(),\n      geometry: feature.getGeometry(),\n      id: feature.getId()\n    };\n  } else {\n    var selection = feature.selection,\n        properties = feature.properties,\n        geometry = feature.geometry,\n        id = feature.id;\n\n    return {\n      selection: selection,\n      properties: properties,\n      geometry: geometry,\n      id: id\n    };\n  }\n};\n\n/**\n * parse attributre to show on result based on field\n * @param layerAttributes\n * @param feature\n * @param sourceType\n * @returns {{name: T, show: boolean, label: T}[]|*}\n * @private\n */\nproto._parseAttributes = function (layerAttributes, feature, sourceType) {\n  var _getFeatureProperties2 = this.getFeaturePropertiesAndGeometry(feature),\n      featureAttributes = _getFeatureProperties2.properties;\n\n  var featureAttributesNames = Object.keys(featureAttributes);\n  featureAttributesNames = getAlphanumericPropertiesFromFeature(featureAttributesNames);\n  if (layerAttributes && layerAttributes.length) {\n    var attributes = layerAttributes.filter(function (attribute) {\n      return featureAttributesNames.indexOf(attribute.name) > -1;\n    });\n    return attributes;\n  } else {\n    var _Layer$SourceTypes = Layer.SourceTypes,\n        GDAL = _Layer$SourceTypes.GDAL,\n        WMS = _Layer$SourceTypes.WMS,\n        WCS = _Layer$SourceTypes.WCS,\n        WMST = _Layer$SourceTypes.WMST;\n\n    var showSourcesTypes = [GDAL, WMS, WCS, WMST];\n    return featureAttributesNames.map(function (featureAttributesName) {\n      return {\n        name: featureAttributesName,\n        label: featureAttributesName,\n        show: featureAttributesName !== _constant.G3W_FID && (sourceType === undefined || showSourcesTypes.indexOf(sourceType) !== -1),\n        type: 'varchar'\n      };\n    });\n  }\n};\n\nproto.trigger = function () {\n  var _ref17 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee3(actionId, layer, feature, index, container) {\n    var actionMethod, layerActions, action;\n    return regeneratorRuntime.wrap(function _callee3$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            actionMethod = this._actions[actionId];\n\n            actionMethod && actionMethod(layer, feature, index);\n\n            if (!layer) {\n              _context3.next = 10;\n              break;\n            }\n\n            layerActions = this.state.layersactions[layer.id];\n\n            if (!layerActions) {\n              _context3.next = 10;\n              break;\n            }\n\n            action = layerActions.find(function (layerAction) {\n              return layerAction.id === actionId;\n            });\n            _context3.t0 = action;\n\n            if (!_context3.t0) {\n              _context3.next = 10;\n              break;\n            }\n\n            _context3.next = 10;\n            return this.triggerLayerAction(action, layer, feature, index, container);\n\n          case 10:\n          case 'end':\n            return _context3.stop();\n        }\n      }\n    }, _callee3, this);\n  }));\n\n  return function (_x19, _x20, _x21, _x22, _x23) {\n    return _ref17.apply(this, arguments);\n  };\n}();\n\nproto.triggerLayerAction = function () {\n  var _ref18 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee4(action, layer, feature, index, container) {\n    var url, urlTemplate;\n    return regeneratorRuntime.wrap(function _callee4$(_context4) {\n      while (1) {\n        switch (_context4.prev = _context4.next) {\n          case 0:\n            _context4.t0 = action.cbk;\n\n            if (!_context4.t0) {\n              _context4.next = 4;\n              break;\n            }\n\n            _context4.next = 4;\n            return action.cbk(layer, feature, action, index, container);\n\n          case 4:\n            if (action.route) {\n              url = void 0;\n              urlTemplate = action.route;\n\n              url = urlTemplate.replace(/{(\\w*)}/g, function (m, key) {\n                return feature.attributes.hasOwnProperty(key) ? feature.attributes[key] : \"\";\n              });\n              url && url !== '' && _gui2.default.goto(url);\n            }\n\n          case 5:\n          case 'end':\n            return _context4.stop();\n        }\n      }\n    }, _callee4, this);\n  }));\n\n  return function (_x24, _x25, _x26, _x27, _x28) {\n    return _ref18.apply(this, arguments);\n  };\n}();\n\nproto.registerVectorLayer = function (vectorLayer) {\n  this._vectorLayers.indexOf(vectorLayer) === -1 && this._vectorLayers.push(vectorLayer);\n};\n\nproto.unregisterVectorLayer = function (vectorLayer) {\n  var _this12 = this;\n\n  this._vectorLayers = this._vectorLayers.filter(function (layer) {\n    _this12.state.layers = _this12.state.layers && _this12.state.layers.filter(function (layer) {\n      return layer.id !== vectorLayer.get('id');\n    });\n    return layer !== vectorLayer;\n  });\n};\n\nproto.getVectorLayerFeaturesFromQueryRequest = function (vectorLayer) {\n  var query = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var coordinates = query.coordinates,\n      bbox = query.bbox,\n      geometry = query.geometry,\n      _query$filterConfig = query.filterConfig,\n      filterConfig = _query$filterConfig === undefined ? {} : _query$filterConfig; // extract information about query type\n\n  var features = [];\n\n  // case query coordinates\n  if (coordinates && Array.isArray(coordinates)) {\n    var pixel = this.mapService.viewer.map.getPixelFromCoordinate(coordinates);\n    this.mapService.viewer.map.forEachFeatureAtPixel(pixel, function (feature, layer) {\n      features.push(feature);\n    }, {\n      layerFilter: function layerFilter(layer) {\n        return layer === vectorLayer;\n      }\n    });\n  }\n\n  // TODO: rewrite this in order to avoid nested else-if conditions\n  else {\n\n      // case query bbox\n      if (bbox && Array.isArray(bbox)) {\n        //set geometry has Polygon\n        geometry = ol.geom.Polygon.fromExtent(bbox);\n      }\n\n      // check query geometry (Polygon or MultiPolygon)\n      if (geometry instanceof ol.geom.Polygon || geometry instanceof ol.geom.MultiPolygon) {\n        switch (vectorLayer.constructor) {\n          case VectorLayer:\n            features = vectorLayer.getIntersectedFeatures(geometry);\n            break;\n          case ol.layer.Vector:\n            vectorLayer.getSource().getFeatures().forEach(function (feature) {\n              var add = void 0;\n              switch (filterConfig.spatialMethod) {\n                case 'intersects':\n                  add = intersects(geometry, feature.getGeometry());break;\n                case 'within':\n                  add = within(geometry, feature.getGeometry());break;\n                default:\n                  add = geometry.intersectsExtent(feature.getGeometry().getExtent());break;\n              }\n              if (true === add) {\n                features.push(feature);\n              }\n            });\n            break;\n        }\n      }\n    }\n\n  return {\n    features: features,\n    layer: vectorLayer\n  };\n};\n\n/**\n * @TODO add description (eg. what is a vector layer ?)\n */\nproto._addVectorLayersDataToQueryResponse = function (queryResponse) {\n  var _this13 = this;\n\n  var catalogService = _gui2.default.getService('catalog');\n\n  /** @type { boolean | undefined } */\n  var isExternalFilterSelected = queryResponse.query.external.filter.SELECTED;\n\n  // add visible layers to query response (vector layers)\n  this._vectorLayers.forEach(function (layer) {\n    var isLayerSelected = catalogService.isExternalLayerSelected({ id: layer.get('id'), type: 'vector' });\n    if (layer.getVisible() && ( // TODO: extract this into `layer.isSomething()` ?\n    true === isLayerSelected && true === isExternalFilterSelected || false === isLayerSelected && false === isExternalFilterSelected || \"undefined\" === typeof isExternalFilterSelected)) {\n      queryResponse.data.push(_this13.getVectorLayerFeaturesFromQueryRequest(layer, queryResponse.query));\n    }\n  });\n};\n\n//function to add custom component in query result\nproto._addComponent = function (component) {\n  this.state.components.push(component);\n};\n\nproto._printSingleAtlas = function () {\n  var _ref19 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      _ref19$atlas = _ref19.atlas,\n      atlas = _ref19$atlas === undefined ? {} : _ref19$atlas,\n      _ref19$features = _ref19.features,\n      features = _ref19$features === undefined ? [] : _ref19$features;\n\n  // TODO: make it easier to understand.. (what variables are declared? which ones are aliased?)\n  var template = atlas.name,\n      _atlas$atlas$field_na = atlas.atlas.field_name,\n      field_name = _atlas$atlas$field_na === undefined ? '' : _atlas$atlas$field_na;\n\n\n  field_name = field_name || '$id';\n\n  var values = features.map(function (feat) {\n    return feat.attributes[field_name === '$id' ? _constant.G3W_FID : field_name];\n  });\n  var download_caller_id = _application2.default.setDownload(true);\n\n  return this.printService.printAtlas({\n    field: field_name,\n    values: values,\n    template: template,\n    download: true\n  }).then(function (_ref20) {\n    var url = _ref20.url;\n\n    downloadFile({ url: url, filename: template, mime_type: 'application/pdf' }).catch(function (error) {\n      _gui2.default.showUserMessage({ type: 'alert', error: error });\n    }).finally(function () {\n      _application2.default.setDownload(false, download_caller_id);_gui2.default.setLoadingContent(false);\n    });\n  });\n};\n\nproto.showChart = function (ids, container, relationData) {\n  this.emit('show-chart', ids, container, relationData);\n};\n\nproto.hideChart = function (container) {\n  this.emit('hide-chart', container);\n};\n\nproto.showRelationsChart = function () {\n  var ids = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n  var layer = arguments[1];\n  var feature = arguments[2];\n  var action = arguments[3];\n  var index = arguments[4];\n  var container = arguments[5];\n\n  action.state.toggled[index] = !action.state.toggled[index];\n  if (action.state.toggled[index]) {\n    var relations = this._relations[layer.id];\n    var relationData = {\n      relations: relations,\n      fid: feature.attributes[_constant.G3W_FID],\n      height: 400\n    };\n    this.emit('show-chart', ids, container, relationData);\n  } else this.hideChart(container);\n};\n\nproto.printAtlas = function (layer, feature) {\n  var _this14 = this;\n\n  var features = feature ? [feature] : layer.features;\n  var atlasLayer = this.getAtlasByLayerId(layer.id);\n\n  /** @FIXME add description */\n  if (atlasLayer.length <= 1) {\n    this._printSingleAtlas({ features: features, atlas: atlasLayer[0] });\n    return;\n  }\n\n  var inputAtlasAttr = 'g3w_atlas_index';\n  var inputs = '';\n\n  atlasLayer.forEach(function (atlas, index) {\n    var id = getUniqueDomId();\n    inputs += '<input id=\"' + id + '\" ' + inputAtlasAttr + '=\"' + index + '\" class=\"magic-radio\" type=\"radio\" name=\"template\" value=\"' + atlas.name + '\"/>';\n    inputs += '<label for=\"' + id + '\">' + atlas.name + '</label>';\n    inputs += '<br>';\n  });\n\n  _gui2.default.showModalDialog({\n    title: t('sdk.atlas.template_dialog.title'),\n    message: inputs,\n    buttons: {\n      success: {\n        label: \"OK\",\n        className: \"skin-button\",\n        callback: function callback() {\n          var index = $('input[name=\"template\"]:checked').attr(inputAtlasAttr);\n          if (undefined === index) {\n            return false; // prevent default\n          }\n          _this14._printSingleAtlas({ features: features, atlas: atlasLayer[index] });\n        }\n      }\n    }\n  });\n};\n\n/**\n * Method that in case\n * @param layer\n */\nproto.showLayerDownloadFormats = function (layer) {\n  var layerKey = _QueryResultsActionDownloadFormats2.default.name;\n  layer[layerKey].active = !layer[layerKey].active;\n  this.setLayerActionTool({\n    layer: layer,\n    component: layer[layerKey].active ? _QueryResultsActionDownloadFormats2.default : null,\n    config: layer[layerKey].active ? this.state.actiontools[layerKey][layer.id] : null\n  });\n};\n\n/**\n *\n * @param type\n * @param layerId\n * @param features\n */\nproto.downloadFeatures = function () {\n  var _ref21 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee6(type, layer) {\n    var features = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : [];\n\n    var _this15 = this;\n\n    var action = arguments[3];\n    var index = arguments[4];\n\n    var layerId, _state$query, query, data, runDownload, downloadsactions, fid, polygonLayer, config;\n\n    return regeneratorRuntime.wrap(function _callee6$(_context6) {\n      while (1) {\n        switch (_context6.prev = _context6.next) {\n          case 0:\n            layerId = layer.id;\n            _state$query = this.state.query, query = _state$query === undefined ? {} : _state$query;\n\n            features = features ? Array.isArray(features) ? features : [features] : features;\n            data = {\n              fids: features.map(function (feature) {\n                return feature.attributes[_constant.G3W_FID];\n              }).join(',')\n            };\n            /**\n             * is a function that che be called in case of querybypolygon\n             * @param active\n             */\n\n            runDownload = function () {\n              var _ref22 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee5() {\n                var active = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n                var projectLayer, download_caller_id, downloadsactions;\n                return regeneratorRuntime.wrap(function _callee5$(_context5) {\n                  while (1) {\n                    switch (_context5.prev = _context5.next) {\n                      case 0:\n                        if (features.length > 1) {\n                          layer[_QueryResultsActionDownloadFormats2.default.name].active = active;\n                          _this15.setLayerActionTool({\n                            layer: layer\n                          });\n                        }\n                        projectLayer = _catalogLayers2.default.getLayerById(layer.id);\n                        download_caller_id = _application2.default.setDownload(true);\n\n                        _gui2.default.setLoadingContent(true);\n                        _context5.prev = 4;\n                        _context5.next = 7;\n                        return projectLayer.getDownloadFilefromDownloadDataType(type, {\n                          data: data\n                        });\n\n                      case 7:\n                        _context5.t0 = _context5.sent;\n\n                        if (_context5.t0) {\n                          _context5.next = 10;\n                          break;\n                        }\n\n                        Promise.resolve();\n\n                      case 10:\n                        _context5.next = 15;\n                        break;\n\n                      case 12:\n                        _context5.prev = 12;\n                        _context5.t1 = _context5['catch'](4);\n\n                        _gui2.default.notify.error(_context5.t1 || t(\"info.server_error\"));\n\n                      case 15:\n                        _application2.default.setDownload(false, download_caller_id);\n                        _gui2.default.setLoadingContent(false);\n                        downloadsactions = _this15.state.layersactions[layer.id].find(function (action) {\n                          return action.id === 'downloads';\n                        });\n\n                        if (features.length > 1) {\n                          if (downloadsactions === undefined) {\n                            layer[type].active = false;\n                            _this15.setLayerActionTool({\n                              layer: layer\n                            });\n                          } else layer[_QueryResultsActionDownloadFormats2.default.name].active = false;\n                        } else {\n                          if (downloadsactions === undefined) action.state.toggled[index] = false;else downloadsactions.state.toggled[index] = false;\n                          _this15.setCurrentActionLayerFeatureTool({\n                            index: index,\n                            action: action,\n                            layer: layer\n                          });\n                        }\n\n                      case 19:\n                      case 'end':\n                        return _context5.stop();\n                    }\n                  }\n                }, _callee5, _this15, [[4, 12]]);\n              }));\n\n              return function runDownload() {\n                return _ref22.apply(this, arguments);\n              };\n            }();\n\n            if (query.type === 'polygon') {\n              //check if multidownload if present\n              downloadsactions = this.state.layersactions[layer.id].find(function (action) {\n                return action.id === 'downloads';\n              });\n              fid = query.fid, polygonLayer = query.layer;\n              config = {\n                choices: [{\n                  id: getUniqueDomId(),\n                  type: 'feature',\n                  label: 'sdk.mapcontrols.querybypolygon.download.choiches.feature.label'\n                }, {\n                  id: getUniqueDomId(),\n                  type: 'polygon',\n                  label: 'sdk.mapcontrols.querybypolygon.download.choiches.feature_polygon.label'\n                }],\n                download: function download(type) {\n                  // choose between only feature attribute or also polygon attibute\n                  if (type === 'polygon') {\n                    // id type polygon add paramateres to api download\n                    data.sbp_qgs_layer_id = polygonLayer.getId();\n                    data.sbp_fid = fid;\n                  } else {\n                    // force to remove\n                    delete data.sbp_fid;\n                    delete data.sbp_qgs_layer_id;\n                  }\n                  runDownload(true);\n                }\n              };\n\n              if (features.length === 1) {\n                if (downloadsactions === undefined) {\n                  action.state.toggled[index] = true;\n                }\n                this.state.actiontools[_QueryResultsActionQueryPolygonCSVAttributes2.default.name] = this.state.actiontools[layerId] || {};\n                this.state.actiontools[_QueryResultsActionQueryPolygonCSVAttributes2.default.name][layerId] = config;\n                this.setCurrentActionLayerFeatureTool({\n                  layer: layer,\n                  index: index,\n                  action: action,\n                  component: _QueryResultsActionQueryPolygonCSVAttributes2.default\n                });\n              } else {\n                if (downloadsactions === undefined) {\n                  layer[type].active = !layer[type].active;\n                  if (layer[type].active) {\n                    this.setLayerActionTool({\n                      layer: layer,\n                      component: _QueryResultsActionQueryPolygonCSVAttributes2.default,\n                      config: config\n                    });\n                  } else this.setLayerActionTool({\n                    layer: layer\n                  });\n                } else {\n                  this.setLayerActionTool({\n                    layer: layer,\n                    component: _QueryResultsActionQueryPolygonCSVAttributes2.default,\n                    config: config\n                  });\n                }\n              }\n            } else runDownload();\n\n          case 6:\n          case 'end':\n            return _context6.stop();\n        }\n      }\n    }, _callee6, this);\n  }));\n\n  return function (_x33, _x34) {\n    return _ref21.apply(this, arguments);\n  };\n}();\n\nproto.downloadGpx = function () {\n  var _this16 = this;\n\n  var _ref23 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      layerId = _ref23.id;\n\n  var feature = arguments[1];\n\n  var fid = feature ? feature.attributes[_constant.G3W_FID] : null;\n  var layer = _catalogLayers2.default.getLayerById(layerId);\n  layer.getGpx({ fid: fid }).catch(function (err) {\n    _gui2.default.notify.error(t(\"info.server_error\"));\n  }).finally(function () {\n    _this16.layerMenu.loading.shp = false;\n    _this16._hideMenu();\n  });\n};\n\nproto.downloadXls = function () {\n  var _this17 = this;\n\n  var _ref24 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      layerId = _ref24.id;\n\n  var feature = arguments[1];\n\n  var fid = feature ? feature.attributes[_constant.G3W_FID] : null;\n  var layer = _catalogLayers2.default.getLayerById(layerId);\n  layer.getXls({ fid: fid }).catch(function (err) {\n    _gui2.default.notify.error(t(\"info.server_error\"));\n  }).finally(function () {\n    _this17.layerMenu.loading.shp = false;\n    _this17._hideMenu();\n  });\n};\n\nproto.listenClearSelection = function (layer, actionId) {\n  var _this18 = this;\n\n  if (!layer.external) {\n    var _layer = _catalogLayers2.default.getLayerById(layer.id);\n    var handler = function handler() {\n      var action = _this18.state.layersactions[layer.id].find(function (action) {\n        return action.id === actionId;\n      });\n      layer.features.forEach(function (feature, index) {\n        return action.state.toggled[index] = false;\n      });\n    };\n    _layer.on('unselectionall', handler);\n    this.unlistenerlayeractionevents.push({\n      layer: _layer,\n      event: 'unselectionall',\n      handler: handler\n    });\n  } else {\n    layer.features.forEach(function (feature) {\n      var selectionFeature = layer.selection.features.find(function (selectionFeature) {\n        return feature.id === selectionFeature.getId();\n      });\n      feature.selection = selectionFeature ? selectionFeature.selection : {\n        selected: false\n      };\n    });\n  }\n};\n\nproto.clearSelectionExtenalLayer = function (layer) {\n  var _this19 = this;\n\n  layer.selection.active = false;\n  var action = this.state.layersactions[layer.id] && this.state.layersactions[layer.id].find(function (action) {\n    return action.id === 'selection';\n  });\n  layer.selection.features.forEach(function (feature, index) {\n    if (feature.selection.selected) {\n      feature.selection.selected = false;\n      if (action) action.state.toggled[index] = false;\n      _this19.mapService.setSelectionFeatures('remove', {\n        feature: feature\n      });\n    }\n  });\n};\n\nproto.unlistenerEventsActions = function () {\n  this.unlistenerlayeractionevents.forEach(function (obj) {\n    return obj.layer.off(obj.event, obj.handler);\n  });\n  this.unlistenerlayeractionevents = [];\n};\n\nproto.addRemoveFilter = function (layer) {\n  var _layer = _catalogLayers2.default.getLayerById(layer.id);\n  _layer.toggleFilterToken();\n};\n\n/**\n *\n * @param layer\n */\nproto.selectionFeaturesLayer = function (layer) {\n  var _this20 = this;\n\n  var layerId = layer.id;\n  var action = this.state.layersactions[layerId].find(function (action) {\n    return action.id === 'selection';\n  });\n  var bool = Object.values(action.state.toggled).reduce(function (acculmulator, value) {\n    return acculmulator && value;\n  }, true);\n  var _layer = !layer.external ? _catalogLayers2.default.getLayerById(layerId) : layer;\n  layer.features.forEach(function (feature, index) {\n    action.state.toggled[index] = !bool;\n    _this20._addRemoveSelectionFeature(_layer, feature, index, bool ? 'remove' : 'add');\n  });\n};\n\n/**\n *\n * @param layer\n * @param feature\n * @param index\n * @param force\n * @returns {Promise<void>}\n * @private\n */\nproto._addRemoveSelectionFeature = function () {\n  var _ref25 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee7(layer, feature, index, force) {\n    var selectionFeature, fid, hasAlreadySelectioned, currentLayer;\n    return regeneratorRuntime.wrap(function _callee7$(_context7) {\n      while (1) {\n        switch (_context7.prev = _context7.next) {\n          case 0:\n            if (!(typeof layer.external !== \"undefined\" && layer.external)) {\n              _context7.next = 12;\n              break;\n            }\n\n            if (typeof layer.selection.features === \"undefined\") layer.selection.features = {};\n            if (!layer.selection.features.find(function (selectionFeature) {\n              return selectionFeature.getId() === feature.id;\n            })) {\n              /***\n               * Feature used in selection tool action\n               */\n              selectionFeature = createFeatureFromFeatureObject({\n                feature: feature,\n                id: feature.id\n              });\n\n              selectionFeature.__layerId = layer.id;\n              selectionFeature.selection = feature.selection;\n              layer.selection.features.push(selectionFeature);\n            }\n\n            if (!(force === 'add' && feature.selection.selected || force === 'remove' && !feature.selection.selected)) {\n              _context7.next = 7;\n              break;\n            }\n\n            return _context7.abrupt('return');\n\n          case 7:\n            feature.selection.selected = !feature.selection.selected;\n\n          case 8:\n            this.mapService.setSelectionFeatures(feature.selection.selected ? 'add' : 'remove', {\n              feature: layer.selection.features.find(function (selectionFeature) {\n                return feature.id === selectionFeature.getId();\n              })\n            });\n            /*\n            * Set selection layer active based on features selection selected properties\n             */\n            layer.selection.active = layer.selection.features.reduce(function (accumulator, feature) {\n              return accumulator || feature.selection.selected;\n            }, false);\n            _context7.next = 28;\n            break;\n\n          case 12:\n            // case of project layer on TOC\n            fid = feature ? feature.attributes[_constant.G3W_FID] : null;\n            hasAlreadySelectioned = layer.getFilterActive() || layer.hasSelectionFid(fid);\n\n            if (!hasAlreadySelectioned) {\n              if (feature && feature.geometry && !layer.getOlSelectionFeature(fid)) {\n                layer.addOlSelectionFeature({\n                  id: fid,\n                  feature: feature\n                });\n              }\n            }\n\n            if (!(force === undefined)) {\n              _context7.next = 19;\n              break;\n            }\n\n            layer[hasAlreadySelectioned ? 'excludeSelectionFid' : 'includeSelectionFid'](fid);\n            _context7.next = 27;\n            break;\n\n          case 19:\n            if (!(!hasAlreadySelectioned && force === 'add')) {\n              _context7.next = 24;\n              break;\n            }\n\n            _context7.next = 22;\n            return layer.includeSelectionFid(fid);\n\n          case 22:\n            _context7.next = 27;\n            break;\n\n          case 24:\n            if (!(hasAlreadySelectioned && force === 'remove')) {\n              _context7.next = 27;\n              break;\n            }\n\n            _context7.next = 27;\n            return layer.excludeSelectionFid(fid);\n\n          case 27:\n            if (layer.getFilterActive()) {\n              currentLayer = this.state.layers.find(function (_layer) {\n                return _layer.id === layer.getId();\n              });\n\n              layer.getSelectionFids().size > 0 && currentLayer && currentLayer.features.splice(index, 1);\n              this.mapService.clearHighlightGeometry();\n              this.state.layers.length === 1 && !this.state.layers[0].features.length && this.state.layers.splice(0);\n            }\n\n          case 28:\n          case 'end':\n            return _context7.stop();\n        }\n      }\n    }, _callee7, this);\n  }));\n\n  return function (_x38, _x39, _x40, _x41) {\n    return _ref25.apply(this, arguments);\n  };\n}();\n\n/**\n * Initial check of selection active on layer\n * @param layer\n * @param feature\n * @param index\n * @param action\n */\nproto.checkFeatureSelection = function () {\n  var _ref26 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      layer = _ref26.layer,\n      feature = _ref26.feature,\n      index = _ref26.index,\n      action = _ref26.action;\n\n  if (!layer.external) {\n    var projectLayer = _catalogLayers2.default.getLayerById(layer.id);\n    if (feature) {\n      var fid = feature ? feature.attributes[_constant.G3W_FID] : null;\n      action.state.toggled[index] = projectLayer.getFilterActive() || projectLayer.hasSelectionFid(fid);\n    }\n  } else {\n    action.state.toggled[index] = feature.selection.selected;\n  }\n};\n\n/**\n *\n * @param layer\n * @param feature\n * @param action\n * @param index\n */\nproto.addToSelection = function (layer, feature, action, index) {\n  var _layer$external = layer.external,\n      external = _layer$external === undefined ? false : _layer$external;\n\n  action.state.toggled[index] = !action.state.toggled[index];\n  var _layer = !external ? _catalogLayers2.default.getLayerById(layer.id) : layer;\n  this._addRemoveSelectionFeature(_layer, feature, index);\n};\n\nproto.removeQueryResultLayerFromMap = function () {\n  this.resultsQueryLayer.getSource().clear();\n  this.mapService.getMap().removeLayer(this.resultsQueryLayer);\n};\n\n/**\n * Show layerQuery result on map\n */\nproto.addQueryResultsLayerToMap = function (_ref27) {\n  var feature = _ref27.feature;\n\n\n  this.removeQueryResultLayerFromMap();\n\n  this.resultsQueryLayer.getSource().addFeature(feature);\n  this.mapService.getMap().addLayer(this.resultsQueryLayer);\n\n  // make sure that layer is on top of other map.\n  this.mapService.setZIndexLayer({ layer: this.resultsQueryLayer });\n};\n\n/**\n *\n  Show featureFormCoordinates\n */\nproto.showCoordinates = function (coordinates) {\n  var feature = createFeatureFromCoordinates(coordinates);\n  this.addQueryResultsLayerToMap({ feature: feature });\n};\n\n/**\n * Show BBox\n * @param bbox\n */\nproto.showBBOX = function (bbox) {\n  var feature = createFeatureFromBBOX(bbox);\n  this.addQueryResultsLayerToMap({ feature: feature });\n};\n\n/**\n * Show Geometry\n * @param geometry\n */\nproto.showGeometry = function (geometry) {\n  var feature = createFeatureFromGeometry({\n    geometry: geometry\n  });\n  this.addQueryResultsLayerToMap({ feature: feature });\n};\n\n/**\n *\n * @param layer\n * @param feature\n */\nproto.goToGeometry = function (layer, feature) {\n  var _this21 = this;\n\n  if (feature.geometry) {\n    var handlerOptions = {\n      mapServiceMethod: this.isOneLayerResult() ? 'zoomToFeatures' : 'highlightGeometry',\n      firstParam: this.isOneLayerResult() ? [feature] : feature.geometry,\n      options: this.isOneLayerResult() ? {} : {\n        layerId: layer.id,\n        duration: 1500\n      }\n    };\n    if (this._asyncFnc.goToGeometry.async) this._asyncFnc.todo = this.mapService[handlerOptions.mapServiceMethod].bind(this.mapService, handlerOptions.firstParam, handlerOptions.options);else setTimeout(function () {\n      return _this21.mapService[handlerOptions.mapServiceMethod](handlerOptions.firstParam, handlerOptions.options);\n    });\n  }\n};\n\n//save layer result\nproto.saveLayerResult = function () {\n  var _ref28 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      layer = _ref28.layer,\n      _ref28$type = _ref28.type,\n      type = _ref28$type === undefined ? 'csv' : _ref28$type;\n\n  this.downloadFeatures(type, layer, layer.features);\n};\n\nproto.highlightGeometry = function (layer, feature) {\n  feature.geometry && this.mapService.highlightGeometry(feature.geometry, {\n    layerId: layer.id,\n    zoom: false,\n    duration: Infinity\n  });\n};\n\nproto.clearHighlightGeometry = function (layer) {\n  this.mapService.clearHighlightGeometry();\n  this.isOneLayerResult() && this.highlightFeaturesPermanently(layer);\n};\n\n/**\n * method to handle show Relation on result\n * @param relationId,\n * layerId : current layer fathre id\n * feature: current feature father id\n */\nproto.showRelation = function () {\n  var _ref29 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      relation = _ref29.relation,\n      layerId = _ref29.layerId,\n      feature = _ref29.feature;\n\n  var relationId = relation.name,\n      nmRelationId = relation.nmRelationId;\n\n  var chartRelationIds = [];\n  var projectRelation = this._project.getRelationById(relationId);\n  var nmRelation = this._project.getRelationById(nmRelationId);\n  this.findPlotId(projectRelation.referencingLayer) && chartRelationIds.push(projectRelation.referencingLayer);\n\n  _gui2.default.pushContent({\n    content: new RelationsPage({\n      currentview: 'relation',\n      relations: [projectRelation],\n      chartRelationIds: chartRelationIds,\n      nmRelation: nmRelation,\n      feature: feature,\n      layer: {\n        id: layerId\n      }\n    }),\n    crumb: {\n      title: projectRelation.name\n    },\n    title: projectRelation.name,\n    closable: false\n  });\n};\n\nproto.showQueryRelations = function (layer, feature, action) {\n\n  _gui2.default.changeCurrentContentOptions({\n    crumb: {\n      title: layer.title\n    }\n  });\n\n  _gui2.default.pushContent({\n    content: new RelationsPage({\n      relations: action.relations,\n      chartRelationIds: action.chartRelationIds,\n      feature: feature,\n      layer: layer\n    }),\n    backonclose: true,\n    title: _constant.LIST_OF_RELATIONS_TITLE,\n    id: _constant.LIST_OF_RELATIONS_ID,\n    crumb: {\n      title: _constant.LIST_OF_RELATIONS_TITLE,\n      trigger: null\n    },\n    closable: false\n  });\n};\n\nmodule.exports = QueryResultsService;\n\n},{\"components/QueryResultsActionDownloadFormats.vue\":280,\"components/QueryResultsActionQueryPolygonCSVAttributes.vue\":282,\"constant\":4,\"core/g3wobject\":12,\"core/i18n/i18n.service\":13,\"core/layers/layer\":34,\"core/layers/vectorlayer\":57,\"core/print/printservice\":60,\"core/utils/geo\":64,\"core/utils/utils\":68,\"g3w-ol/interactions/pickcoordinatesinteraction\":105,\"gui/relations/vue/relationspage\":175,\"services/application\":351,\"services/data\":358,\"services/gui\":361,\"store/catalog-layers\":374,\"store/projects\":379}],172:[function(require,module,exports){\nvar _QueryResults = require('components/QueryResults.vue');\n\nvar vueComponentOptions = _interopRequireWildcard(_QueryResults);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit;\n\nvar Component = require('gui/component/component');\nvar QueryResultsService = require('gui/queryresults/queryresultsservice');\n\nvar InternalComponent = Vue.extend(vueComponentOptions);\n\nfunction QueryResultsComponent() {\n  var _this = this;\n\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  base(this, options);\n  this.id = \"queryresults\";\n  this.title = \"Query Results\";\n  this._service = new QueryResultsService();\n  this.setInternalComponent = function () {\n    this.internalComponent = new InternalComponent({\n      queryResultsService: this._service\n    });\n    this.internalComponent.querytitle = this._service.state.querytitle;\n  };\n\n  this.getElement = function () {\n    if (this.internalComponent) return this.internalComponent.$el;\n  };\n\n  this._service.onafter('setLayersData', _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n    return regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            !_this.internalComponent && _this.setInternalComponent();\n            _context.next = 3;\n            return _this.internalComponent.$nextTick();\n\n          case 3:\n          case 'end':\n            return _context.stop();\n        }\n      }\n    }, _callee, _this);\n  })));\n\n  this.layout = function (width, height) {};\n  this.unmount = function () {\n    this.getService().closeComponent();\n    return base(this, 'unmount');\n  };\n}\n\ninherit(QueryResultsComponent, Component);\n\nmodule.exports = QueryResultsComponent;\n\n},{\"components/QueryResults.vue\":278,\"core/utils/utils\":68,\"gui/component/component\":117,\"gui/queryresults/queryresultsservice\":171}],173:[function(require,module,exports){\nvar _constant = require('app/constant');\n\nvar _relations = require('services/relations');\n\nvar _relations2 = _interopRequireDefault(_relations);\n\nvar _application = require('services/application');\n\nvar _application2 = _interopRequireDefault(_application);\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar _require = require('core/utils/utils'),\n    inherit = _require.inherit,\n    base = _require.base;\n\nvar G3WObject = require('core/g3wobject');\n\nfunction RelationsComponentService() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  this.state = {};\n  this._options = {};\n  base(this);\n}\n\ninherit(RelationsComponentService, G3WObject);\n\nvar proto = RelationsComponentService.prototype;\n\nproto.getRelations = function () {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  this._options = options;\n  return _relations2.default.getRelations(options);\n};\n\nproto.getRelationsNM = function () {\n  var _ref2 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(_ref) {\n    var nmRelation = _ref.nmRelation,\n        features = _ref.features;\n    return regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return _relations2.default.getRelationsNM({\n              nmRelation: nmRelation,\n              features: features\n            });\n\n          case 2:\n            return _context.abrupt('return', _context.sent);\n\n          case 3:\n          case 'end':\n            return _context.stop();\n        }\n      }\n    }, _callee, this);\n  }));\n\n  return function (_x3) {\n    return _ref2.apply(this, arguments);\n  };\n}();\n\nproto.saveRelations = function () {\n  var _ref3 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2(type) {\n    var caller_download_id;\n    return regeneratorRuntime.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            this._options.type = type;\n            caller_download_id = _application2.default.setDownload(true);\n            _context2.prev = 2;\n            _context2.next = 5;\n            return _relations2.default.save(this._options);\n\n          case 5:\n            _context2.next = 10;\n            break;\n\n          case 7:\n            _context2.prev = 7;\n            _context2.t0 = _context2['catch'](2);\n\n            _gui2.default.showUserMessage({\n              type: 'alert',\n              message: _context2.t0 || \"info.server_error\",\n              closable: true\n            });\n\n          case 10:\n            _application2.default.setDownload(false, caller_download_id);\n\n          case 11:\n          case 'end':\n            return _context2.stop();\n        }\n      }\n    }, _callee2, this, [[2, 7]]);\n  }));\n\n  return function (_x4) {\n    return _ref3.apply(this, arguments);\n  };\n}();\n\nproto.buildRelationTable = function () {\n  var relations = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n  var id = arguments[1];\n\n  var layer = _application2.default.getCurrentProject().getLayerById(id);\n  var headers = layer.getTableHeaders();\n  var columns = null;\n  var rows = [];\n  var rows_fid = [];\n  var fields = void 0;\n  if (relations.length) {\n    var attributes = Object.keys(relations[0].attributes);\n    columns = headers.filter(function (header) {\n      return attributes.indexOf(header.name) !== -1;\n    });\n    rows = relations.map(function (relation) {\n      rows_fid.push(relation.attributes[_constant.G3W_FID]);\n      return columns.map(function (column) {\n        return relation.attributes[column.name];\n      });\n    });\n    fields = columns;\n    columns = columns.map(function (column) {\n      return column.label;\n    });\n  }\n  return {\n    columns: columns,\n    rows: rows,\n    rows_fid: rows_fid,\n    features: relations,\n    fields: fields,\n    formStructure: layer.getLayerEditingFormStructure(),\n    rowFormStructure: null,\n    layerId: layer.getId()\n  };\n};\n\nmodule.exports = RelationsComponentService;\n\n},{\"app/constant\":4,\"core/g3wobject\":12,\"core/utils/utils\":68,\"services/application\":351,\"services/gui\":361,\"services/relations\":367}],174:[function(require,module,exports){\n/**\n * NB: node.js modules are singletons by default.\n * \n * @see https://medium.com/@lazlojuly/are-node-js-modules-singletons-764ae97519af\n */\nmodule.exports = new Vue();\n\n},{}],175:[function(require,module,exports){\nvar _RelationsPage = require('components/RelationsPage.vue');\n\nvar vueComponentOptions = _interopRequireWildcard(_RelationsPage);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit;\n\nvar Component = require('gui/component/component');\nvar Service = require('gui/relations/relationsservice');\n\nvar InternalComponent = Vue.extend(vueComponentOptions);\n\nvar RelationsPage = function RelationsPage() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  base(this, options);\n  var service = options.service || new Service();\n  var layer = options.layer,\n      _options$relation = options.relation,\n      relation = _options$relation === undefined ? null : _options$relation,\n      _options$relations = options.relations,\n      relations = _options$relations === undefined ? [] : _options$relations,\n      _options$feature = options.feature,\n      feature = _options$feature === undefined ? null : _options$feature,\n      _options$table = options.table,\n      table = _options$table === undefined ? null : _options$table,\n      _options$chartRelatio = options.chartRelationIds,\n      chartRelationIds = _options$chartRelatio === undefined ? [] : _options$chartRelatio,\n      nmRelation = options.nmRelation,\n      _options$currentview = options.currentview,\n      currentview = _options$currentview === undefined ? \"relations\" : _options$currentview;\n\n  this.setService(service);\n  var internalComponent = new InternalComponent({\n    previousview: currentview,\n    service: service,\n    relations: relations,\n    relation: relation,\n    nmRelation: nmRelation,\n    chartRelationIds: chartRelationIds,\n    feature: feature,\n    currentview: currentview,\n    layer: layer,\n    table: table\n  });\n  this.setInternalComponent(internalComponent);\n  internalComponent.state = service.state;\n  this.layout = function () {\n    internalComponent.reloadLayout();\n  };\n};\n\ninherit(RelationsPage, Component);\n\nmodule.exports = RelationsPage;\n\n},{\"components/RelationsPage.vue\":288,\"core/utils/utils\":68,\"gui/component/component\":117,\"gui/relations/relationsservice\":173}],176:[function(require,module,exports){\nvar _querybuilder = require('services/querybuilder');\n\nvar _querybuilder2 = _interopRequireDefault(_querybuilder);\n\nvar _projects = require('store/projects');\n\nvar _projects2 = _interopRequireDefault(_projects);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit;\n\nvar G3WObject = require('core/g3wobject');\nvar SearchPanel = require('gui/search/vue/panel/searchpanel');\n\nfunction Service() {\n  base(this);\n  var currentProjectState = _projects2.default.getCurrentProject().state;\n  this.title = currentProjectState.search_title || \"search\";\n  this.init = function (searchesObject) {\n    this.state.searches = searchesObject || currentProjectState.search;\n  };\n  this.state = {\n    searches: [],\n    searchtools: [],\n    querybuildersearches: _querybuilder2.default.getCurrentProjectItems()\n  };\n}\n\ninherit(Service, G3WObject);\n\nvar proto = Service.prototype;\n\nproto.removeItem = function () {\n  var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      type = _ref.type,\n      index = _ref.index;\n\n  switch (type) {\n    case 'querybuilder':\n      this.state.querybuildersearches.splice(index, 1);\n      break;\n  }\n};\n\nproto.getTitle = function () {\n  return this.title;\n};\n\nproto.showPanel = function () {\n  var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  var panel = new SearchPanel(config);\n  panel.show();\n  return panel;\n};\n\nproto.cleanSearchPanels = function () {\n  this.state.panels = {};\n};\n\nproto.stop = function () {\n  var d = $.Deferred();\n  d.resolve();\n  return d.promise();\n};\n\nproto.addTool = function (searchTool) {\n  this.state.searchtools.push(searchTool);\n};\n\nproto.addTools = function (searchTools) {\n  var _iteratorNormalCompletion = true;\n  var _didIteratorError = false;\n  var _iteratorError = undefined;\n\n  try {\n    for (var _iterator = searchTools[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n      var searchTool = _step.value;\n\n      this.addTool(searchTool);\n    }\n  } catch (err) {\n    _didIteratorError = true;\n    _iteratorError = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion && _iterator.return) {\n        _iterator.return();\n      }\n    } finally {\n      if (_didIteratorError) {\n        throw _iteratorError;\n      }\n    }\n  }\n};\n\nproto.addQueryBuilderSearch = function (querybuildersearch) {\n  this.state.querybuildersearches.push(querybuildersearch);\n};\n\nproto.removeTool = function (searchTool) {};\n\nproto.removeTools = function () {\n  this.state.searchtools.splice(0);\n};\n\nproto.reload = function () {\n  this.state.searches = _projects2.default.getCurrentProject().state.search;\n  this.state.querybuildersearches = _querybuilder2.default.getCurrentProjectItems();\n};\n\nmodule.exports = Service;\n\n},{\"core/g3wobject\":12,\"core/utils/utils\":68,\"gui/search/vue/panel/searchpanel\":177,\"services/querybuilder\":366,\"store/projects\":379}],177:[function(require,module,exports){\nvar _SearchPanel = require('components/SearchPanel.vue');\n\nvar vueComponentOptions = _interopRequireWildcard(_SearchPanel);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit,\n    uniqueId = _require.uniqueId;\n\nvar Panel = require('gui/panel');\nvar Service = require('gui/search/vue/panel/searchservice');\n\nvar SearchPanelComponent = Vue.extend(vueComponentOptions);\n\nfunction SearchPanel() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  var service = options.service || new Service(options);\n  this.setService(service);\n  this.id = uniqueId();\n  this.title = 'search';\n  var SearchPanel = options.component || SearchPanelComponent;\n  var internalPanel = new SearchPanel({\n    service: service\n  });\n  this.setInternalPanel(internalPanel);\n  this.unmount = function () {\n    return base(this, 'unmount').then(function () {\n      service.clear();\n    });\n  };\n}\n\ninherit(SearchPanel, Panel);\n\nmodule.exports = SearchPanel;\n\n},{\"components/SearchPanel.vue\":291,\"core/utils/utils\":68,\"gui/panel\":162,\"gui/search/vue/panel/searchservice\":178}],178:[function(require,module,exports){\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\n/**\n * @private \n */\nvar parse_search_1n = function () {\n  var _ref23 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee9(data, options) {\n    var search_endpoint, feature_count, relation_id, output_title, _ref24, _ref24$features, features, project, relation, inputs, _uniqueValues, layer;\n\n    return regeneratorRuntime.wrap(function _callee9$(_context10) {\n      while (1) {\n        switch (_context10.prev = _context10.next) {\n          case 0:\n            search_endpoint = options.search_endpoint, feature_count = options.feature_count, relation_id = options.relation_id, output_title = options.output_title;\n            _ref24 = data.data[0] || {}, _ref24$features = _ref24.features, features = _ref24$features === undefined ? [] : _ref24$features;\n            project = _projects2.default.getCurrentProject();\n\n            // check if has features on result\n\n            if (!features.length) {\n              _data3.default.showEmptyOutputs();\n            }\n\n            relation = project.getRelationById(relation_id);\n\n            if (!relation) {\n              _context10.next = 13;\n              break;\n            }\n\n            inputs = [];\n            _uniqueValues = new Set();\n\n            features.forEach(function (feature) {\n              var value = feature.getProperties()[relation.fieldRef.referencingField];\n              if (!_uniqueValues.has(value)) {\n                _uniqueValues.add(value);\n                inputs.push({ attribute: relation.fieldRef.referencedField, logicop: \"OR\", operator: \"eq\", value: value });\n              }\n            });\n\n            layer = project.getLayerById(relation.referencedLayer);\n            _context10.next = 12;\n            return _data3.default.getData('search:features', {\n              inputs: {\n                layer: layer,\n                search_endpoint: search_endpoint,\n                filter: createFilterFormInputs({ layer: layer, search_endpoint: search_endpoint, inputs: inputs }),\n                formatter: 1,\n                feature_count: feature_count\n              },\n              outputs: {\n                title: output_title\n              }\n            });\n\n          case 12:\n            data = _context10.sent;\n\n          case 13:\n            return _context10.abrupt('return', data);\n\n          case 14:\n          case 'end':\n            return _context10.stop();\n        }\n      }\n    }, _callee9, this);\n  }));\n\n  return function parse_search_1n(_x21, _x22) {\n    return _ref23.apply(this, arguments);\n  };\n}();\n\n/**\n * @private \n */\n\n\nvar _constant = require('app/constant');\n\nvar _catalogLayers = require('store/catalog-layers');\n\nvar _catalogLayers2 = _interopRequireDefault(_catalogLayers);\n\nvar _data2 = require('services/data');\n\nvar _data3 = _interopRequireDefault(_data2);\n\nvar _projects = require('store/projects');\n\nvar _projects2 = _interopRequireDefault(_projects);\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit,\n    toRawType = _require.toRawType,\n    getUniqueDomId = _require.getUniqueDomId,\n    createFilterFormInputs = _require.createFilterFormInputs,\n    createSingleFieldParameter = _require.createSingleFieldParameter,\n    isEmptyObject = _require.isEmptyObject,\n    sortAlphabeticallyArray = _require.sortAlphabeticallyArray,\n    sortNumericArray = _require.sortNumericArray;\n\nvar G3WObject = require('core/g3wobject');\n\nvar NONVALIDVALUES = [null, undefined, _constant.SEARCH_ALLVALUE];\n\nfunction SearchService() {\n  var _this = this;\n\n  var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n\n  this.debounces = {\n    run: {\n      fnc: function fnc() {\n        for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n          args[_key] = arguments[_key];\n        }\n\n        var _mapService$getMap$ge = _this.mapService.getMap().getSize(),\n            _mapService$getMap$ge2 = _slicedToArray(_mapService$getMap$ge, 2),\n            width = _mapService$getMap$ge2[0],\n            heigth = _mapService$getMap$ge2[1];\n\n        if (!_gui2.default.isMobile() || !(width === 0 || heigth === 0)) {\n          _this._run.apply(_this, args);\n          return;\n        }\n        _gui2.default.hideSidebar();\n        setTimeout(function () {\n          _this._run.apply(_this, args);\n        }, 600);\n      }\n    }\n  };\n\n  base(this);\n\n  // reactivity data\n  this.state = {\n    title: null,\n    forminputs: [],\n    loading: {},\n    searching: false\n  };\n\n  this.config = config;\n\n  var _config$options = this.config.options,\n      options = _config$options === undefined ? {} : _config$options;\n\n  var layerid = options.querylayerid || options.layerid || null;\n\n  this.inputdependance = {};\n\n  this.inputdependencies = {};\n\n  this.cachedependencies = {};\n\n  this.project = _projects2.default.getCurrentProject();\n\n  this.mapService = _gui2.default.getService('map');\n\n  this.searchLayer = null;\n\n  this.filter = null;\n\n  this.inputs = [];\n\n  this.state.title = config.name;\n\n  this.search_endpoint = config.search_endpoint;\n\n  this.url = options.queryurl;\n\n  this.filter = options.filter;\n\n  /**\n   * @type { 'search' | 'search_1n' }\n   */\n  this.type = this.config.type || 'search';\n\n  this.return = options.return || 'data';\n\n  this.show = this.return === 'data' && this.type === 'search';\n\n  this.searchLayer = _catalogLayers2.default.getLayerById(layerid);\n\n  /**\n   * Store layers that will be searchable for that search form.\n   * First one is layer owner of the search setted on admin.\n   */\n  this.searchLayers = [layerid].concat(_toConsumableArray(options.otherquerylayerids || [])).map(function (layerid) {\n    return _catalogLayers2.default.getLayerById(layerid);\n  });\n\n  /**\n   * Create the form search structure\n   */\n  this.createInputsFormFromFilter({ filter: options.filter || [] });\n}\n\ninherit(SearchService, G3WObject);\n\nvar proto = SearchService.prototype;\n\n/**\n * @TODO slim down and refactor\n * \n * Start Method to create right search structure for search form\n * \n * @param filter\n * \n * @returns {Promise<void>}\n */\nproto.createInputsFormFromFilter = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n  var _this2 = this;\n\n  var _ref2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      _ref2$filter = _ref2.filter,\n      filter = _ref2$filter === undefined ? [] : _ref2$filter;\n\n  var filterLenght, _loop, index;\n\n  return regeneratorRuntime.wrap(function _callee$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          filterLenght = filter.length - 1;\n\n          _loop = function _loop(index) {\n            var input = filter[index];\n            var forminput = {\n              label: input.label,\n              attribute: input.attribute,\n              type: input.input.type || 'textfield',\n              options: _extends({}, input.input.options),\n              value: null,\n              operator: input.op,\n              logicop: index === filterLenght ? null : input.logicop,\n              id: input.id || getUniqueDomId(),\n              loading: false,\n              widget: null\n            };\n            //check if has a dependance\n            var _forminput$options = forminput.options,\n                dependance = _forminput$options.dependance,\n                dependance_strict = _forminput$options.dependance_strict;\n\n            if (forminput.type === 'selectfield' || forminput.type === 'autocompletefield') {\n              // to be sure set values options to empty array if undefined\n              forminput.loading = forminput.type !== 'autocompletefield';\n              var promise = new Promise(function (resolve, reject) {\n                if (forminput.options.values === undefined) forminput.options.values = [];else if (dependance) {\n                  // in case of dependence load right now\n                  if (!dependance_strict) _this2.getValuesFromField(forminput).then(function (values) {\n                    // return array of values\n                    values = _this2.valuesToKeysValues(values); // set values for select\n                    forminput.options.values = values;\n                  }).catch(function () {\n                    return forminput.options.values = [];\n                  }) // in case of error\n                  .finally(function () {\n                    forminput.loading = false;\n                    resolve();\n                  });else {\n                    forminput.loading = false;\n                    resolve();\n                  }\n                } else {\n                  // no dependance\n                  _this2.getValuesFromField(forminput).then(function (values) {\n                    // return array of values\n                    values = _this2.valuesToKeysValues(values); // set values for select\n                    forminput.options.values = values;\n                  }).catch(function () {\n                    return forminput.options.values = [];\n                  }) // in case of error\n                  .finally(function () {\n                    forminput.loading = false;\n                    resolve();\n                  });\n                }\n              });\n              if (dependance) {\n                //set dependance of input\n                _this2.inputdependance[forminput.attribute] = dependance;\n                _this2.state.loading[dependance] = false;\n                // set disabled false for back compatibility\n                forminput.options.disabled = dependance_strict;\n                /**\n                 * Set dependance between input\n                 */\n                _this2.setInputDependencies({\n                  master: dependance,\n                  slave: forminput\n                });\n                /**\n                 * Set widget type for fill dependency\n                 */\n                if (forminput.options.values.length) {\n                  forminput.widget = 'valuemap';\n                  forminput.options._values = [].concat(_toConsumableArray(forminput.options.values));\n                } else if (forminput.options.layer_id) {\n                  forminput.widget = 'valuerelation';\n                }\n              }\n              promise.then(function () {\n                if (forminput.type !== 'autocompletefield') {\n                  if (forminput.options.values.length) forminput.options.values[0].value !== _constant.SEARCH_ALLVALUE && forminput.options.values.unshift({ value: _constant.SEARCH_ALLVALUE });else forminput.options.values.push({ value: _constant.SEARCH_ALLVALUE });\n                  forminput.value = _constant.SEARCH_ALLVALUE;\n                }\n              });\n            }\n            // ad form inputs to list of search input\n            _this2.state.forminputs.push(forminput);\n          };\n\n          for (index = 0; index <= filterLenght; index++) {\n            _loop(index);\n          }\n\n        case 3:\n        case 'end':\n          return _context.stop();\n      }\n    }\n  }, _callee, this);\n}));\n\n/**\n * Get return type\n */\nproto.getReturnType = function () {\n  return this.return;\n};\n\n/**\n * Set return type\n */\nproto.setReturnType = function () {\n  var returnType = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'data';\n\n  this.return = returnType;\n  this.show = 'data' === returnType;\n};\n\nproto.getAutoFieldDependeciesParamField = function (field) {\n  var fieldDependency = this.getCurrentFieldDependance(field);\n  if (fieldDependency) {\n    var _Object$entries$ = _slicedToArray(Object.entries(fieldDependency)[0], 2),\n        _field = _Object$entries$[0],\n        value = _Object$entries$[1];\n\n    return this.createFieldsDependenciesAutocompleteParameter({ field: _field, value: value });\n  }\n};\n\nproto.createFieldsDependenciesAutocompleteParameter = function () {\n  var _ref3 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      _ref3$fields = _ref3.fields,\n      fields = _ref3$fields === undefined ? [] : _ref3$fields,\n      field = _ref3.field,\n      value = _ref3.value;\n\n  var dependendency = this.getCurrentFieldDependance(field);\n  if (undefined !== value) {\n    fields.push(createSingleFieldParameter({ field: field, value: value, operator: this.getFilterInputFromField(field).op }));\n  }\n  if (!dependendency) {\n    return fields.length && fields.join() || undefined;\n  }\n\n  var _Object$entries$2 = _slicedToArray(Object.entries(dependendency)[0], 2),\n      dfield = _Object$entries$2[0],\n      dvalue = _Object$entries$2[1];\n  // In case of some input dependeny are not filled\n\n\n  if (undefined !== dvalue) {\n    // need to set to lower case for api purpose\n    var _getFilterInputFromFi = this.getFilterInputFromField(dfield),\n        op = _getFilterInputFromFi.op,\n        logicop = _getFilterInputFromFi.logicop;\n\n    fields.unshift(dfield + '|' + op.toLowerCase() + '|' + encodeURI(dvalue) + '|' + (fields.length ? logicop.toLowerCase() : ''));\n  }\n  return this.createFieldsDependenciesAutocompleteParameter({ fields: fields, dfield: dfield });\n};\n\n/**\n * Request to server value for a specific select field\n * \n * @param field form input\n * \n * @returns {Promise<[]>}\n */\nproto.getValuesFromField = function () {\n  var _ref4 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2(field) {\n    var uniqueValues;\n    return regeneratorRuntime.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            if (!field.options.layer_id) {\n              _context2.next = 5;\n              break;\n            }\n\n            _context2.next = 3;\n            return this.getUniqueValuesFromField({ field: field.attribute });\n\n          case 3:\n            uniqueValues = _context2.sent;\n            return _context2.abrupt('return', this.getValueRelationValues(field,\n            // filter\n            createFilterFormInputs({\n              layer: _catalogLayers2.default.getLayerById(field.options.layer_id),\n              search_endpoint: this.getSearchEndPoint(),\n              inputs: uniqueValues.map(function (value) {\n                return { value: value, attribute: field.options.value, logicop: \"OR\", operator: \"eq\" };\n              })\n            })));\n\n          case 5:\n            if (!field.options.values.length) {\n              _context2.next = 7;\n              break;\n            }\n\n            return _context2.abrupt('return', this.getValueMapValues(field));\n\n          case 7:\n            return _context2.abrupt('return', this.getUniqueValuesFromField({ field: field.attribute }));\n\n          case 8:\n          case 'end':\n            return _context2.stop();\n        }\n      }\n    }, _callee2, this);\n  }));\n\n  return function (_x5) {\n    return _ref4.apply(this, arguments);\n  };\n}();\n\nproto.getValueRelationValues = function () {\n  var _ref5 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee3(field, filter) {\n    var _ref6, _ref6$data, data, values;\n\n    return regeneratorRuntime.wrap(function _callee3$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            _context3.prev = 0;\n            _context3.next = 3;\n            return _data3.default.getData('search:features', {\n              inputs: {\n                layer: _catalogLayers2.default.getLayerById(field.options.layer_id),\n                search_endpoint: this.getSearchEndPoint(),\n                filter: filter,\n                ordering: field.options.key\n              },\n              outputs: false\n            });\n\n          case 3:\n            _ref6 = _context3.sent;\n            _ref6$data = _ref6.data;\n            data = _ref6$data === undefined ? [] : _ref6$data;\n            values = [];\n\n            (data && data[0] && data[0].features || []).forEach(function (feature) {\n              values.push({ key: feature.get(field.options.key), value: feature.get(field.options.value) });\n            });\n            return _context3.abrupt('return', values);\n\n          case 11:\n            _context3.prev = 11;\n            _context3.t0 = _context3['catch'](0);\n            return _context3.abrupt('return', []);\n\n          case 14:\n          case 'end':\n            return _context3.stop();\n        }\n      }\n    }, _callee3, this, [[0, 11]]);\n  }));\n\n  return function (_x6, _x7) {\n    return _ref5.apply(this, arguments);\n  };\n}();\n\n/**\n * Return mapped values\n * \n * @param field\n * \n * @returns {Promise<*>}\n */\nproto.getValueMapValues = function () {\n  var _ref7 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee4(field) {\n    return regeneratorRuntime.wrap(function _callee4$(_context4) {\n      while (1) {\n        switch (_context4.prev = _context4.next) {\n          case 0:\n            return _context4.abrupt('return', field.options.values.filter(function (value) {\n              return _constant.SEARCH_ALLVALUE !== value;\n            }));\n\n          case 1:\n          case 'end':\n            return _context4.stop();\n        }\n      }\n    }, _callee4, this);\n  }));\n\n  return function (_x8) {\n    return _ref7.apply(this, arguments);\n  };\n}();\n\n/**\n * @param layers\n * @param options.field\n * @param options.suggest\n * @param options.unique\n * @param options.ordering\n * \n * @returns {Promise<*>}\n * \n * @since 3.8.0\n */\nproto.getLayersFilterData = function () {\n  var _ref8 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee5(layers) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    var field, suggest, unique, ordering, promisesData, data;\n    return regeneratorRuntime.wrap(function _callee5$(_context5) {\n      while (1) {\n        switch (_context5.prev = _context5.next) {\n          case 0:\n            field = options.field, suggest = options.suggest, unique = options.unique, ordering = options.ordering;\n            // get unique value from each layers\n\n            _context5.next = 3;\n            return Promise.allSettled(layers.map(function (layer) {\n              return layer.getFilterData({ field: field, suggest: suggest, unique: unique, ordering: ordering });\n            }));\n\n          case 3:\n            promisesData = _context5.sent;\n            data = Array.from(promisesData.filter(function (_ref9) {\n              var status = _ref9.status;\n              return 'fulfilled' === status;\n            }).reduce(function (accumulator, _ref10) {\n              var _ref10$value = _ref10.value,\n                  value = _ref10$value === undefined ? [] : _ref10$value;\n              return new Set([].concat(_toConsumableArray(accumulator), _toConsumableArray(value)));\n            }, []));\n            //check if is not empty array\n\n            _context5.t0 = data.length && _typeof(data[0]);\n            _context5.next = _context5.t0 === 'string' ? 8 : _context5.t0 === 'number' ? 9 : 10;\n            break;\n\n          case 8:\n            return _context5.abrupt('return', sortAlphabeticallyArray(data));\n\n          case 9:\n            return _context5.abrupt('return', sortNumericArray(data));\n\n          case 10:\n            return _context5.abrupt('return', data);\n\n          case 11:\n          case 'end':\n            return _context5.stop();\n        }\n      }\n    }, _callee5, this);\n  }));\n\n  return function (_x10) {\n    return _ref8.apply(this, arguments);\n  };\n}();\n\n/**\n * Get unique values from field\n * \n * @param options.field\n * @param options.value\n * @param options.unique \n * \n * @returns {Promise<[]>}\n */\nproto.getUniqueValuesFromField = function () {\n  var _ref12 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee6(_ref11) {\n    var field = _ref11.field,\n        value = _ref11.value,\n        output = _ref11.output;\n    var data;\n    return regeneratorRuntime.wrap(function _callee6$(_context6) {\n      while (1) {\n        switch (_context6.prev = _context6.next) {\n          case 0:\n            data = [];\n            _context6.prev = 1;\n            _context6.next = 4;\n            return this.getLayersFilterData(1 === this.searchLayers.length ? [this.searchLayer] : this.searchLayers, {\n              field: this.getAutoFieldDependeciesParamField(field),\n              suggest: value !== undefined ? field + '|' + value : undefined,\n              unique: field,\n              ordering: field\n            });\n\n          case 4:\n            data = _context6.sent;\n\n\n            if ('autocomplete' === output) {\n              data = data.map(function (value) {\n                return { id: value, text: value };\n              });\n            }\n            _context6.next = 11;\n            break;\n\n          case 8:\n            _context6.prev = 8;\n            _context6.t0 = _context6['catch'](1);\n            console.warn(_context6.t0);\n\n          case 11:\n            return _context6.abrupt('return', data);\n\n          case 12:\n          case 'end':\n            return _context6.stop();\n        }\n      }\n    }, _callee6, this, [[1, 8]]);\n  }));\n\n  return function (_x11) {\n    return _ref12.apply(this, arguments);\n  };\n}();\n\n/**\n * Perform search\n * \n * @param filter\n * @param search_endpoint\n * @param queryUrl\n * @param feature_count\n * @param show\n * \n * @returns {Promise<void|unknown>}\n */\nproto.doSearch = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee7() {\n  var _ref14 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      filter = _ref14.filter,\n      _ref14$search_endpoin = _ref14.search_endpoint,\n      search_endpoint = _ref14$search_endpoin === undefined ? this.getSearchEndPoint() : _ref14$search_endpoin,\n      _ref14$queryUrl = _ref14.queryUrl,\n      queryUrl = _ref14$queryUrl === undefined ? this.url : _ref14$queryUrl,\n      _ref14$feature_count = _ref14.feature_count,\n      feature_count = _ref14$feature_count === undefined ? 10000 : _ref14$feature_count,\n      _ref14$show = _ref14.show,\n      show = _ref14$show === undefined ? this.show : _ref14$show;\n\n  var data, parsed;\n  return regeneratorRuntime.wrap(function _callee7$(_context7) {\n    while (1) {\n      switch (_context7.prev = _context7.next) {\n        case 0:\n\n          filter = filter || this.createFilter();\n\n          this.state.searching = true;\n\n          data = void 0;\n          _context7.prev = 3;\n          _context7.next = 6;\n          return _data3.default.getData('search:features', {\n            inputs: {\n              layer: this.searchLayers,\n              search_endpoint: search_endpoint,\n              filter: filter,\n              queryUrl: queryUrl,\n              formatter: 1,\n              feature_count: feature_count,\n              raw: 'search' === this.return // in order to get raw response\n            },\n            outputs: show && { title: this.state.title }\n          });\n\n        case 6:\n          data = _context7.sent;\n\n          if (show) {\n            _context7.next = 19;\n            break;\n          }\n\n          if (!('search_1n' === this.type)) {\n            _context7.next = 14;\n            break;\n          }\n\n          _context7.next = 11;\n          return parse_search_1n(data, {\n            search_endpoint: search_endpoint,\n            feature_count: feature_count,\n            relation_id: this.config.options.search_1n_relationid,\n            output_title: this.state.title\n          });\n\n        case 11:\n          _context7.t0 = _context7.sent;\n          _context7.next = 15;\n          break;\n\n        case 14:\n          _context7.t0 = parse_search_by_returnType(data, this.return);\n\n        case 15:\n          parsed = _context7.t0;\n\n          data = parsed ? parsed : data;\n          _context7.next = 20;\n          break;\n\n        case 19:\n          if (this.project.state.autozoom_query && data && 1 === data.data.length) {\n            this.mapService.zoomToFeatures(data.data[0].features); // autozoom_query\n          }\n\n        case 20:\n          _context7.next = 25;\n          break;\n\n        case 22:\n          _context7.prev = 22;\n          _context7.t1 = _context7['catch'](3);\n\n          console.warn(_context7.t1);\n\n        case 25:\n\n          this.state.searching = false;\n\n          return _context7.abrupt('return', data);\n\n        case 27:\n        case 'end':\n          return _context7.stop();\n      }\n    }\n  }, _callee7, this, [[3, 22]]);\n}));\n\nproto.filterValidFormInputs = function () {\n  return this.state.forminputs.filter(function (input) {\n    return -1 === NONVALIDVALUES.indexOf(input.value) && '' !== input.value.toString().trim();\n  });\n};\n\n/**\n *\n * @returns {string|*|string}\n */\nproto.getSearchEndPoint = function () {\n  return this.search_endpoint || this.searchLayer.getSearchEndPoint();\n};\n\n/*\n* type wms, vector (for vector api)\n* */\nproto.createFilter = function () {\n  var search_endpoint = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.getSearchEndPoint();\n\n  return createFilterFormInputs({ layer: this.searchLayers, inputs: this.filterValidFormInputs(), search_endpoint: search_endpoint });\n};\n\nproto._run = function () {\n  this.doSearch();\n};\n\n/**\n * Method called when input search change\n * @param id\n * @param value\n */\nproto.changeInput = function () {\n  var _ref15 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      id = _ref15.id,\n      value = _ref15.value;\n\n  this.state.forminputs.find(function (input) {\n    return id == input.id;\n  }).value = value;\n};\n\nproto.createQueryFilterFromConfig = function (_ref16) {\n  var filter = _ref16.filter;\n\n  var queryFilter = void 0;\n  for (var operator in filter) {\n    queryFilter = create_boolean_filter(operator, filter[operator]);\n  }\n  return queryFilter;\n};\n\nproto.getFilterInputFromField = function (field) {\n  return this.filter.find(function (input) {\n    return input.attribute === field;\n  });\n};\n\nproto._getExpressionOperatorFromInput = function (field) {\n  var dependanceCascadeField = this.getFilterInputFromField(field);\n  return dependanceCascadeField ? dependanceCascadeField.op : null;\n};\n\nproto._getCascadeDependanciesFilter = function (field) {\n  var dependencies = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n\n  var dependance = this.getFilterInputFromField(field).input.options.dependance;\n  if (dependance) {\n    dependencies.unshift(dependance);\n    this._getCascadeDependanciesFilter(dependance, dependencies);\n  }\n  return dependencies;\n};\n\n/**\n * Check if a field has a dependance\n * @param field\n * @returns {{}}\n */\nproto.getCurrentFieldDependance = function (field) {\n  var dependance = this.inputdependance[field];\n  return dependance ? _defineProperty({}, dependance, this.cachedependencies[dependance] && _constant.SEARCH_ALLVALUE !== this.cachedependencies[dependance]._currentValue ? this.cachedependencies[dependance]._currentValue // dependance as value\n  : undefined) : dependance;\n};\n\n/**\n * Check the current value of dependance\n */\nproto.getDependanceCurrentValue = function (field) {\n  return this.inputdependance[field] ? this.cachedependencies[this.inputdependance[field]]._currentValue : this.state.forminputs.find(function (forminput) {\n    return forminput.attribute === field;\n  }).value;\n};\n\n/**\n * @TODO slim down and refactor\n * \n * Fill all dependencies inputs based on value\n */\nproto.fillDependencyInputs = function () {\n  var _this3 = this;\n\n  var _ref18 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      field = _ref18.field,\n      _ref18$subscribers = _ref18.subscribers,\n      subscribers = _ref18$subscribers === undefined ? [] : _ref18$subscribers,\n      _ref18$value = _ref18.value,\n      value = _ref18$value === undefined ? _constant.SEARCH_ALLVALUE : _ref18$value;\n\n  var isRoot = this.inputdependance[field] === undefined;\n  //check id inpute father is valid to search on subscribers\n  var invalidValue = value === _constant.SEARCH_ALLVALUE || value === null || value === undefined || value.toString().trim() === '';\n  return new Promise(function (resolve, reject) {\n    //loop over dependencies fields inputs\n    subscribers.forEach(function (subscribe) {\n      // in case of autocomplete reset values to empty array\n      if (subscribe.type === 'autocompletefield') subscribe.options.values.splice(0);else {\n        //set starting all values\n        if (subscribe.options._allvalues === undefined) subscribe.options._allvalues = [].concat(_toConsumableArray(subscribe.options.values));\n        //case of father is set an empty invalid value (all value example)\n        if (invalidValue) {\n          //subscribe has to set all valaues\n          subscribe.options.values.splice(0);\n          setTimeout(function () {\n            return subscribe.options.values = [].concat(_toConsumableArray(subscribe.options._allvalues));\n          });\n        } else subscribe.options.values.splice(1); //otherwise has to get first __ALL_VALUE\n      }\n      subscribe.value = subscribe.type !== 'selectfield' ? _constant.SEARCH_ALLVALUE : null;\n    });\n    // check i cache field values are set\n    _this3.cachedependencies[field] = _this3.cachedependencies[field] || {};\n    _this3.cachedependencies[field]._currentValue = value;\n    var notAutocompleteSubscribers = subscribers.filter(function (subscribe) {\n      return subscribe.type !== 'autocompletefield';\n    });\n    if (value && value !== _constant.SEARCH_ALLVALUE) {\n      var isCached = void 0;\n      var rootValues = void 0;\n      if (isRoot) {\n        var cachedValue = _this3.cachedependencies[field] && _this3.cachedependencies[field][value];\n        isCached = cachedValue !== undefined;\n        rootValues = isCached && cachedValue;\n      } else {\n        var dependenceCurrentValue = _this3.getDependanceCurrentValue(field);\n        var _cachedValue = _this3.cachedependencies[field] && _this3.cachedependencies[field][dependenceCurrentValue] && _this3.cachedependencies[field][dependenceCurrentValue][value];\n        isCached = _cachedValue !== undefined;\n        rootValues = isCached && _cachedValue;\n      }\n      if (isCached) {\n        for (var i = 0; i < subscribers.length; i++) {\n          var subscribe = subscribers[i];\n          var values = rootValues[subscribe.attribute];\n          if (values && values.length) {\n            for (var _i = 0; _i < values.length; _i++) {\n              subscribe.options.values.push(values[_i]);\n            }\n          }\n          // set disabled false to dependence field\n          subscribe.options.disabled = false;\n          resolve();\n        }\n      } else {\n        _this3.state.loading[field] = true;\n        if (isRoot) _this3.cachedependencies[field][value] = _this3.cachedependencies[field][value] || {};else {\n          var dependenceValue = _this3.getDependanceCurrentValue(field);\n          _this3.cachedependencies[field][dependenceValue] = _this3.cachedependencies[field][dependenceValue] || {};\n          _this3.cachedependencies[field][dependenceValue][value] = _this3.cachedependencies[field][dependenceValue][value] || {};\n        }\n        // exclude autocomplete subscribers\n        if (notAutocompleteSubscribers.length) {\n          var fieldParams = _this3.createFieldsDependenciesAutocompleteParameter({\n            field: field,\n            value: value\n          });\n          //need to set undefined because if we has a subscribe input with valuerelations widget i need to extract the value of the field to get\n          // filter data from relation layer\n          _this3.searchLayer.getFilterData({\n            field: fieldParams\n          }).then(function () {\n            var _ref19 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee8(data) {\n              var parentData, _loop2, _i2;\n\n              return regeneratorRuntime.wrap(function _callee8$(_context9) {\n                while (1) {\n                  switch (_context9.prev = _context9.next) {\n                    case 0:\n                      parentData = data.data[0].features || [];\n                      _loop2 = /*#__PURE__*/regeneratorRuntime.mark(function _loop2(_i2) {\n                        var subscribe, attribute, widget, uniqueValues, _values, _data, filter, _values2, _dependenceValue;\n\n                        return regeneratorRuntime.wrap(function _loop2$(_context8) {\n                          while (1) {\n                            switch (_context8.prev = _context8.next) {\n                              case 0:\n                                subscribe = notAutocompleteSubscribers[_i2];\n                                attribute = subscribe.attribute, widget = subscribe.widget;\n                                uniqueValues = new Set();\n                                // case value map\n\n                                if (!(widget === 'valuemap')) {\n                                  _context8.next = 11;\n                                  break;\n                                }\n\n                                _values = [].concat(_toConsumableArray(subscribe.options._values));\n\n                                parentData.forEach(function (feature) {\n                                  var value = feature.get(attribute);\n                                  value && uniqueValues.add(value);\n                                });\n                                _data = [].concat(_toConsumableArray(uniqueValues));\n\n                                _values = _values.filter(function (_ref20) {\n                                  var key = _ref20.key;\n                                  return _data.indexOf(key) !== -1;\n                                });\n                                _values.forEach(function (value) {\n                                  return subscribe.options.values.push(value);\n                                });\n                                _context8.next = 29;\n                                break;\n\n                              case 11:\n                                if (!(widget === 'valuerelation')) {\n                                  _context8.next = 27;\n                                  break;\n                                }\n\n                                parentData.forEach(function (feature) {\n                                  var value = feature.get(attribute);\n                                  value && uniqueValues.add(value);\n                                });\n\n                                if (!(uniqueValues.size > 0)) {\n                                  _context8.next = 25;\n                                  break;\n                                }\n\n                                filter = createSingleFieldParameter({\n                                  field: subscribe.options.key,\n                                  value: [].concat(_toConsumableArray(uniqueValues))\n                                });\n                                _context8.prev = 15;\n                                _context8.next = 18;\n                                return _this3.getValueRelationValues(subscribe, filter);\n\n                              case 18:\n                                _values2 = _context8.sent;\n\n                                _values2.forEach(function (value) {\n                                  return subscribe.options.values.push(value);\n                                });\n                                _context8.next = 25;\n                                break;\n\n                              case 22:\n                                _context8.prev = 22;\n                                _context8.t0 = _context8['catch'](15);\n                                console.log(_context8.t0);\n\n                              case 25:\n                                _context8.next = 29;\n                                break;\n\n                              case 27:\n                                parentData.forEach(function (feature) {\n                                  var value = feature.get(attribute);\n                                  value && uniqueValues.add(value);\n                                });\n                                _this3.valuesToKeysValues([].concat(_toConsumableArray(uniqueValues)).sort()).forEach(function (value) {\n                                  return subscribe.options.values.push(value);\n                                });\n\n                              case 29:\n                                if (isRoot) _this3.cachedependencies[field][value][subscribe.attribute] = subscribe.options.values.slice(1);else {\n                                  _dependenceValue = _this3.getDependanceCurrentValue(field);\n\n                                  _this3.cachedependencies[field][_dependenceValue][value][subscribe.attribute] = subscribe.options.values.slice(1);\n                                }\n                                subscribe.options.disabled = false;\n\n                              case 31:\n                              case 'end':\n                                return _context8.stop();\n                            }\n                          }\n                        }, _loop2, _this3, [[15, 22]]);\n                      });\n                      _i2 = 0;\n\n                    case 3:\n                      if (!(_i2 < notAutocompleteSubscribers.length)) {\n                        _context9.next = 8;\n                        break;\n                      }\n\n                      return _context9.delegateYield(_loop2(_i2), 't0', 5);\n\n                    case 5:\n                      _i2++;\n                      _context9.next = 3;\n                      break;\n\n                    case 8:\n                    case 'end':\n                      return _context9.stop();\n                  }\n                }\n              }, _callee8, _this3);\n            }));\n\n            return function (_x17) {\n              return _ref19.apply(this, arguments);\n            };\n          }()).catch(function (error) {\n            return reject(error);\n          }).finally(function () {\n            _this3.state.loading[field] = false;\n            resolve();\n          });\n        } else {\n          //set disable\n          subscribers.forEach(function (subscribe) {\n            if (subscribe.options.dependance_strict) subscribe.options.disabled = false;\n          });\n          _this3.state.loading[field] = false;\n          resolve();\n        }\n      }\n    } else {\n      subscribers.forEach(function (subscribe) {\n        return subscribe.options.disabled = subscribe.options.dependance_strict;\n      });\n      resolve();\n    }\n  });\n};\n\nproto.getDependencies = function (field) {\n  return this.inputdependencies[field] || [];\n};\n\nproto.setInputDependencies = function () {\n  var _ref21 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      master = _ref21.master,\n      slave = _ref21.slave;\n\n  this.inputdependencies[master] = undefined !== this.inputdependencies[master] ? this.inputdependencies[master] : [];\n  this.inputdependencies[master].push(slave);\n};\n\n//set key value for select\nproto.valuesToKeysValues = function (values) {\n  return values.length ? 'Object' !== toRawType(values[0]) ? values.map(function (value) {\n    return { key: value, value: value };\n  }) : values : values;\n};\n\nproto.createQueryFilterObject = function () {\n  var _ref22 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      _ref22$ogcService = _ref22.ogcService,\n      ogcService = _ref22$ogcService === undefined ? 'wms' : _ref22$ogcService,\n      _ref22$filter = _ref22.filter,\n      filter = _ref22$filter === undefined ? {} : _ref22$filter;\n\n  return Object.assign(this.getInfoFromLayer(ogcService), { ogcService: ogcService, filter: filter });\n};\n\nproto.getInfoFromLayer = function (ogcService) {\n  return {\n    url: 'wfs' === ogcService ? this.searchLayer.getProject().getWmsUrl() : this.searchLayer.getQueryUrl(),\n    layers: [],\n    infoFormat: this.searchLayer.getInfoFormat(ogcService),\n    crs: this.searchLayer.getCrs(),\n    serverType: this.searchLayer.getServerType()\n  };\n};\n\nproto.setSearchLayer = function (layer) {\n  this.searchLayer = layer;\n};\n\nproto.getSearchLayer = function () {\n  return this.searchLayer;\n};\n\nproto.clear = function () {\n  this.state = null;\n};\n\n/**\n * @private \n */\nfunction create_boolean_filter(operator) {\n  var inputs = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n\n  var boolean = _defineProperty({}, operator, []);\n  inputs.forEach(function (input) {\n    for (var _operator in input) {\n      if (Array.isArray(input[_operator])) {\n        create_boolean_filter(_operator, input[_operator]); // recursion step.\n        break;\n      }\n    }\n    boolean[operator].push(_defineProperty({}, input.op, _defineProperty({}, input.attribute, null)));\n  });\n  return boolean;\n}function parse_search_by_returnType(data, returnType) {\n  if ('search' === returnType) {\n    _gui2.default.closeContent();\n    // in case of api get first response on array\n    data = data.data[0].data;\n    if (isEmptyObject(data)) {\n      _data3.default.showCustomOutputDataPromise(Promise.resolve({}));\n    } else {\n      var SearchPanel = require('gui/search/vue/panel/searchpanel');\n      new SearchPanel(data).show();\n    }\n  }\n  return data;\n}\n\nmodule.exports = SearchService;\n\n},{\"app/constant\":4,\"core/g3wobject\":12,\"core/utils/utils\":68,\"gui/search/vue/panel/searchpanel\":177,\"services/data\":358,\"services/gui\":361,\"store/catalog-layers\":374,\"store/projects\":379}],179:[function(require,module,exports){\nvar _Search = require('components/Search.vue');\n\nvar vueComponentOptions = _interopRequireWildcard(_Search);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nvar _require = require('core/utils/utils'),\n    inherit = _require.inherit,\n    base = _require.base;\n\nvar Component = require('gui/component/component');\nvar Service = require('gui/search/service');\n\nvar InternalComponent = Vue.extend(vueComponentOptions);\n\nfunction SearchComponent() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  base(this, options);\n  this.id = \"search\";\n  this._service = options.service || new Service();\n  this._service.init();\n  this.title = this._service.getTitle();\n  this.internalComponent = new InternalComponent({\n    service: this._service\n  });\n  this.internalComponent.state = this._service.state;\n  this.state.visible = true;\n  this._reload = function () {\n    this._service.reload();\n  };\n  this.unmount = function () {\n    this._searches_searchtools.$destroy();\n    return base(this, 'unmount');\n  };\n}\n\ninherit(SearchComponent, Component);\n\nmodule.exports = SearchComponent;\n\n},{\"components/Search.vue\":289,\"core/utils/utils\":68,\"gui/component/component\":117,\"gui/search/service\":176}],180:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n/**\n * NB: node.js modules are singletons by default.\n * \n * @see https://medium.com/@lazlojuly/are-node-js-modules-singletons-764ae97519af\n */\nexports.default = new Vue();\n\n},{}],181:[function(require,module,exports){\nvar _SpatialBookMarks = require('components/SpatialBookMarks.vue');\n\nvar vueComponentOptions = _interopRequireWildcard(_SpatialBookMarks);\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\n/**\n * @file\n * @since v3.8\n */\n\nvar _require = require('core/utils/utils'),\n    inherit = _require.inherit,\n    base = _require.base;\n\nvar Component = require('gui/component/component');\n\nvar InternalComponent = Vue.extend(vueComponentOptions);\n\nvar SpatialBookMarksComponent = function SpatialBookMarksComponent() {\n  var _this = this;\n\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  base(this, options);\n  this.title = \"sdk.spatialbookmarks.title\";\n  this.setInternalComponent = function () {\n    this.internalComponent = new InternalComponent();\n    return this.internalComponent;\n  };\n\n  _gui2.default.on('closecontent', function () {\n    _this.state.open = false;\n  });\n};\n\ninherit(SpatialBookMarksComponent, Component);\n\nmodule.exports = SpatialBookMarksComponent;\n\n},{\"components/SpatialBookMarks.vue\":299,\"core/utils/utils\":68,\"gui/component/component\":117,\"services/gui\":361}],182:[function(require,module,exports){\nvar _StreetView = require('components/StreetView.vue');\n\nvar vueComponentOptions = _interopRequireWildcard(_StreetView);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit;\n\nvar Component = require('gui/component/component');\n\nvar InternalComponent = Vue.extend(vueComponentOptions);\n\nvar StreetViewComponent = function StreetViewComponent() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  base(this);\n  var keyError = options.keyError;\n\n  var internalComponent = new InternalComponent({\n    keyError: keyError\n  });\n  this.setInternalComponent(internalComponent);\n  this.unmount = function () {\n    return base(this, 'unmount');\n  };\n};\n\ninherit(StreetViewComponent, Component);\n\nmodule.exports = StreetViewComponent;\n\n},{\"components/StreetView.vue\":300,\"core/utils/utils\":68,\"gui/component/component\":117}],183:[function(require,module,exports){\nvar _catalogLayers = require('store/catalog-layers');\n\nvar _catalogLayers2 = _interopRequireDefault(_catalogLayers);\n\nvar _data = require('services/data');\n\nvar _data2 = _interopRequireDefault(_data);\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar _require = require('core/utils/utils'),\n    inherit = _require.inherit,\n    noop = _require.noop;\n\nvar G3WObject = require('core/g3wobject');\n\nvar _require2 = require('core/i18n/i18n.service'),\n    t = _require2.t;\n\nvar _require3 = require('core/utils/geo'),\n    coordinatesToGeometry = _require3.coordinatesToGeometry;\n\nvar _require4 = require('core/layers/layer'),\n    SELECTION_STATE = _require4.SELECTION_STATE;\n\nvar PAGELENGTHS = [10, 25, 50];\n\nvar TableService = function TableService() {\n  var _this = this;\n\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  this.currentPage = 0; // number of pages\n  this.layer = options.layer;\n  this.formatter = options.formatter;\n  var headers = this.getHeaders();\n  this.allfeaturesnumber;\n  this.nopaginationsfilter = [];\n  this.selectedfeaturesfid = this.layer.getSelectionFids();\n  this.geolayer = this.layer.isGeoLayer();\n  this.relationsGeometry = [];\n  !this.geolayer && this.layer.getRelations().getArray().forEach(function (relation) {\n    var relationLayer = _catalogLayers2.default.getLayerById(relation.getChild());\n    if (relationLayer.isGeoLayer()) {\n      _this.relationsGeometry.push({\n        layer: relationLayer,\n        child_field: relation.getChildField(),\n        field: relation.getFatherField(),\n        features: {}\n      });\n    }\n  });\n  this.projection = this.geolayer ? this.layer.getProjection() : null;\n  this.mapService = _gui2.default.getService('map');\n  this.getAll = false;\n  this.paginationfilter = false;\n  this.mapBBoxEventHandlerKey = {\n    key: null,\n    cb: null\n  };\n  this.clearAllSelection = function () {\n    _this.state.features.forEach(function (feature) {\n      return feature.selected = false;\n    });\n    _this.state.tools.show = false;\n    _this.state.selectAll = false;\n  };\n  this.state = {\n    pageLengths: PAGELENGTHS,\n    pageLength: this.layer.getAttributeTablePageLength() || PAGELENGTHS[0],\n    features: [],\n    title: this.layer.getTitle(),\n    headers: headers,\n    geometry: true,\n    loading: false,\n    allfeatures: 0,\n    pagination: !this.getAll,\n    selectAll: false,\n    nofilteredrow: false,\n    tools: {\n      geolayer: {\n        show: this.geolayer,\n        active: false,\n        in_bbox: void 0\n      },\n      show: false,\n      filter: this.layer.state.filter\n    }\n  };\n  // pagination filter features\n  this._async = {\n    state: false,\n    fnc: noop\n  };\n  _gui2.default.onbefore('setContent', function (options) {\n    _this._async.state = options.perc === 100;\n  });\n  this.layer.on('unselectionall', this.clearAllSelection);\n  this.filterChangeHandler = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n    var _ref2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        type = _ref2.type;\n\n    var data, emitRedraw;\n    return regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _this.allfeaturesnumber = undefined;\n            data = [];\n            // emit redraw if in_bbox filter or not select all\n\n            emitRedraw = type === 'in_bbox' || !_this.selectedfeaturesfid.has(SELECTION_STATE.ALL);\n\n            if (_this.state.pagination) {\n              _context.next = 12;\n              break;\n            }\n\n            if (!emitRedraw) {\n              _context.next = 10;\n              break;\n            }\n\n            _context.next = 7;\n            return _this.reloadData();\n\n          case 7:\n            _context.t0 = _context.sent;\n            _context.next = 11;\n            break;\n\n          case 10:\n            _context.t0 = [];\n\n          case 11:\n            data = _context.t0;\n\n          case 12:\n            emitRedraw && _this.emit('redraw', data);\n\n          case 13:\n          case 'end':\n            return _context.stop();\n        }\n      }\n    }, _callee, _this);\n  }));\n  this.layer.on('filtertokenchange', this.filterChangeHandler);\n};\n\ninherit(TableService, G3WObject);\n\nvar proto = TableService.prototype;\n\nproto.toggleFilterToken = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2() {\n  return regeneratorRuntime.wrap(function _callee2$(_context2) {\n    while (1) {\n      switch (_context2.prev = _context2.next) {\n        case 0:\n          _context2.next = 2;\n          return this.layer.toggleFilterToken();\n\n        case 2:\n        case 'end':\n          return _context2.stop();\n      }\n    }\n  }, _callee2, this);\n}));\n\nproto.getHeaders = function () {\n  //add null as firs vale of header because need to add a custom input selector fro datatable purpose\n  return [null].concat(_toConsumableArray(this.layer.getTableHeaders()));\n};\n\n// function need to work with pagination\nproto.setDataForDataTable = function () {\n  var _this2 = this;\n\n  var data = [];\n  this.state.features.forEach(function (feature) {\n    var attributes = feature.attributes ? feature.attributes : feature.properties;\n    var values = [null];\n    _this2.state.headers.forEach(function (header) {\n      if (header) {\n        var value = attributes[header.name];\n        header.value = value;\n        //header.label = undefined; // removed label\n        values.push(value);\n      }\n    });\n    data.push(values);\n  });\n  return data;\n};\n\nproto.addRemoveSelectedFeature = function (feature) {\n  feature.selected = !feature.selected;\n  if (this.state.selectAll) {\n    this.state.selectAll = false;\n    this.layer.excludeSelectionFid(feature.id, this.state.pagination);\n  } else if (this.selectedfeaturesfid.has(SELECTION_STATE.EXCLUDE)) {\n    this.layer[feature.selected ? 'includeSelectionFid' : 'excludeSelectionFid'](feature.id);\n    var size = this.selectedfeaturesfid.size;\n    if (size === 1) {\n      !this.state.tools.filter.active && this.layer.setSelectionFidsAll();\n      this.state.selectAll = true;\n    } else if (size - 1 === this.state.features.length) this.layer.clearSelectionFids();\n  } else {\n    this.layer[feature.selected ? 'includeSelectionFid' : 'excludeSelectionFid'](feature.id);\n    var _size = this.selectedfeaturesfid.size;\n    if (_size === this.allfeaturesnumber) {\n      this.state.selectAll = true;\n      !this.state.tools.filter.active && this.layer.setSelectionFidsAll();\n    }\n  }\n  this.state.tools.show = this.selectedfeaturesfid.size > 0;\n  if (!this.state.pagination) {\n    if (this.nopaginationsfilter.length) {\n      this.state.selectAll = this.state.features.filter(function (feature) {\n        return feature.selected;\n      }).length === this.nopaginationsfilter.length;\n    }\n  }\n};\n\nproto.createFeatureForSelection = function (feature) {\n  return {\n    attributes: feature.attributes ? feature.attributes : feature.properties,\n    geometry: this._returnGeometry(feature)\n  };\n};\n\nproto.getAllFeatures = function (params) {\n  var _this3 = this;\n\n  _gui2.default.setLoadingContent(true);\n  return new Promise(function (resolve, reject) {\n    _this3.layer.getDataTable(params || {}).then(function (data) {\n      var features = data.features;\n\n      if (_this3.geolayer && features) {\n        if (!params) {\n          var LoadedFeaturesId = _this3.state.features.map(function (feature) {\n            return feature.id;\n          });\n          features.forEach(function (feature) {\n            if (LoadedFeaturesId.indexOf(feature.id) === -1) {\n              feature.geometry && _this3.layer.addOlSelectionFeature({\n                id: feature.id,\n                feature: _this3.createFeatureForSelection(feature)\n              });\n            }\n          });\n          _this3.getAll = true;\n        }\n        resolve(features);\n      }\n    }).fail(function () {\n      return reject();\n    }).always(function () {\n      return _gui2.default.setLoadingContent(false);\n    });\n  });\n};\n\nproto.switchSelection = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee3() {\n  var _this4 = this;\n\n  var selected, filterFeatures, _selected;\n\n  return regeneratorRuntime.wrap(function _callee3$(_context3) {\n    while (1) {\n      switch (_context3.prev = _context3.next) {\n        case 0:\n          if (this.state.pagination) {\n            _context3.next = 4;\n            break;\n          }\n\n          // no pagination\n          if (this.nopaginationsfilter.length) {\n            //filtered\n            selected = false;\n            filterFeatures = [];\n\n            this.state.features.forEach(function (feature, index) {\n              if (_this4.nopaginationsfilter.indexOf(index) !== -1) filterFeatures.push(feature);\n              feature.selected = !feature.selected;\n              _this4.layer[feature.selected ? 'includeSelectionFid' : 'excludeSelectionFid'](feature.id);\n              selected = selected || feature.selected;\n            });\n            this.state.tools.show = selected;\n            this.checkSelectAll(filterFeatures);\n          } else {\n            // no filter\n            this.state.features.forEach(function (feature) {\n              feature.selected = !feature.selected;\n            });\n            this.layer.invertSelectionFids();\n            this.checkSelectAll();\n            this.state.tools.show = this.selectedfeaturesfid.size > 0;\n          }\n          _context3.next = 13;\n          break;\n\n        case 4:\n          // pagination\n          _selected = false;\n\n          this.state.features.forEach(function (feature) {\n            feature.selected = !feature.selected;\n            _selected = feature.selected;\n          });\n          _context3.t0 = !this.getAll;\n\n          if (!_context3.t0) {\n            _context3.next = 10;\n            break;\n          }\n\n          _context3.next = 10;\n          return this.getAllFeatures();\n\n        case 10:\n          this.state.selectAll = this.paginationfilter ? _selected : this.state.selectAll;\n          this.layer.invertSelectionFids();\n          this.state.tools.show = this.selectedfeaturesfid.size > 0;\n\n        case 13:\n        case 'end':\n          return _context3.stop();\n      }\n    }\n  }, _callee3, this);\n}));\n\nproto.clearLayerSelection = function () {\n  this.layer.clearSelectionFids();\n};\n\n/**\n * Called when alla selected feature is checked\n * @returns {Promise<void>}\n */\nproto.selectAllFeatures = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee4() {\n  var _this5 = this;\n\n  var selected, _paginationParams, search, ordering, formatter, in_bbox, features;\n\n  return regeneratorRuntime.wrap(function _callee4$(_context4) {\n    while (1) {\n      switch (_context4.prev = _context4.next) {\n        case 0:\n          // set inverse of selectAll\n          this.state.selectAll = !this.state.selectAll;\n\n          if (this.state.pagination) {\n            _context4.next = 5;\n            break;\n          }\n\n          //no pagination no filter\n          if (this.nopaginationsfilter.length) {\n            //check if filter is set (no pagination)\n            selected = false;\n\n            this.state.features.forEach(function (feature, index) {\n              if (_this5.nopaginationsfilter.indexOf(index) !== -1) {\n                feature.selected = _this5.state.selectAll;\n                _this5.layer[feature.selected ? 'includeSelectionFid' : 'excludeSelectionFid'](feature.id);\n                selected = selected || feature.selected;\n              }\n            });\n            this.state.tools.show = selected;\n          } else {\n            this.state.tools.show = this.state.selectAll;\n            this.layer[this.state.selectAll ? 'setSelectionFidsAll' : 'clearSelectionFids']();\n            this.state.features.forEach(function (feature) {\n              return feature.selected = _this5.state.selectAll;\n            });\n          }\n          _context4.next = 25;\n          break;\n\n        case 5:\n          if (!this.paginationfilter) {\n            _context4.next = 18;\n            break;\n          }\n\n          if (!(this.state.featurescount >= this.state.allfeatures)) {\n            _context4.next = 10;\n            break;\n          }\n\n          this.state.features.forEach(function (feature) {\n            feature.selected = _this5.state.selectAll;\n            _this5.layer[feature.selected ? 'includeSelectionFid' : 'excludeSelectionFid'](feature.id);\n          });\n          _context4.next = 15;\n          break;\n\n        case 10:\n          _paginationParams = this.paginationParams, search = _paginationParams.search, ordering = _paginationParams.ordering, formatter = _paginationParams.formatter, in_bbox = _paginationParams.in_bbox;\n          _context4.next = 13;\n          return this.getAllFeatures({\n            search: search,\n            ordering: ordering,\n            formatter: formatter,\n            in_bbox: in_bbox\n          });\n\n        case 13:\n          features = _context4.sent;\n\n          features.forEach(function (feature) {\n            !_this5.getAll && _this5.geolayer && feature.geometry && _this5.layer.addOlSelectionFeature({\n              id: feature.id,\n              feature: _this5.createFeatureForSelection(feature)\n            });\n            _this5.layer[_this5.state.selectAll ? 'includeSelectionFid' : 'excludeSelectionFid'](feature.id);\n          });\n\n        case 15:\n          this.state.features.forEach(function (feature) {\n            return feature.selected = _this5.state.selectAll;\n          });\n          _context4.next = 24;\n          break;\n\n        case 18:\n          this.state.features.forEach(function (feature) {\n            return feature.selected = _this5.state.selectAll;\n          });\n          _context4.t0 = !this.getAll;\n\n          if (!_context4.t0) {\n            _context4.next = 23;\n            break;\n          }\n\n          _context4.next = 23;\n          return this.getAllFeatures();\n\n        case 23:\n          this.layer[this.state.selectAll ? 'setSelectionFidsAll' : 'clearSelectionFids']();\n\n        case 24:\n          this.state.tools.show = this.state.selectAll || this.selectedfeaturesfid.size > 0;\n\n        case 25:\n        case 'end':\n          return _context4.stop();\n      }\n    }\n  }, _callee4, this);\n}));\n\n/**\n * Method to set filtered features\n * @param featuresIndex\n */\nproto.setFilteredFeature = function (featuresIndex) {\n  var _this6 = this;\n\n  this.nopaginationsfilter = featuresIndex;\n  this.checkSelectAll(featuresIndex.length === this.allfeaturesnumber || featuresIndex.length === 0 ? undefined : this.nopaginationsfilter.map(function (index) {\n    return _this6.state.features[index];\n  }));\n};\n\nproto.setAttributeTablePageLength = function (length) {\n  this.layer.setAttributeTablePageLength(length);\n};\n\n/**\n * Main method to get data table layer\n * @param start\n * @param order\n * @param length\n * @param columns\n * @param search\n * @param firstCall\n * @returns {Promise<unknown>}\n */\nproto.getData = function () {\n  var _this7 = this;\n\n  var _ref6 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      _ref6$start = _ref6.start,\n      start = _ref6$start === undefined ? 0 : _ref6$start,\n      _ref6$order = _ref6.order,\n      order = _ref6$order === undefined ? [] : _ref6$order,\n      _ref6$length = _ref6.length,\n      length = _ref6$length === undefined ? this.state.pageLength : _ref6$length,\n      _ref6$columns = _ref6.columns,\n      columns = _ref6$columns === undefined ? [] : _ref6$columns,\n      _ref6$search = _ref6.search,\n      search = _ref6$search === undefined ? { value: null } : _ref6$search,\n      _ref6$firstCall = _ref6.firstCall,\n      firstCall = _ref6$firstCall === undefined ? false : _ref6$firstCall;\n\n  // reset features before load\n  _gui2.default.setLoadingContent(true);\n  this.setAttributeTablePageLength(length);\n  return new Promise(function (resolve, reject) {\n    if (!_this7.state.headers.length) resolve({\n      data: [],\n      recordsTotal: 0,\n      recordsFiltered: 0\n    });else {\n      var searchText = search.value && search.value.length > 0 ? search.value : null;\n      _this7.state.features.splice(0);\n      if (!order.length) {\n        order.push({\n          column: 1,\n          dir: 'asc'\n        });\n      }\n      var ordering = order[0].dir === 'asc' ? _this7.state.headers[order[0].column].name : '-' + _this7.state.headers[order[0].column].name;\n      _this7.currentPage = start === 0 || _this7.state.pagination && _this7.state.tools.filter.active ? 1 : start / length + 1;\n      var in_bbox = _this7.state.tools.geolayer.in_bbox;\n      var field = _this7.state.pagination ? columns.filter(function (column) {\n        return column.search && column.search.value;\n      }).map(function (column) {\n        return column.name + '|ilike|' + column.search.value + '|and';\n      }).join(',') : undefined;\n      _this7.paginationParams = {\n        field: field || undefined,\n        page: _this7.currentPage,\n        page_size: length,\n        search: searchText,\n        in_bbox: in_bbox,\n        formatter: _this7.formatter,\n        ordering: ordering\n      };\n      var getDataPromise = _this7.state.pagination ? _this7.layer.getDataTable(_this7.paginationParams) : _this7.layer.getDataTable({\n        ordering: ordering,\n        in_bbox: in_bbox,\n        formatter: _this7.formatter\n      });\n      getDataPromise.then(function (data) {\n        var _data$features = data.features,\n            features = _data$features === undefined ? [] : _data$features;\n\n        _this7.state.allfeatures = data.count || _this7.state.features.length;\n        _this7.state.featurescount = features.length;\n        _this7.allfeaturesnumber = _this7.allfeaturesnumber === undefined ? data.count : _this7.allfeaturesnumber;\n        _this7.paginationfilter = data.count !== _this7.allfeaturesnumber;\n        _this7.state.pagination = firstCall ? _this7.state.tools.filter.active || features.length < _this7.allfeaturesnumber : _this7.state.pagination;\n        _this7.addFeatures(features);\n        resolve({\n          data: _this7.setDataForDataTable(),\n          recordsFiltered: data.count,\n          recordsTotal: data.count\n        });\n      }).fail(function (err) {\n        _gui2.default.notify.error(t(\"info.server_error\"));\n        reject(err);\n      }).always(function () {\n        _gui2.default.setLoadingContent(false);\n      });\n    }\n  });\n};\n\nproto.setInBBoxParam = function () {\n  this.state.tools.geolayer.in_bbox = this.state.tools.geolayer.active ? this.mapService.getMapBBOX().join(',') : void 0;\n};\n\nproto.resetMapBBoxEventHandlerKey = function () {\n  ol.Observable.unByKey(this.mapBBoxEventHandlerKey.key);\n  this.mapBBoxEventHandlerKey.key = null;\n  this.mapBBoxEventHandlerKey.cb = null;\n};\n\nproto.getDataFromBBOX = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee6() {\n  var _this8 = this;\n\n  return regeneratorRuntime.wrap(function _callee6$(_context6) {\n    while (1) {\n      switch (_context6.prev = _context6.next) {\n        case 0:\n          this.state.tools.geolayer.active = !this.state.tools.geolayer.active;\n          if (this.state.tools.geolayer.active) {\n            this.mapBBoxEventHandlerKey.cb = this.state.pagination ? function () {\n              _this8.setInBBoxParam();\n              _this8.emit('ajax-reload');\n            } : _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee5() {\n              return regeneratorRuntime.wrap(function _callee5$(_context5) {\n                while (1) {\n                  switch (_context5.prev = _context5.next) {\n                    case 0:\n                      _this8.setInBBoxParam();\n                      _this8.filterChangeHandler({\n                        type: 'in_bbox'\n                      });\n\n                    case 2:\n                    case 'end':\n                      return _context5.stop();\n                  }\n                }\n              }, _callee5, _this8);\n            }));\n            this.mapBBoxEventHandlerKey.key = this.mapService.getMap().on('moveend', this.mapBBoxEventHandlerKey.cb);\n            this.mapBBoxEventHandlerKey.cb();\n          } else {\n            this.mapBBoxEventHandlerKey.cb && this.mapBBoxEventHandlerKey.cb();\n            this.resetMapBBoxEventHandlerKey();\n          }\n\n        case 2:\n        case 'end':\n          return _context6.stop();\n      }\n    }\n  }, _callee6, this);\n}));\n\nproto.addFeature = function (feature) {\n  var tableFeature = {\n    id: feature.id,\n    selected: this.state.tools.filter.active || this.layer.hasSelectionFid(feature.id),\n    attributes: feature.attributes ? feature.attributes : feature.properties\n  };\n  if (this.geolayer && feature.geometry) {\n    this.layer.getOlSelectionFeature(tableFeature.id) || this.layer.addOlSelectionFeature({\n      id: tableFeature.id,\n      feature: this.createFeatureForSelection(feature)\n    });\n    tableFeature.geometry = feature.geometry;\n  }\n  this.state.features.push(tableFeature);\n};\n\nproto.checkSelectAll = function () {\n  var features = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.state.features;\n\n  this.state.selectAll = this.selectedfeaturesfid.has(SELECTION_STATE.ALL) || features.length && features.reduce(function (accumulator, feature) {\n    return accumulator && feature.selected;\n  }, true);\n};\n\nproto.addFeatures = function () {\n  var _this9 = this;\n\n  var features = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n  features.forEach(function (feature) {\n    return _this9.addFeature(feature);\n  });\n  this.state.tools.show = this.layer.getFilterActive() || this.selectedfeaturesfid.size > 0;\n  this.checkSelectAll();\n};\n\nproto.reloadData = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee7() {\n  var pagination = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n  var tabledata, _tabledata$data, data, reloadData;\n\n  return regeneratorRuntime.wrap(function _callee7$(_context7) {\n    while (1) {\n      switch (_context7.prev = _context7.next) {\n        case 0:\n          this.state.features.splice(0);\n          this.state.pagination = pagination;\n          _context7.next = 4;\n          return this.getData();\n\n        case 4:\n          tabledata = _context7.sent;\n          _tabledata$data = tabledata.data, data = _tabledata$data === undefined ? [] : _tabledata$data, reloadData = tabledata.reloadData;\n          return _context7.abrupt('return', data);\n\n        case 7:\n        case 'end':\n          return _context7.stop();\n      }\n    }\n  }, _callee7, this);\n}));\n\nproto._setLayout = function () {\n  //TODO\n};\n\nproto._returnGeometry = function (feature) {\n  var geometry = void 0;\n  if (feature.attributes) geometry = feature.geometry;else if (feature.geometry) geometry = coordinatesToGeometry(feature.geometry.type, feature.geometry.coordinates);\n  return geometry;\n};\n\nproto.zoomAndHighLightFeature = function (feature) {\n  var zoom = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n\n  var geometry = feature.geometry;\n  if (geometry) {\n    if (this._async.state) this._async.fnc = this.mapService.highlightGeometry.bind(mapService, geometry, { zoom: zoom });else this.mapService.highlightGeometry(geometry, { zoom: zoom });\n  }\n};\n\n/**\n * Zoom to eventually features relation\n */\nproto.zoomAndHighLightGeometryRelationFeatures = function () {\n  var _ref10 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee8(feature) {\n    var _this10 = this;\n\n    var zoom = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n    var features, promises, values, promisesData;\n    return regeneratorRuntime.wrap(function _callee8$(_context8) {\n      while (1) {\n        switch (_context8.prev = _context8.next) {\n          case 0:\n            if (!this.relationsGeometry.length) {\n              _context8.next = 10;\n              break;\n            }\n\n            features = [];\n            promises = [];\n            values = []; // usefult to check if add or not\n\n            this.relationsGeometry.forEach(function (_ref11) {\n              var layer = _ref11.layer,\n                  child_field = _ref11.child_field,\n                  field = _ref11.field,\n                  features = _ref11.features;\n\n              var value = feature.attributes[field];\n              values.push(value);\n              if (features[value] === undefined) {\n                var promise = void 0;\n                if (zoom) {\n                  promise = _data2.default.getData('search:features', {\n                    inputs: {\n                      layer: layer,\n                      filter: child_field + '|eq|' + value,\n                      formatter: 1, // set formatter to 1\n                      search_endpoint: 'api'\n                    },\n                    outputs: false\n                  });\n                } else promise = Promise.reject();\n                promises.push(promise);\n              } else promises.push(Promise.resolve({\n                data: [{\n                  features: features[value]\n                }]\n              }));\n            });\n            _context8.next = 7;\n            return Promise.allSettled(promises);\n\n          case 7:\n            promisesData = _context8.sent;\n\n            promisesData.forEach(function (_ref12, index) {\n              var status = _ref12.status,\n                  value = _ref12.value;\n\n              if (status === 'fulfilled') {\n                var _features = value.data[0] ? value.data[0].features : [];\n                _features.forEach(function (feature) {\n                  return features.push(feature);\n                });\n                if (_this10.relationsGeometry[index].features[values[index]] === undefined) {\n                  _this10.relationsGeometry[index].features[values[index]] = _features;\n                }\n              }\n            });\n            zoom ? this.mapService.zoomToFeatures(features, {\n              highlight: true\n            }) : this.mapService.highlightFeatures(features);\n\n          case 10:\n          case 'end':\n            return _context8.stop();\n        }\n      }\n    }, _callee8, this);\n  }));\n\n  return function (_x9) {\n    return _ref10.apply(this, arguments);\n  };\n}();\n\nproto.clear = function () {\n  var _this11 = this;\n\n  this.layer.off('unselectionall', this.clearAllSelection);\n  this.layer.off('filtertokenchange', this.filterChangeHandler);\n  this.resetMapBBoxEventHandlerKey();\n  this.allfeaturesnumber = null;\n  this.mapService = null;\n  this._async.state && setTimeout(function () {\n    _this11._async.fnc();\n    _this11._async.state = false;\n    _this11._async.fnc = noop;\n  });\n};\n\nmodule.exports = TableService;\n\n},{\"core/g3wobject\":12,\"core/i18n/i18n.service\":13,\"core/layers/layer\":34,\"core/utils/geo\":64,\"core/utils/utils\":68,\"services/data\":358,\"services/gui\":361,\"store/catalog-layers\":374}],184:[function(require,module,exports){\nvar _Table = require('components/Table.vue');\n\nvar _Table2 = _interopRequireDefault(_Table);\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar _require = require('core/i18n/i18n.service'),\n    t = _require.t;\n\nvar _require2 = require('core/utils/utils'),\n    base = _require2.base,\n    inherit = _require2.inherit;\n\nvar Component = require('gui/component/component');\nvar TableService = require('gui/table/tableservice');\n\nvar InternalComponent = Vue.extend(_Table2.default);\n\nvar TableComponent = function TableComponent() {\n  var _this = this;\n\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  base(this);\n  this.id = \"openattributetable\";\n  var layer = options.layer,\n      formatter = options.formatter;\n\n  var service = options.service || new TableService({\n    layer: layer,\n    formatter: formatter\n  });\n\n  this.setService(service);\n  var internalComponent = new InternalComponent({\n    service: service\n  });\n\n  this.setInternalComponent(internalComponent);\n  internalComponent.state = service.state;\n\n  service.on('redraw', function () {\n    _this.layout();\n  });\n\n  this.unmount = function () {\n    return base(this, 'unmount');\n  };\n\n  this.layout = function () {\n    internalComponent.reloadLayout();\n  };\n};\n\ninherit(TableComponent, Component);\n\nvar proto = TableComponent.prototype;\n\n// overwrite show method\nproto.show = function () {\n  var _this2 = this;\n\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  var service = this.getService();\n  // close all sidebar open component\n  _gui2.default.closeOpenSideBarComponent();\n  service.getData({ firstCall: true }).then(function () {\n    _gui2.default.showContent({\n      content: _this2,\n      perc: 50,\n      split: _gui2.default.isMobile() ? 'h' : 'v',\n      push: false,\n      title: options.title\n    });\n  }).catch(function (err) {\n    return _gui2.default.notify.error(t(\"info.server_error\"));\n  }).finally(function () {\n    return _this2.emit('show');\n  });\n};\n\nproto.unmount = function () {\n  var _this3 = this;\n\n  return base(this, 'unmount').then(function () {\n    _this3._service.clear();\n  });\n};\n\nmodule.exports = TableComponent;\n\n},{\"components/Table.vue\":301,\"core/i18n/i18n.service\":13,\"core/utils/utils\":68,\"gui/component/component\":117,\"gui/table/tableservice\":183,\"services/gui\":361}],185:[function(require,module,exports){\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _projects = require('store/projects');\n\nvar _projects2 = _interopRequireDefault(_projects);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit;\n\nvar G3WObject = require('core/g3wobject');\n\nfunction Service() {\n  var _this = this;\n\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  this.config = null;\n  this.state = _extends({}, options, {\n    toolsGroups: [],\n    visible: false,\n    loading: false\n  });\n  this.setters = {\n    addTool: function addTool(tool, groupName) {\n      tool.state = tool.state ? tool.state : {\n        type: null,\n        message: null\n      };\n      return this._addTool(tool, groupName);\n    },\n    addTools: function addTools(tools, groupName) {\n      return this._addTools(tools, groupName);\n    },\n    addToolGroup: function addToolGroup(order, name) {\n      return this._addToolGroup(order, name);\n    },\n    removeToolGroup: function removeToolGroup(name) {\n      return this._removeToolGroup(name);\n    },\n    removeTools: function removeTools() {\n      return this._removeTools();\n    }\n  };\n\n  base(this);\n\n  var project = _projects2.default.getCurrentProject();\n\n  var _project$getState = project.getState(),\n      _project$getState$too = _project$getState.tools,\n      tools = _project$getState$too === undefined ? {} : _project$getState$too;\n\n  var _loop = function _loop(toolName) {\n    var groupName = toolName.toUpperCase();\n    _this.addToolGroup(0, groupName);\n    var _tools = tools[toolName].map(function (tool) {\n      return {\n        name: tool.name,\n        action: ToolsService.ACTIONS[toolName].bind(null, tool)\n      };\n    });\n    _this.addTools(_tools, { position: 0, title: groupName });\n  };\n\n  for (var toolName in tools) {\n    _loop(toolName);\n  }\n}\n\ninherit(Service, G3WObject);\n\nvar proto = Service.prototype;\n\nproto.reload = function () {\n  this.removeTools();\n};\n\nproto._addTool = function (tool, _ref) {\n  var order = _ref.position,\n      name = _ref.title;\n\n  var group = this._addToolGroup(order, name);\n  if (tool.action === undefined && tool.type) tool.action = Service.ACTIONS[tool.type] ? Service.ACTIONS[tool.type].bind(null, tool.options) : function () {};\n  group.tools.push(tool);\n};\n\nproto._addTools = function (tools, groupName) {\n  var _this2 = this;\n\n  tools.forEach(function (tool) {\n    return _this2.addTool(tool, groupName);\n  });\n};\n\nproto.setLoading = function () {\n  var bool = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n  this.state.loading = bool;\n};\n\nproto._removeTool = function (toolIdx) {\n  this.state.toolsGroups = this.state.toolsGroups.splice(toolIdx, 1);\n};\n\nproto._removeTools = function () {\n  this.state.toolsGroups.splice(0);\n};\n\nproto.updateToolsGroup = function (order, groupConfig) {\n  Vue.set(this.state.toolsGroups, order, groupConfig);\n};\n\nproto.getState = function () {\n  return this.state;\n};\n\nproto._removeToolGroup = function (name) {\n  this.state.toolsGroups = this.state.toolsGroups.filter(function (group) {\n    return group.name !== name;\n  });\n};\n\nproto._addToolGroup = function (order, name) {\n  var group = this.state.toolsGroups.find(function (_group) {\n    return _group.name === name;\n  });\n  if (!group) {\n    group = {\n      name: name,\n      tools: []\n    };\n    this.state.toolsGroups.splice(order, 0, group);\n  }\n  return group;\n};\n\nproto.setToolState = function () {\n  var _ref2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      id = _ref2.id,\n      _ref2$state = _ref2.state,\n      state = _ref2$state === undefined ? { type: null, message: null } : _ref2$state;\n\n  this.state.toolsGroups.find(function (toolGroup) {\n    var tool = toolGroup.tools.find(function (tool) {\n      return tool.name === id;\n    });\n    if (tool) {\n      tool.state.type = state.type;\n      tool.state.message = state.message;\n      return true;\n    }\n  });\n};\n\nService.ACTIONS = {};\n\nmodule.exports = Service;\n\n},{\"core/g3wobject\":12,\"core/utils/utils\":68,\"store/projects\":379}],186:[function(require,module,exports){\nvar _Tools = require('components/Tools.vue');\n\nvar vueComponentOptions = _interopRequireWildcard(_Tools);\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit;\n\nvar Component = require('gui/component/component');\nvar ToolsService = require('gui/tools/service');\n\nvar InternalComponent = Vue.extend(vueComponentOptions);\n\nfunction ToolsComponent() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  base(this, options);\n  this._service = new ToolsService(options);\n  this.title = \"tools\";\n\n  var internalComponent = new InternalComponent({\n    toolsService: this._service\n  });\n\n  internalComponent.state = this._service.state;\n  this.setInternalComponent(internalComponent, {\n    events: [{ name: 'visible' }]\n  });\n\n  this._setOpen = function () {\n    var bool = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n    this.internalComponent.state.open = bool;\n    bool && _gui2.default.closeContent();\n  };\n}\n\ninherit(ToolsComponent, Component);\n\nmodule.exports = ToolsComponent;\n\n},{\"components/Tools.vue\":306,\"core/utils/utils\":68,\"gui/component/component\":117,\"gui/tools/service\":185,\"services/gui\":361}],187:[function(require,module,exports){\nvar _require = require('core/utils/utils'),\n    resolve = _require.resolve,\n    inherit = _require.inherit;\n\nvar G3WObject = require('core/g3wobject');\nvar Component = require('gui/component/component');\nvar Panel = require('gui/panel');\n\n//Barstack Class\n// It used to mount panels stack\n// on top of each parent\nfunction BarStack() {\n  this._parent = null;\n  // barstack state. It store the panels array\n  this.state = {\n    contentsdata: []\n  };\n}\n\ninherit(BarStack, G3WObject);\n\nvar proto = BarStack.prototype;\n\n// push componenet on top of parent\nproto.push = function (content) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  // parent identify the DOM element where insert (append o meno) the component/panel\n  this._parent = options.parent;\n  // call barstack mount method\n  return this._mount(content, options);\n};\n\n// remove last component from stack\nproto.pop = function () {\n  var _this = this;\n\n  var d = $.Deferred();\n  if (this.state.contentsdata.length) {\n    var content = this.state.contentsdata.slice(-1)[0].content;\n    this._unmount(content).then(function () {\n      var content = _this.state.contentsdata.pop();\n      d.resolve(content);\n    });\n  } else d.resolve();\n  return d.promise();\n};\n\n// clear all stack\nproto.clear = function () {\n  var _this2 = this;\n\n  var d = $.Deferred();\n  if (this.state.contentsdata.length) {\n    var unmountRequests = [];\n    this.state.contentsdata.forEach(function (data) {\n      unmountRequests.push(_this2._unmount(data.content));\n    });\n    $.when(unmountRequests).then(function () {\n      _this2.state.contentsdata.splice(0, _this2.state.contentsdata.length);\n      d.resolve();\n    });\n  } else d.resolve();\n  return d.promise();\n};\n\nproto.getContentData = function () {\n  return this.state.contentsdata;\n};\n\nproto.getCurrentContentData = function () {\n  return this.state.contentsdata[this.state.contentsdata.length - 1];\n};\n\nproto.getPreviousContentData = function () {\n  return this.state.contentsdata[this.state.contentsdata.length - 2];\n};\n\n// mount component\nproto._mount = function (content, options) {\n  // check the type of content:\n  // JQuery type\n  if (content instanceof jQuery) return this._setJqueryContent(content);\n  //String\n  else if (_.isString(content)) {\n      var jqueryEl = $(content);\n      if (!jqueryEl.length) jqueryEl = $('<div>' + content + '</div>');\n      return this._setJqueryContent(jqueryEl);\n    }\n    // Vue\n    else if (content.mount && typeof content.mount == 'function') {\n        this._checkDuplicateVueContent(content); // if already exist it removed before based on id\n        return this._setVueContent(content, options);\n      }\n      // DOM\n      else return this._setDOMContent(content);\n};\n\n// JQuery append jQuery component\nproto._setJqueryContent = function (content, options) {\n  $(this._parent).append(content);\n  this.state.contentsdata.push({\n    content: content,\n    options: options\n  });\n  return resolve();\n};\n\n//Append DOM element\nproto._setDOMContent = function (content, options) {\n  this._parent.appendChild(content);\n  this.state.contentsdata.push({\n    content: content,\n    options: options\n  });\n  return resolve();\n};\n\n// Mount component to parent\nproto._setVueContent = function (content) {\n  var _this3 = this;\n\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  var d = $.Deferred();\n  var append = options.append || false;\n  content.mount(this._parent, append).then(function () {\n    $(_this3._parent).localize();\n    // Insert the content into the array with the following attributes:\n    // content: component object\n    // options: es. title, perc etc ...\n    _this3.state.contentsdata.push({\n      content: content,\n      options: options\n    });\n    d.resolve(content);\n  });\n  return d.promise();\n};\n\n// Check duplicate Vue Content\nproto._checkDuplicateVueContent = function (content) {\n  var _this4 = this;\n\n  var idxToRemove = null;\n  var id = content.getId();\n  this.state.contentsdata.forEach(function (data, idx) {\n    if (data.content.getId && data.content.getId() == id) idxToRemove = idx;\n  });\n  if (!_.isNull(idxToRemove)) {\n    var data = this.state.contentsdata[idxToRemove];\n    data.content.unmount().then(function () {\n      return _this4.state.contentsdata.splice(idxToRemove, 1);\n    });\n  }\n};\n\n// unmount component\nproto._unmount = function (content) {\n  var d = $.Deferred();\n  if (content instanceof Component || content instanceof Panel) {\n    content.unmount().then(function () {\n      return d.resolve();\n    });\n  } else {\n    $(this._parent).empty();\n    d.resolve();\n  }\n  return d.promise();\n};\n\nproto.forEach = function (cbk) {\n  this.state.contentsdata.forEach(function (data) {\n    return cbk(data.content);\n  });\n};\n\n// Get lenght / numbero of element stored in stack\nproto.getLength = function () {\n  return this.state.contentsdata.length;\n};\n\nmodule.exports = BarStack;\n\n},{\"core/g3wobject\":12,\"core/utils/utils\":68,\"gui/component/component\":117,\"gui/panel\":162}],188:[function(require,module,exports){\nmodule.exports = {\n  barstack: require('./barstack')\n};\n\n},{\"./barstack\":187}],189:[function(require,module,exports){\nvar _ViewportContentsViewer = require('components/ViewportContentsViewer.vue');\n\nvar vueComponentOptions = _interopRequireWildcard(_ViewportContentsViewer);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit;\n\nvar _require2 = require('gui/utils/utils'),\n    Stack = _require2.barstack;\n\nvar Component = require('gui/component/component');\n\n// Internal Component (VUE) of the content of the  viewport\nvar InternalComponent = Vue.extend(vueComponentOptions);\n\nfunction ContentsViewerComponent() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  base(this, options);\n  this.stack = new Stack();\n  this.setService(this);\n  this.title = \"contents\";\n  this.contentsdata = this.stack.state.contentsdata;\n  this.state.visible = true;\n  var internalComponent = new InternalComponent({\n    service: this\n  });\n  this.setInternalComponent(internalComponent);\n  this.internalComponent.state = this.state;\n}\n\ninherit(ContentsViewerComponent, Component);\n\nvar proto = ContentsViewerComponent.prototype;\n\nproto.setContent = function () {\n  var _this = this;\n\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var _options$push = options.push,\n      push = _options$push === undefined ? false : _options$push,\n      content = options.content,\n      crumb = options.crumb;\n\n  var d = $.Deferred();\n  // clean the stack every time, sure to have just one component.\n  // Use barstack because it handle the logic og mounting component on DOM\n  if (push) {\n    this.addContent(content, options).then(function () {\n      return d.resolve(options);\n    });\n  } else {\n    // clear stack\n    this.clearContents().then(function () {\n      _this.addContent(content, options).then(function () {\n        return d.resolve(options);\n      });\n    });\n  }\n\n  this.setOpen(true);\n  return d.promise();\n};\n\nproto.addContent = function (content) {\n  var _this2 = this;\n\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  var d = $.Deferred();\n  // parent element is the internal element\n  options.parent = this.internalComponent.$el;\n  options.append = true;\n  var promise = this.stack.push(content, options);\n  promise.then(function () {\n    // get stack content\n    _this2.contentsdata = _this2.stack.state.contentsdata;\n    // update the visibility of the others components\n    _this2.updateContentVisibility();\n    d.resolve();\n  });\n  return d.promise();\n};\n\n// remove content from stack\nproto.removeContent = function () {\n  this.setOpen(false);\n  return this.clearContents();\n};\n\n// used by  viewport.js\nproto.popContent = function () {\n  var _this3 = this;\n\n  return this.stack.pop().then(function () {\n    // update the content of contentsdata only after stack is updated\n    _this3.contentsdata = _this3.stack.state.contentsdata;\n    _this3.updateContentVisibility();\n  });\n};\n\n// get component through class\nproto.getComponentByClass = function (componentClass) {\n  var component = void 0;\n  var contentdata = this.stack.getContentData();\n  contentdata.forEach(function (content) {\n    if (content.content instanceof componentClass) {\n      component = content.content;\n      return false;\n    }\n  });\n  return component;\n};\n\n// get component by component id\nproto.getComponentById = function (id) {\n  var component = void 0;\n  var contentdata = this.stack.getContentData();\n  contentdata.forEach(function (content) {\n    if (content.content.id == id) {\n      component = content.content;\n      return false;\n    }\n  });\n  return component;\n};\n\nproto.getContentData = function () {\n  return this.stack.getContentData();\n};\n\n// get current contentdata\nproto.getCurrentContentData = function () {\n  return this.stack.getCurrentContentData();\n};\n\n// get  previuos contentdata\nproto.getPreviousContentData = function () {\n  return this.stack.getPreviousContentData();\n};\n\n// update visibility of the components of content\nproto.updateContentVisibility = function () {\n  // hide each elements but not the last one\n  var contentsEls = $(this.internalComponent.$el).children();\n  contentsEls.hide();\n  contentsEls.last().show();\n};\n\n// stack clear because if we want the contentComponente stack\n// it has to be empty stack\nproto.clearContents = function () {\n  var _this4 = this;\n\n  return this.stack.clear().then(function () {\n    return _this4.contentsdata = _this4.stack.state.contentsdata;\n  });\n};\n\n// Set layout of the content each time\n// Parameters are: height and with of the parent content\nproto.layout = function (parentWidth, parentHeight) {\n  var _this5 = this;\n\n  var el = $(this.internalComponent.$el);\n  //run the callback only after that vue state is updated\n  Vue.nextTick(function () {\n    var contentsdata = _this5.stack.state.contentsdata;\n    // el.parent() is div g3w-view-content\n    var height = el.parent().height() - el.siblings('.close-panel-block').outerHeight(true) - el.siblings('.content_breadcrumb').outerHeight(true) - 10; // margin 10 from bottom\n    el.height(height);\n    el.children().first().height(height);\n    contentsdata.forEach(function (data) {\n      //check each componentstored in stack\n      if (typeof data.content.layout == 'function') {\n        //call function layout of each component that are stored into the stack\n        data.content.layout(parentWidth + 0.5, height);\n      }\n    });\n  });\n};\n\nmodule.exports = ContentsViewerComponent;\n\n},{\"components/ViewportContentsViewer.vue\":309,\"core/utils/utils\":68,\"gui/component/component\":117,\"gui/utils/utils\":188}],190:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _wmslayerspanel = require('gui/wms/vue/panel/wmslayerspanel');\n\nvar _wmslayerspanel2 = _interopRequireDefault(_wmslayerspanel);\n\nvar _constant = require('app/constant');\n\nvar _data = require('services/data');\n\nvar _data2 = _interopRequireDefault(_data);\n\nvar _projects = require('store/projects');\n\nvar _projects2 = _interopRequireDefault(_projects);\n\nvar _application = require('services/application');\n\nvar _application2 = _interopRequireDefault(_application);\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar _require = require('core/utils/utils'),\n    uniqueId = _require.uniqueId;\n\nfunction Service() {\n  var _this = this;\n\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var _options$wmsurls = options.wmsurls,\n      wmsurls = _options$wmsurls === undefined ? [] : _options$wmsurls;\n\n  this.projectId = _projects2.default.getCurrentProject().getId(); // get current project id used to store data or get data to current project\n  this.panel;\n  this.state = {\n    adminwmsurls: wmsurls, // coming from admin wmsurls\n    localwmsurls: [] // contain array of object {id, url}\n  };\n  this.loadClientWmsUrls().then(function (urls) {\n    return _this.state.localwmsurls = urls;\n  });\n  _projects2.default.onafter('setCurrentProject', function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(project) {\n      return regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _this.projectId = project.getId();\n              _this.state.adminwmsurls = project.wmsurls || [];\n              _context.next = 4;\n              return _this.loadClientWmsUrls();\n\n            case 4:\n              _this.state.localwmsurls = _context.sent;\n\n            case 5:\n            case 'end':\n              return _context.stop();\n          }\n        }\n      }, _callee, _this);\n    }));\n\n    return function (_x2) {\n      return _ref.apply(this, arguments);\n    };\n  }());\n}\n\nvar proto = Service.prototype;\n\n/**\n * Getting Wms Urls from local browser storage\n */\nproto.loadClientWmsUrls = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2() {\n  var _this2 = this;\n\n  var data;\n  return regeneratorRuntime.wrap(function _callee2$(_context2) {\n    while (1) {\n      switch (_context2.prev = _context2.next) {\n        case 0:\n          data = this.getLocalWMSData();\n\n          if (data === undefined) {\n            data = {\n              urls: [], // unique url fro wms\n              wms: {} // object contain url as key and array of layers bind to url\n            };\n            this.updateLocalWMSData(data);\n          }\n          _context2.next = 4;\n          return _gui2.default.isReady();\n\n        case 4:\n          setTimeout(function () {\n            var mapService = _gui2.default.getService('map');\n            mapService.on('remove-external-layer', function (name) {\n              return _this2.deleteWms(name);\n            });\n            mapService.on('change-layer-position-map', function () {\n              var _ref3 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n                  name = _ref3.id,\n                  position = _ref3.position;\n\n              return _this2.changeLayerData(name, {\n                key: 'position',\n                value: position\n              });\n            });\n            mapService.on('change-layer-opacity', function () {\n              var _ref4 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n                  name = _ref4.id,\n                  opacity = _ref4.opacity;\n\n              return _this2.changeLayerData(name, {\n                key: 'opacity',\n                value: opacity\n              });\n            });\n            mapService.on('change-layer-visibility', function () {\n              var _ref5 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n                  name = _ref5.id,\n                  visible = _ref5.visible;\n\n              return _this2.changeLayerData(name, {\n                key: 'visible',\n                value: visible\n              });\n            });\n\n            // load eventually data\n            Object.keys(data.wms).forEach(function (url) {\n              data.wms[url].forEach(function (config) {\n                _this2.loadWMSLayerToMap(_extends({\n                  url: url\n                }, config));\n              });\n            });\n          });\n          return _context2.abrupt('return', data.urls);\n\n        case 6:\n        case 'end':\n          return _context2.stop();\n      }\n    }\n  }, _callee2, this);\n}));\n\n/**\n * General Method to change config of storage layer options as position, opacity\n * @param name\n * @param config\n */\nproto.changeLayerData = function (name) {\n  var attribute = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  var data = this.getLocalWMSData();\n  Object.keys(data.wms).find(function (wmsurl) {\n    var wmsConfigLayers = data.wms[wmsurl];\n    var index = wmsConfigLayers.findIndex(function (config) {\n      return config.name == name;\n    });\n    if (index !== -1) {\n      wmsConfigLayers[index][attribute.key] = attribute.value;\n      return true;\n    }\n  });\n  this.updateLocalWMSData(data);\n};\n\n/**\n * Create a common status object\n * @param error\n * @param added\n * @returns {{error, status: string}}\n */\nproto.getRequestStatusObject = function () {\n  var _ref6 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      _ref6$error = _ref6.error,\n      error = _ref6$error === undefined ? false : _ref6$error,\n      _ref6$added = _ref6.added,\n      added = _ref6$added === undefined ? false : _ref6$added;\n\n  return {\n    error: error,\n    added: added\n  };\n};\n\n/**\n * Add new\n * @param wmsurl\n * @returns {*}\n */\nproto.addNewUrl = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee3() {\n  var _ref8 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      id = _ref8.id,\n      url = _ref8.url;\n\n  var find, status, response, data;\n  return regeneratorRuntime.wrap(function _callee3$(_context3) {\n    while (1) {\n      switch (_context3.prev = _context3.next) {\n        case 0:\n          find = this.state.localwmsurls.find(function (_ref9) {\n            var localid = _ref9.id,\n                localurl = _ref9.url;\n            return localurl == url || localid == id;\n          });\n          status = this.getRequestStatusObject({\n            added: !!find\n          });\n\n          if (find) {\n            _context3.next = 13;\n            break;\n          }\n\n          _context3.prev = 3;\n          _context3.next = 6;\n          return this.getWMSLayers(url);\n\n        case 6:\n          response = _context3.sent;\n\n          // if result (meaning response in done right)\n          if (response.result) {\n            data = this.getLocalWMSData();\n\n            this.state.localwmsurls.push({\n              id: id,\n              url: url\n            });\n            data.urls = this.state.localwmsurls;\n            this.updateLocalWMSData(data);\n            response.wmsurl = url;\n            this.showWmsLayersPanel(response);\n          } else status.error = true;\n          _context3.next = 13;\n          break;\n\n        case 10:\n          _context3.prev = 10;\n          _context3.t0 = _context3['catch'](3);\n\n          status.error = true;\n\n        case 13:\n          return _context3.abrupt('return', status);\n\n        case 14:\n        case 'end':\n          return _context3.stop();\n      }\n    }\n  }, _callee3, this, [[3, 10]]);\n}));\n\n/**\n * Delete WMS\n * @param name\n */\nproto.deleteWms = function (name) {\n  var data = this.getLocalWMSData();\n  Object.keys(data.wms).find(function (wmsurl) {\n    var wmsConfigLayers = data.wms[wmsurl];\n    var index = wmsConfigLayers.findIndex(function (config) {\n      return config.name == name;\n    });\n    if (index !== -1) {\n      wmsConfigLayers.splice(index, 1);\n      if (wmsConfigLayers.length == 0) delete data.wms[wmsurl];\n      return true;\n    }\n  });\n  this.updateLocalWMSData(data);\n};\n/**\n * Method to find if name or layer of a specific url is already added\n * @param name\n * @param layers\n */\nproto.checkIfWMSAlreadyAdded = function () {\n  var _ref10 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      url = _ref10.url,\n      _ref10$layers = _ref10.layers,\n      layers = _ref10$layers === undefined ? [] : _ref10$layers;\n\n  var added = false;\n  var data = this.getLocalWMSData();\n  if (data.wms[url]) {\n    added = !!data.wms[url].find(function (_ref11) {\n      var addedLayers = _ref11.layers;\n\n      var layersLength = layers.length;\n      if (addedLayers.length === layersLength) {\n        return layers.reduce(function (accumulator, layerName) {\n          return accumulator + addedLayers.indexOf(layerName) !== -1 ? 1 : 0;\n        }, 0) === layersLength;\n      }\n    });\n  }\n  return added;\n};\n\n/**\n * Delete url from local storage\n * @param wmsurl\n */\nproto.deleteWmsUrl = function (id) {\n  this.state.localwmsurls = this.state.localwmsurls.filter(function (_ref12) {\n    var localid = _ref12.id;\n    return id !== localid;\n  });\n  var data = this.getLocalWMSData();\n  data.urls = this.state.localwmsurls;\n  this.updateLocalWMSData(data);\n};\n\n/**\n * Method to lad data from server and show wms layer panel\n * @param wmsurl\n * @returns {Promise<{added: boolean, error: boolean}>}\n */\nproto.loadWMSDataAndShowWmsLayersPanel = function () {\n  var _ref13 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee4(url) {\n    var status, response;\n    return regeneratorRuntime.wrap(function _callee4$(_context4) {\n      while (1) {\n        switch (_context4.prev = _context4.next) {\n          case 0:\n            status = this.getRequestStatusObject();\n            _context4.prev = 1;\n            _context4.next = 4;\n            return this.getWMSLayers(url);\n\n          case 4:\n            response = _context4.sent;\n\n            status.error = !response.result;\n            if (response.result) {\n              response.wmsurl = url;\n              this.showWmsLayersPanel(response);\n            }\n            _context4.next = 12;\n            break;\n\n          case 9:\n            _context4.prev = 9;\n            _context4.t0 = _context4['catch'](1);\n\n            status.error = true;\n\n          case 12:\n            return _context4.abrupt('return', status);\n\n          case 13:\n          case 'end':\n            return _context4.stop();\n        }\n      }\n    }, _callee4, this, [[1, 9]]);\n  }));\n\n  return function (_x10) {\n    return _ref13.apply(this, arguments);\n  };\n}();\n\n/**\n * show addding wma layers wms panel\n * @param wmsurl\n * @returns {WmsLayersPanel}\n */\nproto.showWmsLayersPanel = function () {\n  var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  this.panel = new _wmslayerspanel2.default({\n    service: this,\n    config: config\n  });\n  this.panel.show();\n  return this.panel;\n};\n\n/**\n * gettind data of wms url from server\n * @param url\n * @returns {Promise<{result: boolean, info_formats: [], layers: [], map_formats: [], abstract: null, title: null}>}\n */\nproto.getWMSLayers = function () {\n  var _ref14 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee5(url) {\n    var response;\n    return regeneratorRuntime.wrap(function _callee5$(_context5) {\n      while (1) {\n        switch (_context5.prev = _context5.next) {\n          case 0:\n            response = {\n              result: false,\n              layers: [],\n              info_formats: [],\n              abstract: null,\n              map_formats: [],\n              title: null\n            };\n            _context5.prev = 1;\n            _context5.next = 4;\n            return _data2.default.getData('ows:wmsCapabilities', {\n              inputs: {\n                url: url\n              },\n              outputs: false\n            });\n\n          case 4:\n            response = _context5.sent;\n            _context5.next = 10;\n            break;\n\n          case 7:\n            _context5.prev = 7;\n            _context5.t0 = _context5['catch'](1);\n\n            console.log(_context5.t0);\n\n          case 10:\n            if (!response.result) {\n              _context5.next = 12;\n              break;\n            }\n\n            return _context5.abrupt('return', response);\n\n          case 12:\n            return _context5.abrupt('return', response);\n\n          case 13:\n          case 'end':\n            return _context5.stop();\n        }\n      }\n    }, _callee5, this, [[1, 7]]);\n  }));\n\n  return function (_x12) {\n    return _ref14.apply(this, arguments);\n  };\n}();\n\nproto.loadWMSLayerToMap = function () {\n  var _ref15 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      url = _ref15.url,\n      name = _ref15.name,\n      epsg = _ref15.epsg,\n      position = _ref15.position,\n      opacity = _ref15.opacity,\n      _ref15$visible = _ref15.visible,\n      visible = _ref15$visible === undefined ? true : _ref15$visible,\n      _ref15$layers = _ref15.layers,\n      layers = _ref15$layers === undefined ? [] : _ref15$layers;\n\n  var mapService = _gui2.default.getService('map');\n  return mapService.addExternalWMSLayer({\n    url: url,\n    name: name,\n    layers: layers,\n    epsg: epsg,\n    position: position,\n    visible: visible,\n    opacity: opacity\n  });\n};\n\n/**\n * Method to check if a layer is already added to map\n * @param url\n * @param name\n * @param epsg\n * @param position\n * @param layers\n * @returns {Promise<void>}\n */\nproto.addWMSlayer = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee6() {\n  var _ref17 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      url = _ref17.url,\n      _ref17$name = _ref17.name,\n      name = _ref17$name === undefined ? 'wms_' + uniqueId() : _ref17$name,\n      epsg = _ref17.epsg,\n      position = _ref17.position,\n      _ref17$layers = _ref17.layers,\n      layers = _ref17$layers === undefined ? [] : _ref17$layers,\n      _ref17$opacity = _ref17.opacity,\n      opacity = _ref17$opacity === undefined ? 1 : _ref17$opacity,\n      _ref17$visible = _ref17.visible,\n      visible = _ref17$visible === undefined ? true : _ref17$visible;\n\n  var data, wmsLayerConfig, mapService;\n  return regeneratorRuntime.wrap(function _callee6$(_context6) {\n    while (1) {\n      switch (_context6.prev = _context6.next) {\n        case 0:\n          data = this.getLocalWMSData();\n          wmsLayerConfig = {\n            url: url,\n            name: name,\n            layers: layers,\n            epsg: epsg,\n            position: position,\n            visible: visible,\n            opacity: opacity\n          };\n\n          if (data.wms[url] === undefined) data.wms[url] = [wmsLayerConfig];else data.wms[url].push(wmsLayerConfig);\n          this.updateLocalWMSData(data);\n          _context6.prev = 4;\n          _context6.next = 7;\n          return this.loadWMSLayerToMap(wmsLayerConfig);\n\n        case 7:\n          _context6.next = 15;\n          break;\n\n        case 9:\n          _context6.prev = 9;\n          _context6.t0 = _context6['catch'](4);\n          mapService = _gui2.default.getService('map');\n\n          mapService.removeExternalLayer(name);\n          this.deleteWms(name);\n          setTimeout(function () {\n            _gui2.default.showUserMessage({\n              type: 'warning',\n              message: 'sidebar.wms.layer_add_error'\n            });\n          });\n\n        case 15:\n          this.panel.close();\n\n        case 16:\n        case 'end':\n          return _context6.stop();\n      }\n    }\n  }, _callee6, this, [[4, 9]]);\n}));\n\n/**\n * Method to get local storage wms  data based on current projectId\n * @returns {*}\n */\nproto.getLocalWMSData = function () {\n  return _application2.default.getLocalItem(_constant.LOCALSTORAGE_EXTERNALWMS_ITEM) && _application2.default.getLocalItem(_constant.LOCALSTORAGE_EXTERNALWMS_ITEM)[this.projectId];\n};\n\n/**\n * Method to update local storage data based on changes\n * @param data\n */\nproto.updateLocalWMSData = function (data) {\n  // in case for the firs time is non present set empty object\n  var alldata = _application2.default.getLocalItem(_constant.LOCALSTORAGE_EXTERNALWMS_ITEM) || {};\n  alldata[this.projectId] = data;\n  _application2.default.setLocalItem({\n    id: _constant.LOCALSTORAGE_EXTERNALWMS_ITEM,\n    data: alldata\n  });\n};\n\nproto.clear = function () {\n  this.panel = null;\n};\n\nexports.default = Service;\n\n},{\"app/constant\":4,\"core/utils/utils\":68,\"gui/wms/vue/panel/wmslayerspanel\":191,\"services/application\":351,\"services/data\":358,\"services/gui\":361,\"store/projects\":379}],191:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _WMSLayersPanel = require('components/WMSLayersPanel.vue');\n\nvar vueComponentOptions = _interopRequireWildcard(_WMSLayersPanel);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit,\n    uniqueId = _require.uniqueId;\n\nvar Panel = require('gui/panel');\n\nvar WMSLayersPanelComponent = Vue.extend(vueComponentOptions);\n\nfunction WmsLayersPanel() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var service = options.service,\n      config = options.config;\n\n  this.setService(service);\n  this.id = uniqueId();\n  this.title = 'sidebar.wms.panel.title';\n  var panel = WMSLayersPanelComponent;\n  var internalPanel = new panel({\n    service: service,\n    config: config\n  });\n  this.setInternalPanel(internalPanel);\n  this.unmount = function () {\n    return base(this, 'unmount').then(function () {\n      service.clear();\n    });\n  };\n}\n\ninherit(WmsLayersPanel, Panel);\n\nexports.default = WmsLayersPanel;\n\n},{\"components/WMSLayersPanel.vue\":311,\"core/utils/utils\":68,\"gui/panel\":162}],192:[function(require,module,exports){\nvar _WMS = require('components/WMS.vue');\n\nvar vueComponentOptions = _interopRequireWildcard(_WMS);\n\nvar _service = require('gui/wms/service');\n\nvar _service2 = _interopRequireDefault(_service);\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit;\n\nvar Component = require('gui/component/component');\n\nvar InternalComponent = Vue.extend(vueComponentOptions);\n\nfunction ToolsComponent() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  base(this, options);\n  this._service = new _service2.default(options);\n  this.title = \"WMS\";\n\n  var internalComponent = new InternalComponent({\n    service: this._service\n  });\n\n  internalComponent.state = this._service.state;\n  this.setInternalComponent(internalComponent);\n\n  this._setOpen = function () {\n    var bool = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n    this.internalComponent.state.open = bool;\n    bool && _gui2.default.closeContent();\n  };\n}\n\ninherit(ToolsComponent, Component);\n\nmodule.exports = ToolsComponent;\n\n},{\"components/WMS.vue\":310,\"core/utils/utils\":68,\"gui/component/component\":117,\"gui/wms/service\":190,\"services/gui\":361}],193:[function(require,module,exports){\nvar _applicationState = require('store/application-state');\n\nvar _applicationState2 = _interopRequireDefault(_applicationState);\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nmodule.exports = function () {\n  var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      _ref$steps = _ref.steps,\n      steps = _ref$steps === undefined ? {} : _ref$steps;\n\n  return {\n    data: function data() {\n      return {\n        steps: steps,\n        currentStep: 0\n      };\n    },\n\n    watch: {\n      steps: {\n        handler: function handler(steps) {\n          var _this = this;\n\n          Object.values(steps).find(function (step, index) {\n            if (!step.done) {\n              _this.currentStep = index;\n              return true;\n            }\n          });\n        },\n\n        deep: false\n      }\n    },\n    render: function render(h) {\n      var _this2 = this;\n\n      return h('ul', {\n        style: {\n          alignSelf: 'flex-start',\n          listStyle: 'none',\n          padding: (_applicationState2.default.ismobile ? 5 : 10) + 'px !important',\n          marginBottom: 0\n        }\n      }, Object.values(this.steps).map(function (step, index) {\n        var _class;\n\n        var state = {\n          current: !step.done && index === _this2.currentStep,\n          done: step.done,\n          todo: !step.done && index !== _this2.currentStep\n        };\n        return h('li', {\n          style: {\n            fontWeight: (step.done || !step.done && index === _this2.currentStep) && 'bold' || null,\n            marginBottom: '5px',\n            color: step.done && \"green\",\n            display: step.buttonnext && 'inline-flex'\n          }\n        }, [h('i', {\n          style: {\n            marginRight: '5px',\n            fontWeight: step.done && 'bold'\n          },\n          class: (_class = {}, _defineProperty(_class, _gui2.default.getFontClass('arrow-right'), state.current), _defineProperty(_class, _gui2.default.getFontClass('empty-circle'), state.todo), _defineProperty(_class, _gui2.default.getFontClass('success'), state.done), _class)\n        }), h('span', {\n          directives: [{\n            name: step.directive,\n            value: step.description\n          }],\n          style: {\n            display: step.buttonnext ? 'inline-flex' : 'inline',\n            flexDirection: step.buttonnext && 'row-reverse'\n          }\n        }), step.dynamic !== undefined && h('span', {\n          style: {\n            alignSelf: 'center',\n            padding: '3px'\n          }\n        }, step.dynamic), step.buttonnext && h('button', {\n          on: {\n            click: function click() {\n              step.done = true;\n              step.buttonnext.done();\n            }\n          },\n          directives: [{\n            name: 't',\n            value: 'sdk.workflow.next'\n          }],\n          style: {\n            fontWeight: 'bold'\n          },\n          class: {\n            btn: true,\n            'btn-success': true,\n            'g3w-disabled': step.buttonnext.disabled\n          }\n        })]);\n      }));\n    }\n  };\n};\n\n},{\"services/gui\":361,\"store/application-state\":373}],194:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _vueCookieLaw = require('vue-cookie-law');\n\nvar _vueCookieLaw2 = _interopRequireDefault(_vueCookieLaw);\n\nvar _HeaderItem = require('components/HeaderItem.vue');\n\nvar _HeaderItem2 = _interopRequireDefault(_HeaderItem);\n\nvar _projects = require('store/projects');\n\nvar _projects2 = _interopRequireDefault(_projects);\n\nvar _application = require('services/application');\n\nvar _application2 = _interopRequireDefault(_application);\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nvar _mixins = require('mixins');\n\nvar _constant = require('constant');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar _require = require('core/utils/utils'),\n    uniqueId = _require.uniqueId;\n\nvar _require2 = require('core/i18n/i18n.service'),\n    t = _require2.t;\n\nif (typeof jQuery === \"undefined\") {\n  throw new Error(\"LayoutManager requires jQuery\");\n}\n\n$.LayoutManager = $.LayoutManager || {\n  options: {\n    navbarMenuSlimscroll: true,\n    navbarMenuSlimscrollWidth: \"0px\",\n    navbarMenuHeight: \"200px\",\n    animationSpeed: 'fast',\n\n    sidebarToggleSelector: \"[data-toggle='offcanvas']\",\n\n    sidebarPushMenu: true,\n\n    sidebarSlimScroll: false,\n\n    sidebarExpandOnHover: false,\n\n    enableBoxRefresh: true,\n\n    enableFastclick: true,\n\n    enableControlSidebar: true,\n    controlSidebarOptions: {\n      toggleBtnSelector: \"[data-toggle='control-sidebar']\",\n\n      selector: \".control-sidebar\",\n\n      slide: true\n    },\n\n    enableBoxWidget: true,\n\n    boxWidgetOptions: {\n      boxWidgetIcons: {\n        collapse: 'fa-minus',\n\n        open: 'fa-plus',\n\n        remove: 'fa-times'\n      },\n      boxWidgetSelectors: {\n        remove: '[data-widget=\"remove\"]',\n\n        collapse: '[data-widget=\"collapse\"]'\n      }\n    },\n\n    directChat: {\n      enable: true,\n\n      contactToggleSelector: '[data-widget=\"chat-pane-toggle\"]'\n    },\n\n    colors: {\n      lightBlue: \"#3c8dbc\",\n      red: \"#f56954\",\n      green: \"#00a65a\",\n      aqua: \"#00c0ef\",\n      yellow: \"#f39c12\",\n      blue: \"#0073b7\",\n      navy: \"#001F3F\",\n      teal: \"#39CCCC\",\n      olive: \"#3D9970\",\n      lime: \"#01FF70\",\n      orange: \"#FF851B\",\n      fuchsia: \"#F012BE\",\n      purple: \"#8E24AA\",\n      maroon: \"#D81B60\",\n      black: \"#222222\",\n      gray: \"#d2d6de\"\n    },\n\n    screenSizes: {\n      xs: 480,\n      sm: 768,\n      md: 992,\n      lg: 1200\n    }\n  },\n\n  _init: function _init() {\n    'use strict';\n\n    $.LayoutManager.layout = {\n      activate: function activate() {\n        var _this = this;\n        _this.fix();\n        _this.fixSidebar();\n        $(window, \".wrapper\").resize(function () {\n          _this.fix();\n          _this.fixSidebar();\n        });\n      },\n      fix: function fix() {\n        var neg = $('.main-header').outerHeight() + $('.main-footer').outerHeight();\n        var window_height = $(window).height();\n        var sidebar_height = $(\".sidebar\").height();\n\n        if ($(\"body\").hasClass(\"fixed\")) {\n          $(\".content-wrapper, .right-side\").css('min-height', window_height - $('.main-footer').outerHeight());\n          $(\".content-wrapper, .right-side\").css('height', window_height - $('.main-footer').outerHeight());\n        } else {\n          var postSetWidth = void 0;\n          if (window_height >= sidebar_height) {\n            $(\".content-wrapper, .right-side\").css('min-height', window_height - neg);\n            postSetWidth = window_height - neg;\n          } else {\n            $(\".content-wrapper, .right-side\").css('min-height', sidebar_height);\n            postSetWidth = sidebar_height;\n          }\n\n          var controlSidebar = $($.LayoutManager.options.controlSidebarOptions.selector);\n          if (typeof controlSidebar !== \"undefined\") {\n            if (controlSidebar.height() > postSetWidth) $(\".content-wrapper, .right-side\").css('min-height', controlSidebar.height());\n          }\n        }\n      },\n      fixSidebar: function fixSidebar() {\n        if (!$(\"body\").hasClass(\"fixed\")) {\n          if (typeof $.fn.slimScroll != 'undefined') {\n            $(\".sidebar\").slimScroll({ destroy: true }).height(\"auto\");\n          }\n          return;\n        } else if (typeof $.fn.slimScroll == 'undefined' && window.console) {\n          window.console.error(\"Error: the fixed layout requires the slimscroll plugin!\");\n        }\n\n        if ($.LayoutManager.options.sidebarSlimScroll && !isMobile.any) {\n          if (typeof $.fn.slimScroll != 'undefined') {\n            $(\"#g3w-sidebar\").slimScroll({ destroy: true }).height(\"auto\");\n\n            $(\"#g3w-sidebar\").slimScroll({\n              touchScrollStep: 50,\n              height: $(window).height() - $(\".navbar-header\").height() - 10 + \"px\",\n              color: \"rgba(255,255,255,0.7)\",\n              size: \"3px\"\n            });\n          }\n        } else {\n          $(\".sidebar\").css({ 'height': $(window).height() - $(\".navbar-header\").height() + \"px\" });\n          $(\".sidebar\").css('overflow-y', 'auto');\n        }\n      }\n    };\n\n    $.LayoutManager.pushMenu = {\n      activate: function activate(toggleBtn) {\n        var screenSizes = $.LayoutManager.options.screenSizes;\n\n        $(toggleBtn).on('click', function (e) {\n          e.preventDefault();\n\n          if ($(window).width() > screenSizes.sm - 1) {\n            if ($(\"body\").hasClass('sidebar-collapse')) {\n              $(\"body\").removeClass('sidebar-collapse').trigger('expanded.pushMenu');\n            } else {\n              $(\"body\").addClass('sidebar-collapse').trigger('collapsed.pushMenu');\n            }\n          } else {\n              if ($(\"body\").hasClass('sidebar-open')) {\n                $(\"body\").removeClass('sidebar-open').removeClass('sidebar-collapse').trigger('collapsed.pushMenu');\n              } else {\n                $(\"body\").addClass('sidebar-open').trigger('expanded.pushMenu');\n              }\n            }\n        });\n\n        if ($.LayoutManager.options.sidebarExpandOnHover || $('body').hasClass('fixed') && $('body').hasClass('sidebar-mini')) {\n          this.expandOnHover();\n        }\n      },\n      expandOnHover: function expandOnHover() {\n        var _this = this;\n        var screenWidth = $.LayoutManager.options.screenSizes.sm - 1;\n\n        $('.main-sidebar').hover(function () {\n          if ($('body').hasClass('sidebar-mini') && $(\"body\").hasClass('sidebar-collapse') && $(window).width() > screenWidth) {\n            _this.expand();\n          }\n        }, function () {\n          if ($('body').hasClass('sidebar-mini') && $('body').hasClass('sidebar-expanded-on-hover') && $(window).width() > screenWidth) {\n            _this.collapse();\n          }\n        });\n      },\n      expand: function expand() {\n        $(\"body\").removeClass('sidebar-collapse').addClass('sidebar-expanded-on-hover');\n      },\n      collapse: function collapse() {\n        if ($('body').hasClass('sidebar-expanded-on-hover')) {\n          $('body').removeClass('sidebar-expanded-on-hover').addClass('sidebar-collapse');\n        }\n      }\n    };\n\n    $.LayoutManager.tree = function (menu) {\n      var _this = this;\n      var animationSpeed = $.LayoutManager.options.animationSpeed;\n\n      $(document).on('click', menu + ' li a', function (e) {\n        var $this = $(this);\n\n        var checkElement = $this.next();\n\n        if (checkElement.is('.treeview-menu') && checkElement.is(':visible')) {\n          checkElement.slideUp(animationSpeed, function () {\n            checkElement.parent(\"li.treeview\").removeClass(\"active\");\n            checkElement.removeClass('menu-open');\n          });\n        } else if (checkElement.is('.treeview-menu') && !checkElement.is(':visible')) {\n            var parent = $this.parents('ul').first();\n            var parent_li = $this.parent(\"li\");\n            var li_siblings = parent_li.siblings();\n            var parent_find_active;\n            var sidebar_content_height = parent.height() - parent.find('li.header').outerHeight();\n            var treeviewHeight = parent_li.outerHeight();\n            li_siblings.not('.header').each(function (index, el) {\n              treeviewHeight += $(el).find('a').outerHeight();\n            });\n            var section_height = sidebar_content_height - treeviewHeight;\n\n            var ul = parent.find('ul.treeview-menu:visible').slideUp(animationSpeed);\n\n            ul.removeClass('menu-open');\n\n            checkElement.slideDown(animationSpeed, function () {\n              checkElement.addClass('menu-open');\n              parent_find_active = parent.find('li.treeview.active');\n              parent_find_active.removeClass('active');\n              parent_li.addClass('active');\n\n              _this.layout.fix();\n            });\n          }\n\n        if (checkElement.is('.treeview-menu')) {\n          e.preventDefault();\n        }\n      });\n    };\n\n    $.LayoutManager.floatBar = $.LayoutManager.controlSidebar = {\n      activate: function activate() {\n        var _this = this;\n\n        var o = $.LayoutManager.options.controlSidebarOptions;\n\n        var sidebar = $(o.selector);\n\n        var btn = $(o.toggleBtnSelector);\n\n        btn.on('click', function (e) {\n          e.preventDefault();\n\n          if (!sidebar.hasClass('control-sidebar-open') && !$('body').hasClass('control-sidebar-open')) {\n            _this.open(sidebar, o.slide);\n          } else {\n            _this.close(sidebar, o.slide);\n          }\n        });\n\n        var bg = $(\".control-sidebar-bg\");\n        _this._fix(bg);\n\n        if ($('body').hasClass('fixed')) {\n          _this._fixForFixed(sidebar);\n        } else {\n          if ($('.content-wrapper, .right-side').height() < sidebar.height()) {\n            _this._fixForContent(sidebar);\n          }\n        }\n      },\n      open: function open(sidebar, slide) {\n        if (slide) {\n          sidebar.addClass('control-sidebar-open');\n        } else {\n          $('body').addClass('control-sidebar-open');\n        }\n      },\n      close: function close(sidebar, slide) {\n        if (slide) {\n          sidebar.removeClass('control-sidebar-open');\n        } else {\n          $('body').removeClass('control-sidebar-open');\n        }\n      },\n      _fix: function _fix(sidebar) {\n        var _this = this;\n        if ($(\"body\").hasClass('layout-boxed')) {\n          sidebar.css('position', 'absolute');\n          sidebar.height($(\".wrapper\").height());\n          $(window).resize(function () {\n            _this._fix(sidebar);\n          });\n        } else {\n          sidebar.css({\n            'position': 'fixed',\n            'height': 'auto'\n          });\n        }\n      },\n      _fixForFixed: function _fixForFixed(sidebar) {\n        sidebar.css({\n          'position': 'fixed',\n          'max-height': '100%',\n\n          'padding-bottom': '50px'\n        });\n      },\n      _fixForContent: function _fixForContent(sidebar) {\n        $(\".content-wrapper, .right-side\").css('min-height', sidebar.height());\n      }\n    };\n\n    $.LayoutManager.boxWidget = {\n      selectors: $.LayoutManager.options.boxWidgetOptions.boxWidgetSelectors,\n      icons: $.LayoutManager.options.boxWidgetOptions.boxWidgetIcons,\n      animationSpeed: $.LayoutManager.options.animationSpeed,\n      activate: function activate(_box) {\n        var _this = this;\n        if (!_box) {\n          _box = document;\n        }\n\n        $(_box).on('click', _this.selectors.collapse, function (e) {\n          e.preventDefault();\n          _this.collapse($(this));\n        });\n\n        $(_box).on('click', _this.selectors.remove, function (e) {\n          e.preventDefault();\n          _this.remove($(this));\n        });\n      },\n      collapse: function collapse(element) {\n        var _this = this;\n\n        var box = element.parents(\".box\").first();\n\n        var box_content = box.find(\"> .box-body, > .box-footer, > form  >.box-body, > form > .box-footer\");\n        if (!box.hasClass(\"collapsed-box\")) {\n          element.find(\".btn-collapser\").removeClass(_this.icons.collapse).addClass(_this.icons.open);\n\n          box_content.slideUp(_this.animationSpeed, function () {\n            box.addClass(\"collapsed-box\");\n          });\n        } else {\n          element.find(\".btn-collapser\").removeClass(_this.icons.open).addClass(_this.icons.collapse);\n\n          box_content.slideDown(_this.animationSpeed, function () {\n            box.removeClass(\"collapsed-box\");\n          });\n        }\n      },\n      remove: function remove(element) {\n        var box = element.parents(\".box\").first();\n        box.slideUp(this.animationSpeed);\n      }\n    };\n\n    return $.LayoutManager;\n  },\n\n  addRefreshButton: function addRefreshButton() {\n    \"use strict\";\n\n    $.fn.boxRefresh = function (options) {\n      var settings = $.extend({\n        trigger: \".refresh-btn\",\n\n        source: \"\",\n        onLoadStart: function onLoadStart(box) {\n          return box;\n        },\n        onLoadDone: function onLoadDone(box) {\n          return box;\n        }\n      }, options);\n\n      var overlay = $('<div class=\"overlay\"><div class=\"fa fa-refresh fa-spin\"></div></div>');\n\n      return this.each(function () {\n        if (settings.source === \"\") {\n          if (window.console) {\n            window.console.log(\"Please specify a source first - boxRefresh()\");\n          }\n          return;\n        }\n\n        var box = $(this);\n\n        var rBtn = box.find(settings.trigger).first();\n\n        rBtn.on('click', function (e) {\n          e.preventDefault();\n\n          start(box);\n\n          box.find(\".box-body\").load(settings.source, function () {\n            done(box);\n          });\n        });\n      });\n\n      function start(box) {\n        box.append(overlay);\n\n        settings.onLoadStart.call(box);\n      }\n\n      function done(box) {\n        box.find(overlay).remove();\n\n        settings.onLoadDone.call(box);\n      }\n    };\n    return $.LayoutManager;\n  },\n\n  activateBox: function activateBox() {\n    'use strict';\n\n    $.fn.activateBox = function () {\n      $.LayoutManager.boxWidget.activate(this);\n    };\n\n    return $.LayoutManager;\n  },\n\n  listCustomPlugin: function listCustomPlugin() {\n    'use strict';\n\n    $.fn.todolist = function (options) {\n      var settings = $.extend({\n        onCheck: function onCheck(ele) {\n          return ele;\n        },\n        onUncheck: function onUncheck(ele) {\n          return ele;\n        }\n      }, options);\n\n      return this.each(function () {\n\n        if (typeof $.fn.iCheck != 'undefined') {\n          $('input', this).on('ifChecked', function () {\n            var ele = $(this).parents(\"li\").first();\n            ele.toggleClass(\"done\");\n            settings.onCheck.call(ele);\n          });\n\n          $('input', this).on('ifUnchecked', function () {\n            var ele = $(this).parents(\"li\").first();\n            ele.toggleClass(\"done\");\n            settings.onUncheck.call(ele);\n          });\n        } else {\n          $('input', this).on('change', function () {\n            var ele = $(this).parents(\"li\").first();\n            ele.toggleClass(\"done\");\n            if ($('input', ele).is(\":checked\")) {\n              settings.onCheck.call(ele);\n            } else {\n              settings.onUncheck.call(ele);\n            }\n          });\n        }\n      });\n    };\n    return $.LayoutManager;\n  },\n\n  setup: function setup() {\n    \"use strict\";\n\n    $(\"body\").removeClass(\"hold-transition\");\n\n    if (typeof LayoutManagerOptions !== \"undefined\") {\n      $.extend(true, $.LayoutManager.options, LayoutManagerOptions);\n    }\n\n    var o = $.LayoutManager.options;\n\n    $.LayoutManager._init();\n\n    $.LayoutManager.layout.activate();\n\n    $.LayoutManager.tree('.sidebar');\n\n    if (o.enableControlSidebar) {\n      $.LayoutManager.controlSidebar.activate();\n    }\n\n    if (o.navbarMenuSlimscroll && typeof $.fn.slimscroll != 'undefined') {\n      $(\".navbar .menu\").slimscroll({\n        height: o.navbarMenuHeight,\n        alwaysVisible: false,\n        size: o.navbarMenuSlimscrollWidth\n      }).css(\"width\", \"100%\");\n    }\n\n    if (o.sidebarPushMenu) {\n      $.LayoutManager.pushMenu.activate(o.sidebarToggleSelector);\n    }\n\n    if (o.enableBoxWidget) {\n      $.LayoutManager.boxWidget.activate();\n    }\n\n    if (o.enableFastclick && typeof FastClick != 'undefined') {\n      FastClick.attach(document.body);\n    }\n\n    if (o.directChat.enable) {\n      $(document).on('click', o.directChat.contactToggleSelector, function () {\n        var box = $(this).parents('.direct-chat').first();\n        box.toggleClass('direct-chat-contacts-open');\n      });\n    }\n\n    $('.btn-group[data-toggle=\"btn-toggle\"]').each(function () {\n      var group = $(this);\n      $(this).find(\".btn\").on('click', function (e) {\n        group.find(\".btn.active\").removeClass(\"active\");\n        $(this).addClass(\"active\");\n        e.preventDefault();\n      });\n    });\n\n    return $.LayoutManager.addRefreshButton().activateBox().listCustomPlugin();\n  },\n\n  loading: function loading(start) {\n    $('#initerror').remove();\n    start = _.isBoolean(start) ? start : true;\n    if (start) {\n      $('body').append('\\n          <div id=\"startingspinner\">\\n          <div class=\"double-bounce1\"></div>\\n          <div class=\"double-bounce2\"></div>\\n          </div>');\n    } else {\n      $('#startingspinner').remove();\n    }\n  }\n\n};\n\nvar layout = $.LayoutManager;\n\nexports.default = {\n\n  mixins: [_mixins.resizeMixin],\n\n  data: function data() {\n    return {\n      customcredits: false,\n      appState: _application2.default.getState(),\n      current_custom_modal_content: null,\n      language: null,\n      cookie_law_buttonText: t('cookie_law.buttonText')\n    };\n  },\n\n\n  components: {\n    HeaderItem: _HeaderItem2.default,\n    CookieLaw: _vueCookieLaw2.default\n  },\n\n  computed: {\n    app: function app() {\n      return this.appState.gui.app;\n    },\n    languages: function languages() {\n      var languages = Array.isArray(this.appconfig.i18n) && this.appconfig.i18n || [];\n      return languages.length > 1 && languages;\n    },\n    currentProject: function currentProject() {\n      return _projects2.default.getCurrentProject();\n    },\n    appconfig: function appconfig() {\n      return _application2.default.getConfig();\n    },\n    isIframe: function isIframe() {\n      return !!this.appconfig.group.layout.iframe;\n    },\n    urls: function urls() {\n      return this.appconfig.urls;\n    },\n    staticurl: function staticurl() {\n      return this.urls.staticurl;\n    },\n    powered_by: function powered_by() {\n      return this.appconfig.group.powered_by;\n    },\n    clienturl: function clienturl() {\n      return this.urls.clienturl;\n    },\n    g3w_suite_logo: function g3w_suite_logo() {\n      return this.clienturl + 'images/g3wsuite_logo.png';\n    },\n    credits_logo: function credits_logo() {\n      return this.clienturl + 'images/logo_gis3w_156_85.png';\n    },\n    logo_url: function logo_url() {\n      var logo_project_url = this.currentProject.getThumbnail();\n      return logo_project_url ? logo_project_url : '' + this.appconfig.mediaurl + this.appconfig.logo_img;\n    },\n    logo_link: function logo_link() {\n      var logo_link = this.getLogoLink();\n      return logo_link ? logo_link : \"#\";\n    },\n    logo_link_target: function logo_link_target() {\n      var logo_link = this.getLogoLink();\n      return logo_link ? \"_blank\" : \"\";\n    },\n    project_title: function project_title() {\n      return this.currentProject.getState().name;\n    },\n    user: function user() {\n      return this.appconfig.user && this.appconfig.user.username ? this.appconfig.user : null;\n    },\n    login_url: function login_url() {\n      return this.appconfig.user.login_url;\n    },\n    numberOfProjectsInGroup: function numberOfProjectsInGroup() {\n      return this.appconfig.projects.length;\n    },\n    hasRelatedMaps: function hasRelatedMaps() {\n      return this.appconfig.macrogroups.length + this.appconfig.groups.length + this.appconfig.projects.length > 1;\n    },\n    frontendurl: function frontendurl() {\n      return this.urls.frontendurl;\n    },\n    main_title: function main_title() {\n      var main_title = this.appconfig.main_map_title;\n      var group_name = this.appconfig.group.name || this.appconfig.group.slug;\n      return main_title ? main_title + ' - ' + group_name : group_name;\n    }\n  },\n\n  methods: {\n    templateResultLanguages: function templateResultLanguages(state) {\n      if (!state.id) {\n        return state.text;\n      }\n      return $('\\n        <div style=\"font-weight: bold; display:flex; align-items: center; justify-content: space-around;\">\\n          <img src=\"' + this.staticurl + 'img/flags/' + state.element.value.toLowerCase() + '.png\" />\\n          <span style=\"margin-left: 5px;\">' + state.text + '</span> \\n        </span>');\n    },\n    resize: function () {\n      var _ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee() {\n        var max_width;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                if (this.isIframe) {\n                  _context.next = 5;\n                  break;\n                }\n\n                _context.next = 3;\n                return this.$nextTick();\n\n              case 3:\n                max_width = this.$refs.navbar_toggle.offsetWidth > 0 ? this.$refs.navbar.offsetWidth - this.$refs.navbar_toggle.offsetWidth : this.$refs.mainnavbar.offsetWidth - this.$refs['app-navbar-nav'].offsetWidth;\n\n                this.$refs.main_title_project_title.style.maxWidth = max_width - this.logoWidth - 15 + 'px';\n\n              case 5:\n              case 'end':\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function resize() {\n        return _ref.apply(this, arguments);\n      }\n\n      return resize;\n    }(),\n    showCustomModalContent: function showCustomModalContent(id) {\n      var _custom_modals$find = this.custom_modals.find(function (custommodal) {\n        return custommodal.id === id;\n      }),\n          content = _custom_modals$find.content;\n\n      this.current_custom_modal_content = content;\n    },\n    closePanel: function closePanel() {\n      sidebarService.closePanel();\n    },\n    getLogoLink: function getLogoLink() {\n      return this.appconfig.logo_link ? this.appconfig.logo_link : null;\n    },\n    openProjectsMenu: function openProjectsMenu() {\n      _gui2.default.openProjectsMenu();\n    },\n    initDialogMessages: function () {\n      var _ref2 = _asyncToGenerator(regeneratorRuntime.mark(function _callee2() {\n        var _this2 = this;\n\n        var messages, projectId, _loop, i, _ret;\n\n        return regeneratorRuntime.wrap(function _callee2$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                messages = this.currentProject.getMessages();\n\n                if (messages) {\n                  _context3.next = 3;\n                  break;\n                }\n\n                return _context3.abrupt('return');\n\n              case 3:\n                projectId = this.currentProject.getId();\n                _loop = regeneratorRuntime.mark(function _loop(i) {\n                  var message, data, doNotShowAgainVueComponent, content;\n                  return regeneratorRuntime.wrap(function _loop$(_context2) {\n                    while (1) {\n                      switch (_context2.prev = _context2.next) {\n                        case 0:\n                          message = messages.items[i];\n                          data = _application2.default.getLocalItem(_constant.LOCAL_ITEM_IDS.MESSAGES.id) || _constant.LOCAL_ITEM_IDS.MESSAGES.value;\n\n\n                          if (undefined === data[projectId]) {\n                            data[projectId] = [];\n                          }\n\n                          if (!(undefined !== data[projectId].find(function (id) {\n                            return id === message.id;\n                          }))) {\n                            _context2.next = 5;\n                            break;\n                          }\n\n                          return _context2.abrupt('return', 'continue');\n\n                        case 5:\n                          doNotShowAgainVueComponent = new (Vue.extend({\n                            data: function data() {\n                              return { id: uniqueId(), checked: false };\n                            },\n                            template: '\\n            <div style=\"display: flex; margin-top: 10px;\">\\n              <input :id=\"id\"\\n                v-model=\"checked\"\\n                class=\"magic-checkbox\"\\n                type=\"checkbox\"/>\\n              <label :for=\"id\" v-t=\"\\'dont_show_again\\'\"/>\\n            </div>\\n          '\n                          }))();\n                          content = document.createElement('div');\n\n                          content.append.apply(content, _toConsumableArray(new DOMParser().parseFromString(message.body, 'text/html').body.childNodes));\n\n                          content.append(doNotShowAgainVueComponent.$mount().$el);\n\n                          _context2.next = 11;\n                          return new Promise(function (resolve) {\n                            _gui2.default.showModalDialog({\n                              title: message.title,\n                              message: content,\n                              size: 'large',\n                              closeButton: false,\n                              className: 'g3w-modal-project-message ' + Object.entries(messages.levels).find(function (_ref3) {\n                                var _ref4 = _slicedToArray(_ref3, 2),\n                                    key = _ref4[0],\n                                    value = _ref4[1];\n\n                                return value === message.level;\n                              })[0],\n                              buttons: {\n                                close: {\n                                  label: t('close'),\n                                  className: 'btn-secondary',\n                                  callback: function callback() {\n                                    if (doNotShowAgainVueComponent.checked) {\n                                      data[projectId].push(message.id);\n                                      _application2.default.setLocalItem({ id: _constant.LOCAL_ITEM_IDS.MESSAGES.id, data: data });\n                                    }\n                                    resolve();\n                                  }\n                                }\n                              }\n                            });\n                          });\n\n                        case 11:\n                        case 'end':\n                          return _context2.stop();\n                      }\n                    }\n                  }, _loop, _this2);\n                });\n                i = 0;\n\n              case 6:\n                if (!(i < messages.items.length)) {\n                  _context3.next = 14;\n                  break;\n                }\n\n                return _context3.delegateYield(_loop(i), 't0', 8);\n\n              case 8:\n                _ret = _context3.t0;\n\n                if (!(_ret === 'continue')) {\n                  _context3.next = 11;\n                  break;\n                }\n\n                return _context3.abrupt('continue', 11);\n\n              case 11:\n                i++;\n                _context3.next = 6;\n                break;\n\n              case 14:\n              case 'end':\n                return _context3.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function initDialogMessages() {\n        return _ref2.apply(this, arguments);\n      }\n\n      return initDialogMessages;\n    }(),\n    openChangeMapMenu: function openChangeMapMenu() {\n      _gui2.default.openChangeMapMenu();\n    }\n  },\n\n  watch: {\n    'language': function language(_language, currentlanguage) {\n      if (currentlanguage) {\n        _application2.default.changeLanguage(_language);\n        this.cookie_law_buttonText = t('cookie_law.buttonText');\n      }\n    }\n  },\n\n  beforeCreate: function beforeCreate() {\n    this.delayType = 'debounce';\n    this.delayTime = 0;\n  },\n  created: function created() {\n    var _this3 = this;\n\n    this.language = this.appconfig._i18n.language;\n    this.custom_modals = [];\n    this.custom_header_items_position = {\n      0: [],\n      1: [],\n      2: [],\n      3: [],\n      4: []\n    };\n    this.customlinks = Array.isArray(this.appconfig.header_custom_links) ? this.appconfig.header_custom_links.filter(function (customitem) {\n      if (customitem !== null) {\n        var id = customitem.id = uniqueId();\n        customitem.type === 'modal' && _this3.custom_modals.push({\n          id: id,\n          content: customitem.content\n        });\n        var position = 1 * (customitem.position || 0);\n        position = position > 4 ? 4 : position < 0 || Number.isNaN(position) ? 0 : position;\n        _this3.custom_header_items_position[position].push(customitem);\n        return true;\n      }\n      return false;\n    }) : [];\n\n    !!this.appconfig.credits && $.get(this.appconfig.credits).then(function (credits) {\n      return _this3.customcredits = credits !== 'None' && credits;\n    });\n  },\n  mounted: function () {\n    var _ref5 = _asyncToGenerator(regeneratorRuntime.mark(function _callee3() {\n      var _this4 = this;\n\n      var rightNavBarElements, elementLenght, i, setFloatBarMaxHeight;\n      return regeneratorRuntime.wrap(function _callee3$(_context4) {\n        while (1) {\n          switch (_context4.prev = _context4.next) {\n            case 0:\n              setFloatBarMaxHeight = function setFloatBarMaxHeight() {\n                $(layout.options.controlSidebarOptions.selector).css('max-height', $(window).innerHeight());\n                $('.g3w-sidebarpanel').css('height', $(window).height() - $(\"#main-navbar\").height());\n              };\n\n              this.initDialogMessages();\n\n              this.logoWidth = 0;\n\n              _context4.next = 5;\n              return this.$nextTick();\n\n            case 5:\n              rightNavBarElements = !this.isIframe ? this.$refs.mainnavbar.getElementsByTagName('ul') : [];\n              elementLenght = rightNavBarElements.length;\n\n\n              this.rightNavbarWidth = 15;\n\n              for (i = 0; i < elementLenght; i++) {\n                this.rightNavbarWidth += rightNavBarElements.item(i).offsetWidth;\n              }\n\n              this.language = this.appconfig.user.i18n;\n\n              _context4.next = 12;\n              return this.$nextTick();\n\n            case 12:\n              if (!this.isIframe) {\n                this.$refs.img_logo.addEventListener('load', function () {\n                  _this4.logoWidth = _this4.$refs.img_logo.offsetWidth + 15;\n                  _this4.resize();\n                }, { once: true });\n              }\n\n              layout.loading(false);\n              layout.setup();\n\n              layout.pushMenu.expandOnHover();\n              layout.controlSidebar._fix($(\".control-sidebar-bg\"));\n              layout.controlSidebar._fix($(\".control-sidebar\"));\n\n              setFloatBarMaxHeight();\n\n              $(window).resize(function () {\n                setFloatBarMaxHeight();\n                $('#g3w-modal-overlay').css('height', $(window).height());\n              });\n\n            case 20:\n            case 'end':\n              return _context4.stop();\n          }\n        }\n      }, _callee3, this);\n    }));\n\n    function mounted() {\n      return _ref5.apply(this, arguments);\n    }\n\n    return mounted;\n  }()\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"disabled\",rawName:\"v-disabled\",value:(_vm.app.disabled),expression:\"app.disabled\"}],staticClass:\"wrapper\"},[_c('cookie-law',{attrs:{\"theme\":\"dark-lime\",\"buttonText\":_vm.cookie_law_buttonText}},[_c('div',{directives:[{name:\"t\",rawName:\"v-t\",value:('cookie_law.message'),expression:\"'cookie_law.message'\"}],attrs:{\"slot\":\"message\"},slot:\"message\"})]),_vm._v(\" \"),(!_vm.isIframe)?_c('header',{staticClass:\"main-header\"},[_c('nav',{ref:\"navbar\",staticClass:\"navbar navbar-inverse navbar-fixed-top\",attrs:{\"role\":\"navigation\"}},[_c('div',{staticClass:\"container-fluid\"},[_c('div',{staticClass:\"navbar-header\"},[_c('button',{ref:\"navbar_toggle\",staticClass:\"navbar-toggle\",attrs:{\"type\":\"button\",\"data-toggle\":\"collapse\",\"data-target\":\"#main-navbar\"}},[_c('i',{class:_vm.g3wtemplate.getFontClass('ellips-v'),staticStyle:{\"font-size\":\"1.3em\"}})]),_vm._v(\" \"),_c('a',{staticClass:\"sidebar-toggle\",attrs:{\"id\":\"g3w-small-screen-hamburger-sidebar\",\"href\":\"#\",\"data-toggle\":\"offcanvas\",\"role\":\"button\"}},[_c('i',{class:_vm.g3wtemplate.getFontClass('bars'),staticStyle:{\"font-size\":\"1.3em\"}})]),_vm._v(\" \"),_c('div',{staticClass:\"logo-wrapper\",class:{'mobile': _vm.isMobile()}},[(_vm.logo_url)?_c('a',{staticClass:\"project_logo_link\",attrs:{\"href\":_vm.logo_link,\"target\":_vm.logo_link_target}},[_c('img',{ref:\"img_logo\",staticClass:\"img-responsive\",staticStyle:{\"max-width\":\"250px\"},attrs:{\"src\":_vm.logo_url}})]):_vm._e(),_vm._v(\" \"),_c('div',{ref:\"main_title_project_title\",staticClass:\"project_title_content\"},[_c('div',{staticClass:\"main_title\"},[_vm._v(_vm._s(_vm.main_title))]),_vm._v(\" \"),_c('div',{staticClass:\"sub_title\"},[_vm._v(_vm._s(_vm.project_title))])])])]),_vm._v(\" \"),_c('div',{ref:\"mainnavbar\",staticClass:\"collapse navbar-collapse\",staticStyle:{\"text-align\":\"center\",\"overflow\":\"hidden\",\"margin\":\"0 0\"},attrs:{\"id\":\"main-navbar\"}},[_c('navbarleftitems'),_vm._v(\" \"),_c('navbarrightitems'),_vm._v(\" \"),_c('ul',{ref:\"app-navbar-nav\",staticClass:\"nav navbar-nav navbar-right app-navbar-nav\"},[(!_vm.user)?_c('li',{staticClass:\"dropdown user user-menu\"},[_c('a',{attrs:{\"href\":_vm.login_url}},[_c('i',{class:_vm.g3wtemplate.getFontClass('sign-in'),attrs:{\"aria-hidden\":\"true\"}}),_vm._v(\" \"),_c('span',{directives:[{name:\"t\",rawName:\"v-t\",value:('sign_in'),expression:\"'sign_in'\"}]})])]):_vm._e(),_vm._v(\" \"),_vm._l((_vm.custom_header_items_position[0]),function(state){return _c('header-item',{key:state.id,attrs:{\"state\":state},on:{\"show-custom-modal-content\":_vm.showCustomModalContent}})}),_vm._v(\" \"),(_vm.hasRelatedMaps)?_c('li',{staticClass:\"dropdown user\",attrs:{\"id\":\"changemaps\"}},[_c('a',{staticClass:\"dropdown-toggle\",attrs:{\"href\":\"#\",\"data-toggle\":\"dropdown\"},on:{\"click\":_vm.openChangeMapMenu}},[_c('i',{class:_vm.g3wtemplate.getFontClass('change-map'),attrs:{\"aria-hidden\":\"true\"}}),_vm._v(\" \"),_c('span',{directives:[{name:\"t\",rawName:\"v-t\",value:('changemap'),expression:\"'changemap'\"}]})])]):_vm._e(),_vm._v(\" \"),_vm._l((_vm.custom_header_items_position[1]),function(state){return _c('header-item',{key:state.id,attrs:{\"state\":state},on:{\"show-custom-modal-content\":_vm.showCustomModalContent}})}),_vm._v(\" \"),(_vm.user)?_c('li',{staticClass:\"dropdown user user-menu\"},[_c('a',{staticClass:\"dropdown-toggle\",attrs:{\"href\":\"#\",\"data-toggle\":\"dropdown\"}},[_c('i',{class:_vm.g3wtemplate.getFontClass('user')}),_vm._v(\" \"),_c('span',{staticClass:\"hidden-xs\"},[_vm._v(_vm._s(_vm.user.username))])]),_vm._v(\" \"),_c('ul',{staticClass:\"dropdown-menu\"},[_c('li',{staticClass:\"user-header\"},[_c('p',[_vm._v(\"\\n                    \"+_vm._s(_vm.user.first_name)+\" \"+_vm._s(_vm.user.last_name)+\"\\n                  \")])]),_vm._v(\" \"),_c('li',{staticClass:\"user-footer\"},[(_vm.user.admin_url)?_c('div',{staticClass:\"pull-left\"},[_c('a',{staticClass:\"btn btn-default btn-flat skin-color bold\",attrs:{\"href\":_vm.user.admin_url}},[_c('i',{class:_vm.g3wtemplate.getFontClass('folder')}),_vm._v(\" Admin\\n                    \")])]):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"pull-right\"},[_c('a',{directives:[{name:\"t\",rawName:\"v-t\",value:('logout'),expression:\"'logout'\"}],staticClass:\"btn btn-default btn-flat skin-color bold\",attrs:{\"href\":_vm.user.logout_url}},[_c('i',{class:_vm.g3wtemplate.getFontClass('sign-out'),staticStyle:{\"margin-right\":\"2px\"}})])])])])]):_vm._e(),_vm._v(\" \"),_vm._l((_vm.custom_header_items_position[2]),function(state){return _c('header-item',{key:state.id,attrs:{\"state\":state},on:{\"show-custom-modal-content\":_vm.showCustomModalContent}})}),_vm._v(\" \"),_c('li',{staticClass:\"dropdown user user-menu\"},[_c('a',{staticClass:\"dropdown-toggle\",attrs:{\"href\":\"#\",\"data-toggle\":\"modal\",\"data-target\":\"#credits\"}},[_c('i',{class:_vm.g3wtemplate.getFontClass('credits'),attrs:{\"aria-hidden\":\"true\"}}),_vm._v(\" \"),_c('span',[_vm._v(\"Credits\")])])]),_vm._v(\" \"),_vm._l((_vm.custom_header_items_position[3]),function(state){return _c('header-item',{key:state.id,attrs:{\"state\":state},on:{\"show-custom-modal-content\":_vm.showCustomModalContent}})}),_vm._v(\" \"),(_vm.languages)?_c('li',{staticClass:\"g3w-languages\"},[_c('select',{directives:[{name:\"select2\",rawName:\"v-select2\",value:('language'),expression:\"'language'\"},{name:\"model\",rawName:\"v-model\",value:(_vm.language),expression:\"language\"}],staticClass:\"form-control\",staticStyle:{\"cursor\":\"pointer\",\"width\":\"130px\"},attrs:{\"templateSelection\":_vm.templateResultLanguages,\"templateResult\":_vm.templateResultLanguages},on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.language=$event.target.multiple ? $$selectedVal : $$selectedVal[0]}}},_vm._l((_vm.languages),function(lang){return _c('option',{key:lang[0],domProps:{\"value\":lang[0],\"selected\":lang[0] === _vm.language && 'selected'}},[_vm._v(\"\\n                  \"+_vm._s(lang[1])+\"\\n                \")])}),0)]):_vm._e(),_vm._v(\" \"),(_vm.frontendurl)?_c('li',{staticClass:\"dropdown\"},[_c('a',{attrs:{\"href\":_vm.frontendurl}},[_c('span',[_c('i',{class:_vm.g3wtemplate.getFontClass('home')}),_vm._v(\" Home\")])])]):_vm._e(),_vm._v(\" \"),_vm._l((_vm.custom_header_items_position[4]),function(state){return _c('header-item',{key:state.id,attrs:{\"state\":state},on:{\"show-custom-modal-content\":_vm.showCustomModalContent}})})],2)],1)])])]):_vm._e(),_vm._v(\" \"),_c('sidebar'),_vm._v(\" \"),_c('div',{staticClass:\"content-wrapper\",style:({paddingTop: _vm.isIframe ? 0 : null})},[_c('viewport',{attrs:{\"appState\":_vm.appState}})],1),_vm._v(\" \"),_c('floatbar'),_vm._v(\" \"),_c('div',{staticClass:\"control-sidebar-bg\"}),_vm._v(\" \"),_c('div',{staticClass:\"modal fade modal-fullscreen force-fullscreen\",attrs:{\"id\":\"full-screen-modal\",\"tabindex\":\"-1\",\"role\":\"dialog\",\"data-backdrop\":\"static\",\"data-keyboard\":\"false\",\"aria-labelledby\":\"full-screen-modal\",\"aria-hidden\":\"true\"}}),_vm._v(\" \"),_c('div',{staticClass:\"modal fade\",attrs:{\"id\":\"credits\"}},[_c('div',{staticClass:\"modal-dialog\",attrs:{\"role\":\"document\"}},[_c('div',{staticClass:\"modal-content\"},[_c('div',{staticClass:\"modal-header\"},[_vm._m(0),_vm._v(\" \"),_c('div',{staticStyle:{\"display\":\"flex\",\"flex-direction\":\"column\",\"justify-content\":\"space-around\",\"justify-items\":\"center\",\"align-items\":\"center\"}},[(!!_vm.customcredits)?_c('div',{staticClass:\"customcredits\",domProps:{\"innerHTML\":_vm._s(_vm.customcredits)}}):_vm._e(),_vm._v(\" \"),(_vm.powered_by)?_c('div',[_c('div',{staticClass:\"g3w-credits-block\"},[_c('div',{directives:[{name:\"t\",rawName:\"v-t\",value:('credits.g3wSuiteFramework'),expression:\"'credits.g3wSuiteFramework'\"}],staticClass:\"credit-title-logo\",staticStyle:{\"background-color\":\"#95ad36\",\"padding\":\"5px\",\"border-radius\":\"3px\",\"color\":\"#ffffff\"}}),_vm._v(\" \"),_c('a',{attrs:{\"target\":\"_blank\",\"href\":\"https://g3wsuite.it/\"}},[_c('img',{staticClass:\"g3w-suite-logo\",attrs:{\"src\":_vm.g3w_suite_logo,\"alt\":\"\"}})]),_vm._v(\" \"),_c('div',{directives:[{name:\"t\",rawName:\"v-t\",value:('credits.g3wSuiteDescription'),expression:\"'credits.g3wSuiteDescription'\"}],staticStyle:{\"margin-top\":\"10px\"}})]),_vm._v(\" \"),_c('div',{directives:[{name:\"t\",rawName:\"v-t:pre\",value:('credits.productOf'),expression:\"'credits.productOf'\",arg:\"pre\"}],staticClass:\"credit-title-logo g3w-credits-block\",staticStyle:{\"font-size\":\"1em\",\"display\":\"flex\",\"justify-content\":\"center\"}},[_c('a',{staticStyle:{\"text-align\":\"center!important\"},attrs:{\"href\":\"http://www.gis3w.it\",\"target\":\"_blank\"}},[_c('img',{staticClass:\"img-responsive center-block\",staticStyle:{\"margin-left\":\"5px\"},attrs:{\"width\":\"60\",\"src\":_vm.credits_logo,\"alt\":\"\"}})])]),_vm._v(\" \"),_c('address',{staticStyle:{\"line-height\":\"1.3\",\"text-align\":\"center\",\"margin-top\":\"5px\",\"display\":\"flex\",\"justify-content\":\"center\"},attrs:{\"id\":\"address-credits\"}},[_c('span',{staticStyle:{\"padding\":\"2px\"}},[_c('span',{class:_vm.g3wtemplate.getFontClass('marker'),staticStyle:{\"color\":\"#95ad36\",\"font-weight\":\"bold\"},attrs:{\"aria-hidden\":\"true\"}}),_vm._v(\" Montecatini Terme - Italy\\n                \")]),_vm._v(\" \"),_c('span',{staticStyle:{\"padding\":\"2px\"}},[_c('span',{class:_vm.g3wtemplate.getFontClass('mobile'),staticStyle:{\"color\":\"#95ad36\"},attrs:{\"aria-hidden\":\"true\"}}),_vm._v(\"  +39 393 8534336\\n                \")]),_vm._v(\" \"),_c('span',{staticStyle:{\"padding\":\"2px\"}},[_c('span',{class:_vm.g3wtemplate.getFontClass('mail'),staticStyle:{\"color\":\"#95ad36\"},attrs:{\"aria-hidden\":\"true\"}}),_vm._v(\" \"),_c('a',{staticStyle:{\"color\":\"#000000\"},attrs:{\"href\":\"mailto:info@gis3w.it\"}},[_vm._v(\" info@gis3w.it\")])])])]):_vm._e()])])])])]),_vm._v(\" \"),_c('div',{staticClass:\"modal fade\",attrs:{\"id\":\"custom_modal\"}},[_c('div',{staticClass:\"modal-dialog\",attrs:{\"role\":\"document\"}},[_c('div',{staticClass:\"modal-content\",domProps:{\"innerHTML\":_vm._s(_vm.current_custom_modal_content)}})])])],1)}\n__vue__options__.staticRenderFns = [function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('button',{staticClass:\"close\",staticStyle:{\"color\":\"#ffffff\",\"font-weight\":\"bold\",\"opacity\":\"1\",\"position\":\"absolute\",\"right\":\"25px\",\"top\":\"20px\"},attrs:{\"type\":\"button\",\"data-dismiss\":\"modal\",\"aria-label\":\"Close\"}},[_c('span',{attrs:{\"aria-hidden\":\"true\"}},[_vm._v(\"×\")])])}]\n\n},{\"components/HeaderItem.vue\":233,\"constant\":4,\"core/i18n/i18n.service\":13,\"core/utils/utils\":68,\"mixins\":343,\"services/application\":351,\"services/gui\":361,\"store/projects\":379,\"vue-cookie-law\":\"vue-cookie-law\"}],195:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar _require = require('core/utils/utils'),\n    getUniqueDomId = _require.getUniqueDomId;\n\nexports.default = {\n  props: {\n    showdata: {\n      type: Boolean,\n      default: true\n    }\n  },\n  data: function data() {\n    return {\n      id: 'graphline' + getUniqueDomId(),\n      selectitems: [],\n      data: [],\n      components: [],\n      config: {\n        data: {\n          columns: [['x'], ['y']]\n        }\n      },\n      size: {\n        width: 0,\n        height: 0\n      }\n    };\n  },\n\n  methods: {\n    addComponent: function addComponent(component) {\n      this.components.push(component);\n    },\n    addComponents: function addComponents() {\n      var _this = this;\n\n      var components = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n      components.forEach(function (component) {\n        return _this.addComponent(component);\n      });\n    },\n    setConfig: function setConfig() {\n      var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      this.config = config;\n    },\n    setDataOffset: function setDataOffset(offset) {\n      var render = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n      var data = this.getData();\n      for (var i = 0; i < data.length; i++) {\n        var item = data[i];\n        item.value += offset;\n      }\n      if (render) {\n        this.resize();\n      }\n    },\n    getSelectedItems: function getSelectedItems() {\n      return this.selectitems;\n    },\n    selectItem: function selectItem(id) {\n      this.chart.select(['y'], [id]);\n    },\n    unselectItem: function unselectItem(id) {\n      this.chart.unselect(['y'], [id]);\n    },\n    selectItems: function selectItems() {\n      var ids = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n      this.chart.select([y], ids);\n    },\n    unselectItems: function unselectItems() {\n      var ids = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n      this.chart.unselect(['y'], ids);\n    },\n    unselectAll: function unselectAll() {\n      this.chart.unselect();\n    },\n    selectAll: function selectAll() {\n      this.chart.select();\n    },\n    getData: function getData() {\n      return this.data;\n    },\n    resize: function () {\n      var _ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee() {\n        var _ref2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n            width = _ref2.width,\n            height = _ref2.height;\n\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return this.$nextTick();\n\n              case 2:\n                this.chart.resize({\n                  width: width,\n                  height: height || $('#' + this.id).height() - 4\n                });\n\n              case 3:\n              case 'end':\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function resize() {\n        return _ref.apply(this, arguments);\n      }\n\n      return resize;\n    }(),\n    _setAllowedSpace: function _setAllowedSpace() {\n      if (this.components && this.components.length) this.size.height = document.querySelector('.g3wform_content').offsetHeight - this.$el.offsetHeight - document.querySelector('.g3wform_header').offsetHeight - 50;\n    },\n    _setMaxMin: function _setMaxMin(_ref3) {\n      var value = _ref3.value,\n          max = _ref3.max,\n          min = _ref3.min;\n\n      min = value ? +value : +min;\n      max = value ? +value : +max;\n      if (min < this.chart.axis.min().y) this.chart.axis.min(min);else if (max > this.chart.axis.max().y) this.chart.axis.max(max);else {\n        var dataValues = this.data.map(function (data) {\n          return +data.value;\n        });\n        this.chart.axis.max(Math.max.apply(Math, _toConsumableArray(dataValues)));\n        this.chart.axis.min(Math.min.apply(Math, _toConsumableArray(dataValues)));\n      }\n      this.resize();\n    },\n    changeItems: function changeItems(items) {\n      if (items.length === 1) this._setMaxMin(items[0].value);else {\n        var max = Math.max.apply(Math, _toConsumableArray(items.map(function (item) {\n          return +item.value;\n        })));\n        var min = Math.min.apply(Math, _toConsumableArray(items.map(function (item) {\n          return +item.value;\n        })));\n        this._setMaxMin({\n          max: max,\n          min: min\n        });\n      }\n      this.resize();\n    },\n    changeItem: function changeItem(_ref4) {\n      var item = _ref4.item,\n          _ref4$render = _ref4.render,\n          render = _ref4$render === undefined ? true : _ref4$render;\n\n      var value = item.value;\n      this._setMaxMin({ value: value });\n      if (render) {\n        this.resize();\n      }\n    }\n  },\n  mounted: function mounted() {\n    var _this2 = this;\n\n    this.$nextTick(function () {\n      _gui2.default.on('resize', _this2.resize);\n      var self = _this2;\n      _this2.config.data.onselected = function (evt) {\n        var _temp = [].concat(_toConsumableArray(self.selectitems), [evt]);\n        self.selectitems = _temp;\n      };\n      _this2.config.data.onunselected = function (evt) {\n        self.selectitems = self.selectitems.filter(function (selectitem) {\n          return selectitem.index !== evt.index;\n        });\n      };\n      _this2.chart = c3.generate(_extends({\n        bindto: '#' + _this2.id\n      }, _this2.config));\n      var data = _this2.chart.data()[0] ? _this2.chart.data()[0].values : [];\n      data.forEach(function (item) {\n        _this2.data.push(item);\n      });\n      _this2._setAllowedSpace();\n\n      _this2.$emit('chart-ready', _this2.chart);\n    });\n  },\n  beforeDestroy: function beforeDestroy() {\n    this.data = this.selectitems = null;\n    this.chart.destroy();\n    this.chart = null;\n    _gui2.default.off('resize', this.resize);\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"chart_wrapper\",staticStyle:{\"height\":\"100%\",\"width\":\"100%\"}},[_c('div',{staticStyle:{\"height\":\"100%\",\"min-height\":\"200px\",\"background-color\":\"#ffffff\"},attrs:{\"id\":_vm.id}}),_vm._v(\" \"),_vm._l((_vm.components),function(component){return _c('div',[_c('span',{staticClass:\"divider\"}),_vm._v(\" \"),_c(component,{tag:\"component\",attrs:{\"data\":_vm.data,\"selectitems\":_vm.selectitems,\"size\":_vm.size},on:{\"change-item\":_vm.changeItem,\"change-items\":_vm.changeItems,\"select-item\":_vm.selectItem,\"select-all\":_vm.selectAll,\"unselect-all\":_vm.unselectAll,\"unselect-item\":_vm.unselectItem}})],1)})],2)}\n__vue__options__.staticRenderFns = []\n\n},{\"core/utils/utils\":68,\"services/gui\":361}],196:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _constant = require('app/constant');\n\nvar _catalogeventhub = require('gui/catalog/vue/catalogeventhub');\n\nvar _catalogeventhub2 = _interopRequireDefault(_catalogeventhub);\n\nvar _CatalogChangeMapThemes = require('components/CatalogChangeMapThemes.vue');\n\nvar _CatalogChangeMapThemes2 = _interopRequireDefault(_CatalogChangeMapThemes);\n\nvar _CatalogLayerContextMenu = require('components/CatalogLayerContextMenu.vue');\n\nvar _CatalogLayerContextMenu2 = _interopRequireDefault(_CatalogLayerContextMenu);\n\nvar _catalogLayers = require('store/catalog-layers');\n\nvar _catalogLayers2 = _interopRequireDefault(_catalogLayers);\n\nvar _application = require('services/application');\n\nvar _application2 = _interopRequireDefault(_application);\n\nvar _mapControls = require('store/map-controls');\n\nvar _mapControls2 = _interopRequireDefault(_mapControls);\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar DEFAULT_ACTIVE_TAB = 'layers';\n\nexports.default = {\n  data: function data() {\n    var legend = this.$options.legend;\n    legend.place = _application2.default.getCurrentProject().getLegendPosition() || 'tab';\n    return {\n      state: null,\n      legend: legend,\n      showlegend: false,\n      currentBaseLayer: null,\n      activeTab: null,\n      loading: false\n    };\n  },\n\n  components: {\n    'changemapthemes': _CatalogChangeMapThemes2.default,\n    'cataloglayercontextmenu': _CatalogLayerContextMenu2.default\n  },\n  computed: {\n    showTocTools: function showTocTools() {\n      var _project$state$map_th = this.project.state.map_themes,\n          map_themes = _project$state$map_th === undefined ? [] : _project$state$map_th;\n\n      var show = map_themes.length > 1;\n      return show;\n    },\n    project: function project() {\n      return this.state.prstate.currentProject;\n    },\n    title: function title() {\n      return this.project.state.name;\n    },\n    baselayers: function baselayers() {\n      return this.project.state.baselayers;\n    },\n    hasBaseLayers: function hasBaseLayers() {\n      return this.project.state.baselayers.length > 0;\n    },\n    hasLayers: function hasLayers() {\n      var layerstresslength = 0;\n      this.state.layerstrees.forEach(function (layerstree) {\n        return layerstresslength += layerstree.tree.length;\n      });\n      return this.state.external.vector.length > 0 || layerstresslength > 0 || this.state.layersgroups.length > 0;\n    }\n  },\n  methods: {\n    changeMapTheme: function () {\n      var _ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee(map_theme) {\n        var changes, changeStyleLayersId;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _gui2.default.closeContent();\n                _context.next = 3;\n                return this.$options.service.changeMapTheme(map_theme);\n\n              case 3:\n                changes = _context.sent;\n                changeStyleLayersId = Object.keys(changes.layers).filter(function (layerId) {\n                  if (changes.layers[layerId].style) {\n                    if (!changes.layers[layerId].visible) {\n                      var layer = _catalogLayers2.default.getLayerById(layerId);\n\n                      layer.clearCategories();\n                      layer.change();\n                    }\n                    return true;\n                  }\n                });\n\n                this.legend.place === 'tab' ? _catalogeventhub2.default.$emit('layer-change-style') : changeStyleLayersId.forEach(function (layerId) {\n                  _catalogeventhub2.default.$emit('layer-change-style', {\n                    layerId: layerId\n                  });\n                });\n\n              case 6:\n              case 'end':\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function changeMapTheme(_x) {\n        return _ref.apply(this, arguments);\n      }\n\n      return changeMapTheme;\n    }(),\n    delegationClickEventTab: function delegationClickEventTab(evt) {\n      this.activeTab = evt.target.attributes['aria-controls'] ? evt.target.attributes['aria-controls'].value : this.activeTab;\n    },\n    showLegend: function showLegend(bool) {\n      this.showlegend = bool;\n    },\n    setBaseLayer: function setBaseLayer(id) {\n      this.currentBaseLayer = id;\n      this.project.setBaseLayer(id);\n      _application2.default.setBaseLayerId(id);\n    },\n    getSrcBaseLayerImage: function getSrcBaseLayerImage(baseLayer) {\n      var type = baseLayer && baseLayer.servertype || baseLayer;\n      var image = void 0;\n      var customimage = false;\n      switch (type) {\n        case 'OSM':\n          image = 'osm.png';\n          break;\n        case 'Bing':\n          var subtype = baseLayer.source.subtype;\n          image = 'bing' + subtype + '.png';\n          break;\n        case 'TMS':\n        case 'WMTS':\n          if (baseLayer.icon) {\n            customimage = true;\n            image = baseLayer.icon;\n            break;\n          }\n        default:\n          image = 'nobaselayer.png';\n      }\n      return !customimage ? _gui2.default.getResourcesUrl() + 'images/' + image : image;\n    }\n  },\n  watch: {\n    'state.external.wms': function stateExternalWms(newlayers, oldlayers) {\n      if (oldlayers && newlayers.length === 0) {\n        this.activeTab = this.project.state.catalog_tab || DEFAULT_ACTIVE_TAB;\n      }\n    },\n\n    'state.prstate.currentProject': {\n      handler: function () {\n        var _ref2 = _asyncToGenerator(regeneratorRuntime.mark(function _callee2(project, oldproject) {\n          var _this = this;\n\n          var activeTab;\n          return regeneratorRuntime.wrap(function _callee2$(_context2) {\n            while (1) {\n              switch (_context2.prev = _context2.next) {\n                case 0:\n                  activeTab = project.state.catalog_tab || DEFAULT_ACTIVE_TAB;\n\n                  this.loading = activeTab === 'baselayers';\n                  _context2.next = 4;\n                  return this.$nextTick();\n\n                case 4:\n                  setTimeout(function () {\n                    _this.loading = false;\n                    _this.activeTab = activeTab;\n                  }, activeTab === 'baselayers' ? 500 : 0);\n\n                case 5:\n                case 'end':\n                  return _context2.stop();\n              }\n            }\n          }, _callee2, this);\n        }));\n\n        function handler(_x2, _x3) {\n          return _ref2.apply(this, arguments);\n        }\n\n        return handler;\n      }(),\n\n      immediate: false\n    }\n  },\n  created: function created() {\n    var _this2 = this;\n\n    this.layerpositions = _constant.MAP_SETTINGS.LAYER_POSITIONS.getPositions();\n\n    _catalogeventhub2.default.$on('unselectionlayer', function (storeid, layerstree) {\n      if (layerstree.external) {\n        _gui2.default.getService('queryresults').clearSelectionExtenalLayer(layerstree);\n      } else {\n        _catalogLayers2.default.getLayersStore(storeid).getLayerById(layerstree.id).clearSelectionFids();\n      }\n    });\n\n    _catalogeventhub2.default.$on('activefiltertokenlayer', function () {\n      var _ref3 = _asyncToGenerator(regeneratorRuntime.mark(function _callee3(storeid, layerstree) {\n        return regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                _context3.next = 2;\n                return _catalogLayers2.default.getLayersStore(storeid).getLayerById(layerstree.id).toggleFilterToken();\n\n              case 2:\n                layerstree.filter.active = _context3.sent;\n\n              case 3:\n              case 'end':\n                return _context3.stop();\n            }\n          }\n        }, _callee3, _this2);\n      }));\n\n      return function (_x4, _x5) {\n        return _ref3.apply(this, arguments);\n      };\n    }());\n\n    _catalogeventhub2.default.$on('treenodevisible', function (layer) {\n      _gui2.default.getService('map').emit('cataloglayervisible', layer);\n    });\n\n    _catalogeventhub2.default.$on('treenodeselected', function (storeid, node) {\n      var layer = _catalogLayers2.default.getLayersStore(storeid).getLayerById(node.id);\n\n      if (!layer.isSelected()) {\n        _gui2.default.getService('catalog').setSelectedExternalLayer({ layer: null, type: 'vector', selected: false });\n      }\n      setTimeout(function () {\n        _catalogLayers2.default.getLayersStore(storeid).selectLayer(node.id, !layer.isSelected());\n\n        _gui2.default.getService('map').emit('cataloglayerselected', layer);\n      });\n    });\n\n    _catalogeventhub2.default.$on('treenodeexternalselected', function (layer) {\n      _gui2.default.getService('catalog').setSelectedExternalLayer({ layer: layer, type: 'vector', selected: !layer.selected }).then(function () {\n        if (layer.selected) {\n          _catalogLayers2.default.getLayersStores().forEach(function (layer) {\n            layer.selectLayer(null, false);\n          });\n        }\n      });\n    });\n\n    _mapControls2.default.onafter('registerControl', function (id, control) {\n      if ('querybbox' === id) {\n        control.getInteraction().on('propertychange', function (evt) {\n          if ('active' === evt.key) _this2.state.highlightlayers = !evt.oldValue;\n        });\n      }\n    });\n  },\n  beforeMount: function beforeMount() {\n    this.currentBaseLayer = this.project.state.initbaselayer;\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"tabbable-panel catalog\",attrs:{\"id\":\"catalog\"},on:{\"contextmenu\":function($event){$event.preventDefault();$event.stopPropagation();}}},[_c('div',{staticClass:\"tabbable-line\"},[_c('ul',{staticClass:\"nav nav-tabs catalalog-nav-tabs\",attrs:{\"role\":\"tablist\"},on:{\"!click\":function($event){return _vm.delegationClickEventTab($event)}}},[(_vm.hasLayers)?_c('li',{class:{ active: _vm.activeTab === 'layers' && 'hasLayers' },attrs:{\"role\":\"presentation\"}},[_c('a',{directives:[{name:\"t\",rawName:\"v-t\",value:('data'),expression:\"'data'\"}],attrs:{\"href\":\"#layers\",\"aria-controls\":\"layers\",\"role\":\"tab\",\"data-toggle\":\"tab\",\"data-i18n\":\"tree\"}})]):_vm._e(),_vm._v(\" \"),(_vm.state.external.wms.length)?_c('li',{class:{ active: _vm.activeTab === 'externalwms' },attrs:{\"role\":\"presentation\"}},[_c('a',{directives:[{name:\"t\",rawName:\"v-t\",value:('externalwms'),expression:\"'externalwms'\"}],attrs:{\"href\":\"#externalwms\",\"aria-controls\":\"externalwms\",\"role\":\"tab\",\"data-toggle\":\"tab\",\"data-i18n\":\"externalwms\"}})]):_vm._e(),_vm._v(\" \"),(_vm.hasBaseLayers)?_c('li',{class:{ active: _vm.activeTab === 'baselayers' },attrs:{\"role\":\"presentation\"}},[_c('a',{directives:[{name:\"t\",rawName:\"v-t\",value:('baselayers'),expression:\"'baselayers'\"}],attrs:{\"href\":\"#baselayers\",\"aria-controls\":\"baselayers\",\"role\":\"tab\",\"data-toggle\":\"tab\",\"data-i18n\":\"baselayers\"}})]):_vm._e(),_vm._v(\" \"),(_vm.legend.place ===  'tab' && _vm.showlegend)?_c('li',{class:{ active: _vm.activeTab === 'legend' },attrs:{\"role\":\"presentation\"}},[_c('a',{directives:[{name:\"t\",rawName:\"v-t\",value:('legend'),expression:\"'legend'\"}],attrs:{\"href\":\"#legend\",\"aria-controls\":\"legend\",\"role\":\"tab\",\"data-toggle\":\"tab\",\"data-i18n\":\"legend\"}})]):_vm._e()]),_vm._v(\" \"),_c('div',{staticClass:\"tab-content catalog-tab-content\"},[_c('bar-loader',{attrs:{\"loading\":_vm.loading}}),_vm._v(\" \"),_c('div',{staticClass:\"tab-pane\",class:{ active: _vm.activeTab === 'layers' && 'hasLayers' },attrs:{\"role\":\"tabpanel\",\"id\":\"layers\"}},[_c('helpdiv',{attrs:{\"message\":\"catalog_items.helptext\"}}),_vm._v(\" \"),(_vm.showTocTools)?_c('div',{staticStyle:{\"margin\":\"2px\"},attrs:{\"id\":\"g3w-catalog-toc-layers-toolbar\"}},[_c('changemapthemes',{key:_vm.project.state.gid,attrs:{\"map_themes\":_vm.project.state.map_themes},on:{\"change-map-theme\":_vm.changeMapTheme}})],1):_vm._e(),_vm._v(\" \"),_vm._l((_vm.state.layerstrees),function(_layerstree){return _c('ul',{key:_layerstree.storeid,staticClass:\"tree-root root project-root\"},_vm._l((_layerstree.tree),function(layerstree){return _c('tristate-tree',{key:layerstree.id,staticClass:\"item\",attrs:{\"highlightlayers\":_vm.state.highlightlayers,\"layerstree\":layerstree,\"parentFolder\":false,\"root\":true,\"legendplace\":_vm.legend.place,\"parent_mutually_exclusive\":false,\"storeid\":_layerstree.storeid}})}),1)}),_vm._v(\" \"),(_vm.state.external.vector.length)?_c('ul',{staticClass:\"g3w-external_layers-group\"},_vm._l((_vm.state.external.vector),function(layerstree){return _c('tristate-tree',{key:layerstree.id,staticClass:\"item\",attrs:{\"externallayers\":_vm.state.external.vector,\"layerstree\":layerstree}})}),1):_vm._e(),_vm._v(\" \"),_vm._l((_vm.state.layersgroups),function(layersgroup){return _c('ul',[_c('layers-group',{attrs:{\"layersgroup\":layersgroup}})],1)})],2),_vm._v(\" \"),(_vm.state.external.wms.length)?_c('div',{staticClass:\"tab-pane\",class:{ active: _vm.activeTab === 'externalwms' },attrs:{\"role\":\"tabpanel\",\"id\":\"externalwms\"}},[_c('ul',{staticClass:\"g3w-external_wms_layers-group\"},_vm._l((_vm.state.external.wms),function(layerstree){return _c('tristate-tree',{key:layerstree.id,staticClass:\"item\",attrs:{\"externallayers\":_vm.state.external.wms,\"layerstree\":layerstree}})}),1)]):_vm._e(),_vm._v(\" \"),(_vm.hasBaseLayers)?_c('div',{staticClass:\"tab-pane baselayers\",class:{ active: _vm.activeTab === 'baselayers' || !_vm.hasLayers },attrs:{\"role\":\"tabpanel\",\"id\":\"baselayers\"}},[_c('ul',{class:{'mobile': _vm.isMobile()},style:({gridTemplateColumns: (\"repeat(auto-fill, minmax(\" + (_vm.baselayers.length > 4 ? 80 : 120) + \"px, 1fr))\")}),attrs:{\"id\":\"baselayers-content\"}},[_vm._l((_vm.baselayers),function(baselayer){return (!baselayer.fixed)?_c('li',{key:baselayer.title},[_c('img',{staticClass:\"img-responsive img-thumbnail baselayer\",style:({opacity: _vm.currentBaseLayer === baselayer.id ? 1 : 0.5}),attrs:{\"src\":_vm.getSrcBaseLayerImage(baselayer)},on:{\"click\":function($event){$event.stopPropagation();return _vm.setBaseLayer(baselayer.id)}}}),_vm._v(\" \"),_c('div',{staticClass:\"baseselayer-text text-center\"},[_vm._v(_vm._s(baselayer.title))])]):_vm._e()}),_vm._v(\" \"),_c('li',{on:{\"click\":function($event){$event.stopPropagation();return _vm.setBaseLayer(null)}}},[_c('img',{staticClass:\"img-responsive img-thumbnail baselayer\",style:({opacity: _vm.currentBaseLayer === null ? 1 : 0.5}),attrs:{\"src\":_vm.getSrcBaseLayerImage(null)}}),_vm._v(\" \"),_c('div',{directives:[{name:\"t\",rawName:\"v-t\",value:('nobaselayer'),expression:\"'nobaselayer'\"}],staticClass:\"baseselayer-text text-center\"})])],2)]):_vm._e(),_vm._v(\" \"),_vm._l((_vm.state.layerstrees),function(_layerstree){return (_vm.legend.place === 'tab')?_c('layerslegend',{key:_layerstree.id,attrs:{\"legend\":_vm.legend,\"active\":_vm.activeTab === 'legend',\"layerstree\":_layerstree},on:{\"showlegend\":_vm.showLegend}}):_vm._e()})],2)]),_vm._v(\" \"),_c('cataloglayercontextmenu',{attrs:{\"external\":_vm.state.external}})],1)}\n__vue__options__.staticRenderFns = []\n\n},{\"app/constant\":4,\"components/CatalogChangeMapThemes.vue\":197,\"components/CatalogLayerContextMenu.vue\":198,\"gui/catalog/vue/catalogeventhub\":114,\"services/application\":351,\"services/gui\":361,\"store/catalog-layers\":374,\"store/map-controls\":376}],197:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _projects = require('store/projects');\n\nvar _projects2 = _interopRequireDefault(_projects);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = {\n  name: \"changemapthemes\",\n  data: function data() {\n    var collapsed = _projects2.default.getCurrentProject().state.toc_themes_init_status === 'collapsed';\n    var current_map_theme = this.map_themes.find(function (map_theme) {\n      return map_theme.default;\n    });\n    return {\n      current_map_theme: current_map_theme ? current_map_theme.theme : null,\n      collapsed: collapsed\n    };\n  },\n\n  props: {\n    map_themes: {\n      type: Array,\n      default: []\n    }\n  },\n  watch: {\n    'current_map_theme': {\n      immediate: false,\n      handler: function handler(map_theme) {\n        this.$emit('change-map-theme', map_theme);\n      }\n    }\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('ul',{staticClass:\"sidebar-menu\"},[_c('li',{staticClass:\"treeview sidebaritem skin-border-color\",staticStyle:{\"margin-bottom\":\"5px\",\"border-bottom\":\"2px solid\"},attrs:{\"id\":\"g3w-catalog-toc-views\"}},[_c('a',{ref:\"g3w-map-theme-ancor\",staticStyle:{\"display\":\"flex\",\"align-items\":\"center\",\"padding\":\"5px 5px 5px 2px\"},attrs:{\"href\":\"#\"}},[_c('i',{class:_vm.g3wtemplate.getFontClass('caret-down'),staticStyle:{\"padding\":\"3px\"}}),_vm._v(\" \"),_c('i',{class:_vm.g3wtemplate.getFontClass('eye'),staticStyle:{\"padding\":\"0 0 0 4px\"}}),_vm._v(\" \"),_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.current_map_theme ),expression:\"current_map_theme \"}],staticClass:\"treeview-label g3w-long-text\",staticStyle:{\"overflow\":\"hidden\",\"white-space\":\"normal\",\"text-overflow\":\"ellipsis\"}},[_c('span',{directives:[{name:\"t\",rawName:\"v-t:pre\",value:('sdk.catalog.current_map_theme_prefix'),expression:\"'sdk.catalog.current_map_theme_prefix'\",arg:\"pre\"}],staticStyle:{\"color\":\"#cccccc !important\"}},[_vm._v(\":\")]),_vm._v(\" \"),_c('span',{staticClass:\"skin-color\",staticStyle:{\"font-size\":\"1.1em\"}},[_vm._v(_vm._s(_vm.current_map_theme))])]),_vm._v(\" \"),_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.current_map_theme),expression:\"!current_map_theme\"}],staticClass:\"treeview-label\",staticStyle:{\"color\":\"#cccccc !important\",\"font-weight\":\"bold\"}},[_c('span',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.catalog.choose_map_theme'),expression:\"'sdk.catalog.choose_map_theme'\"}]})])]),_vm._v(\" \"),_c('ul',{staticClass:\"treeview-menu\",class:{'menu-open': !_vm.collapsed},style:({display: _vm.collapsed ? 'none' : 'block'}),attrs:{\"id\":\"g3w-catalog-views\"}},[_c('li',{staticStyle:{\"padding\":\"5px 5px 5px 17px\"}},_vm._l((_vm.map_themes),function(map_theme,index){return _c('div',{key:map_theme.theme},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.current_map_theme),expression:\"current_map_theme\"}],staticClass:\"magic-radio\",attrs:{\"type\":\"radio\",\"name\":\"radio\",\"id\":(\"g3w-map_theme-\" + index)},domProps:{\"value\":map_theme.theme,\"checked\":map_theme.default,\"checked\":_vm._q(_vm.current_map_theme,map_theme.theme)},on:{\"change\":function($event){_vm.current_map_theme=map_theme.theme}}}),_vm._v(\" \"),_c('label',{staticStyle:{\"display\":\"flex\",\"justify-content\":\"space-between\"},attrs:{\"for\":(\"g3w-map_theme-\" + index)}},[_c('span',{staticClass:\"g3w-long-text\"},[_vm._v(_vm._s(map_theme.theme))])])])}),0)])])])}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-06d0cd43\"\n\n},{\"store/projects\":379}],198:[function(require,module,exports){\nvar __vueify_style_dispose__ = require(\"vueify/lib/insert-css\").insert(\"li .item-text[data-v-7828b5c0]{font-weight:700}\")\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _vueColor = require('vue-color');\n\nvar _LayerOpacityPicker = require('components/LayerOpacityPicker.vue');\n\nvar _LayerOpacityPicker2 = _interopRequireDefault(_LayerOpacityPicker);\n\nvar _catalogeventhub = require('gui/catalog/vue/catalogeventhub');\n\nvar _catalogeventhub2 = _interopRequireDefault(_catalogeventhub);\n\nvar _catalogLayers = require('store/catalog-layers');\n\nvar _catalogLayers2 = _interopRequireDefault(_catalogLayers);\n\nvar _application = require('services/application');\n\nvar _application2 = _interopRequireDefault(_application);\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar _require = require('core/i18n/i18n.service'),\n    t = _require.t;\n\nvar shpwrite = require('shp-write');\nvar TableComponent = require('gui/table/vue/table');\n\nvar OFFSETMENU = {\n  top: 50,\n  left: 15\n};\n\nexports.default = {\n  name: 'Cataloglayermenu',\n  props: {\n    external: {\n      type: Object\n    }\n  },\n  data: function data() {\n    return {\n      layerMenu: {\n        show: false,\n        top: 0,\n        left: 0,\n        tooltip: false,\n        name: '',\n        layer: null,\n        loading: {\n          data_table: false,\n          shp: false,\n          csv: false,\n          gpx: false,\n          gpkg: false,\n          xls: false\n        },\n\n        colorMenu: {\n          show: false,\n          top: 0,\n          left: 0,\n          color: null\n        },\n\n        stylesMenu: {\n          show: false,\n          top: 0,\n          left: 0,\n          style: null,\n          default: null\n        },\n\n        metadatainfoMenu: {\n          show: false,\n          top: 0,\n          left: 0\n        }\n      }\n    };\n  },\n\n  components: {\n    'chrome-picker': _vueColor.Chrome,\n    'layer-opacity-picker': _LayerOpacityPicker2.default\n  },\n  directives: {\n    'click-outside-layer-menu': {\n      bind: function bind(el, binding, vnode) {\n        this.event = function (event) {\n          if (el === event.target || el.contains(event.target)) {\n            return;\n          }\n          event.stopPropagation();\n          vnode.context[binding.expression](event);\n        };\n        document.body.addEventListener('click', this.event, true);\n      },\n      unbind: function unbind(el) {\n        document.body.removeEventListener('click', this.event, true);\n      }\n    }\n\n  },\n  methods: {\n    addLayerMenuItem: function addLayerMenuItem() {\n      var item = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      this.layerMenu = _extends({}, this.layerMenu, item);\n    },\n    _hideMenu: function _hideMenu() {\n      this.layerMenu.show = false;\n      this.layerMenu.styles = false;\n      this.layerMenu.loading.data_table = false;\n      this.layerMenu.loading.shp = false;\n      this.layerMenu.loading.csv = false;\n      this.layerMenu.loading.gpx = false;\n      this.layerMenu.loading.gpkg = false;\n      this.layerMenu.loading.xls = false;\n      this.layerMenu.loading.geotiff = false;\n    },\n    closeLayerMenu: function closeLayerMenu() {\n      var menu = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      this._hideMenu();\n      this.showColorMenu(false);\n      menu.show = false;\n    },\n    onbeforeDestroyChangeColor: function onbeforeDestroyChangeColor() {\n      this.$refs.color_picker.$off();\n    },\n    onChangeColor: function onChangeColor(val) {\n      var mapService = _gui2.default.getService('map');\n      this.layerMenu.layer.color = val;\n      var layer = mapService.getLayerByName(this.layerMenu.name);\n      var style = layer.getStyle();\n      style._g3w_options.color = val;\n      layer.setStyle(style);\n    },\n    canShowWmsUrl: function canShowWmsUrl(layerId) {\n      var originalLayer = _catalogLayers2.default.getLayerById(layerId);\n      return originalLayer ? !!(!originalLayer.isType('table') && originalLayer.getFullWmsUrl()) : false;\n    },\n    canShowWfsUrl: function canShowWfsUrl(layerId) {\n      var originalLayer = _catalogLayers2.default.getLayerById(layerId);\n      return originalLayer && !originalLayer.isType('table') && originalLayer.isWfsActive();\n    },\n    canDownloadXls: function canDownloadXls(layerId) {\n      var layer = _catalogLayers2.default.getLayerById(layerId);\n      return layer ? layer.isXlsDownlodable() : false;\n    },\n    canDownloadGpx: function canDownloadGpx(layerId) {\n      var layer = _catalogLayers2.default.getLayerById(layerId);\n      return layer ? layer.isGpxDownlodable() : false;\n    },\n    canDownloadGpkg: function canDownloadGpkg(layerId) {\n      var layer = _catalogLayers2.default.getLayerById(layerId);\n      return layer ? layer.isGpkgDownlodable() : false;\n    },\n    canDownloadCsv: function canDownloadCsv(layerId) {\n      var layer = _catalogLayers2.default.getLayerById(layerId);\n      return layer ? layer.isCsvDownlodable() : false;\n    },\n    canDownloadGeoTIFF: function canDownloadGeoTIFF(layerId) {\n      var layer = _catalogLayers2.default.getLayerById(layerId);\n      return layer ? layer.isGeoTIFFDownlodable() : false;\n    },\n    canDownloadShp: function canDownloadShp(layerId) {\n      var layer = _catalogLayers2.default.getLayerById(layerId);\n      return layer ? layer.isShpDownlodable() : false;\n    },\n    getWmsUrl: function getWmsUrl(layerId) {\n      var originalLayer = _catalogLayers2.default.getLayerById(layerId);\n      return originalLayer.getCatalogWmsUrl();\n    },\n    getWfsUrl: function getWfsUrl(layerId) {\n      var originalLayer = _catalogLayers2.default.getLayerById(layerId);\n      return originalLayer.getCatalogWfsUrl();\n    },\n    copyUrl: function copyUrl() {\n      var _this = this;\n\n      var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          evt = _ref.evt,\n          layerId = _ref.layerId,\n          type = _ref.type;\n\n      var url = this['get' + type + 'Url'](layerId);\n      var ancorEement = document.createElement('a');\n      ancorEement.href = url;\n      var tempInput = document.createElement('input');\n      tempInput.value = ancorEement.href;\n      document.body.appendChild(tempInput);\n      tempInput.select();\n      document.execCommand(\"copy\");\n      $(evt.target).attr('data-original-title', t('sdk.catalog.menu.wms.copied')).tooltip('show');\n      $(evt.target).attr('title', this.copywmsurltooltip).tooltip('fixTitle');\n      document.body.removeChild(tempInput);\n      ancorEement = null;\n      setTimeout(function () {\n        return _this._hideMenu();\n      }, 600);\n    },\n    downloadGeoTIFF: function downloadGeoTIFF(layerId) {\n      var _this2 = this;\n\n      var map_extent = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n      var caller_download_id = _application2.default.setDownload(true);\n      this.layerMenu.loading.geotiff = true;\n      var layer = _catalogLayers2.default.getLayerById(layerId);\n      layer.getGeoTIFF({\n        data: map_extent ? {\n          map_extent: _gui2.default.getService('map').getMapExtent().toString()\n        } : undefined\n      }).catch(function (err) {\n        return _gui2.default.notify.error(t(\"info.server_error\"));\n      }).finally(function () {\n        _this2.layerMenu.loading.geotiff = false;\n        _application2.default.setDownload(false, caller_download_id);\n        _this2._hideMenu();\n      });\n    },\n    downloadShp: function downloadShp(layerId) {\n      var _this3 = this;\n\n      var caller_download_id = _application2.default.setDownload(true);\n      this.layerMenu.loading.shp = true;\n      var layer = _catalogLayers2.default.getLayerById(layerId);\n      layer.getShp().catch(function (err) {\n        return _gui2.default.notify.error(t(\"info.server_error\"));\n      }).finally(function () {\n        _this3.layerMenu.loading.shp = false;\n        _application2.default.setDownload(false, caller_download_id);\n        _this3._hideMenu();\n      });\n    },\n    downloadCsv: function downloadCsv(layerId) {\n      var _this4 = this;\n\n      var caller_download_id = _application2.default.setDownload(true);\n      this.layerMenu.loading.csv = true;\n      var layer = _catalogLayers2.default.getLayerById(layerId);\n      layer.getCsv().catch(function (err) {\n        return _gui2.default.notify.error(t(\"info.server_error\"));\n      }).finally(function () {\n        _this4.layerMenu.loading.csv = false;\n        _application2.default.setDownload(false, caller_download_id);\n        _this4._hideMenu();\n      });\n    },\n    downloadXls: function downloadXls(layerId) {\n      var _this5 = this;\n\n      var caller_download_id = _application2.default.setDownload(true);\n      this.layerMenu.loading.xls = true;\n      var layer = _catalogLayers2.default.getLayerById(layerId);\n      layer.getXls().catch(function (err) {\n        return _gui2.default.notify.error(t(\"info.server_error\"));\n      }).finally(function () {\n        _this5.layerMenu.loading.xls = false;\n        _application2.default.setDownload(false, caller_download_id);\n        _this5._hideMenu();\n      });\n    },\n    downloadGpx: function downloadGpx(layerId) {\n      var _this6 = this;\n\n      var caller_download_id = _application2.default.setDownload(true);\n      this.layerMenu.loading.gpx = true;\n      var layer = _catalogLayers2.default.getLayerById(layerId);\n      layer.getGpx().catch(function (err) {\n        return _gui2.default.notify.error(t(\"info.server_error\"));\n      }).finally(function () {\n        _this6.layerMenu.loading.gpx = false;\n        _application2.default.setDownload(false, caller_download_id);\n        _this6._hideMenu();\n      });\n    },\n    downloadGpkg: function downloadGpkg(layerId) {\n      var _this7 = this;\n\n      var caller_download_id = _application2.default.setDownload(true);\n      this.layerMenu.loading.gpkg = true;\n      var layer = _catalogLayers2.default.getLayerById(layerId);\n      layer.getGpkg().catch(function (err) {\n        return _gui2.default.notify.error(t(\"info.server_error\"));\n      }).finally(function () {\n        _this7.layerMenu.loading.gpkg = false;\n        _application2.default.setDownload(false, caller_download_id);\n        _this7._hideMenu();\n      });\n    },\n    changeLayerMapPosition: function changeLayerMapPosition(_ref2) {\n      var position = _ref2.position,\n          layer = _ref2.layer;\n\n      var mapService = _gui2.default.getService('map');\n      var changed = layer.position !== position;\n      if (changed) {\n        layer.position = position;\n        mapService.changeLayerMapPosition({\n          id: layer.id,\n          position: position\n        });\n        changed && this._hideMenu();\n      }\n    },\n    setWMSOpacity: function setWMSOpacity(_ref3) {\n      var _ref3$id = _ref3.id,\n          id = _ref3$id === undefined ? this.layerMenu.layer.id : _ref3$id,\n          opacity = _ref3.value;\n\n      this.layerMenu.layer.opacity = opacity;\n      var mapService = _gui2.default.getService('map');\n      mapService.changeLayerOpacity({\n        id: id,\n        opacity: opacity\n      });\n    },\n    zoomToLayer: function zoomToLayer(layer) {\n      _gui2.default.getService('map').goToBBox([layer.bbox.minx, layer.bbox.miny, layer.bbox.maxx, layer.bbox.maxy], layer.epsg);\n      this._hideMenu();\n    },\n    canZoom: function canZoom(layer) {\n      return layer.bbox && [layer.bbox.minx, layer.bbox.miny, layer.bbox.maxx, layer.bbox.maxy].find(function (coordinate) {\n        return coordinate > 0;\n      });\n    },\n    getGeometryType: function getGeometryType(layerId) {\n      var external = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n      var geometryType = void 0;\n      if (external) {\n        var layer = this.external.vector.find(function (layer) {\n          return layer.id === layerId;\n        });\n        if (layer) geometryType = layer.geometryType;\n      } else {\n        var originalLayer = _catalogLayers2.default.getLayerById(layerId);\n        geometryType = originalLayer.config.geometrytype;\n      }\n      geometryType = geometryType && geometryType !== 'NoGeometry' ? geometryType : '';\n      return geometryType;\n    },\n    downloadExternalShapefile: function () {\n      var _ref4 = _asyncToGenerator(regeneratorRuntime.mark(function _callee(layer) {\n        var EPSG4326, mapService, vectorLayer, GeoJSONFormat, features, GeoJSONFile, name;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                EPSG4326 = 'EPSG:4326';\n\n                this.layerMenu.loading.shp = true;\n                mapService = _gui2.default.getService('map');\n                vectorLayer = mapService.getLayerByName(layer.name);\n                GeoJSONFormat = new ol.format.GeoJSON();\n                features = vectorLayer.getSource().getFeatures();\n\n                if (layer.crs !== EPSG4326) {\n                  features = features.map(function (feature) {\n                    var clonefeature = feature.clone();\n                    clonefeature.getGeometry().transform(layer.crs, EPSG4326);\n                    return clonefeature;\n                  });\n                }\n                GeoJSONFile = GeoJSONFormat.writeFeaturesObject(features, {\n                  featureProjection: EPSG4326\n                });\n                name = layer.name.split('.' + layer.type)[0];\n\n                shpwrite.download(GeoJSONFile, {\n                  folder: name,\n                  types: {\n                    point: name,\n                    mulipoint: name,\n                    polygon: name,\n                    multipolygon: name,\n                    line: name,\n                    polyline: name,\n                    multiline: name\n                  }\n                });\n                _context.next = 12;\n                return this.$nextTick();\n\n              case 12:\n                this.layerMenu.loading.shp = false;\n                this._hideMenu();\n\n              case 14:\n              case 'end':\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function downloadExternalShapefile(_x6) {\n        return _ref4.apply(this, arguments);\n      }\n\n      return downloadExternalShapefile;\n    }(),\n    showAttributeTable: function showAttributeTable(layerId) {\n      var _this8 = this;\n\n      this.layerMenu.loading.data_table = false;\n      _gui2.default.closeContent();\n      var layer = _catalogLayers2.default.getLayerById(layerId);\n      this.layerMenu.loading.data_table = true;\n      var tableContent = new TableComponent({\n        layer: layer,\n        formatter: 1\n      });\n      tableContent.on('show', function () {\n        _this8.isMobile() && _gui2.default.hideSidebar();\n        _this8.layerMenu.loading.data_table = false;\n        _this8._hideMenu();\n      });\n      tableContent.show({\n        title: layer.getName()\n      });\n    },\n    startEditing: function startEditing() {\n      var _this9 = this;\n\n      var layer = void 0;\n      var catallogLayersStores = _catalogLayers2.default.getLayersStores();\n      catallogLayersStores.forEach(function (layerStore) {\n        layer = layerStore.getLayerById(_this9.layerMenu.layer.id);\n        if (layer) {\n          layer.getLayerForEditing();\n          return false;\n        }\n      });\n    },\n    setCurrentLayerStyle: function setCurrentLayerStyle(index) {\n      var _this10 = this;\n\n      var changed = false;\n      this.layerMenu.layer.styles.forEach(function (style, idx) {\n        if (idx === index) {\n          _this10.layerMenu.stylesMenu.style = style.name;\n          changed = !style.current;\n          style.current = true;\n        } else style.current = false;\n      });\n      if (changed) {\n        var layerId = this.layerMenu.layer.id;\n        var layer = _catalogLayers2.default.getLayerById(this.layerMenu.layer.id);\n        if (layer) {\n          _catalogeventhub2.default.$emit('layer-change-style', {\n            layerId: layerId,\n            style: this.layerMenu.stylesMenu.style\n          });\n          layer.change();\n        }\n      }\n      this.closeLayerMenu(this.layerMenu.stylesMenu);\n    },\n    showSubMenuContext: function () {\n      var _ref6 = _asyncToGenerator(regeneratorRuntime.mark(function _callee2(_ref5) {\n        var menu = _ref5.menu,\n            bool = _ref5.bool,\n            evt = _ref5.evt;\n        var elem, contextmenu, menuentry, submenu, height, maxH;\n        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                if (!bool) {\n                  _context2.next = 15;\n                  break;\n                }\n\n                elem = $(evt.target);\n\n                menu.top = elem.offset().top;\n                menu.left = elem.offset().left + elem.width() + (elem.outerWidth() - elem.width()) / 2 + OFFSETMENU.left;\n                contextmenu = $(this.$refs['layer-menu']);\n                menuentry = $(evt.target);\n                submenu = menuentry.children('ul');\n                height = submenu.height();\n                maxH = contextmenu.height();\n\n                menu.maxHeight = height >= maxH ? maxH : null;\n                menu.overflowY = height >= maxH ? 'scroll' : null;\n                menu.top = (height >= maxH ? contextmenu : menuentry).offset().top;\n                menu.left = this.isMobile() ? 0 : menuentry.offset().left + menuentry.width() + (menuentry.outerWidth() - menuentry.width()) / 2 + OFFSETMENU.left;\n                _context2.next = 15;\n                return this.$nextTick();\n\n              case 15:\n                menu.show = bool;\n\n              case 16:\n              case 'end':\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function showSubMenuContext(_x7) {\n        return _ref6.apply(this, arguments);\n      }\n\n      return showSubMenuContext;\n    }(),\n    showStylesMenu: function () {\n      var _ref7 = _asyncToGenerator(regeneratorRuntime.mark(function _callee3(bool, evt) {\n        return regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                this.showSubMenuContext({\n                  menu: this.layerMenu.stylesMenu,\n                  bool: bool,\n                  evt: evt\n                });\n\n              case 1:\n              case 'end':\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this);\n      }));\n\n      function showStylesMenu(_x8, _x9) {\n        return _ref7.apply(this, arguments);\n      }\n\n      return showStylesMenu;\n    }(),\n    showMetadataInfo: function () {\n      var _ref8 = _asyncToGenerator(regeneratorRuntime.mark(function _callee4(bool, evt) {\n        var elem;\n        return regeneratorRuntime.wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                if (!bool) {\n                  _context4.next = 6;\n                  break;\n                }\n\n                elem = $(evt.target);\n\n                this.layerMenu.metadatainfoMenu.top = elem.offset().top;\n                this.layerMenu.metadatainfoMenu.left = elem.offset().left + elem.width() + (elem.outerWidth() - elem.width()) / 2 + OFFSETMENU.left;\n                _context4.next = 6;\n                return this.$nextTick();\n\n              case 6:\n                this.layerMenu.metadatainfoMenu.show = bool;\n\n              case 7:\n              case 'end':\n                return _context4.stop();\n            }\n          }\n        }, _callee4, this);\n      }));\n\n      function showMetadataInfo(_x10, _x11) {\n        return _ref8.apply(this, arguments);\n      }\n\n      return showMetadataInfo;\n    }(),\n    showColorMenu: function showColorMenu(bool, evt) {\n      if (bool) {\n        var elem = $(evt.target);\n        var contextmenu = $(this.$refs['layer-menu']);\n        this.layerMenu.colorMenu.top = contextmenu.offset().top;\n        this.layerMenu.colorMenu.left = elem.offset().left + elem.width() + (elem.outerWidth() - elem.width()) / 2 - OFFSETMENU.left;\n      }\n      this.layerMenu.colorMenu.show = bool;\n    },\n    getStyleName: function getStyleName(style) {\n      return style.name + (style.name === this.layerMenu.layer.defaultstyle && this.layerMenu.layer.styles.length > 1 ? ' (' + t('default') + ')' : '');\n    }\n  },\n\n  created: function created() {\n    var _this11 = this;\n\n    _catalogeventhub2.default.$on('showmenulayer', function () {\n      var _ref9 = _asyncToGenerator(regeneratorRuntime.mark(function _callee5(layerstree, evt) {\n        return regeneratorRuntime.wrap(function _callee5$(_context5) {\n          while (1) {\n            switch (_context5.prev = _context5.next) {\n              case 0:\n                _this11._hideMenu();\n                _context5.next = 3;\n                return _this11.$nextTick();\n\n              case 3:\n                _this11.layerMenu.left = evt.x;\n                _this11.layerMenu.name = layerstree.name;\n                _this11.layerMenu.layer = layerstree;\n                _this11.layerMenu.show = true;\n                _this11.layerMenu.colorMenu.color = layerstree.color;\n                _context5.next = 10;\n                return _this11.$nextTick();\n\n              case 10:\n                _this11.layerMenu.top = $(evt.target).offset().top - $(_this11.$refs['layer-menu']).height() + $(evt.target).height() / 2;\n                $('.catalog-menu-wms[data-toggle=\"tooltip\"]').tooltip();\n\n              case 12:\n              case 'end':\n                return _context5.stop();\n            }\n          }\n        }, _callee5, _this11);\n      }));\n\n      return function (_x12, _x13) {\n        return _ref9.apply(this, arguments);\n      };\n    }());\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.layerMenu.show)?_c('ul',{directives:[{name:\"click-outside-layer-menu\",rawName:\"v-click-outside-layer-menu\",value:(_vm.closeLayerMenu),expression:\"closeLayerMenu\"}],ref:\"layer-menu\",style:({top: _vm.layerMenu.top + 'px', left: _vm.layerMenu.left + 'px' }),attrs:{\"id\":\"layer-menu\",\"tabindex\":\"-1\"}},[_c('li',{staticClass:\"title\"},[_c('div',[_vm._v(_vm._s(_vm.layerMenu.layer.title))]),_vm._v(\" \"),_c('div',{staticStyle:{\"font-weight\":\"normal\",\"font-size\":\"0.8em\"}},[_vm._v(_vm._s(_vm.getGeometryType(_vm.layerMenu.layer.id, _vm.layerMenu.layer.external)))])]),_vm._v(\" \"),(!_vm.layerMenu.layer.projectLayer)?_c('li',[_c('div',{staticStyle:{\"display\":\"flex\",\"justify-content\":\"space-between\",\"align-items\":\"center\"}},[_c('layerspositions',{staticStyle:{\"display\":\"flex\",\"flex-direction\":\"column\",\"justify-content\":\"space-between\"},attrs:{\"position\":_vm.layerMenu.layer.position},on:{\"layer-position-change\":function($event){return _vm.changeLayerMapPosition({position:$event, layer: _vm.layerMenu.layer})}}})],1)]):_vm._e(),_vm._v(\" \"),(_vm.layerMenu.layer.metadata && _vm.layerMenu.layer.metadata.abstract)?_c('li',{on:{\"mouseleave\":function($event){if($event.target !== $event.currentTarget){ return null; }return _vm.showMetadataInfo(false)},\"mouseover\":function($event){if($event.target !== $event.currentTarget){ return null; }return _vm.showMetadataInfo(true,  $event)}}},[_c('span',{staticClass:\"menu-icon skin-color-dark\",class:_vm.g3wtemplate.getFontClass('info')}),_vm._v(\" \"),_c('span',{directives:[{name:\"t\",rawName:\"v-t\",value:('Metadata'),expression:\"'Metadata'\"}],staticClass:\"item-text\"}),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.layerMenu.metadatainfoMenu.show),expression:\"layerMenu.metadatainfoMenu.show\"}],staticStyle:{\"position\":\"fixed\",\"background-color\":\"#FFFFFF\",\"color\":\"#000000\",\"padding-left\":\"0\",\"border-radius\":\"0 3px 3px 0\"},style:({ top: _vm.layerMenu.metadatainfoMenu.top + 'px', left: ((_vm.layerMenu.metadatainfoMenu.left+1) + \"px\") })},[_c('div',{staticClass:\"layer-menu-metadata-info\",staticStyle:{\"padding\":\"5px\"},domProps:{\"innerHTML\":_vm._s(_vm.layerMenu.layer.metadata.abstract)}})])]):_vm._e(),_vm._v(\" \"),(_vm.layerMenu.layer.geolayer && _vm.layerMenu.layer.styles && _vm.layerMenu.layer.styles.length > 1)?_c('li',{staticClass:\"menu-icon\",on:{\"mouseleave\":function($event){if($event.target !== $event.currentTarget){ return null; }return _vm.showStylesMenu(false,$event)},\"mouseover\":function($event){if($event.target !== $event.currentTarget){ return null; }return _vm.showStylesMenu(true,$event)}}},[_c('span',{staticClass:\"menu-icon skin-color-dark\",class:_vm.g3wtemplate.getFontClass('palette')}),_vm._v(\" \"),_c('span',{directives:[{name:\"t\",rawName:\"v-t\",value:('catalog_items.contextmenu.styles'),expression:\"'catalog_items.contextmenu.styles'\"}],staticClass:\"item-text\"}),_vm._v(\" \"),_c('span',{staticClass:\"menu-icon\",class:_vm.g3wtemplate.getFontClass('arrow-right'),staticStyle:{\"position\":\"absolute\",\"right\":\"0\",\"margin-top\":\"3px\"}}),_vm._v(\" \"),_c('ul',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.layerMenu.stylesMenu.show),expression:\"layerMenu.stylesMenu.show\"}],staticStyle:{\"position\":\"fixed\",\"padding-left\":\"0\",\"background-color\":\"#FFFFFF\",\"color\":\"#000000\"},style:({ top: _vm.layerMenu.stylesMenu.top + 'px', left: ((_vm.layerMenu.stylesMenu.left) + \"px\"), maxHeight: _vm.layerMenu.stylesMenu.maxHeight + 'px', overflowY: _vm.layerMenu.stylesMenu.overflowY })},_vm._l((_vm.layerMenu.layer.styles),function(style,index){return _c('li',{key:style.name,on:{\"click\":function($event){$event.stopPropagation();return _vm.setCurrentLayerStyle(index)}}},[(style.current)?_c('span',{class:_vm.g3wtemplate.getFontClass('circle'),staticStyle:{\"font-size\":\"0.8em\"}}):_vm._e(),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(_vm.getStyleName(style)))])])}),0)]):_vm._e(),_vm._v(\" \"),(_vm.layerMenu.layer.geolayer && _vm.layerMenu.layer.visible)?_c('li',{staticClass:\"menu-icon\",staticStyle:{\"padding-right\":\"0\"}},[_c('layer-opacity-picker',{attrs:{\"layer\":_vm.layerMenu.layer},on:{\"init-menu-item\":_vm.addLayerMenuItem,\"show-menu-item\":_vm.showSubMenuContext}})],1):_vm._e(),_vm._v(\" \"),(_vm.canZoom(_vm.layerMenu.layer))?_c('li',{on:{\"click\":function($event){$event.preventDefault();$event.stopPropagation();return _vm.zoomToLayer(_vm.layerMenu.layer)}}},[_c('span',{staticClass:\"menu-icon skin-color-dark\",class:_vm.g3wtemplate.getFontClass('search')}),_vm._v(\" \"),_c('span',{directives:[{name:\"t\",rawName:\"v-t\",value:('catalog_items.contextmenu.zoomtolayer'),expression:\"'catalog_items.contextmenu.zoomtolayer'\"}],staticClass:\"item-text\"})]):_vm._e(),_vm._v(\" \"),(_vm.layerMenu.layer.openattributetable)?_c('li',{on:{\"click\":function($event){$event.preventDefault();$event.stopPropagation();return _vm.showAttributeTable(_vm.layerMenu.layer.id)}}},[_c('bar-loader',{attrs:{\"loading\":_vm.layerMenu.loading.data_table}}),_vm._v(\" \"),_c('span',{staticClass:\"menu-icon skin-color-dark\",class:_vm.g3wtemplate.getFontClass('list')}),_vm._v(\" \"),_c('span',{directives:[{name:\"t\",rawName:\"v-t\",value:('catalog_items.contextmenu.open_attribute_table'),expression:\"'catalog_items.contextmenu.open_attribute_table'\"}],staticClass:\"item-text\"})],1):_vm._e(),_vm._v(\" \"),(!_vm.layerMenu.layer.projectLayer && _vm.layerMenu.layer._type !== 'wms')?_c('li',{on:{\"click\":function($event){$event.preventDefault();$event.stopPropagation();},\"mouseleave\":function($event){if($event.target !== $event.currentTarget){ return null; }return _vm.showColorMenu(false,$event)},\"mouseover\":function($event){if($event.target !== $event.currentTarget){ return null; }return _vm.showColorMenu(true,$event)}}},[_c('span',{directives:[{name:\"t\",rawName:\"v-t\",value:('catalog_items.contextmenu.vector_color_menu'),expression:\"'catalog_items.contextmenu.vector_color_menu'\"}],staticClass:\"item-text\"}),_vm._v(\" \"),_c('span',{staticClass:\"menu-icon skin-color-dark\",class:_vm.g3wtemplate.getFontClass('arrow-right'),staticStyle:{\"position\":\"absolute\",\"right\":\"0\",\"margin-top\":\"3px\"}}),_vm._v(\" \"),(_vm.layerMenu.colorMenu.show)?_c('ul',{staticStyle:{\"position\":\"fixed\"},style:({ top: _vm.layerMenu.colorMenu.top + 'px', left: _vm.layerMenu.colorMenu.left + 'px' })},[_c('li',{staticStyle:{\"padding\":\"0\"}},[_c('chrome-picker',{ref:\"color_picker\",staticStyle:{\"width\":\"100%\"},on:{\"click\":function($event){$event.preventDefault();$event.stopPropagation();},\"hook:beforeDestroy\":_vm.onbeforeDestroyChangeColor,\"input\":_vm.onChangeColor},model:{value:(_vm.layerMenu.colorMenu.color),callback:function ($$v) {_vm.$set(_vm.layerMenu.colorMenu, \"color\", $$v)},expression:\"layerMenu.colorMenu.color\"}})],1)]):_vm._e()]):_vm._e(),_vm._v(\" \"),(!_vm.layerMenu.layer.projectLayer && _vm.layerMenu.layer._type !== 'wms')?_c('li',{directives:[{name:\"download\",rawName:\"v-download\"}],on:{\"click\":function($event){$event.preventDefault();$event.stopPropagation();}}},[_c('div',{on:{\"click\":function($event){$event.preventDefault();$event.stopPropagation();return _vm.downloadExternalShapefile(_vm.layerMenu.layer)}}},[_c('bar-loader',{attrs:{\"loading\":_vm.layerMenu.loading.shp}}),_vm._v(\" \"),_c('span',{staticClass:\"menu-icon skin-color-dark\",class:_vm.g3wtemplate.getFontClass('shapefile')}),_vm._v(\" \"),_c('span',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.catalog.menu.download.shp'),expression:\"'sdk.catalog.menu.download.shp'\"}],staticClass:\"item-text\"})],1)]):_vm._e(),_vm._v(\" \"),(!_vm.layerMenu.layer.projectLayer && _vm.layerMenu.layer._type === 'wms')?_c('li',{on:{\"click\":function($event){$event.preventDefault();$event.stopPropagation();}}},[_c('div',{staticStyle:{\"display\":\"flex\",\"justify-content\":\"space-between\"}},[_c('span',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.catalog.menu.setwmsopacity'),expression:\"'sdk.catalog.menu.setwmsopacity'\"}],staticClass:\"item-text\"}),_vm._v(\" \"),_c('span',{staticStyle:{\"font-weight\":\"bold\",\"margin-left\":\"5px\"}},[_vm._v(_vm._s(_vm.layerMenu.layer.opacity))])]),_vm._v(\" \"),_c('range',{attrs:{\"value\":_vm.layerMenu.layer.opacity,\"min\":0,\"max\":1,\"step\":0.1,\"sync\":true},on:{\"changed\":_vm._hideMenu,\"change-range\":_vm.setWMSOpacity}})],1):_vm._e(),_vm._v(\" \"),(_vm.canDownloadGeoTIFF(_vm.layerMenu.layer.id))?_c('li',{directives:[{name:\"download\",rawName:\"v-download\"}]},[_c('div',{on:{\"click\":function($event){$event.preventDefault();$event.stopPropagation();return _vm.downloadGeoTIFF(_vm.layerMenu.layer.id)}}},[_c('bar-loader',{attrs:{\"loading\":_vm.layerMenu.loading.geotiff}}),_vm._v(\" \"),_c('span',{staticClass:\"menu-icon skin-color-dark\",class:_vm.g3wtemplate.getFontClass('geotiff')}),_vm._v(\" \"),_c('span',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.catalog.menu.download.geotiff'),expression:\"'sdk.catalog.menu.download.geotiff'\"}],staticClass:\"item-text\"})],1)]):_vm._e(),_vm._v(\" \"),(_vm.canDownloadGeoTIFF(_vm.layerMenu.layer.id))?_c('li',{directives:[{name:\"download\",rawName:\"v-download\"}]},[_c('div',{staticStyle:{\"position\":\"relative\"},on:{\"click\":function($event){$event.preventDefault();$event.stopPropagation();return _vm.downloadGeoTIFF(_vm.layerMenu.layer.id, true)}}},[_c('bar-loader',{attrs:{\"loading\":_vm.layerMenu.loading.geotiff}}),_vm._v(\" \"),_c('span',{staticClass:\"menu-icon skin-color-dark\",class:_vm.g3wtemplate.getFontClass('geotiff'),staticStyle:{\"color\":\"#777\"}}),_vm._v(\" \"),_c('span',{staticClass:\"menu-icon skin-color-dark\",class:_vm.g3wtemplate.getFontClass('crop'),staticStyle:{\"position\":\"absolute\",\"left\":\"-7px\",\"bottom\":\"8px\",\"font-size\":\"1.2em\"}}),_vm._v(\" \"),_c('span',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.catalog.menu.download.geotiff_map_extent'),expression:\"'sdk.catalog.menu.download.geotiff_map_extent'\"}],staticClass:\"item-text\"})],1)]):_vm._e(),_vm._v(\" \"),(_vm.canDownloadShp(_vm.layerMenu.layer.id))?_c('li',{directives:[{name:\"download\",rawName:\"v-download\"}]},[_c('div',{on:{\"click\":function($event){$event.preventDefault();$event.stopPropagation();return _vm.downloadShp(_vm.layerMenu.layer.id)}}},[_c('bar-loader',{attrs:{\"loading\":_vm.layerMenu.loading.shp}}),_vm._v(\" \"),_c('span',{staticClass:\"menu-icon skin-color-dark\",class:_vm.g3wtemplate.getFontClass('shapefile')}),_vm._v(\" \"),_c('span',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.catalog.menu.download.shp'),expression:\"'sdk.catalog.menu.download.shp'\"}],staticClass:\"item-text\"})],1)]):_vm._e(),_vm._v(\" \"),(_vm.canDownloadGpx(_vm.layerMenu.layer.id))?_c('li',[_c('div',{directives:[{name:\"download\",rawName:\"v-download\"}],on:{\"click\":function($event){$event.preventDefault();$event.stopPropagation();return _vm.downloadGpx(_vm.layerMenu.layer.id)}}},[_c('bar-loader',{attrs:{\"loading\":_vm.layerMenu.loading.gpx}}),_vm._v(\" \"),_c('span',{staticClass:\"menu-icon skin-color-dark\",class:_vm.g3wtemplate.getFontClass('gpx')}),_vm._v(\" \"),_c('span',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.catalog.menu.download.gpx'),expression:\"'sdk.catalog.menu.download.gpx'\"}],staticClass:\"item-text\"})],1)]):_vm._e(),_vm._v(\" \"),(_vm.canDownloadGpkg(_vm.layerMenu.layer.id))?_c('li',[_c('div',{directives:[{name:\"download\",rawName:\"v-download\"}],on:{\"click\":function($event){$event.preventDefault();$event.stopPropagation();return _vm.downloadGpkg(_vm.layerMenu.layer.id)}}},[_c('bar-loader',{attrs:{\"loading\":_vm.layerMenu.loading.gpkg}}),_vm._v(\" \"),_c('span',{staticClass:\"menu-icon skin-color-dark\",class:_vm.g3wtemplate.getFontClass('gpkg')}),_vm._v(\" \"),_c('span',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.catalog.menu.download.gpkg'),expression:\"'sdk.catalog.menu.download.gpkg'\"}],staticClass:\"item-text\"})],1)]):_vm._e(),_vm._v(\" \"),(_vm.canDownloadCsv(_vm.layerMenu.layer.id))?_c('li',[_c('div',{directives:[{name:\"download\",rawName:\"v-download\"}],on:{\"click\":function($event){$event.preventDefault();$event.stopPropagation();return _vm.downloadCsv(_vm.layerMenu.layer.id)}}},[_c('bar-loader',{attrs:{\"loading\":_vm.layerMenu.loading.csv}}),_vm._v(\" \"),_c('span',{staticClass:\"menu-icon skin-color-dark\",class:_vm.g3wtemplate.getFontClass('csv')}),_vm._v(\" \"),_c('span',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.catalog.menu.download.csv'),expression:\"'sdk.catalog.menu.download.csv'\"}],staticClass:\"item-text\"})],1)]):_vm._e(),_vm._v(\" \"),(_vm.canDownloadXls(_vm.layerMenu.layer.id))?_c('li',{directives:[{name:\"download\",rawName:\"v-download\"}]},[_c('div',{on:{\"click\":function($event){$event.preventDefault();$event.stopPropagation();return _vm.downloadXls(_vm.layerMenu.layer.id)}}},[_c('bar-loader',{attrs:{\"loading\":_vm.layerMenu.loading.xls}}),_vm._v(\" \"),_c('span',{staticClass:\"menu-icon skin-color-dark\",class:_vm.g3wtemplate.getFontClass('xls')}),_vm._v(\" \"),_c('span',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.catalog.menu.download.xls'),expression:\"'sdk.catalog.menu.download.xls'\"}],staticClass:\"item-text\"})],1)]):_vm._e(),_vm._v(\" \"),(_vm.canShowWmsUrl(_vm.layerMenu.layer.id))?_c('li',[_c('div',{staticStyle:{\"display\":\"flex\",\"max-width\":\"300px\",\"align-items\":\"center\"},on:{\"click\":function($event){$event.preventDefault();$event.stopPropagation();return _vm.copyUrl({evt: $event, layerId:_vm.layerMenu.layer.id, type:'Wms'})}}},[_c('span',{staticClass:\"menu-icon skin-color-dark\",class:_vm.g3wtemplate.getFontClass('map')}),_vm._v(\" \"),_c('div',{staticStyle:{\"display\":\"inline-flex\",\"justify-content\":\"space-between\",\"width\":\"100%\",\"align-items\":\"baseline\"}},[_c('span',{directives:[{name:\"t-tooltip\",rawName:\"v-t-tooltip\",value:('sdk.catalog.menu.wms.copy'),expression:\"'sdk.catalog.menu.wms.copy'\"}],staticClass:\"item-text catalog-menu-wms skin-tooltip-top\",attrs:{\"data-toggle\":\"tooltip\"}},[_vm._v(\"WMS URL\")]),_vm._v(\" \"),_c('span',{staticClass:\"bold catalog-menu-wms wms-url-tooltip skin-tooltip-top skin-color-dark\",class:_vm.g3wtemplate.getFontClass('eye'),attrs:{\"data-placement\":\"top\",\"data-toggle\":\"tooltip\",\"title\":_vm.getWmsUrl(_vm.layerMenu.layer.id)}})])])]):_vm._e(),_vm._v(\" \"),(_vm.canShowWfsUrl(_vm.layerMenu.layer.id))?_c('li',[_c('div',{staticStyle:{\"display\":\"flex\",\"max-width\":\"300px\",\"align-items\":\"center\"},on:{\"click\":function($event){$event.preventDefault();$event.stopPropagation();return _vm.copyUrl({evt: $event, layerId:_vm.layerMenu.layer.id, type:'Wfs'})}}},[_c('span',{staticClass:\"menu-icon skin-color-dark\",class:_vm.g3wtemplate.getFontClass('map')}),_vm._v(\" \"),_c('div',{staticStyle:{\"display\":\"inline-flex\",\"justify-content\":\"space-between\",\"width\":\"100%\",\"align-items\":\"baseline\"}},[_c('span',{directives:[{name:\"t-tooltip\",rawName:\"v-t-tooltip\",value:('sdk.catalog.menu.wms.copy'),expression:\"'sdk.catalog.menu.wms.copy'\"}],staticClass:\"item-text catalog-menu-wms skin-tooltip-top\",attrs:{\"data-toggle\":\"tooltip\"}},[_vm._v(\"WFS URL\")]),_vm._v(\" \"),_c('span',{staticClass:\"bold catalog-menu-wms wms-url-tooltip skin-tooltip-top skin-color-dark\",class:_vm.g3wtemplate.getFontClass('eye'),attrs:{\"data-placement\":\"top\",\"data-toggle\":\"tooltip\",\"title\":_vm.getWfsUrl(_vm.layerMenu.layer.id)}})])])]):_vm._e()]):_vm._e()}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-7828b5c0\"\n\n},{\"components/LayerOpacityPicker.vue\":253,\"core/i18n/i18n.service\":13,\"gui/catalog/vue/catalogeventhub\":114,\"gui/table/vue/table\":184,\"services/application\":351,\"services/gui\":361,\"shp-write\":\"shp-write\",\"store/catalog-layers\":374,\"vue-color\":\"vue-color\",\"vueify/lib/insert-css\":1}],199:[function(require,module,exports){\nvar __vueify_style_dispose__ = require(\"vueify/lib/insert-css\").insert(\".layer-legend[data-v-fc3d03ea]{padding-left:36px}\")\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nvar _catalogeventhub = require('gui/catalog/vue/catalogeventhub');\n\nvar _catalogeventhub2 = _interopRequireDefault(_catalogeventhub);\n\nvar _catalogLayers = require('store/catalog-layers');\n\nvar _catalogLayers2 = _interopRequireDefault(_catalogLayers);\n\nvar _projects = require('store/projects');\n\nvar _projects2 = _interopRequireDefault(_projects);\n\nvar _click = require('mixins/click');\n\nvar _click2 = _interopRequireDefault(_click);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nexports.default = {\n  name: \"layerlegend\",\n  props: {\n    legendplace: {\n      type: 'String'\n    },\n    layer: {\n      type: Object\n    }\n  },\n  data: function data() {\n    return {\n      loading: false,\n\n      categories: [],\n\n      currentstyle: this.layer.styles.find(function (style) {\n        return true === style.current;\n      }).name\n\n    };\n  },\n\n  mixins: [_click2.default],\n  computed: {\n    showfeaturecount: function showfeaturecount() {\n      return undefined !== this.layer.featurecount;\n    },\n    externallegend: function externallegend() {\n      return 'wms' === this.layer.source.type;\n    },\n    legend: function legend() {\n      return this.layer.legend;\n    },\n    show: function show() {\n      return this.layer.expanded && this.layer.visible && ('toc' === this.legendplace || 'tab' === this.legendplace && this.layer.categories);\n    }\n  },\n\n  methods: {\n    onCategoryClick: function onCategoryClick() {\n      this.handleClick({\n        '1': function _() {\n          console.info('TODO: select category (single click)');\n        },\n        '2': function _() {\n          console.info('TODO: zoom to category (double click)');\n        }\n      }, this);\n    },\n    showCategoryMenu: function showCategoryMenu() {\n      this.$emit('showmenucategory');\n    },\n    getWmsSourceLayerLegendUrl: function getWmsSourceLayerLegendUrl() {\n      return this.getProjectLayer().getLegendUrl({\n        width: 16,\n        height: 16\n      });\n    },\n    getProjectLayer: function getProjectLayer() {\n      return _catalogLayers2.default.getLayerById(this.layer.id);\n    },\n    isDisabled: function isDisabled(index) {\n      return this.categories[index].disabled;\n    },\n    showHideLayerCategory: function showHideLayerCategory(index) {\n      this.categories[index].checked = !this.categories[index].checked;\n      this.getProjectLayer().change();\n      if ('tab' === this.legendplace) {\n        this.layer.legend.change = true;\n      } else if (this.categories[index].checked && this.mapReady) {\n        this.setLayerCategories(false);\n      }\n    },\n    setError: function setError() {\n      this.legend.error = true;\n      this.legend.loading = false;\n    },\n    urlLoaded: function () {\n      var _ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee() {\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                this.legend.loading = false;\n\n              case 1:\n              case 'end':\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function urlLoaded() {\n        return _ref.apply(this, arguments);\n      }\n\n      return urlLoaded;\n    }(),\n    onChangeLayerLegendStyle: function () {\n      var _ref2 = _asyncToGenerator(regeneratorRuntime.mark(function _callee2() {\n        var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                this.loading = true;\n\n                if (!this.externallegend) {\n                  _context2.next = 3;\n                  break;\n                }\n\n                return _context2.abrupt('return');\n\n              case 3:\n                _context2.prev = 3;\n\n                if (!(undefined !== options.style && options.layerId === this.layer.id)) {\n                  _context2.next = 13;\n                  break;\n                }\n\n                _context2.next = 7;\n                return this.setLayerCategories(true);\n\n              case 7:\n                _context2.next = 9;\n                return this.getProjectLayer().getStyleFeatureCount(options.style);\n\n              case 9:\n                this.currentstyle = options.style;\n                if (!this.dynamic) {\n                  _context2.next = 13;\n                  break;\n                }\n\n                _context2.next = 13;\n                return this.setLayerCategories(false);\n\n              case 13:\n                _context2.next = 18;\n                break;\n\n              case 15:\n                _context2.prev = 15;\n                _context2.t0 = _context2['catch'](3);\n\n                console.warn('Error while changing layer style');\n\n              case 18:\n\n                this.loading = false;\n\n              case 19:\n              case 'end':\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this, [[3, 15]]);\n      }));\n\n      function onChangeLayerLegendStyle() {\n        return _ref2.apply(this, arguments);\n      }\n\n      return onChangeLayerLegendStyle;\n    }(),\n    setLayerCategories: function () {\n      var _ref3 = _asyncToGenerator(regeneratorRuntime.mark(function _callee3() {\n        var all = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n        var projectLayer, categories, _ref4, _ref4$nodes, nodes;\n\n        return regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                _context3.prev = 0;\n                projectLayer = this.getProjectLayer();\n                categories = projectLayer.getCategories();\n\n                if (!(all && categories)) {\n                  _context3.next = 7;\n                  break;\n                }\n\n                this.categories = categories;\n                _context3.next = 13;\n                break;\n\n              case 7:\n                _context3.next = 9;\n                return projectLayer.getLegendGraphic({ all: all });\n\n              case 9:\n                _ref4 = _context3.sent;\n                _ref4$nodes = _ref4.nodes;\n                nodes = _ref4$nodes === undefined ? [] : _ref4$nodes;\n\n                if (all) {\n                  this._setAllLayerCategories(nodes);\n                } else {\n                  this._updateLayerCategories(nodes, categories);\n                }\n\n              case 13:\n                _context3.next = 18;\n                break;\n\n              case 15:\n                _context3.prev = 15;\n                _context3.t0 = _context3['catch'](0);\n\n                this.setError();\n\n              case 18:\n              case 'end':\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this, [[0, 15]]);\n      }));\n\n      function setLayerCategories() {\n        return _ref3.apply(this, arguments);\n      }\n\n      return setLayerCategories;\n    }(),\n    _setAllLayerCategories: function _setAllLayerCategories(nodes) {\n      var projectLayer = this.getProjectLayer();\n\n      var categories = [];\n      nodes.forEach(function (_ref5) {\n        var icon = _ref5.icon,\n            title = _ref5.title,\n            ruleKey = _ref5.ruleKey,\n            checked = _ref5.checked,\n            _ref5$symbols = _ref5.symbols,\n            symbols = _ref5$symbols === undefined ? [] : _ref5$symbols;\n\n        if (icon) {\n          categories.push({ icon: icon, title: title, ruleKey: ruleKey, checked: checked, disabled: false });\n        } else {\n          symbols.forEach(function (symbol) {\n            symbol._checked = symbol.checked;\n            symbol.disabled = false;\n            categories.push(symbol);\n          });\n        }\n      });\n      projectLayer.setCategories(categories);\n      this.categories = categories;\n    },\n    _updateLayerCategories: function _updateLayerCategories(nodes, categories) {\n      var projectLayer = this.getProjectLayer();\n\n      projectLayer.setCategories(categories);\n      this.categories = categories;\n\n      if (nodes.length) {\n        nodes.forEach(function (_ref6) {\n          var icon = _ref6.icon,\n              title = _ref6.title,\n              _ref6$symbols = _ref6.symbols,\n              symbols = _ref6$symbols === undefined ? [] : _ref6$symbols;\n\n          if (icon) {\n            symbols = [{ icon: icon, title: title }];\n          }\n          categories.forEach(function (category) {\n            var findSymbol = symbols.find(function (symbol) {\n              return symbol.icon === category.icon && symbol.title === category.title;\n            });\n            var disabled = \"undefined\" !== typeof category.checked ? category.checked : true;\n            category.disabled = disabled && \"undefined\" === typeof findSymbol;\n          });\n        });\n      } else {\n        categories.forEach(function (category) {\n          return category.disabled = \"undefined\" !== typeof category.checked ? category.checked : true;\n        });\n      }\n    },\n    onChangeMapLegendParams: function () {\n      var _ref7 = _asyncToGenerator(regeneratorRuntime.mark(function _callee4() {\n        return regeneratorRuntime.wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                this.mapReady = true;\n                if (this.layer.visible && false === this.externallegend && ('toc' === this.legendplace || this.layer.categories)) {\n                  this.setLayerCategories(false);\n                }\n\n              case 2:\n              case 'end':\n                return _context4.stop();\n            }\n          }\n        }, _callee4, this);\n      }));\n\n      function onChangeMapLegendParams() {\n        return _ref7.apply(this, arguments);\n      }\n\n      return onChangeMapLegendParams;\n    }(),\n    runInitLayerVisibleAction: function () {\n      var _ref8 = _asyncToGenerator(regeneratorRuntime.mark(function _callee5() {\n        return regeneratorRuntime.wrap(function _callee5$(_context5) {\n          while (1) {\n            switch (_context5.prev = _context5.next) {\n              case 0:\n                _context5.next = 2;\n                return this.setLayerCategories(true);\n\n              case 2:\n                if (!this.dynamic) {\n                  _context5.next = 6;\n                  break;\n                }\n\n                _context5.next = 5;\n                return this.setLayerCategories(false);\n\n              case 5:\n                _gui2.default.getService('map').on('change-map-legend-params', this.onChangeMapLegendParams);\n\n              case 6:\n                this.initialize = true;\n\n              case 7:\n              case 'end':\n                return _context5.stop();\n            }\n          }\n        }, _callee5, this);\n      }));\n\n      function runInitLayerVisibleAction() {\n        return _ref8.apply(this, arguments);\n      }\n\n      return runInitLayerVisibleAction;\n    }()\n  },\n\n  watch: {\n    'layer.visible': function () {\n      var _ref9 = _asyncToGenerator(regeneratorRuntime.mark(function _callee6(visible) {\n        var enabled;\n        return regeneratorRuntime.wrap(function _callee6$(_context6) {\n          while (1) {\n            switch (_context6.prev = _context6.next) {\n              case 0:\n                enabled = visible && false === this.externallegend;\n\n                if (!(enabled && false === this.initialize)) {\n                  _context6.next = 4;\n                  break;\n                }\n\n                _context6.next = 4;\n                return this.runInitLayerVisibleAction();\n\n              case 4:\n                if (!(enabled && false !== this.initialize)) {\n                  _context6.next = 7;\n                  break;\n                }\n\n                _context6.next = 7;\n                return this.setLayerCategories(!this.dynamic);\n\n              case 7:\n              case 'end':\n                return _context6.stop();\n            }\n          }\n        }, _callee6, this);\n      }));\n\n      function layerVisible(_x3) {\n        return _ref9.apply(this, arguments);\n      }\n\n      return layerVisible;\n    }()\n  },\n\n  created: function () {\n    var _ref10 = _asyncToGenerator(regeneratorRuntime.mark(function _callee7() {\n      return regeneratorRuntime.wrap(function _callee7$(_context7) {\n        while (1) {\n          switch (_context7.prev = _context7.next) {\n            case 0:\n              this.initialize = false;\n\n              this.dynamic = _projects2.default.getCurrentProject().getContextBaseLegend();\n\n              this.mapReady = false;\n\n              _catalogeventhub2.default.$on('layer-change-style', this.onChangeLayerLegendStyle);\n\n              if (!(false === this.externallegend && true === this.layer.visible)) {\n                _context7.next = 7;\n                break;\n              }\n\n              _context7.next = 7;\n              return this.runInitLayerVisibleAction();\n\n            case 7:\n            case 'end':\n              return _context7.stop();\n          }\n        }\n      }, _callee7, this);\n    }));\n\n    function created() {\n      return _ref10.apply(this, arguments);\n    }\n\n    return created;\n  }(),\n  beforeDestroy: function beforeDestroy() {\n    _catalogeventhub2.default.$off('layer-change-style', this.onChangeLayerLegendStyle);\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.show),expression:\"show\"}],staticClass:\"layer-legend\",on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();}}},[(_vm.legend)?_c('bar-loader',{attrs:{\"loading\":_vm.legend.loading}}):_vm._e(),_vm._v(\" \"),(_vm.externallegend)?_c('figure',[_c('img',{attrs:{\"src\":_vm.getWmsSourceLayerLegendUrl()}})]):_c('figure',{directives:[{name:\"disabled\",rawName:\"v-disabled\",value:(_vm.loading),expression:\"loading\"}]},[_c('bar-loader',{attrs:{\"loading\":_vm.loading}}),_vm._v(\" \"),_vm._l((_vm.categories),function(category,index){return _c('div',{directives:[{name:\"disabled\",rawName:\"v-disabled\",value:(category.disabled),expression:\"category.disabled\"}],staticStyle:{\"display\":\"flex\",\"align-items\":\"center\",\"width\":\"100%\"},on:{\"contextmenu\":function($event){$event.preventDefault();$event.stopPropagation();return _vm.showCategoryMenu($event)}}},[(category.ruleKey)?_c('span',{class:_vm.g3wtemplate.getFontClass(category.checked ? 'check': 'uncheck'),staticStyle:{\"padding-right\":\"3px\"},on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.showHideLayerCategory(index)}}}):_vm._e(),_vm._v(\" \"),(('toc' === _vm.legendplace))?_c('img',{attrs:{\"src\":category.icon && (\"data:image/png;base64,\" + (category.icon))},on:{\"error\":function($event){return _vm.setError()},\"load\":function($event){return _vm.urlLoaded()}}}):_vm._e(),_vm._v(\" \"),(('tab' === _vm.legendplace && category.ruleKey) || ('toc' === _vm.legendplace))?_c('span',{staticClass:\"g3w-long-text\",staticStyle:{\"padding-left\":\"3px\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.onCategoryClick($event)}}},[_c('span',[_vm._v(_vm._s(category.title))]),_vm._v(\" \"),(_vm.showfeaturecount && 'undefined' !== typeof category.ruleKey)?_c('span',{staticStyle:{\"font-weight\":\"bold\"}},[_vm._v(\"\\n          [\"+_vm._s(_vm.layer.stylesfeaturecount[_vm.currentstyle][category.ruleKey])+\"]\\n        \")]):_vm._e()]):_vm._e()])})],2)],1)}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-fc3d03ea\"\n\n},{\"gui/catalog/vue/catalogeventhub\":114,\"mixins/click\":339,\"services/gui\":361,\"store/catalog-layers\":374,\"store/projects\":379,\"vueify/lib/insert-css\":1}],200:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = {\n  props: {\n    layersgroup: {\n      type: Object\n    }\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticStyle:{\"border\":\"1px solid #ffffff33\",\"margin\":\"5px\"}},[_c('h4',{staticStyle:{\"margin\":\"5px\",\"font-weight\":\"bold\"}},[_vm._v(_vm._s(_vm.layersgroup.title))]),_vm._v(\" \"),_vm._l((_vm.layersgroup.nodes),function(node){return _c('tristate-tree',{staticClass:\"item\",attrs:{\"layerstree\":node}})})],2)}\n__vue__options__.staticRenderFns = []\n\n},{}],201:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = {\n  props: ['layerstree', 'legend', 'active'],\n  data: function data() {\n    return {};\n  },\n\n  computed: {\n    visiblelayers: function visiblelayers() {\n      var _visiblelayers = [];\n      var traverse = function traverse(obj) {\n        var _iteratorNormalCompletion = true;\n        var _didIteratorError = false;\n        var _iteratorError = undefined;\n\n        try {\n          for (var _iterator = obj[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n            var layer = _step.value;\n\n            if (!_.isNil(layer.id) && layer.visible && layer.geolayer && !layer.exclude_from_legend) {\n              _visiblelayers.push(layer);\n            }\n            if (!_.isNil(layer.nodes)) {\n              traverse(layer.nodes);\n            }\n          }\n        } catch (err) {\n          _didIteratorError = true;\n          _iteratorError = err;\n        } finally {\n          try {\n            if (!_iteratorNormalCompletion && _iterator.return) {\n              _iterator.return();\n            }\n          } finally {\n            if (_didIteratorError) {\n              throw _iteratorError;\n            }\n          }\n        }\n      };\n      traverse(this.layerstree.tree);\n      return _visiblelayers;\n    }\n  },\n  watch: {\n    'layerstree': {\n      handler: function handler(val, old) {},\n\n      deep: true\n    },\n    'visiblelayers': function visiblelayers(visibleLayers) {\n      this.$emit('showlegend', !!visibleLayers.length);\n    }\n  },\n  created: function created() {\n    this.$emit('showlegend', !!this.visiblelayers.length);\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"tab-pane\",class:{active:_vm.active},attrs:{\"role\":\"tabpanel\",\"id\":\"legend\"}},[_c('layerslegend-items',{attrs:{\"active\":_vm.active,\"legend\":_vm.legend,\"layers\":_vm.visiblelayers}})],1)}\n__vue__options__.staticRenderFns = []\n\n},{}],202:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _catalogeventhub = require('gui/catalog/vue/catalogeventhub');\n\nvar _catalogeventhub2 = _interopRequireDefault(_catalogeventhub);\n\nvar _catalogLayers = require('store/catalog-layers');\n\nvar _catalogLayers2 = _interopRequireDefault(_catalogLayers);\n\nvar _application = require('services/application');\n\nvar _application2 = _interopRequireDefault(_application);\n\nvar _projects = require('store/projects');\n\nvar _projects2 = _interopRequireDefault(_projects);\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nexports.default = {\n  props: {\n    layers: {\n      default: []\n    },\n    legend: {\n      type: Object\n    },\n    active: {\n      default: true\n    }\n  },\n  data: function data() {\n    return {\n      legendurls: []\n    };\n  },\n\n  watch: {\n    layers: {\n      handler: function handler() {\n        this.getLegendSrc();\n      },\n\n      immediate: false\n    },\n\n    active: function () {\n      var _ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee(bool) {\n        var changeLayersLegend;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                if (!bool) {\n                  _context.next = 6;\n                  break;\n                }\n\n                changeLayersLegend = this.layers.filter(function (layer) {\n                  return layer.legend.change;\n                });\n\n                if (!(this.legendurls.length === 0 || this.dynamic || changeLayersLegend.length)) {\n                  _context.next = 6;\n                  break;\n                }\n\n                _context.next = 5;\n                return this.getLegendSrc(this.layers);\n\n              case 5:\n                changeLayersLegend.forEach(function (layer) {\n                  return layer.legend.change = false;\n                });\n\n              case 6:\n              case 'end':\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function active(_x) {\n        return _ref.apply(this, arguments);\n      }\n\n      return active;\n    }()\n  },\n  methods: {\n    setError: function setError(legendurl) {\n      legendurl.error = true;\n      legendurl.loading = false;\n    },\n    urlLoaded: function urlLoaded(legendurl) {\n      legendurl.loading = false;\n    },\n    getLegendUrl: function getLegendUrl(layer) {\n      var params = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n      var catalogLayer = _catalogLayers2.default.getLayerById(layer.id);\n      if (catalogLayer) {\n        return catalogLayer.getLegendUrl(params, {\n          all: !this.dynamic,\n          format: 'image/png',\n          categories: layer.categories\n        });\n      }\n    },\n    getLegendUrlParams: function getLegendUrlParams() {\n      var urlLayerName = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n      var paramsUrl = '';\n      var params = {\n        LAYERS: [],\n        STYLES: [],\n        LEGEND_ON: [],\n        LEGEND_OFF: []\n      };\n\n      urlLayerName.reduce(function (_, layer) {\n        params.LAYERS.push(layer.layerName);\n        params.STYLES.push(layer.style);\n        if (layer.legend_on) {\n          params.LEGEND_ON.push(layer.legend_on);\n        }\n        if (layer.legend_off) {\n          params.LEGEND_OFF.push(layer.legend_off);\n        }\n        return params;\n      }, params);\n\n      paramsUrl += 'LAYERS=' + encodeURIComponent(params.LAYERS.join(','));\n      paramsUrl += '&STYLES=' + encodeURIComponent(params.STYLES.join(','));\n\n      if (params.LEGEND_ON.length) {\n        paramsUrl += '&LEGEND_ON=' + encodeURIComponent(params.LEGEND_ON.join(','));\n      }\n\n      if (params.LEGEND_OFF.length) {\n        paramsUrl += '&LEGEND_OFF=' + encodeURIComponent(params.LEGEND_OFF.join(','));\n      }\n\n      if (_application2.default.getFilterToken()) {\n        paramsUrl += '&filtertoken=' + _application2.default.getFilterToken();\n      }\n\n      return paramsUrl;\n    },\n    getLegendSrc: function () {\n      var _ref2 = _asyncToGenerator(regeneratorRuntime.mark(function _callee2() {\n        var _this = this;\n\n        var urlMethodsLayersName, self, layers, i, layer, style, urlLayersName, url, prefix, legend_on, legend_off, _url$split, _url$split2, _prefix$split, _prefix$split2, _prefix$split3, _prefix$split4, method, _urlLayersName, _url2, _loop, _url3;\n\n        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                this.legendurls = [];\n\n                _context2.next = 3;\n                return this.$nextTick();\n\n              case 3:\n                if (this.active) {\n                  _context2.next = 5;\n                  break;\n                }\n\n                return _context2.abrupt('return');\n\n              case 5:\n                urlMethodsLayersName = {\n                  GET: {},\n                  POST: {}\n                };\n                self = this;\n                layers = this.layers.filter(function (layer) {\n                  return layer.geolayer;\n                });\n                i = 0;\n\n              case 9:\n                if (!(i < layers.length)) {\n                  _context2.next = 20;\n                  break;\n                }\n\n                layer = layers[i];\n                style = Array.isArray(layer.styles) && layer.styles.find(function (style) {\n                  return style.current;\n                });\n                urlLayersName = layer.source && layer.source.url || layer.external ? urlMethodsLayersName.GET : urlMethodsLayersName[layer.ows_method];\n                url = '' + this.getLegendUrl(layer, this.legend.config);\n\n                if (!(\"undefined\" === typeof url)) {\n                  _context2.next = 16;\n                  break;\n                }\n\n                return _context2.abrupt('continue', 17);\n\n              case 16:\n                if (layer.source && layer.source.url) {\n                  urlLayersName[url] = [];\n                } else {\n                  prefix = void 0, legend_on = void 0, legend_off = void 0;\n                  _url$split = url.split('LAYER=');\n                  _url$split2 = _slicedToArray(_url$split, 2);\n                  prefix = _url$split2[0];\n                  layerName = _url$split2[1];\n                  _prefix$split = prefix.split('LEGEND_ON=');\n                  _prefix$split2 = _slicedToArray(_prefix$split, 2);\n                  prefix = _prefix$split2[0];\n                  legend_on = _prefix$split2[1];\n                  _prefix$split3 = prefix.split('LEGEND_OFF=');\n                  _prefix$split4 = _slicedToArray(_prefix$split3, 2);\n                  prefix = _prefix$split4[0];\n                  legend_off = _prefix$split4[1];\n\n\n                  if (!urlLayersName[prefix]) {\n                    urlLayersName[prefix] = [];\n                  }\n\n                  urlLayersName[prefix].unshift({\n                    layerName: layerName,\n                    style: style && style.name,\n                    legend_on: (legend_on || '').replace('&', ''),\n                    legend_off: (legend_off || '').replace('&', '') });\n                }\n\n              case 17:\n                i++;\n                _context2.next = 9;\n                break;\n\n              case 20:\n                for (method in urlMethodsLayersName) {\n                  _urlLayersName = urlMethodsLayersName[method];\n\n                  if ('GET' === method) {\n                    for (_url2 in _urlLayersName) {\n                      if (_urlLayersName[_url2].length) {\n                        _url2 += '' + this.getLegendUrlParams(_urlLayersName[_url2]);\n                      }\n                      this.legendurls.push({\n                        loading: true,\n                        error: false,\n                        url: _url2\n                      });\n                    }\n                  } else {\n                    _loop = function _loop(_url3) {\n                      var xhr = new XMLHttpRequest();\n                      var econdedParams = [];\n\n                      var _url3$split = _url3.split('?'),\n                          _url3$split2 = _slicedToArray(_url3$split, 2),\n                          _url = _url3$split2[0],\n                          params = _url3$split2[1];\n\n                      params = params.split('&');\n\n                      params.forEach(function (param) {\n                        var _param$split = param.split('='),\n                            _param$split2 = _slicedToArray(_param$split, 2),\n                            key = _param$split2[0],\n                            value = _param$split2[1];\n\n                        if (key) {\n                          econdedParams.push(key + '=' + encodeURIComponent(value));\n                        }\n                      });\n\n                      params = econdedParams.join('&') + '&' + _this.getLegendUrlParams(_urlLayersName[_url3]);\n\n                      var legendUrlObject = {\n                        loading: true,\n                        url: null,\n                        error: false\n                      };\n\n                      xhr.open('POST', _url);\n                      xhr.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded; charset=UTF-8');\n                      xhr.responseType = 'blob';\n\n                      self.legendurls.push(legendUrlObject);\n\n                      xhr.onload = function () {\n                        if (undefined !== this.response) {\n                          legendUrlObject.url = window.URL.createObjectURL(this.response);\n                        }\n                        legendUrlObject.loading = false;\n                      };\n\n                      xhr.onerror = function () {\n                        legendUrlObject.loading = false;\n                      };\n\n                      xhr.send(params);\n                    };\n\n                    for (_url3 in _urlLayersName) {\n                      _loop(_url3);\n                    }\n                  }\n                }\n\n              case 21:\n              case 'end':\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function getLegendSrc() {\n        return _ref2.apply(this, arguments);\n      }\n\n      return getLegendSrc;\n    }()\n  },\n\n  created: function created() {\n    var _this2 = this;\n\n    this.dynamic = _projects2.default.getCurrentProject().getContextBaseLegend();\n    this.mapReady = false;\n\n    _catalogeventhub2.default.$on('layer-change-style', function () {\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      _this2.getLegendSrc();\n    });\n  },\n  mounted: function () {\n    var _ref3 = _asyncToGenerator(regeneratorRuntime.mark(function _callee3() {\n      var _this3 = this;\n\n      return regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              _context3.next = 2;\n              return this.$nextTick();\n\n            case 2:\n              if (this.dynamic) {\n                _gui2.default.getService('map').on('change-map-legend-params', function () {\n                  _this3.mapReady = true;\n                  _this3.getLegendSrc();\n                });\n              } else {\n                this.mapReady = true;\n              }\n\n            case 3:\n            case 'end':\n              return _context3.stop();\n          }\n        }\n      }, _callee3, this);\n    }));\n\n    function mounted() {\n      return _ref3.apply(this, arguments);\n    }\n\n    return mounted;\n  }()\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"legend-item\"},_vm._l((_vm.legendurls),function(legendurl){return _c('figure',[_c('bar-loader',{attrs:{\"loading\":legendurl.loading}}),_vm._v(\" \"),_c('img',{directives:[{name:\"show\",rawName:\"v-show\",value:(!legendurl.loading && !legendurl.error),expression:\"!legendurl.loading && !legendurl.error\"}],attrs:{\"src\":legendurl.url},on:{\"error\":function($event){return _vm.setError(legendurl)},\"load\":function($event){return _vm.urlLoaded(legendurl)}}}),_vm._v(\" \"),_c('span',{staticClass:\"divider\"})],1)}),0)}\n__vue__options__.staticRenderFns = []\n\n},{\"gui/catalog/vue/catalogeventhub\":114,\"services/application\":351,\"services/gui\":361,\"store/catalog-layers\":374,\"store/projects\":379}],203:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _CatalogLayerLegend = require('components/CatalogLayerLegend.vue');\n\nvar _CatalogLayerLegend2 = _interopRequireDefault(_CatalogLayerLegend);\n\nvar _catalogeventhub = require('gui/catalog/vue/catalogeventhub');\n\nvar _catalogeventhub2 = _interopRequireDefault(_catalogeventhub);\n\nvar _catalogLayers = require('store/catalog-layers');\n\nvar _catalogLayers2 = _interopRequireDefault(_catalogLayers);\n\nvar _click = require('mixins/click');\n\nvar _click2 = _interopRequireDefault(_click);\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar _require = require('core/utils/utils'),\n    downloadFile = _require.downloadFile;\n\nexports.default = {\n  props: ['layerstree', 'storeid', 'legend', 'legendplace', 'highlightlayers', 'parent_mutually_exclusive', 'parentFolder', 'externallayers', 'root', 'parent'],\n  components: {\n    'layerlegend': _CatalogLayerLegend2.default\n  },\n  mixins: [_click2.default],\n  data: function data() {\n    return {\n      expanded: this.layerstree.expanded,\n      isGroupChecked: true,\n      controltoggled: false,\n      n_childs: null,\n      filtered: false\n    };\n  },\n\n  computed: {\n    showfeaturecount: function showfeaturecount() {\n      return \"undefined\" !== typeof this.layerstree.featurecount;\n    },\n    showLegendLayer: function showLegendLayer() {\n      return !this.layerstree.exclude_from_legend;\n    },\n    showLayerTocLegend: function showLayerTocLegend() {\n      return !this.isGroup && this.showLegendLayer && this.layerstree.geolayer;\n    },\n    isGroup: function isGroup() {\n      return !!this.layerstree.nodes;\n    },\n    legendlayerposition: function legendlayerposition() {\n      return this.showLegendLayer && this.layerstree.legend ? this.legendplace : 'tab';\n    },\n    showscalevisibilityclass: function showscalevisibilityclass() {\n      return !this.isGroup && this.layerstree.scalebasedvisibility;\n    },\n    showScaleVisibilityToolip: function showScaleVisibilityToolip() {\n      return this.showscalevisibilityclass && this.layerstree.disabled && this.layerstree.checked;\n    },\n    isTable: function isTable() {\n      return !this.isGroup && !this.layerstree.geolayer && !this.layerstree.external;\n    },\n    isHidden: function isHidden() {\n      return this.layerstree.hidden && true === this.layerstree.hidden;\n    },\n    selected: function selected() {\n      this.layerstree.selected = this.layerstree.disabled && this.layerstree.selected ? false : this.layerstree.selected;\n    },\n    isHighLight: function isHighLight() {\n      return this._isHighLightProjectLayer || this._isHighLightExternalLayer;\n    },\n    isInGrey: function isInGrey() {\n      return !this.isGroup && !this.isTable && !this.layerstree.external && (!this.layerstree.visible || this.layerstree.disabled);\n    },\n    getFeatureCount: function getFeatureCount() {\n      return Object.values(this.layerstree.featurecount).reduce(function (total, categoryFeatureCount) {\n        return total + 1 * categoryFeatureCount;\n      }, 0);\n    },\n    _isHighLightProjectLayer: function _isHighLightProjectLayer() {\n      return this.highlightlayers && !this.isGroup && _catalogLayers2.default.getLayerById(this.layerstree.id).getTocHighlightable() && this.layerstree.visible;\n    },\n    _isHighLightExternalLayer: function _isHighLightExternalLayer() {\n      return this.layerstree.external && this.layerstree.visible && \"vector\" && this.layerstree._type && true === this.layerstree.tochighlightable;\n    }\n  },\n  watch: {\n    'layerstree.disabled': function layerstreeDisabled(bool) {},\n    'layerstree.checked': function layerstreeChecked(n, o) {\n      if (this.isGroup) {\n        this.handleGroupChecked(this.layerstree);\n      } else {\n        this.handleLayerChecked(this.layerstree);\n      }\n    }\n  },\n  methods: {\n    init: function init() {\n      var _this = this;\n\n      if (this.isGroup && !this.layerstree.checked) {\n        this.handleGroupChecked(this.layerstree);\n      }\n      if (this.isGroup && !this.root) {\n        this.layerstree.nodes.forEach(function (node) {\n          if (node.id && _this.parent_mutually_exclusive && !_this.layerstree.mutually_exclusive) {\n            node.uncheckable = true;\n          }\n        });\n      }\n    },\n    handleGroupChecked: function handleGroupChecked(group) {\n      var checked = group.checked,\n          parentGroup = group.parentGroup,\n          nodes = group.nodes;\n\n      var setAllLayersVisible = function setAllLayersVisible(_ref) {\n        var nodes = _ref.nodes,\n            visible = _ref.visible;\n\n        nodes.forEach(function (node) {\n          if (undefined !== node.id) {\n            if (node.parentGroup.checked && node.checked) {\n              _catalogLayers2.default.getLayerById(node.id).setVisible(visible);\n            }\n          } else {\n            setAllLayersVisible({ nodes: node.nodes, visible: visible && node.checked });\n          }\n        });\n      };\n      if (checked) {\n        var visible = parentGroup ? parentGroup.checked : true;\n        if (parentGroup && parentGroup.mutually_exclusive) {\n          parentGroup.nodes.forEach(function (node) {\n            node.checked = node.groupId === group.groupId;\n            if (node.checked) {\n              setAllLayersVisible({ nodes: node.nodes, visible: visible });\n            }\n          });\n        } else {\n          setAllLayersVisible({ nodes: nodes, visible: visible });\n        }\n        while (parentGroup) {\n          parentGroup.checked = parentGroup.root || parentGroup.checked;\n          parentGroup = parentGroup.parentGroup;\n        }\n      } else {\n        nodes.forEach(function (node) {\n          if (undefined !== node.id) {\n            if (node.checked) {\n              _catalogLayers2.default.getLayerById(node.id).setVisible(false);\n            }\n          } else {\n            setAllLayersVisible({ nodes: node.nodes, visible: false });\n          }\n        });\n      }\n    },\n    handleLayerChecked: function handleLayerChecked(layerObject) {\n      var checked = layerObject.checked,\n          id = layerObject.id,\n          disabled = layerObject.disabled,\n          _layerObject$projectL = layerObject.projectLayer,\n          projectLayer = _layerObject$projectL === undefined ? false : _layerObject$projectL,\n          parentGroup = layerObject.parentGroup;\n\n      if (!projectLayer) {\n        layerObject.visible = checked;\n        _gui2.default.getService('map').changeLayerVisibility({ id: id, visible: checked });\n      } else {\n          var layer = _catalogLayers2.default.getLayerById(id);\n          if (checked) {\n            var visible = layer.setVisible(!disabled);\n\n            if (parentGroup.mutually_exclusive) {\n              parentGroup.nodes.forEach(function (node) {\n                return node.checked = node.id === id;\n              });\n            }\n            while (parentGroup) {\n              parentGroup.checked = true;\n              parentGroup = parentGroup.parentGroup;\n            }\n          } else {\n            layer.setVisible(false);\n          }\n          _catalogeventhub2.default.$emit('treenodevisible', layer);\n        }\n    },\n    toggleFilterLayer: function toggleFilterLayer() {\n      _catalogeventhub2.default.$emit('activefiltertokenlayer', this.storeid, this.layerstree);\n    },\n    clearSelection: function clearSelection() {\n      _catalogeventhub2.default.$emit('unselectionlayer', this.storeid, this.layerstree);\n    },\n    toggle: function toggle() {\n      this.layerstree.checked = !this.layerstree.checked;\n    },\n    expandCollapse: function expandCollapse() {\n      this.layerstree.expanded = !this.layerstree.expanded;\n    },\n    select: function select() {\n      if (this.layerstree.external && 'undefined' !== typeof this.layerstree.selected) {\n        _catalogeventhub2.default.$emit('treenodeexternalselected', this.layerstree);\n      } else if (!this.isGroup && !this.isTable) {\n        _catalogeventhub2.default.$emit('treenodeselected', this.storeid, this.layerstree);\n      }\n    },\n    zoomToLayer: function zoomToLayer(layer) {\n      _gui2.default.getService('map').goToBBox([layer.bbox.minx, layer.bbox.miny, layer.bbox.maxx, layer.bbox.maxy], layer.epsg);\n    },\n    canZoom: function canZoom(layer) {\n      return layer.bbox && [layer.bbox.minx, layer.bbox.miny, layer.bbox.maxx, layer.bbox.maxy].find(function (coordinate) {\n        return coordinate > 0;\n      });\n    },\n    onTreeItemClick: function onTreeItemClick() {\n      var _this2 = this;\n\n      this.handleClick({\n        '1': function _() {\n          return !_this2.isTable && !_this2.isGroup && _this2.select();\n        },\n        '2': function _() {\n          return !_this2.isTable && _this2.canZoom(_this2.layerstree) && _this2.zoomToLayer(_this2.layerstree);\n        }\n      }, this);\n    },\n    triClass: function triClass() {\n      return this.g3wtemplate.getFontClass(this.layerstree.checked ? 'check' : 'uncheck');\n    },\n    downloadExternalLayer: function downloadExternalLayer(download) {\n      if (download.file) {\n        downloadFile(download.file);\n      } else if (download.url) {}\n    },\n    removeExternalLayer: function removeExternalLayer(name, type) {\n      _gui2.default.getService('map').removeExternalLayer(name, wms);\n    },\n    showLayerMenu: function showLayerMenu(layerstree, evt) {\n      if (!this.isGroup && (this.layerstree.openattributetable || this.layerstree.downloadable || this.layerstree.geolayer || this.layerstree.external)) {\n        _catalogeventhub2.default.$emit('showmenulayer', layerstree, evt);\n      }\n    }\n  },\n\n  created: function created() {\n    this.init();\n  },\n  mounted: function () {\n    var _ref2 = _asyncToGenerator(regeneratorRuntime.mark(function _callee() {\n      return regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return this.$nextTick();\n\n            case 2:\n              $('span.scalevisibility').tooltip();\n\n            case 3:\n            case 'end':\n              return _context.stop();\n          }\n        }\n      }, _callee, this);\n    }));\n\n    function mounted() {\n      return _ref2.apply(this, arguments);\n    }\n\n    return mounted;\n  }()\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('li',{staticClass:\"tree-item\",class:{\n    selected: !_vm.isGroup || !_vm.isTable ? _vm.layerstree.selected : false,\n    itemmarginbottom: !_vm.isGroup,\n    disabled: _vm.isInGrey, group: _vm.isGroup\n  },style:({\n    marginLeft: !_vm.isGroup ? '5px' : '0'\n  }),on:{\"contextmenu\":function($event){$event.preventDefault();$event.stopPropagation();return _vm.showLayerMenu(_vm.layerstree, $event)},\"click\":function($event){$event.stopPropagation();return _vm.onTreeItemClick($event)}}},[(_vm.isGroup)?_c('span',{staticClass:\"root collapse-expande-collapse-icon\",class:[\n      { bold : _vm.isGroup },\n       _vm.g3wtemplate.getFontClass(_vm.layerstree.expanded ? 'caret-down' : 'caret-right')\n    ],staticStyle:{\"padding-right\":\"2px\"},on:{\"click\":_vm.expandCollapse}}):_vm._e(),_vm._v(\" \"),(_vm.isGroup)?_c('span',{class:[_vm.triClass()],staticStyle:{\"color\":\"#ffffff\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.toggle()}}}):(_vm.isTable)?_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.layerstree.hidden),expression:\"!layerstree.hidden\"}],class:[\n      _vm.parentFolder ? 'child' : 'root',\n      _vm.g3wtemplate.getFontClass('table')\n    ],staticStyle:{\"padding-left\":\"18px\"}}):[(_vm.layerstree.external && _vm.layerstree.removable)?_c('span',{class:_vm.g3wtemplate.getFontClass('trash'),staticStyle:{\"color\":\"red\",\"padding-left\":\"1px\"},on:{\"click\":function($event){return _vm.removeExternalLayer(_vm.layerstree.name, _vm.layerstree._type)}}}):_vm._e(),_vm._v(\" \"),(_vm.layerstree.external && _vm.layerstree.download)?_c('span',{class:_vm.g3wtemplate.getFontClass('download'),staticStyle:{\"color\":\"#ffffff\",\"margin-left\":\"5px\"},on:{\"click\":function($event){return _vm.downloadExternalLayer(_vm.layerstree.download)}}}):_vm._e(),_vm._v(\" \"),_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.layerstree.hidden),expression:\"!layerstree.hidden\"}],staticClass:\"checkbox-layer\",class:_vm.parentFolder ? 'child' : 'root'},[('toc' === _vm.legendlayerposition || !_vm.isGroup && _vm.layerstree.categories)?_c('span',{staticClass:\"collapse-expande-collapse-icon\",class:_vm.g3wtemplate.getFontClass(_vm.layerstree.visible && _vm.layerstree.expanded ? 'caret-down' : 'caret-right'),on:{\"click\":function($event){if($event.target !== $event.currentTarget){ return null; }$event.stopPropagation();return _vm.expandCollapse($event)}}}):_vm._e(),_vm._v(\" \"),_c('span',{class:[\n          _vm.g3wtemplate.getFontClass(_vm.layerstree.checked ? 'check': 'uncheck'),\n          { 'toc-added-external-layer': (!_vm.layerstree.legend && _vm.layerstree.external) }\n        ],style:({\n          paddingLeft: ('toc' === _vm.legendlayerposition)\n            ? '5px'\n            : !_vm.isGroup && _vm.layerstree.categories\n              ? '5px'\n              : (!_vm.layerstree.legend && _vm.layerstree.external)\n                ? '1px'\n                : '18px'\n        }),on:{\"click\":function($event){$event.stopPropagation();return _vm.toggle()}}})])],_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.layerstree.hidden || _vm.isGroup),expression:\"!layerstree.hidden || isGroup\"}],staticClass:\"tree-node-title\",class:{\n      disabled: !_vm.layerstree.external && (_vm.layerstree.disabled || (_vm.layerstree.id && !_vm.layerstree.visible)),\n      bold: _vm.isGroup\n    }},[_c('span',{directives:[{name:\"t-tooltip\",rawName:\"v-t-tooltip.text\",value:(_vm.showScaleVisibilityToolip ? (\"minscale:\" + (_vm.layerstree.minscale) + \" - maxscale:\" + (_vm.layerstree.maxscale)) : ''),expression:\"showScaleVisibilityToolip ? `minscale:${layerstree.minscale} - maxscale:${layerstree.maxscale}` : ''\",modifiers:{\"text\":true}}],staticClass:\"skin-tooltip-top g3w-long-text\",class:{\n        highlightlayer: _vm.isHighLight,\n        scalevisibility: _vm.showscalevisibilityclass\n      },attrs:{\"data-placement\":\"top\",\"current-tooltip\":_vm.showScaleVisibilityToolip ? (\"minscale:\" + (_vm.layerstree.minscale) + \" - maxscale: \" + (_vm.layerstree.maxscale)) : ''}},[_c('span',[_vm._v(_vm._s(_vm.layerstree.title))]),_vm._v(\" \"),(!_vm.isGroup && _vm.showfeaturecount)?_c('span',{staticStyle:{\"font-weight\":\"bold\"}},[_vm._v(\"[\"+_vm._s(_vm.getFeatureCount)+\"]\")]):_vm._e()]),_vm._v(\" \"),((!_vm.isGroup && _vm.layerstree.selection))?_c('div',[(_vm.layerstree.selection.active)?_c('span',{directives:[{name:\"t-tooltip\",rawName:\"v-t-tooltip.create\",value:('layer_selection_filter.tools.clear'),expression:\"'layer_selection_filter.tools.clear'\",modifiers:{\"create\":true}}],staticClass:\"action-button skin-tooltip-left selection-filter-icon\",class:_vm.g3wtemplate.getFontClass('success'),attrs:{\"data-placement\":\"left\",\"data-toggle\":\"tooltip\"},on:{\"click\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"caputure\",undefined,$event.key,undefined)){ return null; }$event.preventDefault();$event.stopPropagation();return _vm.clearSelection($event)}}}):_vm._e(),_vm._v(\" \"),(!_vm.layerstree.external && (_vm.layerstree.selection.active || _vm.layerstree.filter.active))?_c('span',{directives:[{name:\"t-tooltip\",rawName:\"v-t-tooltip.create\",value:('layer_selection_filter.tools.filter'),expression:\"'layer_selection_filter.tools.filter'\",modifiers:{\"create\":true}}],staticClass:\"action-button skin-tooltip-left selection-filter-icon\",class:[_vm.g3wtemplate.getFontClass('filter'), _vm.layerstree.filter.active ? 'active' : ''],attrs:{\"data-placement\":\"left\",\"data-toggle\":\"tooltip\"},on:{\"click\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"caputure\",undefined,$event.key,undefined)){ return null; }$event.preventDefault();$event.stopPropagation();return _vm.toggleFilterLayer($event)}}}):_vm._e()]):_vm._e()]),_vm._v(\" \"),(_vm.showLayerTocLegend)?_c('layerlegend',{attrs:{\"legendplace\":_vm.legendplace,\"layer\":_vm.layerstree}}):_vm._e(),_vm._v(\" \"),(_vm.isGroup)?_c('ul',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.layerstree.expanded),expression:\"layerstree.expanded\"}],staticClass:\"tree-content-items group\",class:[(\"g3w-lendplace-\" + _vm.legendplace)]},_vm._l((_vm.layerstree.nodes),function(_layerstree){return _c('span',{key:_layerstree.id || _layerstree.groupId},[_c('tristate-tree',{attrs:{\"root\":false,\"legendConfig\":_vm.legend,\"legendplace\":_vm.legendplace,\"highlightlayers\":_vm.highlightlayers,\"parentFolder\":_vm.isGroup,\"layerstree\":_layerstree,\"storeid\":_vm.storeid,\"parent\":_vm.layerstree,\"parent_mutually_exclusive\":!!_vm.layerstree.mutually_exclusive}})],1)}),0):_vm._e()],2)}\n__vue__options__.staticRenderFns = []\n\n},{\"components/CatalogLayerLegend.vue\":199,\"core/utils/utils\":68,\"gui/catalog/vue/catalogeventhub\":114,\"mixins/click\":339,\"services/gui\":361,\"store/catalog-layers\":374}],204:[function(require,module,exports){\nvar __vueify_style_dispose__ = require(\"vueify/lib/insert-css\").insert(\"#g3w-change-map-menu[data-v-9eb2df56]{width:100%;position:relative}.g3w-change-map-menu-container[data-v-9eb2df56]{height:100%;display:grid;grid-template-columns:repeat(auto-fill,minmax(30%,1fr));grid-gap:1em;overflow-y:auto}.menu-item[data-v-9eb2df56]{margin-bottom:20px;margin-top:20px}.menu-item-image[data-v-9eb2df56]{cursor:pointer;position:relative;overflow:hidden;padding-bottom:50%;opacity:.7}.menu-item-image[data-v-9eb2df56]:hover{opacity:1}.menu-item-image img[data-v-9eb2df56]{position:absolute;top:0;bottom:0;left:0;right:0;margin:auto}.menu-item-content[data-v-9eb2df56]{padding:15px;background:hsla(0,0%,100%,.3)}.menu-item-text[data-v-9eb2df56]{position:relative;overflow:hidden;height:100%;text-align:justify}.menu-item-title[data-v-9eb2df56]{text-align:center;font-weight:700;background:hsla(0,0%,100%,.5);padding:5px}\")\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _application = require('services/application');\n\nvar _application2 = _interopRequireDefault(_application);\n\nvar _projects = require('store/projects');\n\nvar _projects2 = _interopRequireDefault(_projects);\n\nvar _constant = require('constant');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar Projections = require('g3w-ol/projection/projections');\n\nvar _require = require('core/utils/utils'),\n    XHR = _require.XHR;\n\nexports.default = {\n  data: function data() {\n    return {\n      state: null,\n\n      loading: false,\n\n      current: 'projects',\n\n      items: [],\n\n      parent: null,\n\n      steps: [],\n\n      currentProjectGroupId: null\n\n    };\n  },\n\n\n  computed: {\n    isChildNode: function isChildNode() {\n      return 'root' !== this.current;\n    }\n  },\n\n  methods: {\n    setFallBackImage: function setFallBackImage(item) {\n      var g3w_logo = '' + _application2.default.getConfig().urls.clienturl + _constant.LOGO_GIS3W;\n      if (item.thumbnail || item.logo_img) item.thumbnail = g3w_logo;else if (item.header_logo_img) item.header_logo_img = g3w_logo;\n    },\n    back: function back() {\n      if (this.steps.length > 1) {\n        var item = this.steps[0];\n        this.steps = [];\n        this.showGroups(item);\n      } else {\n        this.showRoot();\n      }\n    },\n    showRoot: function showRoot() {\n      this.current = 'root';\n      this.items = this.macrogroupsandgroups;\n      this.steps = [];\n    },\n    _onChangeRoot: function _onChangeRoot(item) {\n      if (undefined === item.srid) {\n        this.showGroups(item);\n      } else {\n        this.showProjects(item);\n      }\n    },\n    showGroups: function () {\n      var _ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee(item) {\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                this.loading = true;\n                this.parent = item;\n                _context.prev = 2;\n                _context.next = 5;\n                return XHR.get({\n                  url: encodeURI('/' + _application2.default.getApplicationUser().i18n + _constant.API_BASE_URLS.ABOUT.group + item.id + '/')\n                });\n\n              case 5:\n                this.items = _context.sent;\n\n                this.current = 'groups';\n                _context.next = 12;\n                break;\n\n              case 9:\n                _context.prev = 9;\n                _context.t0 = _context['catch'](2);\n\n                this.items = [];\n\n              case 12:\n                this.steps.push(this.parent);\n                this.loading = false;\n\n              case 14:\n              case 'end':\n                return _context.stop();\n            }\n          }\n        }, _callee, this, [[2, 9]]);\n      }));\n\n      function showGroups(_x) {\n        return _ref.apply(this, arguments);\n      }\n\n      return showGroups;\n    }(),\n    showProjects: function () {\n      var _ref2 = _asyncToGenerator(regeneratorRuntime.mark(function _callee2(item) {\n        var _this = this;\n\n        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                this.loading = true;\n                this.parent = item;\n\n                if (!(this.parent.id === this.currentProjectGroupId)) {\n                  _context2.next = 7;\n                  break;\n                }\n\n                this.items = _projects2.default.getListableProjects();\n                this.current = 'projects';\n                _context2.next = 18;\n                break;\n\n              case 7:\n                _context2.prev = 7;\n                _context2.next = 10;\n                return XHR.get({\n                  url: encodeURI('/' + _application2.default.getApplicationUser().i18n + _constant.API_BASE_URLS.ABOUT.projects.replace('__G3W_GROUP_ID__', item.id))\n                });\n\n              case 10:\n                this.items = _context2.sent;\n\n                this.items.forEach(function (item) {\n                  return _this.setItemImageSrc({ item: item, type: 'project' });\n                });\n                this.current = 'projects';\n                _context2.next = 18;\n                break;\n\n              case 15:\n                _context2.prev = 15;\n                _context2.t0 = _context2['catch'](7);\n\n                this.items = [];\n\n              case 18:\n\n                this.steps.push(this.parent);\n                this.loading = false;\n\n              case 20:\n              case 'end':\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this, [[7, 15]]);\n      }));\n\n      function showProjects(_x2) {\n        return _ref2.apply(this, arguments);\n      }\n\n      return showProjects;\n    }(),\n    changeMapProject: function () {\n      var _ref3 = _asyncToGenerator(regeneratorRuntime.mark(function _callee3(item) {\n        var url, base_url, epsg;\n        return regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                url = void 0;\n                base_url = _projects2.default.getBaseUrl();\n                epsg = this.parent.srid ? 'EPSG:' + this.parent.srid : this.parent.crs.epsg;\n                _context3.next = 5;\n                return Projections.registerProjection(epsg);\n\n              case 5:\n                try {\n                  new URL(base_url);\n                  url = '' + base_url + (item.url || item.map_url.replace(/^\\//, \"\"));\n                } catch (err) {\n                  url = '' + location.origin + base_url + (item.url || item.map_url.replace(/^\\//, \"\"));\n                }\n                return _context3.abrupt('return', _application2.default.changeMapProject({ url: url, epsg: epsg }));\n\n              case 7:\n              case 'end':\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this);\n      }));\n\n      function changeMapProject(_x3) {\n        return _ref3.apply(this, arguments);\n      }\n\n      return changeMapProject;\n    }(),\n    trigger: function () {\n      var _ref4 = _asyncToGenerator(regeneratorRuntime.mark(function _callee4(item) {\n        return regeneratorRuntime.wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                _context4.t0 = this.current;\n                _context4.next = _context4.t0 === 'root' ? 3 : _context4.t0 === 'macrogroup' ? 4 : _context4.t0 === 'groups' ? 5 : _context4.t0 === 'projects' ? 8 : 11;\n                break;\n\n              case 3:\n                return _context4.abrupt('return', this._onChangeRoot(item));\n\n              case 4:\n                return _context4.abrupt('return', this.showGroups(item));\n\n              case 5:\n                _context4.next = 7;\n                return this.showProjects(item);\n\n              case 7:\n                return _context4.abrupt('return', _context4.sent);\n\n              case 8:\n                _context4.next = 10;\n                return this.changeMapProject(item);\n\n              case 10:\n                return _context4.abrupt('return', _context4.sent);\n\n              case 11:\n              case 'end':\n                return _context4.stop();\n            }\n          }\n        }, _callee4, this);\n      }));\n\n      function trigger(_x4) {\n        return _ref4.apply(this, arguments);\n      }\n\n      return trigger;\n    }(),\n    setItemImageSrc: function setItemImageSrc() {\n      var _ref5 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          item = _ref5.item,\n          type = _ref5.type;\n\n      switch (type) {\n        case 'project':\n          item.thumbnail = this._setSrc(item.thumbnail);break;\n        case 'group':\n          item.header_logo_img = this._setSrc(item.header_logo_img);break;\n        case 'macrogroup':\n          item.logo_img = this._setSrc(item.logo_img);break;\n      }\n    },\n    _setSrc: function _setSrc(src) {\n      var imageSrc = void 0;\n      var host = this.$options.host || '';\n      var mediaurl = _projects2.default.config.mediaurl;\n      var clienturl = _application2.default.getConfig().urls.clienturl;\n      var has_media = src && -1 !== src.indexOf(mediaurl);\n      var not_static = src && -1 === src.indexOf('static') && -1 === src.indexOf('media');\n\n      if (!src) {\n        imageSrc = '' + clienturl + _constant.LOGO_GIS3W;\n      } else if (has_media) {\n        imageSrc = src;\n      } else if (not_static) {\n        imageSrc = '' + mediaurl + src;\n      } else {\n        imageSrc = '' + clienturl + _constant.LOGO_GIS3W;\n      }\n\n      return '' + host + imageSrc;\n    }\n  },\n\n  created: function created() {\n    var _this2 = this;\n\n    this.items = _projects2.default.getListableProjects();\n    this.items.forEach(function (item) {\n      return _this2.setItemImageSrc({ item: item, type: 'project' });\n    });\n    this.parent = _projects2.default.getCurrentProjectGroup();\n    this.currentProjectGroupId = this.parent.id;\n\n    this.macrogroups = _application2.default.getConfig().macrogroups;\n    this.macrogroups.forEach(function (item) {\n      return _this2.setItemImageSrc({ item: item, type: 'magrocroup' });\n    });\n\n    this.groups = _application2.default.getConfig().groups;\n    this.groups.forEach(function (item) {\n      return _this2.setItemImageSrc({ item: item, type: 'group' });\n    });\n\n    this.macrogroupsandgroups = [].concat(_toConsumableArray(this.macrogroups), _toConsumableArray(this.groups));\n\n    var isMacroGroup = this.macrogroups.find(function (macrogroup) {\n      return macrogroup.id === _this2.parent.id;\n    });\n    if (isMacroGroup) {\n      var findGroup = this.groups.find(function (group) {\n        return group.id === _this2.parent.id;\n      });\n      if (findGroup) {\n        this.parent = findGroup;\n        this.currentProjectGroupId = this.parent.id;\n      }\n    }\n\n    if (0 === this.items.length) {\n      this.showRoot();\n    }\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"g3w-change-map-menu\"}},[(_vm.isChildNode)?[_c('div',{staticClass:\"skin-background-color\",staticStyle:{\"display\":\"flex\",\"align-items\":\"center\",\"color\":\"#ffffff\"}},[_c('span',{directives:[{name:\"t-tooltip\",rawName:\"v-t-tooltip:bottom.create\",value:('change_session'),expression:\"'change_session'\",arg:\"bottom\",modifiers:{\"create\":true}},{name:\"disabled\",rawName:\"v-disabled\",value:(_vm.loading),expression:\"loading\"}],staticStyle:{\"font-size\":\"2em\",\"margin\":\"5px\",\"cursor\":\"pointer\",\"padding\":\"3px\",\"border\":\"2px solid #ffffff\",\"border-radius\":\"3px\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.back($event)}}},[_c('i',{class:_vm.g3wtemplate.getFontClass('reply'),staticStyle:{\"color\":\"#FFFFFF\"}})]),_vm._v(\" \"),(_vm.parent)?_c('div',{staticStyle:{\"margin\":\"auto\"}},[_c('h3',{staticStyle:{\"font-weight\":\"bold\"}},[_vm._v(_vm._s(_vm.parent.title || _vm.parent.name))])]):_vm._e()])]:_vm._e(),_vm._v(\" \"),(_vm.items.length)?_c('div',{staticClass:\"g3w-change-map-menu-container\"},_vm._l((_vm.items),function(item){return _c('div',{key:item.title,staticClass:\"menu-item\"},[_c('div',{staticClass:\"menu-item-image\",on:{\"click\":function($event){$event.stopPropagation();return _vm.trigger(item)}}},[_c('img',{staticClass:\"img-responsive\",attrs:{\"src\":item.thumbnail || item.header_logo_img || item.logo_img,\"alt\":\"logo\"},on:{\"error\":function($event){return _vm.setFallBackImage(item)}}})]),_vm._v(\" \"),_c('div',{staticClass:\"menu-item-content\"},[_c('div',{staticClass:\"menu-item-text\"},[_c('h4',{staticClass:\"menu-item-title\"},[_vm._v(_vm._s(item.title))]),_vm._v(\" \"),_c('div',{domProps:{\"innerHTML\":_vm._s(item.description)}})])])])}),0):[_c('h3',{directives:[{name:\"t\",rawName:\"v-t\",value:((\"no_other_\" + _vm.current)),expression:\"`no_other_${current}`\"}],staticStyle:{\"font-weight\":\"bold\"}})]],2)}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-9eb2df56\"\n\n},{\"constant\":4,\"core/utils/utils\":68,\"g3w-ol/projection/projections\":111,\"services/application\":351,\"store/projects\":379,\"vueify/lib/insert-css\":1}],205:[function(require,module,exports){\nvar __vueify_style_dispose__ = require(\"vueify/lib/insert-css\").insert(\".field[data-v-6783d4c4]{background-color:transparent!important;padding-top:3px;padding-bottom:3px;display:flex;align-items:center}.value[data-v-6783d4c4]{position:relative}.field div[data-v-6783d4c4]{padding-left:3px;padding-right:3px}.field_value[data-v-6783d4c4]{padding-left:0!important}\")\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = {\n  name: \"field\",\n  props: ['state']\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"field\",style:({fontSize: _vm.isMobile() && '0.8em'})},[(_vm.state.label)?_c('div',{staticClass:\"col-sm-6  field_label\"},[_vm._t(\"label\",[_vm._v(_vm._s(_vm.state.label))])],2):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"field_value\",class:[_vm.state.label ? 'col-sm-6' : null ]},[_vm._t(\"field\",[_c('span',{staticStyle:{\"word-wrap\":\"break-word\"},domProps:{\"innerHTML\":_vm._s(_vm.state.value)}})])],2)])}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-6783d4c4\"\n\n},{\"vueify/lib/insert-css\":1}],206:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar fieldsService = require('gui/fields/fieldsservice');\nvar Fields = require('gui/fields/fields');\n\nexports.default = {\n  name: \"g3w-field\",\n  props: {\n    state: {\n      required: true\n    },\n    feature: {\n      type: Object\n    }\n  },\n  components: _extends({}, Fields),\n  created: function created() {\n    this.type = fieldsService.getType(this.state);\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(_vm.type,{tag:\"component\",attrs:{\"feature\":_vm.feature,\"state\":_vm.state}})}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-46843712\"\n\n},{\"gui/fields/fields\":120,\"gui/fields/fieldsservice\":121}],207:[function(require,module,exports){\nvar __vueify_style_dispose__ = require(\"vueify/lib/insert-css\").insert(\".show-hide-geo[data-v-3362679d]{color:#3c8dbc;cursor:pointer;font-size:1.2em}\")\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _mixins = require('mixins');\n\nexports.default = {\n  name: \"g3w-geospatial\",\n  props: {\n    data: {}\n  },\n  mixins: [_mixins.geoMixin],\n  data: function data() {\n    return {\n      layerId: 'table_layer_' + Date.now(),\n      visible: false,\n      id: 'geo_table_' + Date.now()\n    };\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"geo-content\"},[_c('span',{staticClass:\"show-hide-geo\",class:[_vm.visible ? _vm.g3wtemplate.font['eye-close'] : _vm.g3wtemplate.font['eye']],on:{\"click\":function($event){$event.stopPropagation();return _vm.showLayer()}}})])}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-3362679d\"\n\n},{\"mixins\":343,\"vueify/lib/insert-css\":1}],208:[function(require,module,exports){\nvar __vueify_style_dispose__ = require(\"vueify/lib/insert-css\").insert(\".img-responsive[data-v-70d2a0b2]{cursor:pointer}\")\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _Field = require('components/Field.vue');\n\nvar _Field2 = _interopRequireDefault(_Field);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar _require = require('core/utils/utils'),\n    toRawType = _require.toRawType;\n\nexports.default = {\n  name: \"image\",\n  props: ['state'],\n  data: function data() {\n    return {\n      galleryId: 'gallery_' + Date.now(),\n      active: null,\n      value: this.state.value.mime_type !== undefined ? this.state.value.value : this.state.value\n    };\n  },\n\n  components: {\n    Field: _Field2.default\n  },\n  computed: {\n    values: function values() {\n      return Array.isArray(this.value) ? this.value : [this.value];\n    }\n  },\n  methods: {\n    getSrc: function getSrc(value) {\n      return toRawType(value) === 'Object' ? value.photo : value;\n    },\n    showGallery: function showGallery(index) {\n      this.active = index;\n      if (toRawType(this.value) === 'Object') this.value.active = true;\n      $('#' + this.galleryId).modal('show');\n    },\n    getGalleryImages: function getGalleryImages() {\n      var _this = this;\n\n      return this.values.map(function (image) {\n        return { src: _this.getSrc(image) };\n      });\n    }\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('field',{attrs:{\"state\":_vm.state}},[_c('div',{staticStyle:{\"text-align\":\"left\"},attrs:{\"slot\":\"field\"},slot:\"field\"},[_vm._l((_vm.values),function(value,index){return _c('img',{staticClass:\"img-responsive\",staticStyle:{\"max-height\":\"50px\"},attrs:{\"src\":_vm.getSrc(value)},on:{\"click\":function($event){return _vm.showGallery(index)}}})}),_vm._v(\" \"),_c('g3w-images-gallery',{attrs:{\"id\":_vm.galleryId,\"active\":_vm.active,\"images\":_vm.getGalleryImages()}})],2)])}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-70d2a0b2\"\n\n},{\"components/Field.vue\":205,\"core/utils/utils\":68,\"vueify/lib/insert-css\":1}],209:[function(require,module,exports){\nvar __vueify_style_dispose__ = require(\"vueify/lib/insert-css\").insert(\".field_link[data-v-156f65de]{max-width:100%}\")\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _Field = require('components/Field.vue');\n\nvar _Field2 = _interopRequireDefault(_Field);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = {\n  name: \"link\",\n  props: ['state'],\n  data: function data() {\n    return {\n      value: null\n    };\n  },\n\n  components: {\n    Field: _Field2.default\n  },\n  methods: {\n    openLink: function openLink(link_url) {\n      window.open(link_url, '_blank');\n    }\n  },\n  created: function created() {\n    this.value = this.state.value && _typeof(this.state.value) === 'object' ? this.state.value.value : this.state.value;\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('field',{attrs:{\"state\":_vm.state}},[_c('button',{directives:[{name:\"t\",rawName:\"v-t\",value:('info.link_button'),expression:\"'info.link_button'\"}],staticClass:\"btn skin-button field_link\",attrs:{\"slot\":\"field\"},on:{\"click\":function($event){return _vm.openLink(_vm.value)}},slot:\"field\"})])}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-156f65de\"\n\n},{\"components/Field.vue\":205,\"vueify/lib/insert-css\":1}],210:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _mixins = require('mixins');\n\nexports.default = {\n  name: \"g3w-media\",\n  mixins: [_mixins.mediaMixin],\n  props: ['state'],\n  computed: {\n    type: function type() {\n      return this.getMediaType(this.state.mime_type).type;\n    },\n    value: function value() {\n      return this.state.value;\n    }\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.value)?_c('div',{staticClass:\"preview\"},[_c('a',{attrs:{\"href\":_vm.value,\"target\":\"_blank\"}},[_c('div',{staticClass:\"previewtype\",class:_vm.type},[_c('i',{staticClass:\"fa-2x\",class:_vm.g3wtemplate.font[_vm.type]})])]),_vm._v(\" \"),_c('div',{staticClass:\"filename\"},[_vm._v(_vm._s(_vm.filename))]),_vm._v(\" \"),_vm._t(\"default\")],2):_vm._e()}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-7b8309b0\"\n\n},{\"mixins\":343}],211:[function(require,module,exports){\nvar __vueify_style_dispose__ = require(\"vueify/lib/insert-css\").insert(\".field_text_table[data-v-db21acde]{background-color:transparent!important}.field_text_table .field_label[data-v-db21acde]{font-weight:700}\")\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _Field = require('components/Field.vue');\n\nvar _Field2 = _interopRequireDefault(_Field);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = {\n  name: \"text\",\n  props: ['state'],\n  components: {\n    Field: _Field2.default\n  },\n  created: function created() {}\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('field',{attrs:{\"state\":_vm.state}})}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-db21acde\"\n\n},{\"components/Field.vue\":205,\"vueify/lib/insert-css\":1}],212:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _Field = require(\"components/Field.vue\");\n\nvar _Field2 = _interopRequireDefault(_Field);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = {\n  name: \"vuefield\",\n  props: {\n    feature: {\n      type: Object\n    },\n    state: {\n      type: Object,\n      default: {\n        value: null,\n        vueoptions: {\n          component: {}\n        }\n      }\n    }\n  },\n  components: {\n    Field: _Field2.default\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('field',{attrs:{\"state\":_vm.state}},[_c('div',{attrs:{\"slot\":\"field\"},slot:\"field\"},[_c(_vm.state.vueoptions.component,{tag:\"component\",attrs:{\"feature\":_vm.feature,\"value\":_vm.state.value}})],1)])}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-67a07f52\"\n\n},{\"components/Field.vue\":205}],213:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _floatbar = require(\"services/floatbar\");\n\nvar _floatbar2 = _interopRequireDefault(_floatbar);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = {\n  name: \"Floatbar\",\n  data: function data() {\n    return {\n      stack: _floatbar2.default.stack.state\n    };\n  },\n\n  computed: {\n    panelsinstack: function panelsinstack() {\n      return this.stack.contentsdata.length > 0;\n    },\n    panelname: function panelname() {\n      var name = void 0;\n      if (this.stack.contentsdata.length) {\n        name = this.stack.contentsdata.slice(-1)[0].content.getTitle();\n      }\n      return name;\n    },\n    closable: function closable() {\n      return _floatbar2.default.closable;\n    }\n  },\n  watch: {\n    \"stack.contentsdata\": function stackContentsdata() {\n      var children = $(\"#g3w-floatbarpanel-placeholder\").children();\n      children.forEach(function (child, index) {\n        if (index == children.length - 1) $(child).show();else $(child).hide();\n      });\n    }\n  },\n  methods: {\n    closePanel: function closePanel() {\n      _floatbar2.default.closePanel();\n    }\n  }\n\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('aside',{staticClass:\"control-sidebar control-sidebar-light\"},[_c('a',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.panelsinstack),expression:\"panelsinstack\"}],staticClass:\"floatbar-aside-toggle\",attrs:{\"href\":\"#\",\"data-toggle\":\"control-sidebar\",\"role\":\"button\"}},[_c('span',{staticClass:\"sr-only\"},[_vm._v(\"Expand\")])]),_vm._v(\" \"),_c('div',{staticStyle:{\"position\":\"absolute\"},attrs:{\"id\":\"floatbar-spinner\"}}),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.panelsinstack),expression:\"panelsinstack\"}],staticClass:\"g3w-sidebarpanel\"},[(_vm.closable)?_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-xs-12 col-sm-12 col-md-12\"},[_c('button',{staticClass:\"pull-right close-panel-button\",class:_vm.g3wtemplate.getFontClass('close'),on:{\"click\":_vm.closePanel}})])]):_vm._e(),_vm._v(\" \"),(_vm.panelname)?_c('div',[_c('h4',{staticClass:\"g3w-floatbarpanel-name\"},[_vm._v(_vm._s(_vm.panelname))])]):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"g3w-floatbarpanel-placeholder\",attrs:{\"id\":\"g3w-floatbarpanel-placeholder\"}})])])}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-29b017dd\"\n\n},{\"services/floatbar\":360}],214:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _FormHeader = require('components/FormHeader.vue');\n\nvar _FormHeader2 = _interopRequireDefault(_FormHeader);\n\nvar _FormFooter = require('components/FormFooter.vue');\n\nvar _FormFooter2 = _interopRequireDefault(_FormFooter);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nexports.default = {\n  data: function data() {\n    return {\n      state: {},\n      switchcomponent: false,\n      body: {\n        components: {\n          before: [],\n          after: []\n        }\n      }\n    };\n  },\n\n  components: {\n    g3wformheader: _FormHeader2.default,\n    G3wFormFooter: _FormFooter2.default\n  },\n  transitions: { 'addremovetransition': 'showhide' },\n  methods: {\n    isRootComponent: function isRootComponent(component) {\n      return this.$options.service.isRootComponent(component);\n    },\n    backToRoot: function backToRoot() {\n      this.$options.service.setRootComponent();\n    },\n    handleRelation: function handleRelation(relationId) {\n      this.$options.service.handleRelation(relationId);\n    },\n    disableComponent: function disableComponent(_ref) {\n      var id = _ref.id,\n          _ref$disabled = _ref.disabled,\n          disabled = _ref$disabled === undefined ? false : _ref$disabled;\n\n      this.$options.service.disableComponent({\n        id: id,\n        disabled: disabled\n      });\n    },\n    resizeForm: function resizeForm(perc) {\n      this.$options.service.setCurrentFormPercentage(perc);\n    },\n    switchComponent: function switchComponent(id) {\n      this.switchcomponent = true;\n      this.$options.service.setCurrentComponentById(id);\n    },\n    changeInput: function changeInput(input) {\n      return this.$options.service.changeInput(input);\n    },\n    addToValidate: function addToValidate(input) {\n      this.$options.service.addToValidate(input);\n    },\n    removeToValidate: function removeToValidate(input) {\n      this.$options.service.removeToValidate(input);\n    },\n    reloadLayout: function reloadLayout() {\n      var height = $(this.$el).height();\n      if (!height) return;\n      var footerDOM = $(this.$refs.g3w_form_footer.$el);\n      var bodyFromDOM = $(this.$refs.g3wform_body);\n      var footerHeight = footerDOM.height() ? footerDOM.height() + 50 : 50;\n      var bodyHeight = height - ($(this.$refs.g3wformheader.$el).height() + footerHeight);\n      bodyFromDOM.height(bodyHeight);\n    }\n  },\n  updated: function () {\n    var _ref2 = _asyncToGenerator(regeneratorRuntime.mark(function _callee() {\n      var _this = this;\n\n      return regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return this.$nextTick();\n\n            case 2:\n              this.switchcomponent && setTimeout(function () {\n                return _this.switchcomponent = false;\n              }, 0);\n\n            case 3:\n            case 'end':\n              return _context.stop();\n          }\n        }\n      }, _callee, this);\n    }));\n\n    function updated() {\n      return _ref2.apply(this, arguments);\n    }\n\n    return updated;\n  }(),\n  created: function created() {\n    var _this2 = this;\n\n    this.$options.service.getEventBus().$on('set-main-component', function () {\n      _this2.switchComponent(0);\n    });\n    this.$options.service.getEventBus().$on('component-validation', function (_ref3) {\n      var id = _ref3.id,\n          valid = _ref3.valid;\n\n      _this2.$options.service.setValidComponent({\n        id: id,\n        valid: valid\n      });\n    });\n    this.$options.service.getEventBus().$on('addtovalidate', this.addToValidate);\n    this.$options.service.getEventBus().$on('disable-component', this.disableComponent);\n  },\n  mounted: function mounted() {\n    this.$options.service.isValid();\n    this.$options.service.setReady(true);\n  },\n  beforeDestroy: function beforeDestroy() {\n    this.$options.service.clearAll();\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"g3wform_content\",staticStyle:{\"position\":\"relative\"}},[_c('bar-loader',{attrs:{\"loading\":_vm.state.loading}}),_vm._v(\" \"),_c('g3wformheader',{ref:\"g3wformheader\",attrs:{\"currentid\":_vm.state.currentheaderid,\"headers\":_vm.state.headers,\"update\":_vm.state.update,\"valid\":_vm.state.valid},on:{\"resize-form\":_vm.resizeForm,\"clickheader\":_vm.switchComponent}}),_vm._v(\" \"),_c('div',{ref:\"g3wform_body\",staticClass:\"g3wform_body\"},[_vm._l((_vm.body.components.before),function(component){return _c(component,{tag:\"component\",attrs:{\"fields\":_vm.state.fields}})}),_vm._v(\" \"),_c('keep-alive',[_c(_vm.state.component,{tag:\"component\",attrs:{\"handleRelation\":_vm.handleRelation,\"state\":_vm.state},on:{\"hook:activated\":_vm.reloadLayout,\"addtovalidate\":_vm.addToValidate,\"removetovalidate\":_vm.removeToValidate,\"changeinput\":_vm.changeInput}})],1),_vm._v(\" \"),_vm._l((_vm.body.components.after),function(component){return _c(component,{tag:\"component\",attrs:{\"fields\":_vm.state.fields}})})],2),_vm._v(\" \"),_c('g3w-form-footer',{ref:\"g3w_form_footer\",attrs:{\"isRootComponent\":_vm.isRootComponent,\"backToRoot\":_vm.backToRoot,\"state\":_vm.state}})],1)}\n__vue__options__.staticRenderFns = []\n\n},{\"components/FormFooter.vue\":216,\"components/FormHeader.vue\":217}],215:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _InputG3WFormInputs = require('components/InputG3WFormInputs.vue');\n\nvar _InputG3WFormInputs2 = _interopRequireDefault(_InputG3WFormInputs);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = Vue.extend({\n  props: ['state', 'handleRelation'],\n  data: function data() {\n    return {\n      show: true\n    };\n  },\n\n  components: {\n    G3wFormInputs: _InputG3WFormInputs2.default\n  },\n  methods: {\n    addToValidate: function addToValidate(input) {\n      this.$emit('addtovalidate', input);\n    },\n    removeToValidate: function removeToValidate(input) {\n      this.$emit('removetovalidate', input);\n    },\n    changeInput: function changeInput(input) {\n      this.$emit('changeinput', input);\n    }\n  },\n  computed: {\n    hasFormStructure: function hasFormStructure() {\n      return !!this.state.formstructure;\n    }\n  }\n});\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('form',{staticClass:\"form-horizontal g3w-form\"},[_c('div',{staticClass:\"box-primary\"},[_c('div',{staticClass:\"box-body\"},[(_vm.hasFormStructure)?[_c('tabs',{attrs:{\"layerid\":_vm.state.layerid,\"feature\":_vm.state.feature,\"handleRelation\":_vm.handleRelation,\"contenttype\":'editing',\"addToValidate\":_vm.addToValidate,\"changeInput\":_vm.changeInput,\"removeToValidate\":_vm.removeToValidate,\"tabs\":_vm.state.formstructure,\"fields\":_vm.state.fields}})]:[_c('g3w-form-inputs',{attrs:{\"state\":_vm.state,\"addToValidate\":_vm.addToValidate,\"removeToValidate\":_vm.removeToValidate,\"changeInput\":_vm.changeInput},on:{\"changeinput\":_vm.changeInput,\"addinput\":_vm.addToValidate,\"removeinput\":_vm.removeToValidate}})]],2)])])])}\n__vue__options__.staticRenderFns = []\n\n},{\"components/InputG3WFormInputs.vue\":240}],216:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nexports.default = Vue.extend({\n  props: {\n    state: {\n      type: Object\n    },\n    backToRoot: {\n      type: Function,\n      default: function _default() {}\n    },\n    isRootComponent: {\n      type: Function\n    }\n  },\n  data: function data() {\n    this.originalbuttons = this.state.buttons.map(function (button) {\n      return _extends({}, button);\n    });\n    return {\n      id: \"footer\",\n      active: true,\n      show: true\n    };\n  },\n\n  computed: {\n    enableSave: function enableSave() {\n      return this.state.valid && this.state.update;\n    }\n  },\n  methods: {\n    exec: function exec(cbk) {\n      cbk instanceof Function ? cbk(this.state.fields) : function () {\n        return this.state.fields;\n      }();\n    },\n    btnEnabled: function btnEnabled(button) {\n      var _button$enabled = button.enabled,\n          enabled = _button$enabled === undefined ? true : _button$enabled,\n          type = button.type;\n\n      return enabled && (type !== 'save' || type === 'save' && this.enableSave);\n    },\n    isValid: function isValid() {\n      return this.state.valid;\n    }\n  },\n  watch: {\n    'state.component': function stateComponent(component) {\n      this.show = this.isRootComponent(component);\n    },\n\n    'state.update': {\n      immediate: true,\n      handler: function handler(value) {\n        var _this = this;\n\n        this.state.buttons.find(function (button, index) {\n          if (button.eventButtons && button.eventButtons.update) {\n            if (button.eventButtons.update[value]) {\n              _this.state.buttons.splice(index, 1, _extends({}, button, button.eventButtons.update[value]));\n            } else _this.state.buttons.splice(index, 1, _this.originalbuttons[index]);\n          }\n        });\n      }\n    }\n  },\n  activated: function activated() {\n    this.active = true;\n  },\n  deactivated: function deactivated() {\n    this.active = false;\n  }\n});\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"form-group g3wform_footer\"},[(_vm.show)?[_vm._t(\"default\",[_c('div',{staticStyle:{\"margin\":\"3px\",\"font-weight\":\"bold\"}},[_vm._v(\"\\n        * \"),_c('span',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.form.footer.required_fields'),expression:\"'sdk.form.footer.required_fields'\"}]}),_vm._v(\" \"),(_vm.state.footer.message)?_c('div',{style:([_vm.state.footer.style])},[_vm._v(_vm._s(_vm.state.footer.message))]):_vm._e()]),_vm._v(\" \"),_vm._l((_vm.state.buttons),function(button){return _c('button',{directives:[{name:\"disabled\",rawName:\"v-disabled\",value:(!_vm.btnEnabled(button)),expression:\"!btnEnabled(button)\"},{name:\"t\",rawName:\"v-t\",value:(button.title),expression:\"button.title\"}],key:button.id,staticClass:\"btn \",class:[button.class],attrs:{\"update\":_vm.state.update,\"valid\":_vm.state.valid},on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.exec(button.cbk)}}})})])]:[_c('button',{directives:[{name:\"t\",rawName:\"v-t\",value:('back'),expression:\"'back'\"}],staticClass:\"btn skin-button\",on:{\"click\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"prevet\",undefined,$event.key,undefined)){ return null; }$event.stopPropagation();return _vm.backToRoot($event)}}})]],2)}\n__vue__options__.staticRenderFns = []\n\n},{}],217:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = Vue.extend({\n  props: {\n    headers: {\n      type: Array,\n      default: []\n    },\n    currentid: {\n      type: 'String'\n    },\n    update: {\n      type: Boolean\n    },\n    valid: {\n      type: Boolean\n    }\n  },\n  methods: {\n    click: function click(id) {\n      if (this.currentid !== id) this.$emit('clickheader', id);\n    },\n    resizeForm: function resizeForm(perc) {\n      this.$emit('resize-form', perc);\n    }\n  }\n});\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"g3wform_header box-header with-border\",staticStyle:{\"display\":\"flex\",\"flex-direction\":\"column\"}},[_c('section',{staticClass:\"g3wform_header_content\"},_vm._l((_vm.headers),function(header){return _c('span',{key:header.id,staticClass:\"title\",class:[{item_selected: _vm.currentid === header.id && _vm.headers.length > 1},[_vm.headers.length > 1 ? 'tabs' : 'one' ]],staticStyle:{\"display\":\"flex\",\"justify-content\":\"space-between\",\"align-items\":\"center\"},style:({fontSize: _vm.isMobile() && '1em !important'}),on:{\"click\":function($event){$event.stopPropagation();return _vm.click(header.id)}}},[(header.icon)?_c('span',{staticStyle:{\"margin-right\":\"5px\"}},[_c('i',{class:header.icon})]):_vm._e(),_vm._v(\" \"),_c('span',{directives:[{name:\"t\",rawName:\"v-t:pre\",value:(header.title),expression:\"header.title\",arg:\"pre\"}],staticClass:\"g3w-long-text\"},[_vm._v(_vm._s(header.name))]),_vm._v(\" \"),_c(header.component,{tag:\"component\",attrs:{\"valid\":_vm.valid,\"update\":_vm.update}})],1)}),0)])}\n__vue__options__.staticRenderFns = []\n\n},{}],218:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n/**\n * @file\n * @since v3.7\n */\n\nexports.default = {\n  name: \"bar-loader\",\n  props: ['loading', 'color'],\n  render: function render(createElement) {\n    if (this.loading) {\n      return createElement('div', {\n        style: {\n          backgroundColor: this.color || '#FFFFFF',\n          border: 0\n        },\n        class: {\n          \"bar-loader\": true\n        }\n      });\n    }\n  }\n};\n\n},{}],219:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _applicationState = require('store/application-state');\n\nvar _applicationState2 = _interopRequireDefault(_applicationState);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar _require = require('core/utils/utils'),\n    getUniqueDomId = _require.getUniqueDomId;\n\nexports.default = {\n  name: \"datetime\",\n  props: {\n    type: {\n      type: String,\n      default: 'date' },\n    format: {\n      type: String,\n      default: 'YYYY-MM-DD'\n    },\n    minDate: {\n      default: false\n    },\n    maxDate: {\n      default: false\n    },\n    enabledDates: {\n      default: false\n    },\n    value: {},\n    label: {\n      default: 'Date'\n    }\n  },\n  data: function data() {\n    return {\n      datetimevalue: this.value\n    };\n  },\n\n  methods: {\n    changeInput: function changeInput(evt) {},\n    change: function change(value) {\n      var date = moment(value).format(this.format);\n      this.$emit('change', date);\n    }\n  },\n  mounted: function () {\n    var _ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee() {\n      var _this = this;\n\n      return regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return this.$nextTick();\n\n            case 2:\n              this.datetimeinputelement = $(this.$refs.iddatetimepicker);\n              this.datetimeinputelement.datetimepicker({\n                minDate: this.minDate,\n                maxDate: this.maxDate,\n                defaultDate: this.datetimevalue,\n                useCurrent: false,\n                allowInputToggle: true,\n                enabledDates: this.enabledDates,\n                showClose: true,\n                format: this.format,\n                locale: _applicationState2.default.language,\n                toolbarPlacement: 'top',\n                widgetPositioning: {\n                  horizontal: 'right'\n                }\n              });\n              this.datetimeinputelement.on(\"dp.change\", function (_ref2) {\n                var date = _ref2.date;\n\n                _this.change(date);\n              });\n              this.datetimeinputelement.on(\"dp.hide\", function (evt) {});\n              _applicationState2.default.ismobile && setTimeout(function () {\n                return datetimeinputelement.blur();\n              });\n\n            case 7:\n            case 'end':\n              return _context.stop();\n          }\n        }\n      }, _callee, this);\n    }));\n\n    function mounted() {\n      return _ref.apply(this, arguments);\n    }\n\n    return mounted;\n  }(),\n\n  watch: {\n    value: function value(datetime) {\n      this.datetimevalue = datetime;\n      this.datetimeinputelement.data(\"DateTimePicker\").date(datetime);\n    },\n    minDate: function () {\n      var _ref3 = _asyncToGenerator(regeneratorRuntime.mark(function _callee2(mindatetime) {\n        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                this.datetimeinputelement.data(\"DateTimePicker\").minDate(mindatetime);\n\n              case 1:\n              case 'end':\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function minDate(_x) {\n        return _ref3.apply(this, arguments);\n      }\n\n      return minDate;\n    }(),\n    maxDate: function () {\n      var _ref4 = _asyncToGenerator(regeneratorRuntime.mark(function _callee3(maxdatetime) {\n        return regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                this.datetimeinputelement.data(\"DateTimePicker\").maxDate(maxdatetime);\n\n              case 1:\n              case 'end':\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this);\n      }));\n\n      function maxDate(_x2) {\n        return _ref4.apply(this, arguments);\n      }\n\n      return maxDate;\n    }(),\n    enabledDates: function enabledDates(dates) {\n      this.datetimeinputelement.data(\"DateTimePicker\").enabledDates(dates);\n    }\n  },\n  created: function created() {\n    this.id = getUniqueDomId();\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{ref:\"datimecontainer\"},[_c('label',{directives:[{name:\"t\",rawName:\"v-t\",value:(_vm.label),expression:\"label\"}],staticStyle:{\"display\":\"block\"},attrs:{\"for\":_vm.id}}),_vm._v(\" \"),_c('div',{staticClass:\"form-group\"},[_c('div',{ref:\"iddatetimepicker\",staticClass:\"input-group date\"},[_c('input',{ref:\"idinputdatetimepiker\",staticClass:\"form-control\",attrs:{\"id\":_vm.id,\"type\":\"text\"},on:{\"change\":_vm.changeInput}}),_vm._v(\" \"),_c('span',{staticClass:\"input-group-addon caret\"},[_c('span',{staticClass:\"datetimeinput\",class:[_vm.type === 'time'? _vm.g3wtemplate.getFontClass('time') :  _vm.g3wtemplate.getFontClass('calendar')]})])])])])}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-e7683bf8\"\n\n},{\"core/utils/utils\":68,\"store/application-state\":373}],220:[function(require,module,exports){\nvar __vueify_style_dispose__ = require(\"vueify/lib/insert-css\").insert(\".divider[data-v-6409ddc0]{display:block;position:relative;padding:0;margin-bottom:5px;height:0;width:100%;max-height:0;font-size:1px;line-height:0;clear:both;border:none;border-bottom:2px solid #eee}\")\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = {\n  name: \"divider\"\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',{staticClass:\"divider\"})}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-6409ddc0\"\n\n},{\"vueify/lib/insert-css\":1}],221:[function(require,module,exports){\nvar __vueify_style_dispose__ = require(\"vueify/lib/insert-css\").insert(\".modal-content[data-v-38db7d79]{background:hsla(0,0%,100%,.6);border-radius:3px}.modal-dialog[data-v-38db7d79]{display:inline-block;text-align:left;vertical-align:middle}.modal[data-v-38db7d79]{text-align:center;padding:0!important}.modal[data-v-38db7d79]:before{content:\\\"\\\";display:inline-block;height:100%;vertical-align:middle;margin-right:-4px}.carousel .carousel-control span[data-v-38db7d79]{color:#3c8dbc}\")\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _projects = require('store/projects');\n\nvar _projects2 = _interopRequireDefault(_projects);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = {\n  name: \"g3w-images-gallery\",\n  props: {\n    images: {\n      type: Array,\n      default: []\n    },\n    id: {\n      type: String,\n      default: 'gallery'\n    },\n    active: {\n      type: Number\n    }\n  },\n  data: function data() {\n    return {\n      carouselId: 'carousel_' + Date.now()\n    };\n  },\n\n  methods: {\n    isActive: function isActive(src) {\n      return src === active;\n    },\n    isRelativePath: function isRelativePath(url) {\n      if (!_.startsWith(url, '/') && !_.startsWith(url, 'http')) {\n        return _projects2.default.getConfig().mediaurl + url;\n      }\n      return url;\n    }\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"modal fade modal-fullscreen force-fullscreen\",attrs:{\"id\":_vm.id,\"tabindex\":\"-1\",\"role\":\"dialog\",\"aria-labelledby\":\"\",\"aria-hidden\":\"true\"}},[_c('div',{staticClass:\"modal-dialog\"},[_c('div',{staticClass:\"modal-content\"},[_c('div',{staticClass:\"modal-body\"},[_c('div',{staticClass:\"carousel slide\",attrs:{\"id\":_vm.carouselId,\"data-interval\":\"false\"}},[_c('div',{staticClass:\"carousel-inner\"},_vm._l((_vm.images),function(image,index){return _c('div',{staticClass:\"item\",class:_vm.active == index ? 'active' : ''},[_c('img',{staticStyle:{\"margin\":\"auto\"},attrs:{\"src\":_vm.isRelativePath(image.src)}})])}),0),_vm._v(\" \"),(_vm.images.length> 1)?_c('a',{staticClass:\"left carousel-control\",attrs:{\"href\":'#'+_vm.carouselId,\"role\":\"button\",\"data-slide\":\"prev\"}},[_c('span',{class:_vm.g3wtemplate.getFontClass('arrow-left')})]):_vm._e(),_vm._v(\" \"),(_vm.images.length> 1)?_c('a',{staticClass:\"right carousel-control\",attrs:{\"href\":'#'+_vm.carouselId,\"role\":\"button\",\"data-slide\":\"next\"}},[_c('span',{class:_vm.g3wtemplate.getFontClass('arrow-left')})]):_vm._e()])])])])])}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-38db7d79\"\n\n},{\"store/projects\":379,\"vueify/lib/insert-css\":1}],222:[function(require,module,exports){\nvar __vueify_style_dispose__ = require(\"vueify/lib/insert-css\").insert(\".show-hide-geo[data-v-ea8dc510]{color:#3c8dbc;cursor:pointer;font-size:1.2em}\")\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _mixins = require('mixins');\n\nexports.default = {\n  name: \"g3w-geospatial\",\n  props: {\n    data: {}\n  },\n  mixins: [_mixins.geoMixin],\n  data: function data() {\n    return {\n      layerId: 'table_layer_' + Date.now(),\n      visible: false,\n      id: 'geo_table_' + Date.now()\n    };\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"geo-content\"},[_c('span',{staticClass:\"show-hide-geo\",class:[_vm.visible ? _vm.g3wtemplate.getFontClass('eye-close') : _vm.g3wtemplate.getFontClass('eye')],on:{\"click\":function($event){$event.stopPropagation();return _vm.showLayer()}}})])}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-ea8dc510\"\n\n},{\"mixins\":343,\"vueify/lib/insert-css\":1}],223:[function(require,module,exports){\nvar __vueify_style_dispose__ = require(\"vueify/lib/insert-css\").insert(\".help_div_container[data-v-5d3720b7]{color:#fff;text-align:justify;position:relative;border-radius:3px;margin:5px 2px;white-space:pre-line;background-color:#384246!important}.help_icon[data-v-5d3720b7]{text-align:center;font-size:.7em;margin-top:-4px;margin-left:-4px;background-color:#222d32;font-weight:700;color:#fff;position:absolute;top:0;left:0;width:15px;height:15px;box-shadow:0 3px 5px rgba(0,0,0,.5);border:1px solid #fff;border-radius:50%}.g3w-help-message-content[data-v-5d3720b7]{max-height:200px;padding:10px;overflow-y:auto}\")\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = {\n  name: \"helpdiv\",\n  props: {\n    message: {\n      type: String,\n      required: true\n    },\n    type: {\n      type: String,\n      default: 'info' }\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"help_div_container\"},[_c('span',{staticClass:\"help_icon\"},[_vm._v(\"i\")]),_vm._v(\" \"),_c('div',{directives:[{name:\"t\",rawName:\"v-t\",value:(_vm.message),expression:\"message\"}],staticClass:\"g3w-help-message-content\"})])}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-5d3720b7\"\n\n},{\"vueify/lib/insert-css\":1}],224:[function(require,module,exports){\nvar __vueify_style_dispose__ = require(\"vueify/lib/insert-css\").insert(\".img-responsive[data-v-b7d14a7c]{cursor:pointer}.g3w-image[data-v-b7d14a7c]{padding-left:0!important;min-width:100px;max-width:100%;cursor:pointer}\")\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _GlobalGallery = require('components/GlobalGallery.vue');\n\nvar _GlobalGallery2 = _interopRequireDefault(_GlobalGallery);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = {\n  name: \"g3w-image\",\n  props: {\n    value: {}\n  },\n  data: function data() {\n    return {\n      galleryId: 'gallery_' + Date.now(),\n      active: null\n    };\n  },\n\n  components: {\n    'g3w-images-gallery': _GlobalGallery2.default\n  },\n  computed: {\n    values: function values() {\n      return Array.isArray(this.value) ? this.value : [this.value];\n    }\n  },\n  methods: {\n    getSrc: function getSrc(value) {\n      if ((typeof value === 'undefined' ? 'undefined' : _typeof(value)) === 'object') {\n        return value.photo;\n      }\n      return value;\n    },\n    showGallery: function showGallery(index) {\n      this.active = index;\n      if (_typeof(this.value) === 'object') {\n        this.value.active = true;\n      }\n      $('#' + this.galleryId).modal('show');\n    },\n    getGalleryImages: function getGalleryImages() {\n      var _this = this;\n\n      var images = [];\n      this.values.forEach(function (image) {\n        images.push({\n          src: _this.getSrc(image)\n        });\n      });\n      return images;\n    }\n  },\n  created: function created() {}\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container-fluid\"},[_c('div',{staticClass:\"row\"},_vm._l((_vm.values),function(value,index){return _c('div',{staticClass:\"g3w-image col-md-6 col-sm-12\"},[_c('img',{staticClass:\"img-thumbnail\",attrs:{\"src\":_vm.getSrc(value)},on:{\"click\":function($event){return _vm.showGallery(index)}}})])}),0),_vm._v(\" \"),_c('g3w-images-gallery',{attrs:{\"id\":_vm.galleryId,\"active\":_vm.active,\"images\":_vm.getGalleryImages()}})],1)}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-b7d14a7c\"\n\n},{\"components/GlobalGallery.vue\":221,\"vueify/lib/insert-css\":1}],225:[function(require,module,exports){\nvar __vueify_style_dispose__ = require(\"vueify/lib/insert-css\").insert(\".g3w-layer-positions[data-v-026784c2]{display:flex;flex-direction:column;margin:5px 0}.g3w-layer-positions-info-message[data-v-026784c2]{margin-bottom:5px;font-weight:700}.g3w-layer-positions-checkboxes[data-v-026784c2]{display:flex;justify-content:space-between}\")\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _constant = require('app/constant');\n\nvar _require = require('core/utils/utils'),\n    getUniqueDomId = _require.getUniqueDomId;\n\nexports.default = {\n  name: \"layerspositions\",\n  props: {\n    position: {\n      type: String,\n      default: _constant.MAP_SETTINGS.LAYER_POSITIONS.default\n    }\n  },\n  data: function data() {\n    return {\n      layerpositions: _constant.MAP_SETTINGS.LAYER_POSITIONS.getPositions()\n    };\n  },\n\n  methods: {\n    change: function change() {\n      this.$emit('layer-position-change', this.position);\n    }\n  },\n  created: function created() {\n    var _this = this;\n\n    this.ids = {\n      layerpositions: getUniqueDomId()\n    };\n    this.layerpositions.forEach(function (layerposition) {\n      return _this.ids[layerposition] = getUniqueDomId();\n    });\n    this.change();\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"g3w-layer-positions\",attrs:{\"id\":_vm.ids.layerpositions}},[_c('div',{directives:[{name:\"t\",rawName:\"v-t\",value:(\"layer_position.message\"),expression:\"`layer_position.message`\"}],staticClass:\"g3w-layer-positions-info-message\"}),_vm._v(\" \"),_c('div',{staticClass:\"g3w-layer-positions-checkboxes\"},_vm._l((_vm.layerpositions),function(layerposition){return _c('div',{key:layerposition},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.position),expression:\"position\"}],staticClass:\"form-control magic-radio\",attrs:{\"type\":\"radio\",\"id\":_vm.ids[layerposition]},domProps:{\"value\":layerposition,\"checked\":_vm.position === layerposition,\"checked\":_vm._q(_vm.position,layerposition)},on:{\"change\":[function($event){_vm.position=layerposition},_vm.change]}}),_vm._v(\" \"),_c('label',{directives:[{name:\"t\",rawName:\"v-t\",value:((\"layer_position.\" + layerposition)),expression:\"`layer_position.${layerposition}`\"}],attrs:{\"for\":_vm.ids[layerposition]}})])}),0)])}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-026784c2\"\n\n},{\"app/constant\":4,\"core/utils/utils\":68,\"vueify/lib/insert-css\":1}],226:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n/**\n * @file\n * @since v3.7\n */\n\nexports.default = {\n  name: \"progressbar\",\n  props: ['progress'],\n  render: function render(createElement) {\n    if (this.progress !== null && this.progress !== undefined) {\n      return createElement('div', {\n        style: {\n          margin: '5px 0 5px 0',\n          width: '100%',\n          backgroundColor: '#FFFFFF',\n          border: 0,\n          borderRadius: '3px'\n        }\n      }, [createElement('div', {\n        style: {\n          width: (this.progress < 10 ? 10 : this.progress) + '%',\n          display: 'flex',\n          justifyContent: 'center',\n          fontWeight: 'bold'\n        },\n        class: {\n          'skin-background-color': true\n        }\n      }, [createElement('span', this.progress + '%')])]);\n    }\n  }\n};\n\n},{}],227:[function(require,module,exports){\nvar __vueify_style_dispose__ = require(\"vueify/lib/insert-css\").insert(\".min-max-label[data-v-a8bbacb8]{align-self:end;font-weight:700}\")\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar _require = require('core/utils/utils'),\n    debounce = _require.debounce;\n\nexports.default = {\n  name: \"range\",\n  props: {\n    id: {\n      required: true\n    },\n\n    label: {\n      type: \"String\",\n      default: ''\n    },\n\n    min: {\n      type: Number,\n      default: 0\n    },\n\n    max: {\n      type: Number,\n      default: 10\n    },\n\n    step: {\n      type: Number,\n      default: 1\n    },\n\n    labelValue: {},\n\n    value: {\n      default: 0\n    },\n\n    sync: {\n      type: Boolean,\n      default: false\n    },\n\n    showValue: {\n      type: Boolean,\n      default: false\n    },\n\n    unit: {\n      type: String,\n      default: ''\n    }\n\n  },\n  data: function data() {\n    return {};\n  },\n\n  methods: {\n    changeBackGround: function changeBackGround(value) {\n      this.$refs['range-input'].style.backgroundSize = (value ? (value - this.min) * 100 / (this.max - this.min) : 0) + \"% 100%\";\n    },\n    setValue: function setValue(value) {\n      this.changedValue(value);\n    },\n    change: function change(evt) {\n      var value = 1 * evt.target.value;\n      this.changedValue(value);\n    },\n    emitChangeValue: function emitChangeValue(value) {\n      this.value = value;\n      this.$emit('change-range', {\n        id: this.id,\n        value: value\n      });\n    }\n  },\n  watch: {\n    value: function value(_value) {\n      this.changeBackGround(_value);\n      this.sync && this.emitChangeValue(_value);\n    }\n  },\n  created: function created() {\n    var _this = this;\n\n    this.changedValue = this.sync ? function () {\n      return _this.$emit('changed');\n    } : debounce(function (value) {\n      _this.emitChangeValue(value);\n    });\n  },\n  mounted: function () {\n    var _ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee() {\n      return regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return this.$nextTick();\n\n            case 2:\n              this.changeBackGround(this.value);\n\n            case 3:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, this);\n    }));\n\n    function mounted() {\n      return _ref.apply(this, arguments);\n    }\n\n    return mounted;\n  }(),\n  beforeDestroy: function beforeDestroy() {}\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('section',{staticStyle:{\"display\":\"flex\",\"justify-content\":\"space-between\",\"font-weight\":\"bold\"}},[_c('section',{staticStyle:{\"align-self\":\"flex-end\"}},[_c('span',{staticClass:\"min-max-label\"},[_vm._v(_vm._s(_vm.min))]),_vm._v(\" \"),_c('span',{staticStyle:{\"font-weight\":\"bold\"}},[_vm._v(_vm._s(_vm.unit))])]),_vm._v(\" \"),_c('div',{staticStyle:{\"display\":\"flex\",\"flex-direction\":\"column\",\"margin\":\"0 3px\"}},[_c('label',{directives:[{name:\"t\",rawName:\"v-t\",value:(_vm.label),expression:\"label\"}],staticClass:\"skin-color\",staticStyle:{\"display\":\"block\"},attrs:{\"for\":_vm.id}}),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.value),expression:\"value\"}],ref:\"range-input\",attrs:{\"type\":\"range\",\"id\":_vm.id,\"min\":_vm.min,\"max\":_vm.max,\"step\":_vm.step},domProps:{\"value\":(_vm.value)},on:{\"change\":_vm.change,\"__r\":function($event){_vm.value=$event.target.value}}})]),_vm._v(\" \"),_c('section',{staticStyle:{\"align-self\":\"flex-end\"}},[_c('span',{staticClass:\"min-max-label\"},[_vm._v(_vm._s(_vm.max))]),_vm._v(\" \"),_c('span',{staticStyle:{\"font-weight\":\"bold\"}},[_vm._v(_vm._s(_vm.unit))])])]),_vm._v(\" \"),(_vm.showValue)?[_c('span',[_vm._v(_vm._s(_vm.value))]),_vm._v(\" \"),_c('span',{staticStyle:{\"font-weight\":\"bold\"}},[_vm._v(_vm._s(_vm.unit))])]:_vm._e()],2)}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-a8bbacb8\"\n\n},{\"core/utils/utils\":68,\"vueify/lib/insert-css\":1}],228:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nexports.default = {\n  name: \"g3w-resize\",\n  props: {\n    show: {\n      type: Boolean,\n      required: true,\n      default: true\n    },\n    orientation: {\n      type: String,\n      required: true,\n      default: 'h'\n    },\n    where: {\n      type: 'string',\n      default: 'document'\n    },\n    moveFnc: {\n      type: Function,\n      default: function _default(evt) {\n        return console.log(evt);\n      }\n    },\n    style: {\n      type: Object,\n      default: {}\n    }\n  },\n  methods: {\n    wrapMoveFnc: function wrapMoveFnc(evt) {\n      this.domElementMoveListen.addEventListener('mouseup', this.stop, { once: true });\n      this.moveFnc(evt);\n    },\n    start: function start() {\n      this.domElementMoveListen.addEventListener('mousemove', this.wrapMoveFnc);\n    },\n    stop: function () {\n      var _ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee() {\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                this.domElementMoveListen.removeEventListener('mousemove', this.wrapMoveFnc);\n                _context.next = 3;\n                return this.$nextTick();\n\n              case 3:\n                _gui2.default.emit('resize');\n\n              case 4:\n              case 'end':\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function stop() {\n        return _ref.apply(this, arguments);\n      }\n\n      return stop;\n    }()\n  },\n  watch: {\n    'orientation': {\n      handler: function handler(orientation) {\n        this.style.cursor = orientation === 'v' ? 'ns-resize' : 'col-resize';\n      },\n\n      immediate: true\n    }\n  },\n  mounted: function () {\n    var _ref2 = _asyncToGenerator(regeneratorRuntime.mark(function _callee2() {\n      return regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              this.domElementMoveListen;\n              this.style = _extends({\n                minWidth: '5px',\n                backgroundColor: '#dddddd',\n                cursor: 'col-resize'\n              }, this.style);\n              _context2.t0 = this.where;\n              _context2.next = _context2.t0 === 'content' ? 5 : _context2.t0 === 'document' ? 7 : 7;\n              break;\n\n            case 5:\n              this.domElementMoveListen = document.getElementById('g3w-view-content');\n              return _context2.abrupt('break', 8);\n\n            case 7:\n              this.domElementMoveListen = document;\n\n            case 8:\n            case 'end':\n              return _context2.stop();\n          }\n        }\n      }, _callee2, this);\n    }));\n\n    function mounted() {\n      return _ref2.apply(this, arguments);\n    }\n\n    return mounted;\n  }(),\n  destroyed: function destroyed() {\n    this.domElementMoveListen = null;\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.show),expression:\"show\"}],style:(_vm.style),attrs:{\"id\":_vm.$attrs.id},on:{\"mousedown\":function($event){$event.stopPropagation();return _vm.start($event)}}})}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-9cb98a46\"\n\n},{\"services/gui\":361}],229:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = {\n    name: 'resize-icon',\n    props: {\n        type: {\n            type: String,\n            default: 'h'\n        }\n    },\n    computed: function computed() {},\n\n    methods: {\n        toggleFull: function toggleFull() {\n            _gui2.default.toggleFullViewContent();\n            _gui2.default.emit('resize');\n        },\n        resetToDefault: function resetToDefault() {\n            _gui2.default.resetToDefaultContentPercentage();\n            _gui2.default.emit('resize');\n        }\n    }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticStyle:{\"display\":\"flex\",\"justify-content\":\"space-between\"}},[_c('i',{directives:[{name:\"t-tooltip\",rawName:\"v-t-tooltip:bottom.create\",value:('enlange_reduce'),expression:\"'enlange_reduce'\",arg:\"bottom\",modifiers:{\"create\":true}}],staticClass:\"action-button skin-color-dark\",class:_vm.g3wtemplate.getFontClass((\"resize-\" + _vm.type)),staticStyle:{\"cursor\":\"pointer\",\"margin-right\":\"3px\"},on:{\"click\":_vm.toggleFull}}),_vm._v(\" \"),_c('i',{directives:[{name:\"t-tooltip\",rawName:\"v-t-tooltip:left.create\",value:('reset_default'),expression:\"'reset_default'\",arg:\"left\",modifiers:{\"create\":true}}],staticClass:\"action-button skin-color-dark\",class:_vm.g3wtemplate.getFontClass(\"resize-default\"),staticStyle:{\"cursor\":\"pointer\"},on:{\"click\":_vm.resetToDefault}})])}\n__vue__options__.staticRenderFns = []\n\n},{\"services/gui\":361}],230:[function(require,module,exports){\nvar __vueify_style_dispose__ = require(\"vueify/lib/insert-css\").insert(\".br[data-v-8413fc94]{border-radius:8px}.card[data-v-8413fc94]{width:80%;padding:10px 20px;margin:50px auto}.item[data-v-8413fc94]{height:15px;background:#ccc;margin-top:15px}.item-light[data-v-8413fc94]{background:#ddd}.text80[data-v-8413fc94]{width:80%}.chart-wrapper[data-v-8413fc94]{height:50px;display:flex;align-items:baseline;margin-bottom:20px}.chart-item[data-v-8413fc94]{height:100%;width:15px;background:#ccc;margin-right:10px}.chart-item-80[data-v-8413fc94]{height:80%}\")\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = {\n  name: \"skeleton\",\n  mounted: function mounted() {\n    this.$nextTick(function () {});\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _vm._m(0)}\n__vue__options__.staticRenderFns = [function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"card br\"},[_c('div',{staticClass:\"chart-wrapper\"},[_c('div',{staticClass:\"chart-item br\"}),_vm._v(\" \"),_c('div',{staticClass:\"chart-item chart-item-80 item-light br\"}),_vm._v(\" \"),_c('div',{staticClass:\"chart-item br\"}),_vm._v(\" \"),_c('div',{staticClass:\"chart-item br chart-item-80\"})]),_vm._v(\" \"),_c('div',{staticClass:\"item br text80\"}),_vm._v(\" \"),_c('div',{staticClass:\"item item-light br\"}),_vm._v(\" \"),_c('div',{staticClass:\"item br\"}),_vm._v(\" \"),_c('div',{staticClass:\"item item-light br text80\"})])}]\n__vue__options__._scopeId = \"data-v-8413fc94\"\n\n},{\"vueify/lib/insert-css\":1}],231:[function(require,module,exports){\nvar __vueify_style_dispose__ = require(\"vueify/lib/insert-css\").insert(\".formquerytabs[data-v-2cbd8ce7]{overflow:hidden!important;display:flex;flex-wrap:wrap}.formquerytabs>li[data-v-2cbd8ce7]{flex:1;display:flex}.formquerytabs>li>a[data-v-2cbd8ce7]{font-weight:700;flex:1}.tab-content[data-v-2cbd8ce7]{//margin-top:10px}.nav-tabs>li>a.mobile[data-v-2cbd8ce7]{padding:5px 10px}.tab_a[data-v-2cbd8ce7]{padding:5px;margin-right:0!important;//border:1px solid #eee;border-bottom:0;margin-bottom:3px;border-radius:3px 3px 0 0}\")\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _name$props$component;\n\nvar _tabservice = require('core/expression/tabservice');\n\nvar _tabservice2 = _interopRequireDefault(_tabservice);\n\nvar _GlobalTabsNode = require('components/GlobalTabsNode.vue');\n\nvar _GlobalTabsNode2 = _interopRequireDefault(_GlobalTabsNode);\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar _require = require('core/utils/utils'),\n    getUniqueDomId = _require.getUniqueDomId;\n\nexports.default = (_name$props$component = {\n  name: \"tabs\",\n  props: {\n    group: {\n      type: Boolean,\n      default: false\n    },\n    contenttype: {\n      default: 'query' },\n    layerid: {\n      required: true\n    },\n    tabs: {\n      required: true\n    },\n    feature: {\n      required: true\n    },\n    fields: {\n      required: true\n    },\n    addToValidate: Function,\n    removeToValidate: Function,\n    changeInput: Function,\n    showRelationByField: {\n      type: Boolean,\n      default: true\n    },\n    handleRelation: {\n      type: Function,\n      default: function _default() {\n        var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n            relation = _ref.relation,\n            layerId = _ref.layerId,\n            feature = _ref.feature;\n\n        return _gui2.default.getService('queryresults').showRelation({ relation: relation, layerId: layerId, feature: feature });\n      }\n    }\n  },\n  components: {\n    Node: _GlobalTabsNode2.default\n  },\n  data: function data() {\n    return {\n      ids: []\n    };\n  },\n\n  computed: {\n    required_fields: function required_fields() {\n      return this.contenttype === 'editing' && this.fields.filter(function (field) {\n        return field.validate.required;\n      }).map(function (field) {\n        return field.name;\n      });\n    },\n    show: function show() {\n      return this.tabs.reduce(function (accumulator, tab) {\n        return accumulator || tab.visible === undefined || !!tab.visible;\n      }, false);\n    }\n  },\n  methods: {\n    setVisibility: function () {\n      var _ref2 = _asyncToGenerator(regeneratorRuntime.mark(function _callee(tab) {\n        var visible;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return _tabservice2.default.getVisibility({\n                  qgs_layer_id: this.layerid,\n                  expression: tab.visibility_expression.expression,\n                  feature: this.feature,\n                  contenttype: this.contenttype\n                });\n\n              case 2:\n                visible = _context.sent;\n\n                tab.visible = visible;\n\n              case 4:\n              case 'end':\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function setVisibility(_x2) {\n        return _ref2.apply(this, arguments);\n      }\n\n      return setVisibility;\n    }(),\n    setEditingRequireTab: function setEditingRequireTab(obj) {\n      var _this = this;\n\n      var required = false;\n      if (obj.nodes === undefined) required = this.required_fields.indexOf(obj.field_name) !== -1;else required = !!obj.nodes.find(function (node) {\n        return _this.setEditingRequireTab(node);\n      });\n      return required;\n    },\n    getField: function getField(fieldName) {\n      return this.fields.find(function (field) {\n        return field.name === fieldName;\n      });\n    }\n  }\n}, _defineProperty(_name$props$component, 'components', {\n  Node: _GlobalTabsNode2.default\n}), _defineProperty(_name$props$component, 'created', function () {\n  var _ref3 = _asyncToGenerator(regeneratorRuntime.mark(function _callee3() {\n    var _this2 = this;\n\n    var _loop, _iteratorNormalCompletion, _didIteratorError, _iteratorError, _iterator, _step, tab, nodes;\n\n    return regeneratorRuntime.wrap(function _callee3$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            this.unwatch = [];\n\n            _loop = function _loop(tab) {\n              if (tab.visibility_expression) {\n                if (tab.visible === undefined) _this2.$set(tab, 'visible', 0);\n                _this2.setVisibility(tab);\n              }\n              if (_this2.contenttype === 'editing') {\n                if (tab.required === undefined) tab.required = _this2.setEditingRequireTab(tab);\n                if (tab.visibility_expression) {\n                  tab.visibility_expression.referenced_columns.forEach(function (column) {\n                    var field = _this2.fields.find(function (field) {\n                      return field.name === column;\n                    });\n                    _this2.unwatch.push(_this2.$watch(function () {\n                      return field.value;\n                    }, function () {\n                      var _ref4 = _asyncToGenerator(regeneratorRuntime.mark(function _callee2(value) {\n                        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n                          while (1) {\n                            switch (_context2.prev = _context2.next) {\n                              case 0:\n                                _this2.feature.set(field.name, value);\n                                _this2.setVisibility(tab);\n\n                              case 2:\n                              case 'end':\n                                return _context2.stop();\n                            }\n                          }\n                        }, _callee2, _this2);\n                      }));\n\n                      return function (_x3) {\n                        return _ref4.apply(this, arguments);\n                      };\n                    }()));\n                  });\n                }\n              }\n              _this2.ids.push('tab_' + getUniqueDomId());\n            };\n\n            _iteratorNormalCompletion = true;\n            _didIteratorError = false;\n            _iteratorError = undefined;\n            _context3.prev = 5;\n            for (_iterator = this.tabs[Symbol.iterator](); !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n              tab = _step.value;\n\n              _loop(tab);\n            }\n            _context3.next = 13;\n            break;\n\n          case 9:\n            _context3.prev = 9;\n            _context3.t0 = _context3['catch'](5);\n            _didIteratorError = true;\n            _iteratorError = _context3.t0;\n\n          case 13:\n            _context3.prev = 13;\n            _context3.prev = 14;\n\n            if (!_iteratorNormalCompletion && _iterator.return) {\n              _iterator.return();\n            }\n\n          case 16:\n            _context3.prev = 16;\n\n            if (!_didIteratorError) {\n              _context3.next = 19;\n              break;\n            }\n\n            throw _iteratorError;\n\n          case 19:\n            return _context3.finish(16);\n\n          case 20:\n            return _context3.finish(13);\n\n          case 21:\n            this.root_tabs = [];\n            if (!this.group) {\n              nodes = [];\n\n              this.tabs.forEach(function (tab_node) {\n                if (tab_node.nodes) nodes.push(tab_node);else {\n                  if (nodes.length) {\n                    _this2.root_tabs.push([].concat(nodes));\n                    nodes.splice(0);\n                  }_this2.root_tabs.push({ nodes: [tab_node] });\n                }\n              });\n              if (nodes.length) this.root_tabs.push(nodes);\n            } else this.root_tabs = [this.tabs];\n\n          case 23:\n          case 'end':\n            return _context3.stop();\n        }\n      }\n    }, _callee3, this, [[5, 9, 13, 21], [14,, 16, 20]]);\n  }));\n\n  function created() {\n    return _ref3.apply(this, arguments);\n  }\n\n  return created;\n}()), _defineProperty(_name$props$component, 'beforeDestroy', function beforeDestroy() {\n  this.unwatch.forEach(function (unwatch) {\n    return unwatch();\n  });\n  this.unwatch = null;\n}), _name$props$component);\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.show)?_c('div',{staticClass:\"tabs-wrapper\"},[_vm._l((_vm.root_tabs),function(root_tab){return [(Array.isArray(root_tab))?[_c('ul',{staticClass:\"formquerytabs nav nav-tabs\"},[_vm._l((root_tab),function(tab,index){return [(tab.visible === undefined || tab.visible)?_c('li',{class:{active: index === 0}},[_c('a',{staticClass:\"tab_a\",class:{'mobile': _vm.isMobile(), 'group-title': _vm.group},style:({fontSize: _vm.isMobile() ? '1.0em': ((_vm.group ? '1.1': '1.2') + \"em\")}),attrs:{\"data-toggle\":\"tab\",\"href\":(\"#\" + (_vm.ids[index]))}},[_vm._v(\"\\n              \"+_vm._s(tab.name)+\" \"),(_vm.contenttype === 'editing' && tab.required)?_c('span',{staticStyle:{\"padding-left\":\"3px\",\"font-size\":\"1.1em\"}},[_vm._v(\"*\")]):_vm._e()])]):_vm._e()]})],2),_vm._v(\" \"),_c('div',{staticClass:\"tab-content\",class:{editing: _vm.contenttype === 'editing'}},[_vm._l((root_tab),function(tab,index){return [(tab.visible === undefined || tab.visible)?_c('div',{staticClass:\"tab-pane fade\",class:{'in active': index === 0},attrs:{\"id\":_vm.ids[index]}},[_c('node',{attrs:{\"showRelationByField\":_vm.showRelationByField,\"handleRelation\":_vm.handleRelation,\"feature\":_vm.feature,\"layerid\":_vm.layerid,\"contenttype\":_vm.contenttype,\"addToValidate\":_vm.addToValidate,\"removeToValidate\":_vm.removeToValidate,\"changeInput\":_vm.changeInput,\"fields\":_vm.fields,\"showTitle\":false,\"node\":tab}})],1):_vm._e()]})],2)]:_c('node',{attrs:{\"showRelationByField\":_vm.showRelationByField,\"handleRelation\":_vm.handleRelation,\"feature\":_vm.feature,\"layerid\":_vm.layerid,\"contenttype\":_vm.contenttype,\"addToValidate\":_vm.addToValidate,\"removeToValidate\":_vm.removeToValidate,\"changeInput\":_vm.changeInput,\"fields\":_vm.fields,\"showTitle\":false,\"node\":root_tab}})]})],2):_vm._e()}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-2cbd8ce7\"\n\n},{\"components/GlobalTabsNode.vue\":232,\"core/expression/tabservice\":11,\"core/utils/utils\":68,\"services/gui\":361,\"vueify/lib/insert-css\":1}],232:[function(require,module,exports){\nvar __vueify_style_dispose__ = require(\"vueify/lib/insert-css\").insert(\".tab-node[data-v-9685e2ee]{min-width:0;overflow:hidden}.title[data-v-9685e2ee]{font-weight:700;width:100%;color:#fff;padding:3px;margin-top:5px;margin-bottom:5px;border-radius:2px}.node-row[data-v-9685e2ee]{margin-bottom:0;column-gap:2px;margin-top:0;display:grid;grid-auto-columns:minmax(0,1fr);grid-auto-flow:column}.row.mobile[data-v-9685e2ee]{margin-bottom:0!important}\")\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _InputG3W = require('components/InputG3W.vue');\n\nvar _InputG3W2 = _interopRequireDefault(_InputG3W);\n\nvar _projects = require('store/projects');\n\nvar _projects2 = _interopRequireDefault(_projects);\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar Fields = require('gui/fields/fields');\n\nexports.default = {\n  name: \"node\",\n  props: ['contenttype', 'node', 'fields', 'showTitle', 'addToValidate', 'removeToValidate', 'changeInput', 'layerid', 'feature', 'showRelationByField', 'handleRelation'],\n  components: _extends({\n    G3wInput: _InputG3W2.default\n  }, Fields),\n  data: function data() {\n    return {\n      context: this.contenttype,\n      editing_required: false\n    };\n  },\n\n  computed: {\n    filterNodes: function filterNodes() {\n      var _this = this;\n\n      var filterNodes = this.node.nodes && this.node.nodes.filter(function (node) {\n        if (_this.getNodeType(node) === 'group') {\n          return true;\n        } else if (!node.nodes && node.name && _this.getNodeType(node) != 'group') {\n          node.relation = true;\n          return true;\n        } else {\n          return !!_this.fields.find(function (field) {\n            var field_name = node.field_name ? node.field_name.replace(/ /g, \"_\") : node.field_name;\n            return field.name === field_name || node.relation;\n          });\n        }\n      });\n      return filterNodes || [];\n    },\n    nodesLength: function nodesLength() {\n      return this.filterNodes.length;\n    },\n    rows: function rows() {\n      var rowCount = 1;\n      if (this.nodesLength === 0) rowCount = 0;else if (this.columnNumber <= this.nodesLength) {\n        var rest = this.nodesLength % this.columnNumber;\n        rowCount = Math.floor(this.nodesLength / this.columnNumber) + rest;\n      }\n      return rowCount;\n    },\n    columnNumber: function columnNumber() {\n      var columnCount = parseInt(this.node.columncount) ? parseInt(this.node.columncount) : 1;\n      return columnCount > this.nodesLength ? this.nodesLength : columnCount;\n    },\n    showGroupTile: function showGroupTile() {\n      return this.showTitle && this.node.showlabel && this.node.groupbox;\n    }\n  },\n  methods: {\n    loadingRelation: function loadingRelation(relation) {\n      var layer = _projects2.default.getCurrentProject().getLayerById(this.layerid);\n      var relation_project = layer.getRelationById(relation.name);\n      return relation_project.state;\n    },\n    isRelationDisabled: function isRelationDisabled(relation) {\n      return this.getRelationName(relation.name) === undefined || this.contenttype === 'editing' && this.isRelationChildLayerNotEditable(relation);\n    },\n    getRelationName: function getRelationName(relationId) {\n      var relation = _projects2.default.getCurrentProject().getRelationById(relationId);\n      return relation && relation.name;\n    },\n    isRelationChildLayerNotEditable: function isRelationChildLayerNotEditable(relation) {\n      var nmRelationId = relation.nmRelationId,\n          name = relation.name;\n\n      var currentProject = _projects2.default.getCurrentProject();\n      var projectRelation = currentProject.getRelationById(name);\n      var relationLayerId = projectRelation.referencingLayer;\n      var relationLayer = currentProject.getLayerById(relationLayerId);\n\n      return !relationLayer.isEditable();\n    },\n    getNodes: function getNodes(row) {\n      var startIndex = (row - 1) * this.columnNumber;\n      return this.filterNodes.slice(startIndex, this.columnNumber + startIndex);\n    },\n    getNode: function getNode(row, column) {\n      return this.getNodes(row)[column - 1];\n    },\n    getField: function getField(node) {\n      if (node.relation) return node;\n      var field = this.fields.find(function (field) {\n        var field_name = node.field_name ? node.field_name.replace(/ /g, \"_\") : node.field_name;\n        return field.name === field_name;\n      });\n      return field;\n    },\n    getNodeType: function getNodeType(node) {\n      var type = node.groupbox || node.nodes ? 'group' : node.relation ? 'relation' : 'field';\n      if (type === 'field' && (node.alias === undefined || node.alias === '')) {\n        node.alias = node.field_name;\n      }\n      return type;\n    },\n    getComponent: function getComponent(field) {\n      if (field.relation) return;else if (field.query) return field.input.type;else return 'g3w-input';\n    }\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"tab-node group\"},[(_vm.showGroupTile)?_c('h5',{staticClass:\"title group-title\",class:{'mobile': _vm.isMobile()},style:({fontSize: _vm.isMobile() ? '1em' : '1.1em'})},[_vm._v(_vm._s(_vm.node.name))]):_vm._e(),_vm._v(\" \"),_vm._l((_vm.rows),function(row){return _c('div',{staticClass:\"node-row\",class:{'mobile': _vm.isMobile()}},[_vm._l((_vm.columnNumber),function(column){return [(_vm.getNode(row, column))?[(_vm.getNodeType(_vm.getNode(row, column)) === 'field')?_c(_vm.getComponent(_vm.getField(_vm.getNode(row, column))),{tag:\"component\",staticStyle:{\"padding\":\"5px 3px 5px 3px\"},attrs:{\"state\":_vm.getField(_vm.getNode(row, column)),\"changeInput\":_vm.changeInput,\"addToValidate\":_vm.addToValidate,\"removeToValidate\":_vm.removeToValidate,\"feature\":_vm.feature},on:{\"changeinput\":_vm.changeInput,\"addinput\":_vm.addToValidate,\"removeinput\":_vm.removeToValidate}}):[(_vm.getNodeType(_vm.getNode(row, column)) === 'group')?_c('tabs',_vm._b({staticClass:\"sub-group\",staticStyle:{\"width\":\"100% !important\"},attrs:{\"group\":true,\"tabs\":[_vm.getNode(row, column)]}},'tabs',_vm.$props,false)):[(_vm.showRelationByField)?_c('div',{directives:[{name:\"disabled\",rawName:\"v-disabled\",value:(_vm.isRelationDisabled(_vm.getNode(row, column)) || _vm.loadingRelation(_vm.getNode(row, column)).loading),expression:\"isRelationDisabled(getNode(row, column)) || loadingRelation(getNode(row, column)).loading\"}],style:({cursor: _vm.showRelationByField && 'pointer'}),on:{\"click\":function($event){$event.stopPropagation();_vm.handleRelation({relation: _vm.getNode(row, column), feature:_vm.feature, layerId: _vm.layerid})}}},[_c('bar-loader',{attrs:{\"loading\":_vm.loadingRelation(_vm.getNode(row, column)).loading}}),_vm._v(\" \"),_c('div',{staticStyle:{\"display\":\"flex\",\"align-items\":\"center\"}},[_c('div',{staticClass:\"query_relation_field\"},[_c('i',{class:_vm.g3wtemplate.font[(\"\" + (_vm.context === 'query' ? 'relation' : 'pencil'))]})]),_vm._v(\" \"),_c('span',{staticClass:\"query_relation_field_message g3w-long-text\"},[_c('span',{staticStyle:{\"text-transform\":\"uppercase\"}},[_vm._v(\" \"+_vm._s(_vm.getRelationName(_vm.getNode(row, column).name)))])])])],1):_vm._e()]]]:_vm._e()]})],2)})],2)}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-9685e2ee\"\n\n},{\"components/InputG3W.vue\":239,\"gui/fields/fields\":120,\"services/gui\":361,\"store/projects\":379,\"vueify/lib/insert-css\":1}],233:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = {\n  props: ['state'],\n  methods: {\n    showCustomModal: function showCustomModal(id) {\n      this.$emit('show-custom-modal-content', id);\n    }\n  },\n  created: function created() {\n    this.state.type = this.state.type || 'link';\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('li',{staticClass:\"customheaderlink dropdown user user-menu\",attrs:{\"title\":_vm.state.title}},[(_vm.state.type === 'link')?_c('a',{staticClass:\"dropdown-toggle\",class:{ imagelink : !!_vm.state.img},attrs:{\"href\":_vm.state.url,\"target\":_vm.state.target}},[(_vm.state.img)?_c('img',{staticStyle:{\"max-height\":\"20px\"},attrs:{\"src\":_vm.state.img}}):_c('span',[(_vm.state.i18n)?_c('span',{directives:[{name:\"t\",rawName:\"v-t\",value:(_vm.state.title),expression:\"state.title\"}]}):_c('span',[_vm._v(_vm._s(_vm.state.title))])])]):(_vm.state.type === 'modal')?_c('a',{staticClass:\"dropdown-toggle\",staticStyle:{\"cursor\":\"pointer\"},attrs:{\"data-toggle\":\"modal\",\"data-target\":\"#custom_modal\"},on:{\"click\":function($event){return _vm.showCustomModal(_vm.state.id)}}},[_c('span',[_vm._v(_vm._s(_vm.state.title))])]):_vm._e()])}\n__vue__options__.staticRenderFns = []\n\n},{}],234:[function(require,module,exports){\nvar __vueify_style_dispose__ = require(\"vueify/lib/insert-css\").insert(\".control-label[data-v-cb533ff6]{text-align:left!important;padding-top:0!important;margin-bottom:3px}\")\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _mixins = require('mixins');\n\nexports.default = _extends({\n  name: \"InputBase\",\n  props: ['state']\n}, _mixins.baseInputMixin);\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.state.visible)?_c('div',{staticClass:\"form-group\"},[_vm._t(\"label\",[_c('label',{directives:[{name:\"disabled\",rawName:\"v-disabled\",value:(!_vm.editable),expression:\"!editable\"}],staticClass:\"col-sm-12 control-label\",attrs:{\"for\":_vm.state.name}},[_vm._v(_vm._s(_vm.state.label)+\"\\n      \"),(_vm.state.validate && _vm.state.validate.required)?_c('span',[_vm._v(\"*\")]):_vm._e(),_vm._v(\" \"),(_vm.showhelpicon)?_c('i',{staticClass:\"skin-color\",class:_vm.g3wtemplate.font['info'],staticStyle:{\"margin-left\":\"3px\",\"cursor\":\"pointer\"},on:{\"click\":_vm.showHideHelp}}):_vm._e(),_vm._v(\" \"),_vm._t(\"label-action\")],2)]),_vm._v(\" \"),_c('div',{staticClass:\"col-sm-12\"},[_vm._t(\"loading\",[(_vm.loadingState === 'loading')?_c('div',{staticStyle:{\"position\":\"relative\",\"width\":\"100%\"},attrs:{\"slot\":\"loading\"},slot:\"loading\"},[_c('bar-loader',{attrs:{\"loading\":\"true\"}})],1):_vm._e()]),_vm._v(\" \"),_vm._t(\"body\"),_vm._v(\" \"),_vm._t(\"message\",[(_vm.notvalid)?_c('p',{staticClass:\"g3w-long-text error-input-message\",staticStyle:{\"margin\":\"0\"},domProps:{\"innerHTML\":_vm._s(_vm.state.validate.message)}}):(_vm.state.info)?_c('p',{staticStyle:{\"margin\":\"0\"},domProps:{\"innerHTML\":_vm._s(_vm.state.info)}}):_vm._e()]),_vm._v(\" \"),(_vm.state.help && this.state.help.visible)?_c('div',{staticClass:\"g3w_input_help skin-background-color extralighten\",domProps:{\"innerHTML\":_vm._s(_vm.state.help.message)}}):_vm._e()],2)],2):_vm._e()}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-cb533ff6\"\n\n},{\"mixins\":343,\"vueify/lib/insert-css\":1}],235:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _mixins = require('mixins');\n\nvar Input = require('gui/inputs/input');\n\nvar _require = require('core/utils/utils'),\n    getUniqueDomId = _require.getUniqueDomId;\n\nexports.default = {\n  mixins: [Input, _mixins.widgetMixins],\n  data: function data() {\n    return {\n      value: null,\n      label: null,\n      id: getUniqueDomId() };\n  },\n\n  methods: {\n    setLabel: function setLabel() {\n      this.label = this.service.convertCheckedToValue(this.value);\n    },\n    setValue: function setValue() {\n      this.value = this.service.convertValueToChecked();\n    },\n    changeCheckBox: function changeCheckBox() {\n      this.setLabel();\n      this.widgetChanged();\n    },\n    stateValueChanged: function stateValueChanged() {\n      this.setValue();\n      this.setLabel();\n    }\n  },\n  created: function created() {\n    this.value = this.state.forceNull ? this.value : this.service.convertValueToChecked();\n  },\n  mounted: function mounted() {\n    if (!this.state.forceNull) this.setLabel();\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('baseinput',{attrs:{\"state\":_vm.state}},[_c('div',{directives:[{name:\"disabled\",rawName:\"v-disabled\",value:(!_vm.editable),expression:\"!editable\"}],staticStyle:{\"height\":\"20px\",\"margin-top\":\"8px\"},attrs:{\"slot\":\"body\"},slot:\"body\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.value),expression:\"value\"}],staticClass:\"magic-checkbox\",class:{'input-error-validation' : _vm.notvalid},staticStyle:{\"width\":\"100%\"},attrs:{\"tabIndex\":_vm.tabIndex,\"type\":\"checkbox\",\"id\":_vm.id},domProps:{\"checked\":Array.isArray(_vm.value)?_vm._i(_vm.value,null)>-1:(_vm.value)},on:{\"change\":[function($event){var $$a=_vm.value,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.value=$$a.concat([$$v]))}else{$$i>-1&&(_vm.value=$$a.slice(0,$$i).concat($$a.slice($$i+1)))}}else{_vm.value=$$c}},_vm.changeCheckBox]}}),_vm._v(\" \"),_c('label',{attrs:{\"for\":_vm.id}},[_vm._v(_vm._s(_vm.label))])])])}\n__vue__options__.staticRenderFns = []\n\n},{\"core/utils/utils\":68,\"gui/inputs/input\":131,\"mixins\":343}],236:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\n\nvar Input = require('gui/inputs/input');\n\nexports.default = {\n  mixins: [Input]\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('baseinput',{attrs:{\"state\":_vm.state}},[_c('input',{directives:[{name:\"disabled\",rawName:\"v-disabled\",value:(!_vm.editable),expression:\"!editable\"},{name:\"model\",rawName:\"v-model\",value:(_vm.state.value),expression:\"state.value\"}],staticClass:\"form-control\",class:{'input-error-validation' : _vm.notvalid},staticStyle:{\"cursor\":\"pointer\"},attrs:{\"slot\":\"body\",\"placeholder\":_vm.state.default,\"type\":\"color\",\"tabIndex\":_vm.tabIndex,\"field\":_vm.state.name,\"id\":_vm.state.name},domProps:{\"value\":(_vm.state.value)},on:{\"change\":_vm.change,\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.state, \"value\", $event.target.value)}},slot:\"body\"})])}\n__vue__options__.staticRenderFns = []\n\n},{\"gui/inputs/input\":131}],237:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _applicationState = require('store/application-state');\n\nvar _applicationState2 = _interopRequireDefault(_applicationState);\n\nvar _mixins = require('mixins');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar Input = require('gui/inputs/input');\n\nvar _require = require('core/utils/utils'),\n    getUniqueDomId = _require.getUniqueDomId;\n\nexports.default = {\n\n  mixins: [Input, _mixins.resizeMixin],\n\n  data: function data() {\n    var uniqueValue = getUniqueDomId();\n    return {\n      widget_container: {\n        top: 0,\n        left: 0\n      },\n      iddatetimepicker: 'datetimepicker_' + uniqueValue,\n      idinputdatetimepiker: 'inputdatetimepicker_' + uniqueValue\n    };\n  },\n\n\n  methods: {\n    resize: function resize() {\n      var domeDataPicker = $('#' + this.iddatetimepicker);\n      if (domeDataPicker && domeDataPicker.data(\"DateTimePicker\")) {\n        domeDataPicker.data(\"DateTimePicker\").hide();\n      }\n    },\n    timeOnly: function timeOnly() {\n      return !this.state.input.options.formats[0].date;\n    },\n    onDatePickerChange: function onDatePickerChange() {\n      var newDate = $('#' + this.idinputdatetimepiker).val();\n      this.state.value = _.isEmpty(_.trim(newDate)) ? null : moment(newDate, this.datetimedisplayformat).format(this.datetimefieldformat);\n      this.change();\n    },\n    onDatePickerShow: function () {\n      var _ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee(evt) {\n        var _$refs$datetimepicker, top, left, width;\n\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return this.$nextTick();\n\n              case 2:\n                _$refs$datetimepicker = this.$refs.datetimepicker_body.getBoundingClientRect(), top = _$refs$datetimepicker.top, left = _$refs$datetimepicker.left, width = _$refs$datetimepicker.width;\n\n                this.widget_container.top = top;\n                this.widget_container.left = left - width;\n                this.$emit('datetimepickershow');\n\n              case 6:\n              case 'end':\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function onDatePickerShow(_x) {\n        return _ref.apply(this, arguments);\n      }\n\n      return onDatePickerShow;\n    }(),\n    onDatePickerHide: function onDatePickerHide(evt) {\n      this.$emit('datetimepickershow');\n    }\n  },\n  watch: {\n    'state.value': function () {\n      var _ref2 = _asyncToGenerator(regeneratorRuntime.mark(function _callee2(value) {\n        var date;\n        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                if (!(value !== $('#' + this.idinputdatetimepiker).val())) {\n                  _context2.next = 5;\n                  break;\n                }\n\n                date = null !== value ? moment(value, this.datetimefieldformat).format(this.datetimedisplayformat) : value;\n                _context2.next = 4;\n                return this.$nextTick();\n\n              case 4:\n                $('#' + this.idinputdatetimepiker).val(date);\n\n              case 5:\n              case 'end':\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function stateValue(_x2) {\n        return _ref2.apply(this, arguments);\n      }\n\n      return stateValue;\n    }()\n  },\n\n  mounted: function () {\n    var _ref3 = _asyncToGenerator(regeneratorRuntime.mark(function _callee3() {\n      var _this = this;\n\n      var _state$input$options, _state$input$options$, formats, _state$input$options$2, layout, _formats$, minDate, maxDate, fieldformat, enabledDates, disabledDates, displayformat, useCurrent, date;\n\n      return regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              _state$input$options = this.state.input.options, _state$input$options$ = _state$input$options.formats, formats = _state$input$options$ === undefined ? [] : _state$input$options$, _state$input$options$2 = _state$input$options.layout, layout = _state$input$options$2 === undefined ? {\n                vertical: \"top\",\n                horizontal: \"left\"\n              } : _state$input$options$2;\n              _formats$ = formats[0], minDate = _formats$.minDate, maxDate = _formats$.maxDate, fieldformat = _formats$.fieldformat, enabledDates = _formats$.enabledDates, disabledDates = _formats$.disabledDates, displayformat = _formats$.displayformat, useCurrent = _formats$.useCurrent;\n              _context3.next = 4;\n              return this.$nextTick();\n\n            case 4:\n\n              this.datetimedisplayformat = this.service.convertQGISDateTimeFormatToMoment(displayformat);\n              this.datetimefieldformat = this.service.convertQGISDateTimeFormatToMoment(fieldformat);\n\n              this.service.setValidatorOptions({ fielddatetimeformat: this.datetimefieldformat });\n\n              date = moment(this.state.value, this.datetimefieldformat, true).isValid() ? moment(this.state.value, this.datetimefieldformat).toDate() : null;\n\n\n              $('#' + this.iddatetimepicker).datetimepicker({\n                defaultDate: date,\n                format: this.datetimedisplayformat,\n                ignoreReadonly: true,\n                allowInputToggle: true,\n                enabledDates: enabledDates,\n                disabledDates: disabledDates,\n                useCurrent: useCurrent,\n                toolbarPlacement: 'top',\n                minDate: minDate,\n                maxDate: maxDate,\n                widgetParent: $(this.$refs.datimewidget_container),\n                widgetPositioning: {\n                  vertical: layout.vertical || 'top',\n                  horizontal: layout.horizontal || 'left'\n                },\n                showClose: true,\n                locale: this.service.getLocale()\n              });\n\n              $('#' + this.iddatetimepicker).on(\"dp.change\", this.onDatePickerChange);\n              $('#' + this.iddatetimepicker).on(\"dp.show\", this.onDatePickerShow);\n              $('#' + this.iddatetimepicker).on(\"dp.hide\", this.onDatePickerHide);\n\n              if (_applicationState2.default.ismobile) {\n                setTimeout(function () {\n                  $('#' + _this.idinputdatetimepiker).blur();\n                });\n              }\n\n            case 13:\n            case 'end':\n              return _context3.stop();\n          }\n        }\n      }, _callee3, this);\n    }));\n\n    function mounted() {\n      return _ref3.apply(this, arguments);\n    }\n\n    return mounted;\n  }()\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('baseinput',{attrs:{\"state\":_vm.state}},[_c('div',{ref:\"datetimepicker_body\",attrs:{\"slot\":\"body\"},slot:\"body\"},[_c('div',{ref:\"datimewidget_container\",style:({\n        top: _vm.widget_container.top + 'px',\n        left: _vm.widget_container.left + 'px',\n        position: 'fixed',\n        zIndex: 10000\n      })}),_vm._v(\" \"),_c('div',{directives:[{name:\"disabled\",rawName:\"v-disabled\",value:(!_vm.editable),expression:\"!editable\"}],staticClass:\"input-group date\",attrs:{\"id\":_vm.iddatetimepicker}},[_c('input',{staticClass:\"form-control\",class:{'input-error-validation' : _vm.notvalid},attrs:{\"type\":\"text\",\"id\":_vm.idinputdatetimepiker,\"tabIndex\":_vm.tabIndex,\"readonly\":!_vm.editable || _vm.isMobile() ? 'readonly' : null}}),_vm._v(\" \"),_c('span',{staticClass:\"input-group-addon caret\"},[_c('span',{class:[ _vm.g3wtemplate.getFontClass(_vm.timeOnly() ? 'time' : 'calendar') ]})])])])])}\n__vue__options__.staticRenderFns = []\n\n},{\"core/utils/utils\":68,\"gui/inputs/input\":131,\"mixins\":343,\"store/application-state\":373}],238:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\n\nvar Input = require('gui/inputs/input');\n\nexports.default = {\n  mixins: [Input]\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('baseinput',{attrs:{\"state\":_vm.state}},[_c('input',{directives:[{name:\"disabled\",rawName:\"v-disabled\",value:(!_vm.editable),expression:\"!editable\"},{name:\"model\",rawName:\"v-model\",value:(_vm.state.value),expression:\"state.value\"}],staticClass:\"form-control\",class:{'input-error-validation' : _vm.notvalid},staticStyle:{\"width\":\"100%\"},attrs:{\"slot\":\"body\",\"tabIndex\":_vm.tabIndex,\"type\":\"number\",\"step\":_vm.state.step || 1,\"placeholder\":_vm.state.default},domProps:{\"value\":(_vm.state.value)},on:{\"change\":_vm.change,\"input\":[function($event){if($event.target.composing){ return; }_vm.$set(_vm.state, \"value\", $event.target.value)},_vm.change]},slot:\"body\"})])}\n__vue__options__.staticRenderFns = []\n\n},{\"gui/inputs/input\":131}],239:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar Inputs = require('gui/inputs/inputs');\n\nexports.default = {\n  name: \"g3w-input\",\n  props: {\n    state: {\n      required: true\n    },\n    addToValidate: {\n      type: Function,\n      required: true\n    },\n    removeToValidate: {\n      type: Function,\n      required: true\n    },\n    changeInput: {\n      type: Function,\n      required: true\n    }\n  },\n  components: _extends({}, Inputs),\n  computed: {\n    type: function type() {\n      if (this.state.type !== 'child') return this.state.input.type ? this.state.input.type + '_input' : this.state.type + '_input';\n    }\n  },\n  created: function created() {\n    if (this.state.type !== 'child' && !this.state.input.options) this.state.input.options = {};\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.state.visible)?_c('div',[(_vm.state.type !== 'child')?_c('div',[_c(_vm.type,{tag:\"component\",attrs:{\"changeInput\":_vm.changeInput,\"addToValidate\":_vm.addToValidate,\"removeToValidate\":_vm.removeToValidate,\"state\":_vm.state},on:{\"changeinput\":_vm.changeInput,\"addinput\":_vm.addToValidate,\"removeinput\":_vm.removeToValidate}}),_vm._v(\" \"),_c('span',{staticClass:\"divider\"})],1):_c('div',{staticClass:\"skin-border-color field-child\",staticStyle:{\"border-top\":\"2px solid\"}},[_c('h4',{staticStyle:{\"font-weight\":\"bold\"}},[_vm._v(_vm._s(_vm.state.label))]),_vm._v(\" \"),_c('div',[_vm._v(\" \"+_vm._s(_vm.state.description)+\" \")]),_vm._v(\" \"),_vm._l((_vm.state.fields),function(field){return _c('g3w-input',{key:field.name,attrs:{\"state\":field,\"changeInput\":_vm.changeInput,\"addToValidate\":_vm.addToValidate,\"removeToValidate\":_vm.removeToValidate},on:{\"changeinput\":_vm.changeInput,\"addinput\":_vm.addToValidate,\"removeinput\":_vm.removeToValidate}})})],2)]):_vm._e()}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-0fece3a7\"\n\n},{\"gui/inputs/inputs\":132}],240:[function(require,module,exports){\nvar __vueify_style_dispose__ = require(\"vueify/lib/insert-css\").insert(\"#g3w-for-inputs-required-inputs-message[data-v-06573254]{margin-bottom:5px;font-weight:700;text-align:center;display:flex;align-items:center;justify-content:center}.box-body[data-v-06573254]{padding:5px}\")\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _InputG3W = require(\"components/InputG3W.vue\");\n\nvar _InputG3W2 = _interopRequireDefault(_InputG3W);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = {\n  name: \"g3w-form-inputs\",\n  props: {\n    state: {\n      type: Object,\n      default: {\n        fields: []\n      }\n    },\n    addToValidate: {\n      type: Function\n    },\n    changeInput: {\n      type: Function\n    },\n    show_required_field_message: {\n      type: Boolean,\n      default: false\n    }\n\n  },\n  components: {\n    G3wInput: _InputG3W2.default\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('form',{staticClass:\"form-horizontal g3w-form\"},[_c('div',{staticClass:\"box-primary\"},[_c('div',{staticClass:\"box-body\"},[_vm._l((_vm.state.fields),function(field){return [_c('g3w-input',{attrs:{\"state\":field,\"addToValidate\":_vm.addToValidate,\"changeInput\":_vm.changeInput},on:{\"addToValidate\":_vm.addToValidate,\"changeInput\":_vm.changeInput}})]})],2),_vm._v(\" \"),(_vm.show_required_field_message)?_c('div',{attrs:{\"id\":\"g3w-for-inputs-required-inputs-message\"}},[_c('span',{staticClass:\"hide-cursor-caret-color\"},[_vm._v(\"*\")]),_vm._v(\" \"),_c('span',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.form.footer.required_fields'),expression:\"'sdk.form.footer.required_fields'\"}],staticClass:\"hide-cursor-caret-color\"})]):_vm._e()])])}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-06573254\"\n\n},{\"components/InputG3W.vue\":239,\"vueify/lib/insert-css\":1}],241:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\n\nvar Input = require('gui/inputs/input');\n\nexports.default = {\n  mixins: [Input]\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('baseinput',{attrs:{\"state\":_vm.state}},[_c('input',{directives:[{name:\"disabled\",rawName:\"v-disabled\",value:(!_vm.editable),expression:\"!editable\"},{name:\"model\",rawName:\"v-model\",value:(_vm.state.value),expression:\"state.value\"}],staticClass:\"form-control\",class:{'input-error-validation' : _vm.notvalid},staticStyle:{\"width\":\"100%\"},attrs:{\"slot\":\"body\",\"placeholder\":_vm.state.default,\"tabIndex\":_vm.tabIndex,\"type\":\"number\"},domProps:{\"value\":(_vm.state.value)},on:{\"change\":_vm.change,\"input\":[function($event){if($event.target.composing){ return; }_vm.$set(_vm.state, \"value\", $event.target.value)},_vm.change]},slot:\"body\"})])}\n__vue__options__.staticRenderFns = []\n\n},{\"gui/inputs/input\":131}],242:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar _require = require('core/utils/utils'),\n    getUniqueDomId = _require.getUniqueDomId;\n\nvar Input = require('gui/inputs/input');\n\nexports.default = {\n  mixins: [Input],\n  data: function data() {\n    return {\n      lonId: getUniqueDomId(),\n      latId: getUniqueDomId(),\n      coordinatebutton: {\n        active: false\n      }\n    };\n  },\n\n  computed: {\n    getCoordinateActive: function getCoordinateActive() {\n      return this.service.state.getCoordinateActive;\n    }\n  },\n  methods: {\n    toggleGetCoordinate: function toggleGetCoordinate() {\n      this.service.toggleGetCoordinate();\n    },\n    changeLonLat: function changeLonLat() {\n      this.change();\n      this.setValue();\n    },\n    setValue: function setValue() {\n      this.state.value = [[1 * this.state.values.lon, 1 * this.state.values.lat]];\n    }\n  },\n  created: function created() {\n    this.state.values = this.state.values || { lon: 0, lat: 0 };\n    this.setValue();\n    this.service.setCoordinateButtonReactiveObject(this.coordinatebutton);\n  },\n  mounted: function () {\n    var _ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee() {\n      var _this = this;\n\n      return regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return this.$nextTick();\n\n            case 2:\n              this.$nextTick(function () {\n                $(_this.$refs['g3w-input-lat-lon']).tooltip({\n                  trigger: 'hover'\n                });\n              });\n\n            case 3:\n            case 'end':\n              return _context.stop();\n          }\n        }\n      }, _callee, this);\n    }));\n\n    function mounted() {\n      return _ref.apply(this, arguments);\n    }\n\n    return mounted;\n  }(),\n  destroyed: function destroyed() {\n    this.service.clear();\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticStyle:{\"position\":\"relative\"}},[_c('div',{staticStyle:{\"display\":\"flex\",\"justify-content\":\"flex-end\",\"height\":\"35px\",\"margin-right\":\"12px\",\"margin-bottom\":\"5px\"}},[_c('button',{directives:[{name:\"t-tooltip\",rawName:\"v-t-tooltip\",value:('sdk.form.inputs.tooltips.lonlat'),expression:\"'sdk.form.inputs.tooltips.lonlat'\"}],ref:\"g3w-input-lat-lon\",staticClass:\"action skin-tooltip-left skin-color skin-border-color\",class:_vm.g3wtemplate.font['crosshairs'],staticStyle:{\"border-radius\":\"5px\",\"font-weight\":\"bold\",\"font-size\":\"20px\",\"cursor\":\"pointer\"},style:({border: _vm.coordinatebutton.active ? '2px solid' : 0}),attrs:{\"data-placement\":\"left\",\"data-toggle\":\"tooltip\"},on:{\"click\":function($event){$event.preventDefault();$event.stopPropagation();return _vm.toggleGetCoordinate($event)}}})]),_vm._v(\" \"),_c('baseinput',{attrs:{\"state\":_vm.state}},[_c('label',{staticClass:\"col-sm-4 control-label\",attrs:{\"slot\":\"label\",\"for\":_vm.lonId},slot:\"label\"},[_vm._v(_vm._s(_vm.state.labels.lon)+\"\\n      \"),(_vm.state.validate && _vm.state.validate.required)?_c('span',[_vm._v(\"*\")]):_vm._e()]),_vm._v(\" \"),_c('div',{attrs:{\"slot\":\"body\"},slot:\"body\"},[_c('input',{directives:[{name:\"disabled\",rawName:\"v-disabled\",value:(!_vm.editable),expression:\"!editable\"},{name:\"model\",rawName:\"v-model\",value:(_vm.state.values.lon),expression:\"state.values.lon\"}],staticClass:\"form-control\",class:{'input-error-validation' : _vm.notvalid},staticStyle:{\"width\":\"100%\",\"margin-bottom\":\"5px\"},attrs:{\"id\":_vm.lonId,\"tabIndex\":_vm.tabIndex,\"type\":\"number\",\"min\":\"-180\",\"max\":\"180\",\"placeholder\":\"Lon\"},domProps:{\"value\":(_vm.state.values.lon)},on:{\"change\":_vm.changeLonLat,\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.state.values, \"lon\", $event.target.value)}}})])]),_vm._v(\" \"),_c('baseinput',{attrs:{\"state\":_vm.state}},[_c('label',{staticClass:\"col-sm-4 control-label\",attrs:{\"slot\":\"label\",\"for\":_vm.latId},slot:\"label\"},[_vm._v(_vm._s(_vm.state.labels.lat)+\"\\n      \"),(_vm.state.validate && _vm.state.validate.required)?_c('span',[_vm._v(\"*\")]):_vm._e()]),_vm._v(\" \"),_c('div',{attrs:{\"slot\":\"body\"},slot:\"body\"},[_c('input',{directives:[{name:\"disabled\",rawName:\"v-disabled\",value:(!_vm.editable),expression:\"!editable\"},{name:\"model\",rawName:\"v-model\",value:(_vm.state.values.lat),expression:\"state.values.lat\"}],staticClass:\"form-control\",class:{'input-error-validation' : _vm.notvalid},staticStyle:{\"width\":\"100%\",\"margin-bottom\":\"5px\"},attrs:{\"id\":_vm.latId,\"tabIndex\":_vm.tabIndex,\"type\":\"number\",\"min\":\"-90\",\"max\":\"90\",\"placeholder\":\"Lon\"},domProps:{\"value\":(_vm.state.values.lat)},on:{\"change\":_vm.changeLonLat,\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.state.values, \"lat\", $event.target.value)}}})])])],1)}\n__vue__options__.staticRenderFns = []\n\n},{\"core/utils/utils\":68,\"gui/inputs/input\":131}],243:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar InputMixins = require('gui/inputs/input');\n\nvar _require = require('core/utils/utils'),\n    getUniqueDomId = _require.getUniqueDomId;\n\nvar _require2 = require('core/i18n/i18n.service'),\n    t = _require2.t;\n\nvar _require3 = require('gui/fields/fields'),\n    MediaField = _require3.media_field;\n\nexports.default = {\n  mixins: [InputMixins],\n  components: {\n    'g3w-media': MediaField\n  },\n  data: function data() {\n    return {\n      data: {\n        value: null,\n        mime_type: null\n      },\n      mediaid: 'media_' + getUniqueDomId(),\n      loading: false\n    };\n  },\n\n  methods: {\n    onClick: function onClick(e) {\n      document.getElementById(this.mediaid).click();\n    },\n    createImage: function createImage(file, field) {\n      var reader = new FileReader();\n      reader.onload = function (e) {\n        field.value = e.target.result;\n      };\n      reader.readAsDataURL(file);\n    },\n    checkFileSrc: function checkFileSrc(value) {\n      if (_.isNil(value)) {\n        value = '';\n      }\n      return value;\n    },\n    clearMedia: function clearMedia() {\n      this.data.value = this.data.mime_type = this.state.value = null;\n      this.change();\n    }\n  },\n  created: function created() {\n    if (this.state.value) {\n      this.data.value = this.state.value.value;\n      this.data.mime_type = this.state.value.mime_type;\n    }\n  },\n  mounted: function mounted() {\n    var _this = this;\n\n    var fieldName = this.state.name;\n    var formData = {\n      name: fieldName,\n      csrfmiddlewaretoken: this.$cookie.get('csrftoken')\n    };\n    this.$nextTick(function () {\n      $('#' + _this.mediaid).fileupload({\n        dataType: 'json',\n        formData: formData,\n        start: function start() {\n          _this.loading = true;\n        },\n        done: function done(e, data) {\n          var response = data.result[fieldName];\n          if (response) {\n            _this.data.value = response.value;\n            _this.data.mime_type = response.mime_type;\n            _this.state.value = _this.data;\n            _this.change();\n          }\n        },\n        fail: function fail() {\n          _gui2.default.notify.error(t(\"info.server_error\"));\n        },\n        always: function always() {\n          _this.loading = false;\n        }\n      });\n    });\n  },\n  beforeDestroy: function beforeDestroy() {\n    $('#' + this.mediaid).fileupload('destroy');\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('baseinput',{attrs:{\"state\":_vm.state}},[_c('div',{directives:[{name:\"disabled\",rawName:\"v-disabled\",value:(!_vm.editable),expression:\"!editable\"}],attrs:{\"slot\":\"body\"},slot:\"body\"},[_c('div',{staticClass:\"g3w_input_button skin-border-color\",staticStyle:{\"border-style\":\"solid\",\"border-width\":\"2px\",\"border-radius\":\"4px\",\"width\":\"100%\",\"cursor\":\"pointer\",\"text-align\":\"center\"},on:{\"click\":_vm.onClick}},[_c('i',{staticClass:\"fa-2x skin-color\",class:_vm.g3wtemplate.getFontClass('file-upload'),staticStyle:{\"padding\":\"5px\"}},[_c('input',{class:{'input-error-validation' : _vm.notvalid},staticStyle:{\"display\":\"none\"},attrs:{\"id\":_vm.mediaid,\"name\":_vm.state.name,\"tabIndex\":_vm.tabIndex,\"data-url\":_vm.state.input.options.uploadurl,\"type\":\"file\"}})])]),_vm._v(\" \"),_c('bar-loader',{attrs:{\"loading\":_vm.loading}}),_vm._v(\" \"),_c('g3w-media',{attrs:{\"state\":_vm.data}},[_c('div',{staticClass:\"clearmedia\",on:{\"click\":function($event){return _vm.clearMedia()}}},[_c('i',{staticClass:\"g3w-icon\",class:_vm.g3wtemplate.font['trash-o']})])])],1)])}\n__vue__options__.staticRenderFns = []\n\n},{\"core/i18n/i18n.service\":13,\"core/utils/utils\":68,\"gui/fields/fields\":120,\"gui/inputs/input\":131,\"services/gui\":361}],244:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\n\nvar Input = require('gui/inputs/input');\nvar Service = require('gui/inputs/picklayer/service');\n\nexports.default = {\n  mixins: [Input],\n  methods: {\n    pickLayer: function pickLayer() {\n      var _this = this;\n\n      this.pickservice.pick().then(function (value) {\n        return _this.state.value = value;\n      }).catch(function () {});\n    },\n    unpick: function unpick() {\n      var _this2 = this;\n\n      setTimeout(function () {\n        return !_this2.pickservice.isPicked() && _this2.pickservice.unpick();\n      }, 200);\n    }\n  },\n  created: function created() {\n    this.pickservice = new Service(this.state.input.options);\n  },\n  beforeDestroy: function beforeDestroy() {\n    this.pickservice.clear();\n    this.pickservice = null;\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('baseinput',{attrs:{\"state\":_vm.state}},[_c('div',{attrs:{\"slot\":\"body\"},slot:\"body\"},[_c('span',{staticClass:\"skin-color\",class:_vm.g3wtemplate.font['crosshairs'],staticStyle:{\"left\":\"0\",\"top\":\"7px\",\"position\":\"absolute\"}}),_vm._v(\" \"),_c('input',{directives:[{name:\"disabled\",rawName:\"v-disabled\",value:(!_vm.editable),expression:\"!editable\"},{name:\"model\",rawName:\"v-model\",value:(_vm.state.value),expression:\"state.value\"}],staticClass:\"form-control\",class:{'input-error-validation' : _vm.notvalid},staticStyle:{\"width\":\"100%\"},style:({cursor: _vm.editable ? 'pointer': null}),attrs:{\"readonly\":\"readonly\",\"tabIndex\":_vm.tabIndex},domProps:{\"value\":(_vm.state.value)},on:{\"input\":[function($event){if($event.target.composing){ return; }_vm.$set(_vm.state, \"value\", $event.target.value)},_vm.change],\"click\":_vm.pickLayer,\"blur\":_vm.unpick}})])])}\n__vue__options__.staticRenderFns = []\n\n},{\"gui/inputs/input\":131,\"gui/inputs/picklayer/service\":139}],245:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\n\nvar Input = require('gui/inputs/input');\n\nvar _require = require('core/utils/utils'),\n    getUniqueDomId = _require.getUniqueDomId;\n\nexports.default = {\n  mixins: [Input],\n  data: function data() {\n    return {\n      ids: [getUniqueDomId(), getUniqueDomId()],\n      name: 'name_' + getUniqueDomId(),\n      radio_value: this.state.value\n    };\n  },\n\n  watch: {\n    'radio_value': function radio_value() {\n      this.state.value = this.radio_value;\n      this.change();\n    }\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('baseinput',{attrs:{\"state\":_vm.state}},[_c('div',{attrs:{\"slot\":\"body\"},slot:\"body\"},_vm._l((_vm.state.input.options.values),function(value,index){return _c('span',{key:value.key},[_c('input',{directives:[{name:\"disabled\",rawName:\"v-disabled\",value:(!_vm.editable),expression:\"!editable\"},{name:\"model\",rawName:\"v-model\",value:(_vm.radio_value),expression:\"radio_value\"}],staticClass:\"magic-radio\",class:{'input-error-validation' : _vm.notvalid},staticStyle:{\"width\":\"100%\"},attrs:{\"id\":_vm.ids[index],\"name\":_vm.name,\"tabIndex\":_vm.tabIndex,\"type\":\"radio\"},domProps:{\"value\":value.value,\"checked\":_vm._q(_vm.radio_value,value.value)},on:{\"change\":function($event){_vm.radio_value=value.value}}}),_vm._v(\" \"),_c('label',{attrs:{\"for\":_vm.ids[index]}},[_vm._v(_vm._s(value.key))])])}),0)])}\n__vue__options__.staticRenderFns = []\n\n},{\"core/utils/utils\":68,\"gui/inputs/input\":131}],246:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\n\nvar Input = require('gui/inputs/input');\n\nexports.default = {\n  mixins: [Input],\n  data: function data() {\n    var _state$input$options$ = this.state.input.options.values[0],\n        min = _state$input$options$.min,\n        max = _state$input$options$.max,\n        step = _state$input$options$.Step;\n\n    return {\n      min: min,\n      max: max,\n      step: step\n    };\n  },\n\n  methods: {\n    checkValue: function checkValue() {\n      var isEmpty = _.isEmpty(_.trim(this.state.value));\n\n      if (isEmpty && !this.state.validate.required) {\n        this.state.value = this.state.input.options.values[0].default;\n      }\n\n      this.state.validate.valid = !this.state.validate.required;\n\n      if (!isEmpty) {\n        this.state.validate.valid = this.service.getValidator().validate(this.state.value);\n      }\n\n      this.change();\n    }\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('baseinput',{attrs:{\"state\":_vm.state}},[_c('input',{directives:[{name:\"disabled\",rawName:\"v-disabled\",value:(!_vm.editable),expression:\"!editable\"},{name:\"model\",rawName:\"v-model\",value:(_vm.state.value),expression:\"state.value\"}],staticClass:\"form-control\",class:{'input-error-validation' : _vm.notvalid},staticStyle:{\"width\":\"100%\",\"padding-right\":\"5px\"},attrs:{\"slot\":\"body\",\"tabIndex\":_vm.tabIndex,\"type\":\"number\",\"step\":_vm.step},domProps:{\"value\":(_vm.state.value)},on:{\"keydown\":[function($event){if(!$event.type.indexOf('key')&&$event.keyCode!==69){ return null; }$event.preventDefault();},function($event){if(!$event.type.indexOf('key')&&$event.keyCode!==13){ return null; }$event.stopPropagation();}],\"change\":_vm.checkValue,\"blur\":_vm.checkValue,\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.state, \"value\", $event.target.value)}},slot:\"body\"})])}\n__vue__options__.staticRenderFns = []\n\n},{\"gui/inputs/input\":131}],247:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _catalogLayers = require('store/catalog-layers');\n\nvar _catalogLayers2 = _interopRequireDefault(_catalogLayers);\n\nvar _mapLayers = require('store/map-layers');\n\nvar _mapLayers2 = _interopRequireDefault(_mapLayers);\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nvar _mixins = require('mixins');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar PickLayerInputService = require('gui/inputs/picklayer/service');\nvar Layer = require('core/layers/layer');\nvar InputMixin = require('gui/inputs/input');\n\nvar G3W_SELECT2_NULL_VALUE = null;exports.default = {\n  mixins: [InputMixin, _mixins.selectMixin, _mixins.select2Mixin],\n  data: function data() {\n    return {\n      showPickLayer: false,\n      picked: false\n    };\n  },\n\n  computed: {\n    showNullOption: function showNullOption() {\n      return this.state.nullOption === undefined || this.state.nullOption === true;\n    },\n    select2NullValue: function select2NullValue() {\n      return this.showNullOption && G3W_SELECT2_NULL_VALUE;\n    }\n  },\n  watch: {\n    'state.input.options.values': function () {\n      var _ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee(values) {\n        var _this = this;\n\n        var changed, value, findvalue;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return this.$nextTick();\n\n              case 2:\n                changed = false;\n\n                if (!this.autocomplete) {\n                  value = void 0;\n\n                  if (values.length === 0) value = G3W_SELECT2_NULL_VALUE;else {\n                    findvalue = values.find(function (keyvalue) {\n                      return keyvalue.value == _this.state.value;\n                    });\n\n                    if (!findvalue) value = G3W_SELECT2_NULL_VALUE;else value = findvalue.value;\n                  }\n                  changed = value != this.state.value;\n                  this.state.value = value;\n                  this.setValue();\n                }\n                changed && this.change();\n\n              case 5:\n              case 'end':\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function stateInputOptionsValues(_x) {\n        return _ref.apply(this, arguments);\n      }\n\n      return stateInputOptionsValues;\n    }()\n  },\n  methods: {\n    pickLayerValue: function () {\n      var _ref2 = _asyncToGenerator(regeneratorRuntime.mark(function _callee2() {\n        var values, field, value;\n        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.prev = 0;\n\n                if (!this.picked) {\n                  _context2.next = 6;\n                  break;\n                }\n\n                this.pickLayerInputService.unpick();\n                this.picked = false;\n                _context2.next = 16;\n                break;\n\n              case 6:\n                this.picked = true;\n                _context2.next = 9;\n                return this.pickLayerInputService.pick();\n\n              case 9:\n                values = _context2.sent;\n                field = this.state.input.options.value;\n                value = values[field];\n\n                this.select2.val(value).trigger('change');\n                this.changeSelect(value);\n                _gui2.default.showUserMessage({\n                  type: 'success',\n                  autoclose: true\n                });\n                this.picked = false;\n\n              case 16:\n                _context2.next = 22;\n                break;\n\n              case 18:\n                _context2.prev = 18;\n                _context2.t0 = _context2['catch'](0);\n\n                _gui2.default.showUserMessage({\n                  type: \"warning\",\n                  message: 'sdk.form.inputs.messages.errors.picklayer',\n                  autoclose: true\n                });\n                this.picked = false;\n\n              case 22:\n              case 'end':\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this, [[0, 18]]);\n      }));\n\n      function pickLayerValue() {\n        return _ref2.apply(this, arguments);\n      }\n\n      return pickLayerValue;\n    }(),\n    setAndListenSelect2Change: function setAndListenSelect2Change() {\n      var _this2 = this;\n\n      this.select2.on('select2:select', function (event) {\n        var value = event.params.data.$value ? event.params.data.$value : event.params.data.id;\n        value = _this2.showNullOption ? value === G3W_SELECT2_NULL_VALUE ? null : value.toString() : value.toString();\n        _this2.changeSelect(value);\n      });\n    }\n  },\n  created: function created() {\n    this.open = false;\n    if (this.state.input.type === 'select_autocomplete') {\n      var dependencyLayerId = this.state.input.options.layer_id;\n      try {\n        var dependencyLayer = _mapLayers2.default.getLayerById(dependencyLayerId).getEditingLayer() || _catalogLayers2.default.getLayerById(dependencyLayerId);\n        this.showPickLayer = dependencyLayer ? dependencyLayer.getType() !== Layer.LayerTypes.TABLE : false;\n        var _state$input$options = this.state.input.options,\n            field = _state$input$options.value,\n            layer_id = _state$input$options.layer_id;\n\n        var options = {\n          layer_id: layer_id,\n          fields: [field],\n          pick_type: dependencyLayer.isStarted && dependencyLayer.isStarted() && 'map' || null\n        };\n        this.pickLayerInputService = this.showPickLayer && new PickLayerInputService(options);\n      } catch (err) {}\n    }\n    this.autocomplete && this.state.value && this.service.getKeyByValue({\n      search: this.state.value\n    });\n  },\n  mounted: function () {\n    var _ref3 = _asyncToGenerator(regeneratorRuntime.mark(function _callee3() {\n      var _this3 = this;\n\n      var selectElement, language, dropdownParent;\n      return regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              _context3.next = 2;\n              return this.$nextTick();\n\n            case 2:\n              this.unwatch;\n              selectElement = $(this.$refs.select);\n              language = this.getLanguage();\n              dropdownParent = this.state.dropdownParent === undefined && $('#g3w-view-content');\n\n              if (this.autocomplete) {\n                this.select2 = selectElement.select2({\n                  minimumInputLength: 1,\n                  dropdownParent: dropdownParent,\n                  allowClear: this.showNullOption,\n                  language: language,\n                  ajax: {\n                    delay: 250,\n                    transport: function transport(params, success, failure) {\n                      var search = params.data.term;\n\n                      $('.select2-results__option.loading-results').siblings().hide();\n                      _this3.resetValues();\n                      _this3.service.getData({\n                        search: search\n                      }).then(function (values) {\n                        return success(values);\n                      }).catch(function (err) {\n                        return failure(err);\n                      });\n                    },\n                    processResults: function processResults(data, params) {\n                      params.page = params.page || 1;\n                      return {\n                        results: data,\n                        pagination: {\n                          more: false\n                        }\n                      };\n                    } }\n                });\n              } else this.select2 = selectElement.select2({\n                language: language,\n                dropdownParent: dropdownParent,\n                minimumResultsForSearch: this.isMobile() ? -1 : null\n              });\n              this.setAndListenSelect2Change();\n              this.setValue();\n\n            case 9:\n            case 'end':\n              return _context3.stop();\n          }\n        }\n      }, _callee3, this);\n    }));\n\n    function mounted() {\n      return _ref3.apply(this, arguments);\n    }\n\n    return mounted;\n  }(),\n  beforeDestroy: function beforeDestroy() {\n    if (this.pickLayerInputService) {\n      this.pickLayerInputService.clear();\n      this.pickLayerInputService = null;\n    }\n    this.unwatch && this.unwatch();\n    this.unwatch = null;\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('baseinput',{attrs:{\"state\":_vm.state}},[(_vm.showPickLayer)?_c('span',{directives:[{name:\"t-tooltip\",rawName:\"v-t-tooltip\",value:('sdk.form.inputs.tooltips.picklayer'),expression:\"'sdk.form.inputs.tooltips.picklayer'\"},{name:\"disabled\",rawName:\"v-disabled\",value:(_vm.disabled),expression:\"disabled\"}],staticClass:\"skin-color\",class:_vm.g3wtemplate.font['crosshairs'],staticStyle:{\"cursor\":\"pointer\",\"position\":\"relative\",\"top\":\"2px\",\"font-size\":\"1.2em\"},attrs:{\"slot\":\"label-action\",\"data-placement\":\"top\"},on:{\"click\":_vm.pickLayerValue},slot:\"label-action\"}):_vm._e(),_vm._v(\" \"),_c('div',{directives:[{name:\"disabled\",rawName:\"v-disabled\",value:(_vm.disabled),expression:\"disabled\"}],attrs:{\"slot\":\"body\",\"tabIndex\":_vm.tabIndex},slot:\"body\"},[_c('select',{ref:\"select\",staticClass:\"form-control\",staticStyle:{\"width\":\"100%\"}},[(_vm.showNullOption)?_c('option',{domProps:{\"value\":_vm.select2NullValue}}):_vm._e(),_vm._v(\" \"),_vm._l((_vm.state.input.options.values),function(value){return _c('option',{key:_vm.getValue(value.value),domProps:{\"value\":_vm.getValue(value.value)}},[_vm._v(_vm._s(value.key))])})],2)]),_vm._v(\" \"),(_vm.loadingState === 'error')?_c('p',{directives:[{name:\"t\",rawName:\"v-t\",value:('server_error'),expression:\"'server_error'\"}],staticClass:\"error-input-message\",attrs:{\"slot\":\"message\"},slot:\"message\"}):_vm._e()])}\n__vue__options__.staticRenderFns = []\n\n},{\"core/layers/layer\":34,\"gui/inputs/input\":131,\"gui/inputs/picklayer/service\":139,\"mixins\":343,\"services/gui\":361,\"store/catalog-layers\":374,\"store/map-layers\":377}],248:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\n\nvar Input = require('gui/inputs/input');\n\nexports.default = {\n  mixins: [Input],\n  watch: {\n    'state.input.options.min': function stateInputOptionsMin() {\n      this.service.changeInfoMessage();\n    },\n    'state.input.options.max': function stateInputOptionsMax() {\n      this.service.changeInfoMessage();\n    }\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('baseinput',{attrs:{\"state\":_vm.state}},[_c('div',{attrs:{\"slot\":\"body\"},slot:\"body\"},[_c('span',{staticStyle:{\"font-weight\":\"bold\"}},[_vm._v(_vm._s(_vm.state.value))]),_vm._v(\" \"),_c('input',{directives:[{name:\"disabled\",rawName:\"v-disabled\",value:(!_vm.editable),expression:\"!editable\"},{name:\"model\",rawName:\"v-model\",value:(_vm.state.value),expression:\"state.value\"}],class:{'input-error-validation' : _vm.notvalid},staticStyle:{\"width\":\"100%\",\"padding-right\":\"5px\"},attrs:{\"slot\":\"body\",\"tabIndex\":_vm.tabIndex,\"min\":_vm.state.input.options.min,\"max\":_vm.state.input.options.max,\"type\":\"range\",\"step\":_vm.state.input.options.step},domProps:{\"value\":(_vm.state.value)},on:{\"change\":_vm.change,\"__r\":function($event){return _vm.$set(_vm.state, \"value\", $event.target.value)}},slot:\"body\"})])])}\n__vue__options__.staticRenderFns = []\n\n},{\"gui/inputs/input\":131}],249:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\n\nvar Input = require('gui/inputs/input');\n\nexports.default = {\n  mixins: [Input]\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('baseinput',{attrs:{\"state\":_vm.state}},[_c('input',{directives:[{name:\"disabled\",rawName:\"v-disabled\",value:(!_vm.editable),expression:\"!editable\"},{name:\"model\",rawName:\"v-model\",value:(_vm.state.value),expression:\"state.value\"}],staticClass:\"form-control\",class:{'input-error-validation' : _vm.notvalid},attrs:{\"slot\":\"body\",\"placeholder\":_vm.state.default,\"tabIndex\":_vm.tabIndex,\"field\":_vm.state.name,\"id\":_vm.state.name},domProps:{\"value\":(_vm.state.value)},on:{\"keyup\":function($event){_vm.isMobile() ? _vm.mobileChange($event) : _vm.change()},\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.state, \"value\", $event.target.value)}},slot:\"body\"})])}\n__vue__options__.staticRenderFns = []\n\n},{\"gui/inputs/input\":131}],250:[function(require,module,exports){\nvar __vueify_style_dispose__ = require(\"vueify/lib/insert-css\").insert(\"textarea[data-v-3ac5abe4]{resize:none;border:1px solid #ccc}\")\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\n\nvar Input = require('gui/inputs/input');\n\nexports.default = {\n  mixins: [Input]\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('baseinput',{attrs:{\"state\":_vm.state}},[_c('textarea',{directives:[{name:\"disabled\",rawName:\"v-disabled\",value:(!_vm.editable),expression:\"!editable\"},{name:\"model\",rawName:\"v-model\",value:(_vm.state.value),expression:\"state.value\"}],class:{'input-error-validation' : _vm.notvalid},staticStyle:{\"max-width\":\"100%\",\"min-width\":\"100%\"},attrs:{\"slot\":\"body\",\"placeholder\":_vm.state.default,\"rows\":\"3\",\"tabIndex\":_vm.tabIndex},domProps:{\"value\":(_vm.state.value)},on:{\"keydown\":function($event){$event.stopPropagation();},\"input\":[function($event){if($event.target.composing){ return; }_vm.$set(_vm.state, \"value\", $event.target.value)},_vm.change],\"change\":_vm.change},slot:\"body\"})])}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-3ac5abe4\"\n\n},{\"gui/inputs/input\":131,\"vueify/lib/insert-css\":1}],251:[function(require,module,exports){\nvar __vueify_style_dispose__ = require(\"vueify/lib/insert-css\").insert(\"button.ql-html{width:40px!important}button.ql-html:after{content:\\\"html\\\"}\")\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar _require = require('core/utils/utils'),\n    getUniqueDomId = _require.getUniqueDomId;\n\nvar Input = require('gui/inputs/input');\n\nexports.default = {\n  mixins: [Input],\n  methods: {\n    setupTableCustomTools: function setupTableCustomTools() {\n      var buttonColumnLeft = this.$el.querySelector('.ql-column-left');\n      buttonColumnLeft.innerHTML = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-caret-left-square\" viewBox=\"0 0 16 16\"><path d=\"M14 1a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1h12zM2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2z\"/><path d=\"M10.205 12.456A.5.5 0 0 0 10.5 12V4a.5.5 0 0 0-.832-.374l-4.5 4a.5.5 0 0 0 0 .748l4.5 4a.5.5 0 0 0 .537.082z\"/></svg>';\n      buttonColumnLeft.title = \"Add column left\";\n\n      var buttonColumnRight = this.$el.querySelector('.ql-column-right');\n      buttonColumnRight.innerHTML = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-caret-right-square\" viewBox=\"0 0 16 16\"><path d=\"M14 1a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1h12zM2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2z\"/><path d=\"M5.795 12.456A.5.5 0 0 1 5.5 12V4a.5.5 0 0 1 .832-.374l4.5 4a.5.5 0 0 1 0 .748l-4.5 4a.5.5 0 0 1-.537.082z\"/></svg>';\n      buttonColumnRight.title = \"Add column right\";\n\n      var buttonColumnRemove = this.$el.querySelector('.ql-column-remove');\n      buttonColumnRemove.innerHTML = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-x-square\" viewBox=\"0 0 16 16\"><path d=\"M14 1a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1h12zM2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2z\"/><path d=\"M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z\"/></svg>';\n      buttonColumnRemove.title = \"Remove column\";\n\n      var buttonRowAbove = this.$el.querySelector('.ql-row-above');\n      buttonRowAbove.innerHTML = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-caret-up-square\" viewBox=\"0 0 16 16\"><path d=\"M14 1a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1h12zM2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2z\"/><path d=\"M3.544 10.705A.5.5 0 0 0 4 11h8a.5.5 0 0 0 .374-.832l-4-4.5a.5.5 0 0 0-.748 0l-4 4.5a.5.5 0 0 0-.082.537z\"/></svg>';\n      buttonRowAbove.title = \"Add row above\";\n\n\n      var buttonRowBelow = this.$el.querySelector('.ql-row-below');\n      buttonRowBelow.innerHTML = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-caret-down-square\" viewBox=\"0 0 16 16\"><path d=\"M3.626 6.832A.5.5 0 0 1 4 6h8a.5.5 0 0 1 .374.832l-4 4.5a.5.5 0 0 1-.748 0l-4-4.5z\"/><path d=\"M0 2a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2zm15 0a1 1 0 0 0-1-1H2a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V2z\"/></svg>';\n      buttonRowBelow.title = \"Add row below\";\n\n      var buttonRowRemove = this.$el.querySelector('.ql-row-remove');\n      buttonRowRemove.innerHTML = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-dash-square\" viewBox=\"0 0 16 16\"><path d=\"M14 1a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1h12zM2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2z\"/><path d=\"M4 8a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7A.5.5 0 0 1 4 8z\"/></svg>';\n      buttonRowRemove.title = \"Remove row\";\n    }\n  },\n  created: function created() {\n    this.edit_state = {\n      edit: false,\n      show_html: false\n    };\n\n    if (!this.state.edit_states) this.state.edit_states = [];\n    this.state.edit_states.push(this.edit_state);\n  },\n  mounted: function () {\n    var _ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee() {\n      var _this = this;\n\n      var toolbarOptions;\n      return regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              toolbarOptions = [[{ header: [1, 2, 3, 4, 5, 6, false] }], [{ 'align': '' }, { 'align': 'center' }, { 'align': 'right' }, { 'align': 'justify' }], [{ 'color': [] }, { 'background': [] }], ['bold', 'italic', 'underline', { 'list': 'ordered' }, { 'list': 'bullet' }, 'link', 'clean', 'html'], ['table', 'column-left', 'column-right', 'column-remove', 'row-above', 'row-below', 'row-remove']];\n              _context.next = 3;\n              return this.$nextTick();\n\n            case 3:\n              this.quill = new Quill(this.$refs.quill_editor, {\n                modules: {\n                  table: true,\n                  toolbar: {\n                    container: toolbarOptions,\n                    handlers: {\n                      html: function html() {\n                        _this.edit_state.show_html = !_this.edit_state.show_html;\n                        if (_this.edit_state.show_html) _this.quill.container.firstChild.innerText = _this.quill.container.firstChild.innerHTML;else _this.quill.container.firstChild.innerHTML = _this.quill.container.firstChild.innerText;\n                        var _iteratorNormalCompletion = true;\n                        var _didIteratorError = false;\n                        var _iteratorError = undefined;\n\n                        try {\n                          for (var _iterator = _this.$el.querySelectorAll('.ql-formats')[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n                            var qlformat = _step.value;\n                            var _iteratorNormalCompletion2 = true;\n                            var _didIteratorError2 = false;\n                            var _iteratorError2 = undefined;\n\n                            try {\n                              for (var _iterator2 = qlformat.children[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n                                var child = _step2.value;\n\n                                if (!child.classList.contains('ql-html')) child.classList.toggle('g3w-disabled');else child.classList.toggle('skin-color');\n                              }\n                            } catch (err) {\n                              _didIteratorError2 = true;\n                              _iteratorError2 = err;\n                            } finally {\n                              try {\n                                if (!_iteratorNormalCompletion2 && _iterator2.return) {\n                                  _iterator2.return();\n                                }\n                              } finally {\n                                if (_didIteratorError2) {\n                                  throw _iteratorError2;\n                                }\n                              }\n                            }\n                          }\n                        } catch (err) {\n                          _didIteratorError = true;\n                          _iteratorError = err;\n                        } finally {\n                          try {\n                            if (!_iteratorNormalCompletion && _iterator.return) {\n                              _iterator.return();\n                            }\n                          } finally {\n                            if (_didIteratorError) {\n                              throw _iteratorError;\n                            }\n                          }\n                        }\n                      },\n                      'column-left': function columnLeft() {\n                        return _this.table.insertColumnLeft();\n                      },\n                      'column-right': function columnRight() {\n                        return _this.table.insertColumnRight();\n                      },\n                      'column-remove': function columnRemove() {\n                        return _this.table.deleteColumn();\n                      },\n                      'row-above': function rowAbove() {\n                        return _this.table.insertRowAbove();\n                      },\n                      'row-below': function rowBelow() {\n                        return _this.table.insertRowBelow();\n                      },\n                      'row-remove': function rowRemove() {\n                        return _this.table.deleteRow();\n                      }\n                    }\n\n                  }\n                },\n                theme: 'snow'\n              });\n              this.quill.container.firstChild.innerHTML = this.state.value;\n\n              this.table = this.quill.getModule('table');\n              this.setupTableCustomTools();\n\n              this.handler = function () {\n                _this.state.value = _this.edit_state.show_html ? _this.quill.container.firstChild.innerText : _this.quill.container.firstChild.innerHTML;\n                _this.edit_state.edit = true;\n                _this.change();\n                setTimeout(function () {\n                  return _this.edit_state.edit = false;\n                });\n              };\n\n              this.quill.on('text-change', this.handler);\n\n            case 9:\n            case 'end':\n              return _context.stop();\n          }\n        }\n      }, _callee, this);\n    }));\n\n    function mounted() {\n      return _ref.apply(this, arguments);\n    }\n\n    return mounted;\n  }(),\n\n  watch: {\n    'state.value': function stateValue(value) {\n      if (!this.edit_state.edit) {\n        if (this.edit_state.show_html) this.quill.container.firstChild.innerText = value;else this.quill.container.firstChild.innerHTML = value;\n      }\n    }\n  },\n  beforeDestroy: function beforeDestroy() {\n    this.quill.off('text-change', this.handler);\n    this.handler = null;\n    this.quill = null;\n    this.edit_state.edit = false;\n    this.edit_state.show_html = false;\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('baseinput',{directives:[{name:\"disabled\",rawName:\"v-disabled\",value:(!_vm.editable),expression:\"!editable\"}],attrs:{\"state\":_vm.state}},[_c('div',{ref:\"quill_editor\",staticClass:\"form-control\",style:({border: _vm.novalid ? '1px solid reed' : '1px solid #ccc'}),attrs:{\"slot\":\"body\"},on:{\"keydown\":function($event){$event.stopPropagation();}},slot:\"body\"})])}\n__vue__options__.staticRenderFns = []\n\n},{\"core/utils/utils\":68,\"gui/inputs/input\":131,\"vueify/lib/insert-css\":1}],252:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _mixins = require('mixins');\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar Input = require('gui/inputs/input');\n\nvar _require = require('core/utils/utils'),\n    getUniqueDomId = _require.getUniqueDomId;\n\nexports.default = {\n  mixins: [Input, _mixins.selectMixin],\n  data: function data() {\n    var id = 'unique_' + getUniqueDomId();\n    return { id: id };\n  },\n\n  watch: {\n    'state.input.options.values': function () {\n      var _ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee(values) {\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                this.state.value = this.state.value ? this.state.value : null;\n                this.state.value !== null && values.indexOf(this.state.value) === -1 && this.service.addValueToValues(this.state.value);\n                _context.next = 4;\n                return this.$nextTick();\n\n              case 4:\n                this.state.value && this.select2.val(this.state.value).trigger('change');\n\n              case 5:\n              case 'end':\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function stateInputOptionsValues(_x) {\n        return _ref.apply(this, arguments);\n      }\n\n      return stateInputOptionsValues;\n    }()\n  },\n  mounted: function () {\n    var _ref2 = _asyncToGenerator(regeneratorRuntime.mark(function _callee2() {\n      var _this = this;\n\n      return regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.next = 2;\n              return this.$nextTick();\n\n            case 2:\n              if (this.state.input.options.editable) {\n                this.select2 = $('#' + this.id).select2({\n                  dropdownParent: $('#g3w-view-content'),\n                  tags: true,\n                  language: this.getLanguage()\n                });\n                this.select2.val(this.state.value).trigger('change');\n                this.select2.on('select2:select', function (event) {\n                  var value = event.params.data.$value ? event.params.data.$value : event.params.data.id;\n                  _this.changeSelect(value);\n                });\n              }\n\n            case 3:\n            case 'end':\n              return _context2.stop();\n          }\n        }\n      }, _callee2, this);\n    }));\n\n    function mounted() {\n      return _ref2.apply(this, arguments);\n    }\n\n    return mounted;\n  }()\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('baseinput',{attrs:{\"state\":_vm.state}},[_c('select',{directives:[{name:\"disabled\",rawName:\"v-disabled\",value:(!_vm.editable),expression:\"!editable\"}],staticClass:\"form-control\",staticStyle:{\"width\":\"100%\"},attrs:{\"slot\":\"body\",\"id\":_vm.id,\"tabIndex\":_vm.tabIndex},slot:\"body\"},[_c('option',{attrs:{\"value\":\"null\"}}),_vm._v(\" \"),_vm._l((_vm.state.input.options.values),function(value){return _c('option',{key:value,domProps:{\"value\":_vm.getValue(value)}},[_vm._v(_vm._s(_vm.getValue(value)))])})],2)])}\n__vue__options__.staticRenderFns = []\n\n},{\"core/utils/utils\":68,\"gui/inputs/input\":131,\"mixins\":343}],253:[function(require,module,exports){\nvar __vueify_style_dispose__ = require(\"vueify/lib/insert-css\").insert(\"li .item-text[data-v-41231f64]{font-weight:700}\")\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _catalogLayers = require('store/catalog-layers');\n\nvar _catalogLayers2 = _interopRequireDefault(_catalogLayers);\n\nvar _catalogeventhub = require('gui/catalog/vue/catalogeventhub');\n\nvar _catalogeventhub2 = _interopRequireDefault(_catalogeventhub);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nexports.default = {\n\n  name: 'Layeropacitypicker',\n\n  props: {\n    layer: {\n      type: Object,\n      required: true\n    }\n  },\n\n  data: function data() {\n    return {\n      menu: {\n        show: false,\n        top: 0,\n        left: 0,\n        overflowY: 'none',\n        style: null,\n        default: null\n      }\n    };\n  },\n\n  methods: {\n    setLayerOpacity: function setLayerOpacity(_ref) {\n      var _ref$id = _ref.id,\n          id = _ref$id === undefined ? this.layer.id : _ref$id,\n          opacity = _ref.value;\n\n      if (this.layer.opacity == opacity) {\n        return;\n      }\n      this.layer.opacity = opacity;\n      var layer = _catalogLayers2.default.getLayerById(id);\n      if (layer) {\n        _catalogeventhub2.default.$emit('layer-change-opacity', { layerId: id });\n        layer.change();\n      }\n    },\n    showLayerOpacityMenu: function () {\n      var _ref2 = _asyncToGenerator(regeneratorRuntime.mark(function _callee(bool, evt) {\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                this.$emit('show-menu-item', { menu: this.menu, bool: bool, evt: evt });\n\n              case 1:\n              case 'end':\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function showLayerOpacityMenu(_x, _x2) {\n        return _ref2.apply(this, arguments);\n      }\n\n      return showLayerOpacityMenu;\n    }()\n  },\n\n  created: function created() {\n    this.$emit('init-menu-item', { layerOpacity: this.menu });\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{on:{\"mouseleave\":function($event){if($event.target !== $event.currentTarget){ return null; }return _vm.showLayerOpacityMenu(false, $event)},\"mouseover\":function($event){if($event.target !== $event.currentTarget){ return null; }return _vm.showLayerOpacityMenu(true, $event)}}},[_c('span',{staticClass:\"menu-icon skin-color-dark\",class:_vm.g3wtemplate.getFontClass('slider')}),_vm._v(\" \"),_c('span',{directives:[{name:\"t\",rawName:\"v-t\",value:('catalog_items.contextmenu.layer_opacity'),expression:\"'catalog_items.contextmenu.layer_opacity'\"}],staticClass:\"item-text\"}),_vm._v(\" \"),_c('span',{staticClass:\"menu-icon\",class:_vm.g3wtemplate.getFontClass('arrow-right'),staticStyle:{\"position\":\"absolute\",\"right\":\"0\",\"margin-top\":\"3px\"}}),_vm._v(\" \"),_c('ul',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.layer && _vm.menu.show),expression:\"layer && menu.show\"}],style:({\n      top:             _vm.menu.top       + 'px',\n      left:            _vm.menu.left - 15 + 'px',\n      maxHeight:       _vm.menu.maxHeight + 'px',\n      overflowY:       _vm.menu.overflowY,\n      paddingLeft:     0,\n      position:        'fixed',\n      backgroundColor: '#FFF',\n      color:           '#000',\n     })},[_c('li',[_c('range',{attrs:{\"value\":_vm.layer.opacity,\"min\":0,\"max\":100,\"step\":1,\"sync\":false,\"showValue\":true,\"unit\":'%'},on:{\"change-range\":_vm.setLayerOpacity}})],1)])])}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-41231f64\"\n\n},{\"gui/catalog/vue/catalogeventhub\":114,\"store/catalog-layers\":374,\"vueify/lib/insert-css\":1}],254:[function(require,module,exports){\nvar __vueify_style_dispose__ = require(\"vueify/lib/insert-css\").insert(\".g3w-map-controls-left-bottom[data-v-70e886b4]{position:absolute;bottom:75px;left:10px;z-index:1}\")\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _MapAddLayer = require('components/MapAddLayer.vue');\n\nvar _MapAddLayer2 = _interopRequireDefault(_MapAddLayer);\n\nvar _MapFooter = require('components/MapFooter.vue');\n\nvar _MapFooter2 = _interopRequireDefault(_MapFooter);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nexports.default = {\n  data: function data() {\n    var _$options = this.$options,\n        service = _$options.service,\n        target = _$options.target;\n\n    return {\n      target: target,\n      maps_container: this.$options.maps_container,\n      service: service,\n      hidemaps: service.state.hidemaps,\n      map_info: service.state.map_info\n    };\n  },\n\n  components: {\n    'addlayer': _MapAddLayer2.default,\n    MapFooter: _MapFooter2.default\n  },\n  computed: {\n    mapcontrolsalignement: function mapcontrolsalignement() {\n      return this.service.state.mapcontrolsalignement;\n    },\n    disableMapControls: function disableMapControls() {\n      return this.service.state.mapControl.disabled;\n    }\n  },\n  methods: {\n    showHideControls: function showHideControls() {\n      var mapControls = this.service.getMapControls();\n      mapControls.forEach(function (control) {\n        return control.type !== \"scaleline\" && control.control.showHide();\n      });\n    }\n  },\n  mounted: function () {\n    var _ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee2() {\n      var _this = this;\n\n      return regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              this.crs = this.service.getCrs();\n              _context2.next = 3;\n              return this.$nextTick();\n\n            case 3:\n              this.service.setMapControlsContainer($(this.$refs['g3w-map-controls']));\n\n              this.service.onafter('addHideMap', _asyncToGenerator(regeneratorRuntime.mark(function _callee() {\n                var _ref3 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n                    ratio = _ref3.ratio,\n                    _ref3$layers = _ref3.layers,\n                    layers = _ref3$layers === undefined ? [] : _ref3$layers,\n                    _ref3$mainview = _ref3.mainview,\n                    mainview = _ref3$mainview === undefined ? false : _ref3$mainview,\n                    _ref3$switchable = _ref3.switchable,\n                    switchable = _ref3$switchable === undefined ? false : _ref3$switchable;\n\n                return regeneratorRuntime.wrap(function _callee$(_context) {\n                  while (1) {\n                    switch (_context.prev = _context.next) {\n                      case 0:\n                        _context.next = 2;\n                        return _this.$nextTick();\n\n                      case 2:\n                        _this.service._addHideMap({ ratio: ratio, layers: layers, mainview: mainview, switchable: switchable });\n\n                      case 3:\n                      case 'end':\n                        return _context.stop();\n                    }\n                  }\n                }, _callee, _this);\n              })));\n\n            case 5:\n            case 'end':\n              return _context2.stop();\n          }\n        }\n      }, _callee2, this);\n    }));\n\n    function mounted() {\n      return _ref.apply(this, arguments);\n    }\n\n    return mounted;\n  }(),\n  destroyed: function destroyed() {\n    this.service.clear();\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":_vm.maps_container}},[_vm._l((_vm.hidemaps),function(hidemap){return _c('div',{key:hidemap.id,staticClass:\"g3w-map hidemap\",attrs:{\"id\":hidemap.id}})}),_vm._v(\" \"),_c('div',{staticClass:\"g3w-map\",attrs:{\"id\":_vm.target}},[_c('div',{directives:[{name:\"disabled\",rawName:\"v-disabled\",value:(_vm.disableMapControls),expression:\"disableMapControls\"}],ref:\"g3w-map-controls\",staticClass:\"g3w-map-controls\",class:_vm.mapcontrolsalignement,staticStyle:{\"display\":\"flex\"}}),_vm._v(\" \"),(_vm.map_info.info)?_c('div',{ref:\"g3w-map-info\",style:(_vm.map_info.style),attrs:{\"id\":\"g3w-map-info\"}},[_vm._v(\"\\n      \"+_vm._s(_vm.map_info.info)+\"\\n    \")]):_vm._e(),_vm._v(\" \"),_vm._m(0),_vm._v(\" \"),_c('addlayer',{attrs:{\"service\":_vm.service}}),_vm._v(\" \"),_c('div',{staticClass:\"g3w-map-controls-left-bottom\"})],1),_vm._v(\" \"),_c('map-footer',{attrs:{\"service\":_vm.service}})],2)}\n__vue__options__.staticRenderFns = [function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticStyle:{\"display\":\"none\"}},[_c('div',{attrs:{\"id\":\"marker\"}})])}]\n__vue__options__._scopeId = \"data-v-70e886b4\"\n\n},{\"components/MapAddLayer.vue\":255,\"components/MapFooter.vue\":257,\"vueify/lib/insert-css\":1}],255:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _vueColor = require('vue-color');\n\nvar _constant = require('app/constant');\n\nfunction _toArray(arr) { return Array.isArray(arr) ? arr : Array.from(arr); }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar Projections = require('g3w-ol/projection/projections');\n\nvar _require = require('core/utils/geo'),\n    createVectorLayerFromFile = _require.createVectorLayerFromFile,\n    createStyleFunctionToVectorLayer = _require.createStyleFunctionToVectorLayer;\n\nvar SUPPORTED_FORMAT = ['zip', 'geojson', 'GEOJSON', 'kml', 'kmz', 'KMZ', 'KML', 'json', 'gpx', 'gml', 'csv'];\nvar CSV_SEPARATORS = [',', ';'];\n\n_vueColor.Chrome.mounted = _asyncToGenerator(regeneratorRuntime.mark(function _callee() {\n  return regeneratorRuntime.wrap(function _callee$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          _context.next = 2;\n          return this.$nextTick();\n\n        case 2:\n          $('.vue-color__chrome__toggle-btn').remove();\n          $('.vue-color__editable-input__label').remove();\n          $('.vue-color__chrome__saturation-wrap').css('padding-bottom', '100px');\n          $('.vue-color__chrome').css({\n            'box-shadow': '0 0 0 0',\n            'border': '1px solid #97A1A8'\n          });\n\n        case 6:\n        case 'end':\n          return _context.stop();\n      }\n    }\n  }, _callee, this);\n}));\n\nexports.default = {\n  props: ['service'],\n  data: function data() {\n    var MAPEPSG = this.service.getCrs();\n    _constant.EPSG.find(function (epsg) {\n      return epsg === MAPEPSG;\n    }) === undefined && _constant.EPSG.unshift(MAPEPSG);\n    return {\n      vectorLayer: null,\n      options: _constant.EPSG,\n      error: false,\n      error_message: null,\n      position: null,\n      loading: false,\n      fields: [],\n      field: null,\n      accepted_extension: SUPPORTED_FORMAT.map(function (format) {\n        return '.' + format;\n      }).join(','),\n      csv: {\n        valid: false,\n        loading: false,\n        headers: [],\n        x: null,\n        y: null,\n        separators: CSV_SEPARATORS,\n        separator: CSV_SEPARATORS[0]\n      },\n      layer: {\n        name: null,\n        type: null,\n        crs: null,\n        mapCrs: null,\n        color: {\n          hex: '#194d33',\n          rgba: {\n            r: 25,\n            g: 77,\n            b: 51,\n            a: 1\n          },\n          a: 1\n        },\n        data: null,\n        visible: true,\n        title: null,\n        id: null,\n        external: true\n      }\n    };\n  },\n\n  components: {\n    'chrome-picker': _vueColor.Chrome\n  },\n  computed: {\n    csv_extension: function csv_extension() {\n      return this.layer.type === 'csv';\n    },\n    add: function add() {\n      return this.layer.data || this.csv.valid;\n    }\n  },\n  methods: {\n    setLayerMapPosition: function setLayerMapPosition(position) {\n      this.position = position;\n    },\n    setError: function setError(type) {\n      this.error_message = 'sdk.errors.' + type;\n      this.error = true;\n    },\n    clearError: function clearError() {\n      this.error = false;\n      this.error_message = null;\n    },\n    onChangeColor: function onChangeColor(val) {\n      this.layer.color = val;\n    },\n    onAddLayer: function () {\n      var _ref2 = _asyncToGenerator(regeneratorRuntime.mark(function _callee2(evt) {\n        var _this = this;\n\n        var reader, name, type, input_file, promiseData;\n        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                reader = new FileReader();\n                name = evt.target.files[0].name;\n                type = evt.target.files[0].name.split('.');\n\n                type = type[type.length - 1].toLowerCase();\n                input_file = $(this.$refs.input_file);\n\n                if (!(SUPPORTED_FORMAT.indexOf(type) !== -1)) {\n                  _context2.next = 32;\n                  break;\n                }\n\n                this.clearError();\n                this.layer.mapCrs = this.service.getEpsg();\n                this.layer.name = name;\n                this.layer.title = name;\n                this.layer.id = name;\n                this.layer.type = type;\n\n                if (!(this.layer.type === 'csv')) {\n                  _context2.next = 17;\n                  break;\n                }\n\n                reader.onload = function (evt) {\n                  input_file.val(null);\n                  var csv_data = evt.target.result.split(/\\r\\n|\\n/).filter(function (row) {\n                    return row;\n                  });\n\n                  var _csv_data = _toArray(csv_data),\n                      headers = _csv_data[0],\n                      values = _csv_data.slice(1);\n\n                  var handle_csv_headers = function handle_csv_headers(separator) {\n                    var data = null;\n                    _this.csv.loading = true;\n                    var csv_headers = headers.split(separator);\n                    var headers_length = csv_headers.length;\n                    if (headers_length > 1) {\n                      _this.csv.headers = csv_headers;\n                      _this.fields = csv_headers;\n                      _this.csv.x = csv_headers[0];\n                      _this.csv.y = csv_headers[1];\n                      data = {\n                        headers: csv_headers,\n                        separator: separator,\n                        x: _this.csv.x,\n                        y: _this.csv.y,\n                        values: values\n                      };\n                      _this.csv.valid = true;\n                    } else {\n                      _this.csv.headers = _this.fields = [];\n                      _this.vectorLayer = null;\n                      _this.csv.valid = false;\n                      _this.fields.splice(0);\n                    }\n                    _this.csv.loading = false;\n                    return data;\n                  };\n                  _this.layer.data = handle_csv_headers(_this.csv.separator);\n                  _this.$watch('csv.separator', function (separator) {\n                    return _this.layer.data = handle_csv_headers(separator);\n                  });\n                };\n                reader.readAsText(evt.target.files[0]);\n                _context2.next = 30;\n                break;\n\n              case 17:\n                promiseData = new Promise(function (resolve, reject) {\n                  if (_this.layer.type === 'zip' || _this.layer.type === 'kmz') {\n                    var data = evt.target.files[0];\n                    input_file.val(null);\n                    resolve(data);\n                  } else {\n                    reader.onload = function (evt) {\n                      var data = evt.target.result;\n                      input_file.val(null);\n                      resolve(data);\n                    };\n                    reader.readAsText(evt.target.files[0]);\n                  }\n                });\n                _context2.next = 20;\n                return promiseData;\n\n              case 20:\n                this.layer.data = _context2.sent;\n                _context2.prev = 21;\n\n                this.fields.splice(0);_context2.next = 25;\n                return this.createVectorLayer();\n\n              case 25:\n                this.fields = this.vectorLayer.get('_fields');\n                _context2.next = 30;\n                break;\n\n              case 28:\n                _context2.prev = 28;\n                _context2.t0 = _context2['catch'](21);\n\n              case 30:\n                _context2.next = 33;\n                break;\n\n              case 32:\n                this.setError('unsupported_format');\n\n              case 33:\n              case 'end':\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this, [[21, 28]]);\n      }));\n\n      function onAddLayer(_x) {\n        return _ref2.apply(this, arguments);\n      }\n\n      return onAddLayer;\n    }(),\n    createVectorLayer: function () {\n      var _ref3 = _asyncToGenerator(regeneratorRuntime.mark(function _callee3() {\n        return regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                _context3.prev = 0;\n                _context3.next = 3;\n                return createVectorLayerFromFile(this.layer);\n\n              case 3:\n                this.vectorLayer = _context3.sent;\n                _context3.next = 6;\n                return this.$nextTick();\n\n              case 6:\n                _context3.next = 11;\n                break;\n\n              case 8:\n                _context3.prev = 8;\n                _context3.t0 = _context3['catch'](0);\n                this.setError('add_external_layer');\n              case 11:\n              case 'end':\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this, [[0, 8]]);\n      }));\n\n      function createVectorLayer() {\n        return _ref3.apply(this, arguments);\n      }\n\n      return createVectorLayer;\n    }(),\n    addLayer: function () {\n      var _ref4 = _asyncToGenerator(regeneratorRuntime.mark(function _callee4() {\n        var crs;\n        return regeneratorRuntime.wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                if (!(this.layer.data || this.csv.valid)) {\n                  _context4.next = 27;\n                  break;\n                }\n\n                crs = this.layer.crs;\n                _context4.prev = 2;\n                _context4.prev = 3;\n                _context4.next = 6;\n                return Projections.registerProjection(crs);\n\n              case 6:\n                _context4.next = 12;\n                break;\n\n              case 8:\n                _context4.prev = 8;\n                _context4.t0 = _context4['catch'](3);\n\n                this.setError(_context4.t0);\n                return _context4.abrupt('return');\n\n              case 12:\n\n                this.loading = true;\n                _context4.next = 15;\n                return createVectorLayerFromFile(this.layer);\n\n              case 15:\n                this.vectorLayer = _context4.sent;\n\n                this.vectorLayer.setStyle(createStyleFunctionToVectorLayer({\n                  color: this.layer.color,\n                  field: this.field\n                }));\n                _context4.next = 19;\n                return this.service.addExternalLayer(this.vectorLayer, {\n                  crs: this.layer.crs,\n                  type: this.layer.type,\n                  position: this.position\n                });\n\n              case 19:\n                $(this.$refs.modal_addlayer).modal('hide');\n                this.clear();\n\n                _context4.next = 26;\n                break;\n\n              case 23:\n                _context4.prev = 23;\n                _context4.t1 = _context4['catch'](2);\n\n                this.setError('add_external_layer');\n\n              case 26:\n                this.loading = false;\n\n              case 27:\n              case 'end':\n                return _context4.stop();\n            }\n          }\n        }, _callee4, this, [[2, 23], [3, 8]]);\n      }));\n\n      function addLayer() {\n        return _ref4.apply(this, arguments);\n      }\n\n      return addLayer;\n    }(),\n    clear: function clear() {\n      this.clearError();\n      this.loading = false;\n      this.layer.name = null;\n      this.layer.title = null;\n      this.layer.id = null;\n      this.layer.type = null;\n      this.layer.crs = this.service.getCrs();\n      this.layer.color = {\n        hex: '#194d33',\n        rgba: { r: 25, g: 77, b: 51, a: 1 },\n        a: 1\n      };\n      this.layer.data = null;\n      this.vectorLayer = null;\n      this.fields = [];\n      this.field = null;\n      this.csv.valid = false;\n    },\n    clearLayer: function clearLayer() {\n      this.clear();\n    }\n  },\n  watch: {\n    'csv.x': function csvX(value) {\n      if (value) this.layer.data.x = value;\n    },\n    'csv.y': function csvY(value) {\n      if (value) this.layer.data.y = value;\n    }\n  },\n  created: function created() {\n    var _this2 = this;\n\n    this.layer.crs = this.service.getCrs();\n    this.service.on('addexternallayer', function () {\n      return _this2.modal.modal('show');\n    });\n  },\n  mounted: function () {\n    var _ref5 = _asyncToGenerator(regeneratorRuntime.mark(function _callee5() {\n      var _this3 = this;\n\n      return regeneratorRuntime.wrap(function _callee5$(_context5) {\n        while (1) {\n          switch (_context5.prev = _context5.next) {\n            case 0:\n              _context5.next = 2;\n              return this.$nextTick();\n\n            case 2:\n              this.modal = $('#modal-addlayer').modal('hide');\n              this.modal.on('hide.bs.modal', function () {\n                _this3.clear();\n              });\n\n            case 4:\n            case 'end':\n              return _context5.stop();\n          }\n        }\n      }, _callee5, this);\n    }));\n\n    function mounted() {\n      return _ref5.apply(this, arguments);\n    }\n\n    return mounted;\n  }(),\n  beforeDestroy: function beforeDestroy() {\n    this.clear();\n    this.modal.modal('hide');\n    this.modal.remove();\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{ref:\"modal_addlayer\",staticClass:\"modal fade\",attrs:{\"id\":\"modal-addlayer\",\"role\":\"dialog\"}},[_c('div',{staticClass:\"modal-dialog\"},[_c('div',{staticClass:\"modal-content\"},[_c('div',{staticClass:\"modal-header\"},[_c('button',{staticClass:\"close\",attrs:{\"type\":\"button\",\"data-dismiss\":\"modal\"}},[_vm._v(\"×\")]),_vm._v(\" \"),_c('h4',{directives:[{name:\"t\",rawName:\"v-t\",value:('mapcontrols.add_layer_control.header'),expression:\"'mapcontrols.add_layer_control.header'\"}],staticClass:\"modal-title\",staticStyle:{\"font-weight\":\"bold\"}})]),_vm._v(\" \"),_c('div',{staticClass:\"modal-body\"},[_c('div',{staticClass:\"form-group\"},[_c('label',{directives:[{name:\"t\",rawName:\"v-t\",value:('mapcontrols.add_layer_control.select_projection'),expression:\"'mapcontrols.add_layer_control.select_projection'\"}],attrs:{\"for\":\"projection-layer\"}}),_vm._v(\" \"),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.layer.crs),expression:\"layer.crs\"}],staticClass:\"form-control\",attrs:{\"id\":\"projection-layer\"},on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.$set(_vm.layer, \"crs\", $event.target.multiple ? $$selectedVal : $$selectedVal[0])}}},_vm._l((_vm.options),function(option){return _c('option',{domProps:{\"value\":option}},[_vm._v(_vm._s(option))])}),0)]),_vm._v(\" \"),_c('layerspositions',{on:{\"layer-position-change\":function($event){return _vm.setLayerMapPosition($event)}}}),_vm._v(\" \"),_c('p',{directives:[{name:\"t\",rawName:\"v-t\",value:('mapcontrols.add_layer_control.select_color'),expression:\"'mapcontrols.add_layer_control.select_color'\"}],staticStyle:{\"font-weight\":\"700\"}}),_vm._v(\" \"),_c('chrome-picker',{staticStyle:{\"width\":\"100%\",\"margin\":\"auto\"},on:{\"input\":_vm.onChangeColor},model:{value:(_vm.layer.color),callback:function ($$v) {_vm.$set(_vm.layer, \"color\", $$v)},expression:\"layer.color\"}}),_vm._v(\" \"),_c('bar-loader',{attrs:{\"loading\":_vm.loading}}),_vm._v(\" \"),_c('form',{attrs:{\"id\":\"addcustomlayer\"}},[_c('input',{ref:\"input_file\",attrs:{\"type\":\"file\",\"title\":\" \",\"accept\":_vm.accepted_extension},on:{\"change\":function($event){return _vm.onAddLayer($event)}}}),_vm._v(\" \"),_c('h4',{directives:[{name:\"t\",rawName:\"v-t\",value:('mapcontrols.add_layer_control.drag_layer'),expression:\"'mapcontrols.add_layer_control.drag_layer'\"}]}),_vm._v(\" \"),(_vm.layer.name)?_c('h4',{staticClass:\"skin-color\",staticStyle:{\"font-weight\":\"bold\"}},[_vm._v(_vm._s(_vm.layer.name))]):_vm._e(),_vm._v(\" \"),_c('div',[_c('i',{staticClass:\"fa-5x\",class:_vm.g3wtemplate.getFontClass('cloud-upload'),attrs:{\"aria-hidden\":\"true\"}})]),_vm._v(\" \"),_c('p',{staticStyle:{\"font-weight\":\"bold\"}},[_vm._v(\"[.gml, .geojson, .kml, .kmz ,.gpx, .csv, .zip(shapefile)]\")])]),_vm._v(\" \"),(_vm.csv_extension)?_c('div',{staticStyle:{\"padding\":\"15px\",\"border\":\"1px solid grey\",\"border-radius\":\"3px\"}},[_c('bar-loader',{attrs:{\"loading\":_vm.csv.loading}}),_vm._v(\" \"),_c('div',{staticClass:\"select_field\"},[_c('label',{directives:[{name:\"t\",rawName:\"v-t\",value:('mapcontrols.add_layer_control.select_csv_separator'),expression:\"'mapcontrols.add_layer_control.select_csv_separator'\"}],attrs:{\"for\":\"g3w-select-field-layer\"}}),_vm._v(\" \"),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.csv.separator),expression:\"csv.separator\"}],staticClass:\"form-control\",attrs:{\"id\":\"g3w-select-separator\"},on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.$set(_vm.csv, \"separator\", $event.target.multiple ? $$selectedVal : $$selectedVal[0])}}},_vm._l((_vm.csv.separators),function(separator){return _c('option',{key:separator,domProps:{\"value\":separator}},[_vm._v(_vm._s(separator))])}),0),_vm._v(\" \"),_c('div',{staticClass:\"select_field\",class:{'g3w-disabled': !_vm.csv.headers || _vm.csv.headers.length === 0}},[_c('label',{directives:[{name:\"t\",rawName:\"v-t\",value:('mapcontrols.add_layer_control.select_csv_x_field'),expression:\"'mapcontrols.add_layer_control.select_csv_x_field'\"}],attrs:{\"for\":\"g3w-select-x-field\"}}),_vm._v(\" \"),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.csv.x),expression:\"csv.x\"}],staticClass:\"form-control\",attrs:{\"id\":\"g3w-select-x-field\"},on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.$set(_vm.csv, \"x\", $event.target.multiple ? $$selectedVal : $$selectedVal[0])}}},_vm._l((_vm.csv.headers),function(header){return _c('option',{key:header,domProps:{\"value\":header}},[_vm._v(_vm._s(header))])}),0)]),_vm._v(\" \"),_c('div',{staticClass:\"select_field\",class:{'g3w-disabled': !_vm.csv.headers || _vm.csv.headers.length === 0}},[_c('label',{directives:[{name:\"t\",rawName:\"v-t\",value:('mapcontrols.add_layer_control.select_csv_y_field'),expression:\"'mapcontrols.add_layer_control.select_csv_y_field'\"}],attrs:{\"for\":\"g3w-select-y-field\"}}),_vm._v(\" \"),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.csv.y),expression:\"csv.y\"}],staticClass:\"form-control\",attrs:{\"id\":\"g3w-select-y-field\"},on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.$set(_vm.csv, \"y\", $event.target.multiple ? $$selectedVal : $$selectedVal[0])}}},_vm._l((_vm.csv.headers),function(header){return _c('option',{key:header,domProps:{\"value\":header}},[_vm._v(_vm._s(header))])}),0)])])],1):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"select_field\",class:{'g3w-disabled': !_vm.fields || _vm.fields.length === 0}},[_c('label',{directives:[{name:\"t\",rawName:\"v-t\",value:('mapcontrols.add_layer_control.select_field_to_show'),expression:\"'mapcontrols.add_layer_control.select_field_to_show'\"}],attrs:{\"for\":\"g3w-select-field-layer\"}}),_vm._v(\" \"),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.field),expression:\"field\"}],staticClass:\"form-control\",attrs:{\"id\":\"g3w-select-field-layer\"},on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.field=$event.target.multiple ? $$selectedVal : $$selectedVal[0]}}},[_c('option',{domProps:{\"value\":null}},[_vm._v(\"---\")]),_vm._v(\" \"),_vm._l((_vm.fields),function(field){return _c('option',{key:field,domProps:{\"value\":field}},[_vm._v(_vm._s(field))])})],2)]),_vm._v(\" \"),(_vm.error)?_c('div',{directives:[{name:\"t\",rawName:\"v-t\",value:(_vm.error_message),expression:\"error_message\"}],staticStyle:{\"font-weight\":\"bold\",\"font-size\":\"1.2em\",\"background-color\":\"orange\",\"padding\":\"10px\",\"text-align\":\"center\"}}):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"modal-footer\"},[_c('button',{directives:[{name:\"t\",rawName:\"v-t\",value:('add'),expression:\"'add'\"}],staticClass:\"btn btn-success pull-left\",attrs:{\"type\":\"button\",\"disabled\":!_vm.add},on:{\"click\":function($event){$event.stopPropagation();return _vm.addLayer($event)}}}),_vm._v(\" \"),_c('button',{directives:[{name:\"t\",rawName:\"v-t\",value:('close'),expression:\"'close'\"}],staticClass:\"btn btn-default\",attrs:{\"type\":\"button\",\"data-dismiss\":\"modal\"}})])],1)])])])}\n__vue__options__.staticRenderFns = []\n\n},{\"app/constant\":4,\"core/utils/geo\":64,\"g3w-ol/projection/projections\":111,\"vue-color\":\"vue-color\"}],256:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar _require = require('core/utils/utils'),\n    debounce = _require.debounce;\n\nexports.default = {\n  name: \"MapControlZoomHistory\",\n  data: function data() {\n    return {\n      history: {\n        index: 0,\n        items: []\n      }\n    };\n  },\n\n  methods: {\n    last: function last() {\n      this.history.index--;\n      this.setMapExtent();\n    },\n    next: function next() {\n      this.history.index++;\n      this.setMapExtent();\n    },\n    setMapExtent: function setMapExtent() {\n      _gui2.default.getService('map').getMap().getView().fit(this.history.items[this.history.index]);\n    }\n  },\n  computed: {\n    hasEmptyHistory: function hasEmptyHistory() {\n      return 0 === this.history.index && 1 === this.history.items.length || this.history.items.length - 1 === this.history.index;\n    }\n  },\n\n  created: function created() {\n    var _this = this;\n\n    var map = _gui2.default.getService('map').getMap();\n    var view = map.getView();\n\n    this.history.items.push(view.calculateExtent(map.getSize()));\n\n    this.changeKeyEvent = view.on('change', debounce(function (evt) {\n      if (_this.history.index !== _this.history.items.length - 1) {\n        _this.history.items.splice(_this.history.index - _this.history.items.length + 1);\n      }\n      _this.history.items.push(evt.target.calculateExtent(map.getSize()));\n      _this.history.index++;\n    }, 600));\n  },\n  beforeDestroy: function beforeDestroy() {\n    ol.Object.unByKey(this.changeKeyEvent);\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"ol-zoom-history ol-unselectable ol-control\",staticStyle:{\"display\":\"flex\",\"gap\":\"5px\"}},[_c('div',{directives:[{name:\"t-tooltip\",rawName:\"v-t-tooltip:top.create\",value:('sdk.mapcontrols.zoomhistory.zoom_last'),expression:\"'sdk.mapcontrols.zoomhistory.zoom_last'\",arg:\"top\",modifiers:{\"create\":true}}]},[_c('button',{directives:[{name:\"disabled\",rawName:\"v-disabled\",value:(_vm.history.index === 0),expression:\"history.index === 0\"}],attrs:{\"type\":\"button\"},on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.last($event)}}},[_c('i',{class:_vm.g3wtemplate.getFontClass('reply')})])]),_vm._v(\" \"),_c('div',{directives:[{name:\"t-tooltip\",rawName:\"v-t-tooltip:top.create\",value:('sdk.mapcontrols.zoomhistory.zoom_next'),expression:\"'sdk.mapcontrols.zoomhistory.zoom_next'\",arg:\"top\",modifiers:{\"create\":true}}]},[_c('button',{directives:[{name:\"disabled\",rawName:\"v-disabled\",value:(_vm.hasEmptyHistory),expression:\"hasEmptyHistory\"}],attrs:{\"type\":\"button\"},on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.next($event)}}},[_c('i',{class:_vm.g3wtemplate.getFontClass('share')})])])])}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-5ba4faea\"\n\n},{\"core/utils/utils\":68,\"services/gui\":361}],257:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _MapFooterRight = require('components/MapFooterRight.vue');\n\nvar _MapFooterRight2 = _interopRequireDefault(_MapFooterRight);\n\nvar _MapFooterLeft = require('components/MapFooterLeft.vue');\n\nvar _MapFooterLeft2 = _interopRequireDefault(_MapFooterLeft);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = {\n  name: 'Mapfooter',\n  props: {\n    service: {\n      type: Object\n    }\n  },\n  components: {\n    MapFooterRight: _MapFooterRight2.default,\n    MapFooterLeft: _MapFooterLeft2.default\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"skin-border-color\",attrs:{\"id\":\"map_footer\"}},[_c('map-footer-left'),_vm._v(\" \"),_c('map-footer-right',{attrs:{\"service\":_vm.service}})],1)}\n__vue__options__.staticRenderFns = []\n\n},{\"components/MapFooterLeft.vue\":258,\"components/MapFooterRight.vue\":259}],258:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = {\n  name: 'Mapfooter'\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _vm._m(0)}\n__vue__options__.staticRenderFns = [function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticStyle:{\"display\":\"flex\"},attrs:{\"id\":\"map_footer_left\"}},[_c('a',{staticStyle:{\"margin-left\":\"5px\",\"align-self\":\"center\"},attrs:{\"href\":\"https://g3wsuite.it/\",\"target\":\"_blank\"}},[_c('img',{attrs:{\"height\":\"15\",\"src\":\"/static/client/images/g3wsuite_logo.png\",\"alt\":\"\"}})])])}]\n\n},{}],259:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _applicationState = require('store/application-state');\n\nvar _applicationState2 = _interopRequireDefault(_applicationState);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nexports.default = {\n  name: 'Mapfooter',\n  props: {\n    service: {\n      type: Object\n    }\n  },\n  data: function data() {\n    return {\n      mouse: {\n        switch_icon: false,\n        epsg_4326: false,\n        tooltip: null\n      },\n      mapunit: _applicationState2.default.map.unit\n    };\n  },\n\n  computed: {\n    showmapunits: function showmapunits() {\n      return this.service.state.mapunits.length > 1;\n    }\n  },\n  methods: {\n    createCopyMapExtentUrl: function createCopyMapExtentUrl() {\n      this.service.createCopyMapExtentUrl();\n    },\n    switchMapsCoordinateTo4326: function switchMapsCoordinateTo4326() {\n      this.mouse.epsg_4326 = !this.mouse.epsg_4326;\n    }\n  },\n  watch: {\n    'mapunit': function mapunit(unit) {\n      _applicationState2.default.map.unit = unit;\n      this.service.changeScaleLineUnit(unit);\n    }\n  },\n  mounted: function () {\n    var _ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee() {\n      var _this = this;\n\n      return regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              this.service.once('ready', function () {\n                _this.mouse.switch_icon = _this.service.getMapControlByType({\n                  type: 'mouseposition'\n                }) && _this.service.getEpsg() !== 'EPSG:4326';\n                _this.mouse.tooltip = 'ESPG ' + _this.service.getCrs().split(':')[1] + ' <--> WGS84';\n              });\n\n            case 1:\n            case 'end':\n              return _context.stop();\n          }\n        }\n      }, _callee, this);\n    }));\n\n    function mounted() {\n      return _ref.apply(this, arguments);\n    }\n\n    return mounted;\n  }()\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticStyle:{\"display\":\"flex\"},attrs:{\"id\":\"map_footer_right\"}},[_c('div',{attrs:{\"id\":\"scale-control\"}}),_vm._v(\" \"),(_vm.mouse.switch_icon && !_vm.isMobile())?_c('div',{directives:[{name:\"t-tooltip\",rawName:\"v-t-tooltip:top.create\",value:(_vm.mouse.tooltip),expression:\"mouse.tooltip\",arg:\"top\",modifiers:{\"create\":true}}],attrs:{\"id\":\"switch-mouse-coordinate\"},on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.switchMapsCoordinateTo4326($event)}}},[_c('span',{staticClass:\"skin-color hide-cursor-caret-color\",class:_vm.g3wtemplate.getFontClass('mouse')})]):_vm._e(),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.mouse.epsg_4326),expression:\"!mouse.epsg_4326\"}],attrs:{\"id\":\"mouse-position-control\"}}),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.mouse.epsg_4326),expression:\"mouse.epsg_4326\"}],attrs:{\"id\":\"mouse-position-control-epsg-4326\"}}),_vm._v(\" \"),(_vm.showmapunits)?_c('div',{attrs:{\"id\":\"scale-line-units\"}},[_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.mapunit),expression:\"mapunit\"}],staticClass:\"skin-color\",staticStyle:{\"padding\":\"5px 2px\",\"font-weight\":\"bold\",\"border\":\"0\",\"cursor\":\"pointer\"},on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.mapunit=$event.target.multiple ? $$selectedVal : $$selectedVal[0]}}},_vm._l((_vm.service.state.mapunits),function(unit){return _c('option',{directives:[{name:\"t\",rawName:\"v-t\",value:((\"sdk.mapcontrols.scaleline.units.\" + unit)),expression:\"`sdk.mapcontrols.scaleline.units.${unit}`\"}],staticStyle:{\"font-weight\":\"bold\"},domProps:{\"value\":unit,\"selected\":_vm.mapunit === unit}})}),0)]):_vm._e(),_vm._v(\" \"),_c('div',{directives:[{name:\"t-tooltip\",rawName:\"v-t-tooltip:top.create\",value:('sdk.tooltips.copy_map_extent_url'),expression:\"'sdk.tooltips.copy_map_extent_url'\",arg:\"top\",modifiers:{\"create\":true}}],staticStyle:{\"background-color\":\"#eeeeee\"},attrs:{\"id\":\"permalink\"}},[_c('span',{staticClass:\"skin-color\",class:_vm.g3wtemplate.getFontClass('link'),on:{\"click\":function($event){$event.stopPropagation();return _vm.createCopyMapExtentUrl($event)}}})])])}\n__vue__options__.staticRenderFns = []\n\n},{\"store/application-state\":373}],260:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = {\n  data: function data() {\n    return {\n      state: null\n    };\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div')}\n__vue__options__.staticRenderFns = []\n\n},{}],261:[function(require,module,exports){\nvar __vueify_style_dispose__ = require(\"vueify/lib/insert-css\").insert(\".layer_header[data-v-fee105a8]{padding:5px;margin-bottom:0;margin-top:0;cursor:pointer}.layer-name[data-v-fee105a8]{font-weight:700}.layer-header-icon[data-v-fee105a8]{margin-right:10px;color:#999}.layer_header span.open-close[data-v-fee105a8]{position:absolute;right:5px;color:#999}.metadata-label[data-v-fee105a8]{font-weight:700;font-size:1.1em}.row[data-v-fee105a8]{padding:10px;border-bottom:1px solid #e2e2e2}.nav-tabs[data-v-fee105a8]{border-bottom:0 solid #ddd}.nav-tabs>li.active>a[data-v-fee105a8],.nav-tabs>li.active>a[data-v-fee105a8]:focus,.nav-tabs>li.active>a[data-v-fee105a8]:hover{border-width:0}.nav-tabs>li>a[data-v-fee105a8]{border:none;color:#aeaeae}.nav-tabs>li.active>a[data-v-fee105a8],.nav-tabs>li>a[data-v-fee105a8]:hover{border:none;background:transparent}.nav-tabs>li>a[data-v-fee105a8]:after{content:\\\"\\\";height:2px;position:absolute;width:100%;left:0;bottom:-1px;transition:all .25s ease 0s;transform:scale(0)}.nav-tabs>li.active>a[data-v-fee105a8]:after,.nav-tabs>li:hover>a[data-v-fee105a8]:after{transform:scale(1)}.tab-nav>li>a[data-v-fee105a8]:after{background:#21527d none repeat scroll 0 0;color:#fff}.tab-content[data-v-fee105a8]{margin:10px;background-color:#eee;overflow:auto}.spatial-tab[data-v-fee105a8]{font-weight:700}\")\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _mixins = require('mixins');\n\nexports.default = {\n  name: \"layer\",\n  mixins: [_mixins.metadataMixin],\n  props: {\n    state: {}\n  },\n  data: function data() {\n    return {\n      show: false\n    };\n  },\n\n  computed: {\n    isSpatial: function isSpatial() {\n      return this.state.geometrytype != 'NoGeometry';\n    }\n  },\n  methods: {\n    showHideInfo: function showHideInfo() {\n      this.show = !this.show;\n    }\n  },\n  mounted: function mounted() {}\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"row-info\"},[_c('h4',{staticClass:\"layer_header\",attrs:{\"data-toggle\":\"collapse\",\"data-target\":'#' + _vm.state.id},on:{\"click\":_vm.showHideInfo}},[_c('i',{staticClass:\"layer-header-icon action-button nohover\",class:[_vm.isSpatial ? _vm.g3wtemplate.font['map']: _vm.g3wtemplate.font['table']],attrs:{\"aria-hidden\":\"true\"}}),_vm._v(\" \"),_c('span',{staticClass:\"layer-name\"},[_vm._v(_vm._s(_vm.state.name))]),_vm._v(\" \"),_c('span',{staticClass:\"action-button nohover open-close\",class:[_vm.show ? _vm.g3wtemplate.getFontClass('minus') :_vm.g3wtemplate.getFontClass('plus')]})]),_vm._v(\" \"),_c('div',{staticClass:\"collapse\",attrs:{\"id\":_vm.state.id}},[_c('ul',{staticClass:\"metadata-nav-tabs nav nav-tabs\",attrs:{\"role\":\"tablist\"}},[_c('li',{staticClass:\"active spatial-tab\",attrs:{\"role\":\"presentation\"}},[_c('a',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.metadata.groups.layers.groups.general'),expression:\"'sdk.metadata.groups.layers.groups.general'\"}],attrs:{\"href\":'#layer_general_' + _vm.state.id,\"aria-controls\":\"general\",\"role\":\"tab\",\"data-toggle\":\"tab\"}})]),_vm._v(\" \"),(_vm.isSpatial)?_c('li',{staticClass:\"spatial-tab\",attrs:{\"role\":\"presentation\"}},[_c('a',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.metadata.groups.layers.groups.spatial'),expression:\"'sdk.metadata.groups.layers.groups.spatial'\"}],attrs:{\"href\":'#layer_spatial_' + _vm.state.id,\"aria-controls\":\"profile\",\"role\":\"tab\",\"data-toggle\":\"tab\"}})]):_vm._e()]),_vm._v(\" \"),_c('div',{staticClass:\"tab-content\"},[_c('div',{staticClass:\"tab-pane active\",attrs:{\"role\":\"tabpanel\",\"id\":'layer_general_' + _vm.state.id}},[_c('div',{staticClass:\"container-fluid\"},[(_vm.findAttributeFormMetadataAttribute('title'))?_c('div',{staticClass:\"row\"},[_c('div',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.metadata.groups.layers.fields.subfields.title'),expression:\"'sdk.metadata.groups.layers.fields.subfields.title'\"}],staticClass:\"col-md-2 col-sm-12 metadata-label\"}),_vm._v(\" \"),_c('div',{staticClass:\"col-md-10 col-sm-12 value\"},[_vm._v(_vm._s(_vm.state.metadata.title))])]):_vm._e(),_vm._v(\" \"),(_vm.findMetadataAttribute('name'))?_c('div',{staticClass:\"row\"},[_c('div',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.metadata.groups.layers.fields.subfields.name'),expression:\"'sdk.metadata.groups.layers.fields.subfields.name'\"}],staticClass:\"col-md-2 col-sm-12 metadata-label\"}),_vm._v(\" \"),_c('div',{staticClass:\"col-md-10 col-sm-12 value\"},[_vm._v(_vm._s(_vm.state.name))])]):_vm._e(),_vm._v(\" \"),(_vm.findMetadataAttribute('source'))?_c('div',{staticClass:\"row metadata-layer-source\"},[_c('div',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.metadata.groups.layers.fields.subfields.source'),expression:\"'sdk.metadata.groups.layers.fields.subfields.source'\"}],staticClass:\"col-md-2 col-sm-12 metadata-label metadata-layer-source-value-key\"}),_vm._v(\" \"),_c('div',{staticClass:\"col-md-10 col-sm-12 value metadata-layer-source-value\"},[_vm._v(_vm._s(_vm.state.source.type))])]):_vm._e(),_vm._v(\" \"),(_vm.findAttributeFormMetadataAttribute('abstract'))?_c('div',{staticClass:\"row\"},[_c('div',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.metadata.groups.layers.fields.subfields.abstract'),expression:\"'sdk.metadata.groups.layers.fields.subfields.abstract'\"}],staticClass:\"col-md-2 col-sm-12 metadata-label\"}),_vm._v(\" \"),_c('div',{staticClass:\"col-md-10 col-sm-12 value\",domProps:{\"innerHTML\":_vm._s( _vm.state.metadata.abstract)}})]):_vm._e(),_vm._v(\" \"),(_vm.findAttributeFormMetadataAttribute('keywords'))?_c('div',{staticClass:\"row\"},[_c('div',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.metadata.groups.layers.fields.subfields.keywords'),expression:\"'sdk.metadata.groups.layers.fields.subfields.keywords'\"}],staticClass:\"col-md-2 col-sm-12 metadata-label\"}),_vm._v(\" \"),_c('div',{staticClass:\"col-md-10 col-sm-12 value\"},[_c('div',[_vm._v(_vm._s(_vm.state.metadata.keywords.join(', ')))])])]):_vm._e(),_vm._v(\" \"),(_vm.findAttributeFormMetadataAttribute('metadataurl') && _vm.state.metadata.metadataurl.onlineresources)?_c('div',{staticClass:\"row\"},[_c('div',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.metadata.groups.layers.fields.subfields.metadataurl'),expression:\"'sdk.metadata.groups.layers.fields.subfields.metadataurl'\"}],staticClass:\"col-md-2 col-sm-12 metadata-label\"}),_vm._v(\" \"),_c('div',{staticClass:\"col-md-10 col-sm-12 value\"},[_c('a',{attrs:{\"href\":_vm.state.metadata.metadataurl.onlineresources}},[_vm._v(_vm._s(_vm.state.metadata.metadataurl.onlineresources))])])]):_vm._e(),_vm._v(\" \"),(_vm.findAttributeFormMetadataAttribute('dataurl') && _vm.state.metadata.dataurl.onlineresources)?_c('div',{staticClass:\"row\"},[_c('div',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.metadata.groups.layers.fields.subfields.dataurl'),expression:\"'sdk.metadata.groups.layers.fields.subfields.dataurl'\"}],staticClass:\"col-md-2 col-sm-12 metadata-label\"}),_vm._v(\" \"),_c('div',{staticClass:\"col-md-10 col-sm-12 value\"},[_c('a',{attrs:{\"href\":_vm.state.metadata.dataurl.onlineresources}},[_vm._v(_vm._s(_vm.state.metadata.dataurl.onlineresources))])])]):_vm._e(),_vm._v(\" \"),(_vm.findAttributeFormMetadataAttribute('attributes'))?_c('div',{staticClass:\"row\"},[_c('div',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.metadata.groups.layers.fields.subfields.attributes'),expression:\"'sdk.metadata.groups.layers.fields.subfields.attributes'\"}],staticClass:\"col-md-2 col-sm-12 metadata-label\"}),_vm._v(\" \"),_c('div',{staticClass:\"col-md-10 col-sm-12 value\",staticStyle:{\"overflow\":\"auto\"}},[_c('table',{staticClass:\"table table-striped\",staticStyle:{\"background-color\":\"#eeeeee !important\"}},[_c('thead',[_c('tr',_vm._l((_vm.state.metadata.attributes[0]),function(value,header){return _c('th',[_vm._v(_vm._s(header))])}),0)]),_vm._v(\" \"),_c('tbody',_vm._l((_vm.state.metadata.attributes),function(attribute){return _c('tr',_vm._l((attribute),function(value,header){return _c('td',[_vm._v(_vm._s(value))])}),0)}),0)])])]):_vm._e()])]),_vm._v(\" \"),_c('div',{staticClass:\"tab-pane\",attrs:{\"role\":\"tabpanel\",\"id\":'layer_spatial_'+_vm.state.id}},[_c('div',{staticClass:\"container-fluid\"},[(_vm.findMetadataAttribute('crs'))?_c('div',{staticClass:\"row\"},[_c('div',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.metadata.groups.layers.fields.subfields.crs'),expression:\"'sdk.metadata.groups.layers.fields.subfields.crs'\"}],staticClass:\"col-sm-2 metadata-label\"}),_vm._v(\" \"),_c('div',{staticClass:\"col-sm-10 value\"},[_vm._v(_vm._s(_vm.state.crs.epsg))])]):_vm._e(),_vm._v(\" \"),(_vm.findMetadataAttribute('geometrytype'))?_c('div',{staticClass:\"row\"},[_c('div',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.metadata.groups.layers.fields.subfields.geometrytype'),expression:\"'sdk.metadata.groups.layers.fields.subfields.geometrytype'\"}],staticClass:\"col-sm-2 metadata-label\"}),_vm._v(\" \"),_c('div',{staticClass:\"col-sm-10 value\"},[_vm._v(_vm._s(_vm.state.geometrytype))])]):_vm._e(),_vm._v(\" \"),(_vm.findMetadataAttribute('bbox'))?_c('div',{staticClass:\"row\"},[_c('div',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.metadata.groups.layers.fields.subfields.bbox'),expression:\"'sdk.metadata.groups.layers.fields.subfields.bbox'\"}],staticClass:\"col-sm-2 metadata-label\"}),_vm._v(\" \"),_c('div',{staticClass:\"col-sm-10 value\"},_vm._l((_vm.state.bbox),function(value,key){return _c('p',[_c('span',{staticStyle:{\"font-weight\":\"bold\",\"margin-right\":\"5px\"}},[_vm._v(_vm._s(key))]),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(value))])])}),0)]):_vm._e(),_vm._v(\" \"),(_vm.findAttributeFormMetadataAttribute('crs'))?_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-sm-2 metadata-label\"},[_vm._v(\"CRS\")]),_vm._v(\" \"),_c('div',{staticClass:\"col-sm-10 value\"},_vm._l((_vm.state.metadata.crs),function(crs){return _c('div',[_c('span',[_vm._v(_vm._s(crs))])])}),0)]):_vm._e()])])])])])}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-fee105a8\"\n\n},{\"mixins\":343,\"vueify/lib/insert-css\":1}],262:[function(require,module,exports){\nvar __vueify_style_dispose__ = require(\"vueify/lib/insert-css\").insert(\".metadata-nav-bar li a[data-v-0e556a34]{text-align:center}.metadata-nav-bar li a i[data-v-0e556a34]{margin-right:5px}.metadata-item-tab[data-v-0e556a34]{margin-right:10px;border-radius:3px;margin-bottom:10px}.metadata-body[data-v-0e556a34]{overflow-y:auto;overflow-x:hidden;padding-left:0;padding-right:0}.tab-title[data-v-0e556a34]{position:absolute;bottom:10px;right:auto}.row-info[data-v-0e556a34]{margin:0!important;padding-top:10px;padding-bottom:10px;border-bottom:1px solid #eee}.row-info .label[data-v-0e556a34]{font-weight:700}.h_90[data-v-0e556a34]{height:90%}.h_100[data-v-0e556a34]{height:100%}#project-catalog[data-v-0e556a34]{position:relative;overflow:auto}.nav-tabs-wrapper[data-v-0e556a34]{display:inline-block;margin-bottom:-6px;margin-left:1.25%;margin-right:1.25%;position:relative;width:100%}.nav-tabs[data-v-0e556a34]{border-bottom:0 none}.nav-stacked[data-v-0e556a34]{font-size:1.2em;font-weight:700;padding:10px 0}.nav-stacked li a[data-v-0e556a34]{color:#fff}.left-vertical-tabs[data-v-0e556a34]{padding-left:0!important}\")\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _MetadataLayer = require('components/MetadataLayer.vue');\n\nvar _MetadataLayer2 = _interopRequireDefault(_MetadataLayer);\n\nvar _MetadataProjectTabContent = require('components/MetadataProjectTabContent.vue');\n\nvar _MetadataProjectTabContent2 = _interopRequireDefault(_MetadataProjectTabContent);\n\nvar _MetadataProjectBBoxContent = require('components/MetadataProjectBBoxContent.vue');\n\nvar _MetadataProjectBBoxContent2 = _interopRequireDefault(_MetadataProjectBBoxContent);\n\nvar _MetadataProjectContactsContent = require('components/MetadataProjectContactsContent.vue');\n\nvar _MetadataProjectContactsContent2 = _interopRequireDefault(_MetadataProjectContactsContent);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = {\n  name: \"project\",\n  data: function data() {\n    return {\n      state: this.$options.state,\n      iconsClass: {\n        info: this.g3wtemplate.getFontClass(\"info-circle\"),\n        globe: this.g3wtemplate.getFontClass(\"globe\"),\n        bars: this.g3wtemplate.getFontClass(\"bars\")\n      }\n    };\n  },\n\n  components: {\n    'metadata-layer': _MetadataLayer2.default,\n    'metadata-tab-content': _MetadataProjectTabContent2.default,\n    'metadata-bbox-content': _MetadataProjectBBoxContent2.default,\n    'metadata-contacts-content': _MetadataProjectContactsContent2.default\n  },\n  methods: {\n    isArrayorObject: function isArrayorObject(value) {\n      return Array.isArray(value) || (typeof value === 'undefined' ? 'undefined' : _typeof(value)) === 'object';\n    },\n    setComponent: function setComponent(key) {\n      var component = void 0;\n      switch (key) {\n        case 'extent':\n          component = 'metadata-bbox-content';\n          break;\n        case 'contactinformation':\n          component = 'metadata-contacts-content';\n          break;\n        default:\n          component = 'metadata-tab-content';\n      }\n      return component;\n    }\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"project-catalog\"}},[_c('div',{class:_vm.isMobile() ? 'mobile' : null,staticStyle:{\"padding\":\"0\"},attrs:{\"id\":\"project-catalog-container\"}},[_c('ul',{staticClass:\"nav nav-tabs metadata-nav-bar\",attrs:{\"role\":\"tablist\"}},[_c('li',{staticClass:\"active\"},[_c('a',{staticClass:\"metadata-item-tab general\",attrs:{\"data-toggle\":\"tab\",\"href\":\"#general\"}},[_c('i',{staticClass:\"action-button nohover\",class:_vm.g3wtemplate.getFontClass('info'),attrs:{\"aria-hidden\":\"true\"}}),_vm._v(\" \"),_c('span',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.metadata.groups.general.title'),expression:\"'sdk.metadata.groups.general.title'\"}],staticStyle:{\"font-weight\":\"bold\"}})])]),_vm._v(\" \"),_c('li',[_c('a',{staticClass:\"metadata-item-tab spatial\",attrs:{\"data-toggle\":\"tab\",\"href\":\"#spatial\"}},[_c('i',{staticClass:\"action-button nohover\",class:_vm.iconsClass.globe,attrs:{\"aria-hidden\":\"true\"}}),_vm._v(\" \"),_c('span',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.metadata.groups.spatial.title'),expression:\"'sdk.metadata.groups.spatial.title'\"}],staticStyle:{\"font-weight\":\"bold\"}})])]),_vm._v(\" \"),_c('li',[_c('a',{staticClass:\"metadata-item-tab layers\",attrs:{\"data-toggle\":\"tab\",\"href\":\"#metadata_layers\"}},[_c('i',{staticClass:\"action-button nohover\",class:_vm.iconsClass.bars,attrs:{\"aria-hidden\":\"true\"}}),_vm._v(\" \"),_c('span',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.metadata.groups.layers.title'),expression:\"'sdk.metadata.groups.layers.title'\"}],staticStyle:{\"font-weight\":\"bold\"}})])])])]),_vm._v(\" \"),_c('div',{staticClass:\"col-sm-12 metadata-body tab-content\"},[_c('div',{staticClass:\"tab-pane fade in active\",attrs:{\"id\":\"general\"}},[_vm._l((_vm.state.groups.general),function(data,key){return _c('div',{staticClass:\"row h_100 row-info\"},[_c(_vm.setComponent(key),{tag:\"component\",attrs:{\"data\":data,\"fieldName\":key}})],1)})],2),_vm._v(\" \"),_c('div',{staticClass:\"tab-pane fade\",attrs:{\"id\":\"spatial\"}},[_c('div',[_vm._l((_vm.state.groups.spatial),function(data,key){return _c('div',{staticClass:\"row row-info\"},[_c(_vm.setComponent(key),{tag:\"component\",attrs:{\"data\":data,\"fieldName\":key}})],1)})],2)]),_vm._v(\" \"),_c('div',{staticClass:\"tab-pane fade\",attrs:{\"id\":\"metadata_layers\"}},_vm._l((_vm.state.groups.layers.layers.value),function(layer){return _c('metadata-layer',{attrs:{\"state\":layer}})}),1)])])}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-0e556a34\"\n\n},{\"components/MetadataLayer.vue\":261,\"components/MetadataProjectBBoxContent.vue\":263,\"components/MetadataProjectContactsContent.vue\":264,\"components/MetadataProjectTabContent.vue\":265,\"vueify/lib/insert-css\":1}],263:[function(require,module,exports){\nvar __vueify_style_dispose__ = require(\"vueify/lib/insert-css\").insert(\".metadata-label[data-v-b715e0e8]{font-weight:700;font-size:1.1em}.bbox-labels[data-v-b715e0e8]{font-weight:700}\")\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = {\n  name: \"metadatabbox\",\n  props: {\n    data: {}\n  },\n  data: function data() {\n    return {\n      bboxlabels: ['MINX', 'MINY', 'MAXX', 'MAXY']\n    };\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"wrap-content-tab\"},[_c('div',{directives:[{name:\"t\",rawName:\"v-t\",value:(_vm.data.label),expression:\"data.label\"}],staticClass:\"col-sm-2 metadata-label\"}),_vm._v(\" \"),_c('div',{staticClass:\"col-sm-10 value\",staticStyle:{\"margin-top\":\"0\"}},_vm._l((_vm.data.value),function(value,index){return _c('div',[_c('span',{staticClass:\"bbox-labels\"},[_vm._v(_vm._s(_vm.bboxlabels[index]))]),_vm._v(\" \"+_vm._s(value)+\"\\n      \")])}),0)])}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-b715e0e8\"\n\n},{\"vueify/lib/insert-css\":1}],264:[function(require,module,exports){\nvar __vueify_style_dispose__ = require(\"vueify/lib/insert-css\").insert(\".metadata-label[data-v-60ad65fc]{font-weight:700;font-size:1.1em}.metadata-contact-label[data-v-60ad65fc]{font-weight:700}.contact-icon[data-v-60ad65fc]{margin-right:3px}.row[data-v-60ad65fc]{margin-bottom:5px}\")\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nexports.default = {\n  name: \"metadatacontatcs\",\n  props: {\n    data: {}\n  },\n  data: function data() {\n    return {\n      iconsClass: {\n        contactelectronicmailaddress: this.g3wtemplate.getFontClass(\"mail\"),\n        personprimary: this.g3wtemplate.getFontClass(\"user\"),\n        contactvoicetelephone: this.g3wtemplate.getFontClass(\"mobile\")\n      }\n    };\n  },\n\n  methods: {\n    sanitizeValue: function sanitizeValue(value) {\n      if (value !== null && value !== undefined) {\n        if ((typeof value === \"undefined\" ? \"undefined\" : _typeof(value)) === 'object') {\n          value = Object.keys(value).length ? value : '';\n        } else if (Array.isArray(value)) {\n          value = value.length ? value : '';\n        }\n      }\n      return value;\n    },\n    geti18n: function geti18n(key) {}\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"wrap-content-tab\"},[_c('div',{directives:[{name:\"t\",rawName:\"v-t\",value:(_vm.data.label),expression:\"data.label\"}],staticClass:\"col-sm-2 metadata-label\"}),_vm._v(\" \"),_c('div',{staticClass:\"col-sm-10 value\",staticStyle:{\"margin-top\":\"0\"}},_vm._l((_vm.data.value),function(value,key){return _c('div',[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-sm-2 metadata-contact-label\"},[_c('i',{staticClass:\"contact-icon\",class:_vm.iconsClass[key],attrs:{\"aria-hidden\":\"true\"}}),_vm._v(\" \"),_c('span',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.metadata.groups.general.fields.subfields.contactinformation.' + key),expression:\"'sdk.metadata.groups.general.fields.subfields.contactinformation.' + key\"}]})]),_vm._v(\" \"),_c('div',{staticClass:\"col-sm-10\"},[(key === 'personprimary')?_vm._l((value),function(subvalue,key){return _c('div',[_c('span',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.metadata.groups.general.fields.subfields.contactinformation.' + key),expression:\"'sdk.metadata.groups.general.fields.subfields.contactinformation.' + key\"}],staticClass:\"metadata-contact-label\"}),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(subvalue))])])}):_c('div',[(key === 'contactelectronicmailaddress')?[_c('a',{staticStyle:{\"font-weight\":\"bold\"},attrs:{\"href\":'mailto:' + _vm.sanitizeValue(value)}},[_vm._v(_vm._s(_vm.sanitizeValue(value)))])]:[_vm._v(\"\\n              \"+_vm._s(_vm.sanitizeValue(value))+\"\\n            \")]],2)],2)])])}),0)])}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-60ad65fc\"\n\n},{\"vueify/lib/insert-css\":1}],265:[function(require,module,exports){\nvar __vueify_style_dispose__ = require(\"vueify/lib/insert-css\").insert(\".metadata-label[data-v-6b130710]{font-weight:700;font-size:1.1em}\")\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nexports.default = {\n  name: \"metadatatabcontent\",\n  props: {\n    data: {},\n    fieldName: {}\n  },\n  computed: {\n    arrayToString: function arrayToString() {\n      return this.data.value.join(', ');\n    }\n  },\n  methods: {\n    isArrayorObject: function isArrayorObject(value) {\n      return Array.isArray(value) || (typeof value === 'undefined' ? 'undefined' : _typeof(value)) === 'object';\n    }\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"wrap-content-tab\"},[_c('div',{directives:[{name:\"t\",rawName:\"v-t\",value:(_vm.data.label),expression:\"data.label\"}],staticClass:\"col-sm-2 metadata-label\"}),_vm._v(\" \"),(_vm.fieldName == 'keywords')?_c('div',{staticClass:\"col-sm-10 value\"},[_vm._v(\"\\n    \"+_vm._s(_vm.arrayToString)+\"\\n  \")]):(_vm.fieldName == 'wms_url')?_c('div',{staticClass:\"col-sm-10 value\",staticStyle:{\"margin-top\":\"0\"}},[_c('span',[_vm._v(_vm._s(_vm.data.value))])]):(!_vm.isArrayorObject(_vm.data.value))?_c('div',{staticClass:\"col-sm-10 value\",staticStyle:{\"margin-top\":\"0\"}},[_c('span',{domProps:{\"innerHTML\":_vm._s(_vm.data.value)}})]):(_vm.fieldName == 'abstract')?_c('div',{staticClass:\"col-sm-10 value\",staticStyle:{\"margin-top\":\"0\"}},[_c('span',{domProps:{\"innerHTML\":_vm._s(_vm.data.value)}})]):_c('div',{staticClass:\"col-sm-10 value\",staticStyle:{\"margin-top\":\"0\"}},_vm._l((_vm.data.value),function(value,key){return _c('div',[_c('span',[_vm._v(_vm._s(value))])])}),0)])}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-6b130710\"\n\n},{\"vueify/lib/insert-css\":1}],266:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _navbaritems = require(\"services/navbaritems\");\n\nvar _navbaritems2 = _interopRequireDefault(_navbaritems);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = {\n  name: \"NavbaritemLeft\",\n  data: function data() {\n    return {\n      items: _navbaritems2.default.state.items.right\n    };\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('ul',{staticClass:\"nav navbar-nav navbar-left\"},_vm._l((_vm.items),function(item){return _c(item,{key:item.id,tag:\"li\"})}),1)}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-2c7478a1\"\n\n},{\"services/navbaritems\":365}],267:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _navbaritems = require(\"services/navbaritems\");\n\nvar _navbaritems2 = _interopRequireDefault(_navbaritems);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = {\n  name: \"NavbaritemRight\",\n  data: function data() {\n    return {\n      items: _navbaritems2.default.state.items.right\n    };\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('ul',{staticClass:\"nav navbar-nav navbar-right\"},_vm._l((_vm.items),function(item){return _c(item,{key:item.id,tag:\"li\"})}),1)}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-c140951c\"\n\n},{\"services/navbaritems\":365}],268:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = {\n  name: 'download-notify'\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"download\",rawName:\"v-download.show\",modifiers:{\"show\":true}}],staticClass:\"skin-color\",attrs:{\"id\":\"download_notification\",\"title\":\"DOWNLOAD\"}},[_c('bar-loader',{attrs:{\"loading\":\"true\"}}),_vm._v(\" \"),_c('i',{class:_vm.g3wtemplate.getFontClass('download'),staticStyle:{\"padding\":\"3px\"}})],1)}\n__vue__options__.staticRenderFns = []\n\n},{}],269:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = {\n  name: 'online-notify'\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"online\",rawName:\"v-online:hide\",arg:\"hide\"}],staticStyle:{\"color\":\"#999\"},attrs:{\"id\":\"offline_notification\"}},[_c('i',{class:_vm.g3wtemplate.getFontClass('wifi')}),_vm._v(\" \"),_c('div',{staticStyle:{\"font-weight\":\"bold\",\"font-size\":\"0.4em\"}},[_vm._v(\"offline\")])])}\n__vue__options__.staticRenderFns = []\n\n},{}],270:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = {\n  name: 'plugins-notify'\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"plugins\",rawName:\"v-plugins\"}],staticStyle:{\"color\":\"#994b10\"},attrs:{\"id\":\"plugins_notification\"}},[_c('bar-loader',{attrs:{\"loading\":\"true\"}}),_vm._v(\" \"),_c('i',{class:_vm.g3wtemplate.getFontClass('plugin')})],1)}\n__vue__options__.staticRenderFns = []\n\n},{}],271:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _PrintSelectAtlasFieldValues = require('components/PrintSelectAtlasFieldValues.vue');\n\nvar _PrintSelectAtlasFieldValues2 = _interopRequireDefault(_PrintSelectAtlasFieldValues);\n\nvar _PrintFidAtlasValues = require('components/PrintFidAtlasValues.vue');\n\nvar _PrintFidAtlasValues2 = _interopRequireDefault(_PrintFidAtlasValues);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = {\n  data: function data() {\n    return {\n      state: null,\n      button: {\n        class: \"btn-success\",\n        type: \"stampa\",\n        disabled: false\n      }\n    };\n  },\n\n  components: {\n    SelectAtlasFieldValues: _PrintSelectAtlasFieldValues2.default,\n    FidAtlasValues: _PrintFidAtlasValues2.default\n  },\n  computed: {\n    disabled: function disabled() {\n      return this.state.output.loading || !!this.state.atlas && this.state.atlasValues.length === 0;\n    }\n  },\n  methods: {\n    setDisabledPrintButton: function setDisabledPrintButton() {\n      var bool = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n      this.button.disabled = bool;\n    },\n    setAtlasValues: function setAtlasValues() {\n      var values = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n      this.state.atlasValues = values;\n    },\n    onChangeTemplate: function onChangeTemplate() {\n      this.$options.service.changeTemplate();\n    },\n    onChangeScale: function onChangeScale() {\n      this.$options.service.changeScale();\n    },\n    onChangeFormat: function onChangeFormat() {},\n    onChangeDpi: function onChangeDpi() {},\n    onChangeRotation: function onChangeRotation(evt) {\n      if (this.state.rotation >= 0 && !_.isNil(this.state.rotation) && this.state.rotation != '') {\n        this.state.rotation = this.state.rotation > 360 ? 360 : this.state.rotation;\n        evt.target.value = this.state.rotation;\n      } else if (this.state.rotation < 0) {\n        this.state.rotation = this.state.rotation < -360 ? -360 : this.state.rotation;\n        evt.target.value = this.state.rotation;\n      } else {\n        this.state.rotation = 0;\n      }\n      this.$options.service.changeRotation();\n    },\n    print: function print() {\n      this.$options.service.print();\n    }\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('ul',{staticClass:\"treeview-menu\",attrs:{\"id\":\"print\"}},[_c('li',[_c('form',{staticClass:\"g3w-search-form form-horizonal\"},[_c('div',{staticClass:\"box-body\"},[_c('transition',{attrs:{\"duration\":500,\"name\":\"fade\"}},[_c('bar-loader',{attrs:{\"loading\":_vm.state.loading}})],1),_vm._v(\" \"),_c('helpdiv',{attrs:{\"message\":\"sdk.print.help\"}}),_vm._v(\" \"),_c('label',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.print.template'),expression:\"'sdk.print.template'\"}],attrs:{\"for\":\"templates\"}}),_vm._v(\" \"),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.state.template),expression:\"state.template\"}],staticClass:\"form-control\",style:({marginBottom: this.state.atlas && '10px'}),attrs:{\"id\":\"templates\"},on:{\"change\":[function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.$set(_vm.state, \"template\", $event.target.multiple ? $$selectedVal : $$selectedVal[0])},_vm.onChangeTemplate]}},_vm._l((_vm.state.print),function(print){return _c('option',{domProps:{\"value\":print.name}},[_vm._v(_vm._s(print.name))])}),0),_vm._v(\" \"),(!_vm.state.atlas)?[_c('label',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.print.scale'),expression:\"'sdk.print.scale'\"}],attrs:{\"for\":\"scala\"}}),_vm._v(\" \"),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.state.scala),expression:\"state.scala\"}],staticClass:\"form-control\",attrs:{\"id\":\"scala\"},on:{\"change\":[function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.$set(_vm.state, \"scala\", $event.target.multiple ? $$selectedVal : $$selectedVal[0])},_vm.onChangeScale]}},_vm._l((_vm.state.scale),function(scala){return _c('option',{domProps:{\"value\":scala.value}},[_vm._v(_vm._s(scala.label))])}),0),_vm._v(\" \"),_c('label',{attrs:{\"for\":\"dpi\"}},[_vm._v(\"dpi\")]),_vm._v(\" \"),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.state.dpi),expression:\"state.dpi\"}],staticClass:\"form-control\",attrs:{\"id\":\"dpi\"},on:{\"change\":[function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.$set(_vm.state, \"dpi\", $event.target.multiple ? $$selectedVal : $$selectedVal[0])},_vm.onChangeDpi]}},_vm._l((_vm.state.dpis),function(dpi){return _c('option',[_vm._v(_vm._s(dpi))])}),0),_vm._v(\" \"),_c('label',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.print.rotation'),expression:\"'sdk.print.rotation'\"}],attrs:{\"for\":\"rotation\"}}),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.state.rotation),expression:\"state.rotation\"}],staticClass:\"form-control\",attrs:{\"min\":\"-360\",\"max\":\"360\",\"id\":\"rotation\",\"type\":\"number\"},domProps:{\"value\":(_vm.state.rotation)},on:{\"input\":[function($event){if($event.target.composing){ return; }_vm.$set(_vm.state, \"rotation\", $event.target.value)},_vm.onChangeRotation]}}),_vm._v(\" \"),_c('label',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.print.format'),expression:\"'sdk.print.format'\"}],attrs:{\"for\":\"format\"}}),_vm._v(\" \"),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.state.output.format),expression:\"state.output.format\"}],staticClass:\"form-control\",attrs:{\"id\":\"format\"},on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.$set(_vm.state.output, \"format\", $event.target.multiple ? $$selectedVal : $$selectedVal[0])}}},_vm._l((_vm.state.formats),function(format){return _c('option',{domProps:{\"value\":format.value}},[_vm._v(_vm._s(format.label))])}),0)]:(_vm.state.atlas.field_name)?[_c('select-atlas-field-values',{attrs:{\"atlas\":_vm.state.atlas,\"reset\":!_vm.state.isShow},on:{\"disable-print-button\":_vm.setDisabledPrintButton,\"set-values\":_vm.setAtlasValues}})]:[_c('fid-atlas-values',{attrs:{\"atlas\":_vm.state.atlas,\"reset\":!_vm.state.isShow},on:{\"disable-print-button\":_vm.setDisabledPrintButton,\"set-values\":_vm.setAtlasValues}})],_vm._v(\" \"),(_vm.state.labels && _vm.state.labels.length)?[_c('div',{staticClass:\"print-labels-content\",staticStyle:{\"margin-top\":\"5px\"}},[_c('label',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.print.labels'),expression:\"'sdk.print.labels'\"}],staticClass:\"skin-color\",staticStyle:{\"font-weight\":\"bold\",\"font-size\":\"1.1em\",\"display\":\"block\",\"border-bottom\":\"2px solid #ffffff\",\"margin-bottom\":\"5px\"}}),_vm._v(\" \"),_c('div',{staticClass:\"labels-input-content\",staticStyle:{\"max-height\":\"120px\",\"overflow-y\":\"auto\"}},_vm._l((_vm.state.labels),function(label){return _c('span',{key:label.id},[_c('label',{attrs:{\"for\":(\"g3w_label_id_input_\" + (label.id))}},[_vm._v(_vm._s(label.id))]),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(label.text),expression:\"label.text\"}],staticClass:\"form-control\",attrs:{\"id\":(\"g3w_label_id_input_\" + (label.id))},domProps:{\"value\":(label.text)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(label, \"text\", $event.target.value)}}})])}),0)])]:_vm._e()],2),_vm._v(\" \"),_c('div',{staticClass:\"box-footer\",staticStyle:{\"background-color\":\"transparent\"}},[_c('span',[_c('button',{directives:[{name:\"disabled\",rawName:\"v-disabled\",value:(_vm.button.disabled),expression:\"button.disabled\"},{name:\"download\",rawName:\"v-download\"},{name:\"t\",rawName:\"v-t\",value:('create_print'),expression:\"'create_print'\"}],staticClass:\"sidebar-button-run btn\",staticStyle:{\"width\":\"100%\",\"font-weight\":\"bold\"},attrs:{\"id\":\"printbutton\"},on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.print($event)}}})])])])])])}\n__vue__options__.staticRenderFns = []\n\n},{\"components/PrintFidAtlasValues.vue\":272,\"components/PrintSelectAtlasFieldValues.vue\":274}],272:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = {\n  name: \"fid-atlas-values\",\n  props: {\n    atlas: {\n      type: Object\n    },\n    reset: {\n      type: Boolean,\n      default: false\n    }\n  },\n  data: function data() {\n    return {\n      value: ''\n    };\n  },\n\n  methods: {\n    validateValue: function validateValue(value) {\n      value = value && 1 * value;\n      return Number.isInteger(value) && value >= 0 && value < this.atlas.feature_count || null;\n    }\n  },\n  watch: {\n    value: {\n      immediate: true,\n      handler: function handler(value) {\n        var _this = this;\n\n        this.value = value;\n        var values = new Set();\n        var addValue = function addValue(value) {\n          return _this.validateValue(value) !== null && values.add(value);\n        };\n        var addRangeToValues = function addRangeToValues() {\n          var range = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n          var rangeLenght = range.length;\n          for (var i = 1; i < rangeLenght; i++) {\n            var start = range[i - 1];\n            var end = range[i];\n            for (var _i = start; _i < end; _i++) {\n              values.add(_i + '');\n            }\n          }\n          values.add(range[rangeLenght - 1]);\n        };\n        if (value) {\n          value.split(',').forEach(function (value) {\n            if (value) {\n              if (value.indexOf('-') !== -1) {\n                var _values = value.split('-');\n                var range = _values.filter(function (value) {\n                  return _this.validateValue(value) !== null;\n                });\n                if (range.length === _values.length) {\n                  var canAdd = range.reduce(function (bool, value, currentIndex) {\n                    return bool && (currentIndex === 0 || range[currentIndex - 1] <= value);\n                  }, true);\n                  canAdd && addRangeToValues(range);\n                }\n              } else addValue(value);\n            }\n          });\n        }\n        this.$emit('set-values', Array.from(values));\n        this.$emit('disable-print-button', value.trim() === '');\n      }\n    },\n    reset: function reset(bool) {\n      if (bool) {\n        this.value = '';\n        this.$emit('set-values', []);\n        this.$emit('disable-print-button', true);\n      }\n    }\n  },\n  beforeDestroy: function beforeDestroy() {\n    this.value = null;\n    this.$emit('disable-print-button', false);\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"form-group\",staticStyle:{\"width\":\"100%\"}},[_c('label',{staticStyle:{\"display\":\"block\"},attrs:{\"for\":_vm.print_atlas_fid}},[_c('span',[_vm._v(\"fids [max: \"+_vm._s(_vm.atlas.feature_count - 1)+\"]\")])]),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.value),expression:\"value\"}],staticClass:\"form-control\",domProps:{\"value\":(_vm.value)},on:{\"keydown\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"space\",32,$event.key,[\" \",\"Spacebar\"])){ return null; }$event.preventDefault();},\"input\":function($event){if($event.target.composing){ return; }_vm.value=$event.target.value}}}),_vm._v(\" \"),_c('div',{staticStyle:{\"margin-top\":\"5px\",\"color\":\"#ffffff\"},attrs:{\"id\":\"fid-print-atals-instruction\"}},[_c('div',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.print.fids_instruction'),expression:\"'sdk.print.fids_instruction'\"}],staticStyle:{\"white-space\":\"pre-line\"},attrs:{\"id\":\"fids_intruction\"}}),_vm._v(\" \"),_c('div',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.print.fids_example'),expression:\"'sdk.print.fids_example'\"}],staticStyle:{\"margin-top\":\"3px\",\"font-weight\":\"bold\"},attrs:{\"id\":\"fids_examples_values\"}})])])}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-1dcb18ba\"\n\n},{}],273:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _constant = require('app/constant');\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar _require = require('core/utils/utils'),\n    imageToDataURL = _require.imageToDataURL;\n\nexports.default = {\n  data: function data() {\n    return {\n      state: null,\n      disableddownloadbutton: true,\n      downloadImageName: '',\n      format: null\n    };\n  },\n\n  computed: {\n    loading: function loading() {\n      return this.state.loading && this.state.layers;\n    }\n  },\n  methods: {\n    setLoading: function setLoading() {\n      var bool = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n      _gui2.default.disableSideBar(bool);\n      this.state.loading = bool;\n      this.disableddownloadbutton = bool;\n    },\n    downloadImage: function downloadImage() {\n      var _this = this;\n\n      this.setLoading(true);\n      if (this.format === 'jpg' || this.format === 'png') {\n        this.downloadImageName = 'download.' + this.state.format;\n        imageToDataURL({\n          src: this.state.url,\n          type: 'image/' + this.state.format,\n          callback: function callback(url) {\n            return setTimeout(function () {\n              return _this.setLoading(false);\n            });\n          }\n        });\n      }\n    }\n  },\n  watch: {\n    'state.url': function () {\n      var _ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee(url) {\n        var _this2 = this;\n\n        var timeOut;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                if (!url) {\n                  _context.next = 6;\n                  break;\n                }\n\n                this.format = this.state.format;\n                _context.next = 4;\n                return this.$nextTick();\n\n              case 4:\n                timeOut = setTimeout(function () {\n                  _this2.setLoading(false);\n                  _gui2.default.showUserMessage({\n                    type: 'alert',\n                    message: 'timeout'\n                  });\n                }, _constant.TIMEOUT);\n\n\n                $(this.$refs.printoutput).load(url, function (response, status) {\n                  _this2.$options.service.stopLoading();\n                  status === 'error' && _this2.$options.service.showError();\n                  clearTimeout(timeOut);\n                  _this2.setLoading(false);\n                });\n\n              case 6:\n              case 'end':\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function stateUrl(_x2) {\n        return _ref.apply(this, arguments);\n      }\n\n      return stateUrl;\n    }()\n  },\n  mounted: function () {\n    var _ref2 = _asyncToGenerator(regeneratorRuntime.mark(function _callee2() {\n      return regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.next = 2;\n              return this.$nextTick();\n\n            case 2:\n              this.state.layers && this.$options.service.startLoading();\n\n            case 3:\n            case 'end':\n              return _context2.stop();\n          }\n        }\n      }, _callee2, this);\n    }));\n\n    function mounted() {\n      return _ref2.apply(this, arguments);\n    }\n\n    return mounted;\n  }(),\n  beforeDestroy: function beforeDestroy() {\n    this.state.url && this.state.method === 'POST' && window.URL.revokeObjectURL(this.state.url);\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticStyle:{\"height\":\"100%\",\"position\":\"relative\"},attrs:{\"id\":\"print-output\"}},[_c('transition',{attrs:{\"duration\":500,\"name\":\"fade\"}},[_c('bar-loader',{attrs:{\"loading\":_vm.loading}})],1),_vm._v(\" \"),(_vm.format === 'pdf')?_c('iframe',{ref:\"printoutput\",staticStyle:{\"border\":\"0\",\"width\":\"100%\",\"height\":\"100%\"},attrs:{\"type\":_vm.state.mime_type,\"src\":_vm.state.url}}):(_vm.format === 'png')?_c('div',{staticClass:\"g3w-print-png-output\",staticStyle:{\"display\":\"flex\",\"flex-direction\":\"column\",\"position\":\"relative\",\"height\":\"100%\"}},[_c('div',{staticStyle:{\"display\":\"flex\",\"justify-content\":\"flex-end\",\"align-items\":\"flex-end\",\"margin-top\":\"5px\",\"margin-bottom\":\"5px\"},attrs:{\"id\":\"g3w-print-header\"}},[_c('div',{class:{'g3w-disabled': _vm.disableddownloadbutton}},[_c('a',{attrs:{\"href\":_vm.state.url,\"download\":_vm.downloadImageName}},[_c('button',{directives:[{name:\"t-tooltip\",rawName:\"v-t-tooltip.create\",value:('sdk.print.download_image'),expression:\"'sdk.print.download_image'\",modifiers:{\"create\":true}}],staticClass:\"btn skin-button skin-tooltip-left\",class:_vm.g3wtemplate.getFontClass('download'),staticStyle:{\"font-weight\":\"bold\"},attrs:{\"data-placement\":\"left\",\"data-toggle\":\"tooltip\",\"role\":\"button\"},on:{\"click\":_vm.downloadImage}})])])]),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.format==='png' && _vm.state.url),expression:\"format==='png' && state.url\"}],staticStyle:{\"height\":\"100%\",\"width\":\"100%\",\"position\":\"relative\",\"overflow-y\":\"auto\"}},[_c('img',{ref:\"printoutput\",staticStyle:{\"height\":\"auto\",\"max-width\":\"100%\"},attrs:{\"src\":_vm.state.url}})])]):_vm._e(),_vm._v(\" \"),(!_vm.state.layers)?_c('h4',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.print.no_layers'),expression:\"'sdk.print.no_layers'\"}],staticStyle:{\"font-weight\":\"bold\"}}):_vm._e()],1)}\n__vue__options__.staticRenderFns = []\n\n},{\"app/constant\":4,\"core/utils/utils\":68,\"services/gui\":361}],274:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _mixins = require('mixins');\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar autocompleteOptions = require('gui/external/select2/options/autocomplete');\n\nexports.default = {\n  name: \"selectAtlasFieldValues\",\n  mixins: [_mixins.autocompleteMixin, _mixins.select2Mixin],\n  props: {\n    atlas: {\n      type: Object,\n      required: true\n    },\n    reset: {\n      type: Boolean,\n      default: false\n    }\n  },\n  methods: {\n    emitValues: function () {\n      var _ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee() {\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return this.$nextTick();\n\n              case 2:\n                this.$emit('set-values', this.values);\n\n              case 3:\n              case 'end':\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function emitValues() {\n        return _ref.apply(this, arguments);\n      }\n\n      return emitValues;\n    }()\n  },\n  data: function data() {\n    return {\n      values: []\n    };\n  },\n\n  watch: {\n    values: {\n      immediate: true,\n      handler: function handler(values) {\n        this.$emit('disable-print-button', values.length === 0);\n      }\n    },\n    reset: function reset(bool) {\n      if (bool) {\n        this.select2 && this.select2.val(null).trigger('change');\n        this.values = [];\n        this.emitValues();\n      }\n    }\n  },\n  mounted: function () {\n    var _ref2 = _asyncToGenerator(regeneratorRuntime.mark(function _callee4() {\n      var _this = this;\n\n      var _atlas, field, layerId;\n\n      return regeneratorRuntime.wrap(function _callee4$(_context4) {\n        while (1) {\n          switch (_context4.prev = _context4.next) {\n            case 0:\n              _context4.next = 2;\n              return this.$nextTick();\n\n            case 2:\n              _atlas = this.atlas, field = _atlas.field_name, layerId = _atlas.qgs_layer_id;\n\n              setTimeout(function () {});\n              this.select2 = $('#print_atlas_autocomplete').select2(_extends({\n                width: '100%',\n                multiple: true,\n                dropdownParent: $(this.$el),\n                minimumInputLength: 1,\n                ajax: {\n                  delay: 500,\n                  transport: function () {\n                    var _ref4 = _asyncToGenerator(regeneratorRuntime.mark(function _callee2(_ref3, success, failure) {\n                      var value = _ref3.data.q;\n                      var data;\n                      return regeneratorRuntime.wrap(function _callee2$(_context2) {\n                        while (1) {\n                          switch (_context2.prev = _context2.next) {\n                            case 0:\n                              _context2.prev = 0;\n                              _context2.next = 3;\n                              return _this.autocompleteRequest({\n                                layerId: layerId,\n                                field: field,\n                                value: value\n                              });\n\n                            case 3:\n                              data = _context2.sent;\n\n                              success({ results: data });\n                              _context2.next = 10;\n                              break;\n\n                            case 7:\n                              _context2.prev = 7;\n                              _context2.t0 = _context2['catch'](0);\n\n                              failure(_context2.t0);\n\n                            case 10:\n                            case 'end':\n                              return _context2.stop();\n                          }\n                        }\n                      }, _callee2, _this, [[0, 7]]);\n                    }));\n\n                    function transport(_x, _x2, _x3) {\n                      return _ref4.apply(this, arguments);\n                    }\n\n                    return transport;\n                  }()\n                }\n              }, autocompleteOptions));\n              this.select2.on('select2:select', function (evt) {\n                var value = evt.params.data.id;\n                _this.values.push(value);\n                _this.emitValues();\n              });\n              this.select2.on('select2:unselect', function () {\n                var _ref5 = _asyncToGenerator(regeneratorRuntime.mark(function _callee3(evt) {\n                  var value;\n                  return regeneratorRuntime.wrap(function _callee3$(_context3) {\n                    while (1) {\n                      switch (_context3.prev = _context3.next) {\n                        case 0:\n                          value = evt.params.data.id;\n\n                          _this.values = _this.values.filter(function (currentValue) {\n                            return currentValue !== value;\n                          });\n                          _this.emitValues();\n\n                        case 3:\n                        case 'end':\n                          return _context3.stop();\n                      }\n                    }\n                  }, _callee3, _this);\n                }));\n\n                return function (_x4) {\n                  return _ref5.apply(this, arguments);\n                };\n              }());\n\n            case 7:\n            case 'end':\n              return _context4.stop();\n          }\n        }\n      }, _callee4, this);\n    }));\n\n    function mounted() {\n      return _ref2.apply(this, arguments);\n    }\n\n    return mounted;\n  }(),\n  beforeDestroy: function beforeDestroy() {\n    this.values = null;\n    this.$emit('disable-print-button', false);\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"form-group\",staticStyle:{\"width\":\"100%\"}},[_c('label',{staticStyle:{\"display\":\"block\"},attrs:{\"for\":_vm.print_atlas_autocomplete}},[_c('span',[_vm._v(_vm._s(_vm.atlas.field_name))])]),_vm._v(\" \"),_c('select',{staticClass:\"form-control\",attrs:{\"name\":_vm.atlas.field_name,\"id\":\"print_atlas_autocomplete\"}})])}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-40b097a4\"\n\n},{\"gui/external/select2/options/autocomplete\":119,\"mixins\":343}],275:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _projects = require('store/projects');\n\nvar _projects2 = _interopRequireDefault(_projects);\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar t = require('core/i18n/i18n.service').t;\n\nvar fakeImage = '/static/client/images/FakeProjectThumb.png';\n\nexports.default = {\n  data: function data() {\n    return {\n      state: null,\n      loading: false\n    };\n  },\n\n\n  methods: {\n    trigger: function trigger(item) {\n      if (item.cbk) this._initCallback(item);else if (item.href) window.open(item.href, '_blank');else if (item.route) _gui2.default.goto(item.route);else console.log(\"No action for \" + item.title);\n    },\n    _initCallback: function _initCallback(item) {\n      var _this = this;\n\n      this._toggleModal(true);\n      item.cbk.call(item, { gid: item.gid }).then(function (promise) {\n        promise.then(function (project) {\n          if (project) document.title = project.state.html_page_title;\n        }).fail(function () {\n          _gui2.default.notify.error(\"<h4>\" + t(\"error_map_loading\") + \"</h4>\" + \"<h5>\" + t(\"check_internet_connection_or_server_admin\") + \"</h5>\");\n        }).always(function () {\n          _this._toggleModal(false);\n        });\n      });\n    },\n    _toggleModal: function _toggleModal(state) {\n      _gui2.default.showFullModal({ show: state });\n      _gui2.default.setLoadingContent(state);\n    },\n    logoSrc: function logoSrc(src) {\n      var imageSrc = void 0;\n      var host = this.$options.host || '';\n      var has_media = src && -1 !== src.indexOf(_projects2.default.config.mediaurl);\n      var not_static = src && -1 === src.indexOf('static') && -1 === src.indexOf('media');\n\n      if (!src) {\n        imageSrc = fakeImage;\n      } else if (has_media) {\n        imageSrc = src;\n      } else if (not_static) {\n        imageSrc = '' + _projects2.default.config.mediaurl + src;\n      } else {\n        imageSrc = fakeImage;\n      }\n\n      return '' + host + imageSrc;\n    }\n  }\n\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container\",attrs:{\"id\":\"menu-projects\"}},[_c('div',{staticClass:\"row row-equal\"},[_vm._l((_vm.state.menuitems),function(menuitem){return _c('div',{key:menuitem.title,staticClass:\"col-xs-12 col-sm-4 project-menu\",on:{\"click\":function($event){return _vm.trigger(menuitem)}}},[_c('div',{staticClass:\"project-menu-item-image\"},[_c('img',{staticClass:\"img-responsive\",attrs:{\"src\":_vm.logoSrc(menuitem.thumbnail)}})]),_vm._v(\" \"),_c('div',{staticClass:\"project-menu-item-content\"},[_c('div',{staticClass:\"project-menu-item-text\"},[_c('h4',{staticClass:\"project-menu-item-title\"},[_vm._v(_vm._s(menuitem.title))]),_vm._v(\" \"),_c('div',{domProps:{\"innerHTML\":_vm._s(menuitem.description)}})])])])}),_vm._v(\" \"),(!_vm.state.menuitems.length)?_c('div',{staticStyle:{\"margin-left\":\"15px\"}},[_c('h2',{directives:[{name:\"t\",rawName:\"v-t\",value:('no_other_projects'),expression:\"'no_other_projects'\"}]})]):_vm._e()],2)])}\n__vue__options__.staticRenderFns = []\n\n},{\"core/i18n/i18n.service\":13,\"services/gui\":361,\"store/projects\":379}],276:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _querybuilder = require('services/querybuilder');\n\nvar _querybuilder2 = _interopRequireDefault(_querybuilder);\n\nvar _constant = require('app/constant');\n\nvar _projects = require('store/projects');\n\nvar _projects2 = _interopRequireDefault(_projects);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar operators = Object.values(_constant.FILTER_OPERATORS);\n\nexports.default = {\n  data: function data() {\n    var options = this.$options.options;\n    var edit = options !== undefined;\n    return {\n      edit: edit,\n      currentlayer: null,\n      message: '',\n      filter: edit ? options.filter : '',\n      loading: {\n        test: false,\n        values: false\n      },\n      values: [],\n      manual: true,\n      manualvalue: null,\n      select: {\n        field: null,\n        value: null\n      }\n    };\n  },\n\n  computed: {\n    fields: function fields() {\n      return this.currentlayer ? this.currentlayer.fields : [];\n    },\n    disabled: function disabled() {\n      return !this.filter;\n    }\n  },\n  watch: {\n    'select.field': function selectField() {\n      this.values = [];\n      this.manual = true;\n    }\n  },\n  methods: {\n    addToExpression: function addToExpression() {\n      var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          value = _ref.value,\n          type = _ref.type;\n\n      switch (type) {\n        case 'operator':\n          value = ' ' + value + ' ';\n          break;\n        case 'field':\n          value = '\"' + value + '\"';\n          break;\n        case 'value':\n          value = '\\'' + value + '\\'';\n          break;\n      }\n      if (value) this.filter = '' + this.filter + value;\n    },\n    all: function () {\n      var _ref2 = _asyncToGenerator(regeneratorRuntime.mark(function _callee() {\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                this.loading.values = true;\n                _context.prev = 1;\n                _context.next = 4;\n                return _querybuilder2.default.getValues({\n                  layerId: this.currentlayer.id,\n                  field: this.select.field\n                });\n\n              case 4:\n                this.values = _context.sent;\n                _context.next = 9;\n                break;\n\n              case 7:\n                _context.prev = 7;\n                _context.t0 = _context['catch'](1);\n\n              case 9:\n                this.loading.values = false;\n                _context.next = 12;\n                return this.$nextTick();\n\n              case 12:\n                this.manualvalue = null;\n                this.manual = false;\n\n              case 14:\n              case 'end':\n                return _context.stop();\n            }\n          }\n        }, _callee, this, [[1, 7]]);\n      }));\n\n      function all() {\n        return _ref2.apply(this, arguments);\n      }\n\n      return all;\n    }(),\n    reset: function reset() {\n      this.filter = '';\n      this.message = '';\n      this.filterElement.previous = null;\n      this.filterElement.current = null;\n      this.filterElement.operator = null;\n    },\n    test: function () {\n      var _ref3 = _asyncToGenerator(regeneratorRuntime.mark(function _callee2() {\n        var layerId, number_of_features;\n        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                layerId = this.currentlayer.id;\n\n                this.loading.test = true;\n                number_of_features = void 0;\n                _context2.prev = 3;\n                _context2.next = 6;\n                return _querybuilder2.default.test({\n                  layerId: layerId,\n                  filter: this.filter\n                });\n\n              case 6:\n                number_of_features = _context2.sent;\n\n                this.message = number_of_features !== undefined ? ' ' + number_of_features : '';\n                _context2.next = 13;\n                break;\n\n              case 10:\n                _context2.prev = 10;\n                _context2.t0 = _context2['catch'](3);\n\n                this.message = _context2.t0;\n\n              case 13:\n                this.loading.test = false;\n                _context2.next = 16;\n                return this.$nextTick();\n\n              case 16:\n              case 'end':\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this, [[3, 10]]);\n      }));\n\n      function test() {\n        return _ref3.apply(this, arguments);\n      }\n\n      return test;\n    }(),\n    run: function () {\n      var _ref4 = _asyncToGenerator(regeneratorRuntime.mark(function _callee3() {\n        var layerId, response;\n        return regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                layerId = this.currentlayer.id;\n\n                this.loading.test = true;\n                _context3.prev = 2;\n                _context3.next = 5;\n                return _querybuilder2.default.run({\n                  layerId: layerId,\n                  filter: this.filter\n                });\n\n              case 5:\n                response = _context3.sent;\n                _context3.next = 10;\n                break;\n\n              case 8:\n                _context3.prev = 8;\n                _context3.t0 = _context3['catch'](2);\n\n              case 10:\n                this.loading.test = false;\n\n              case 11:\n              case 'end':\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this, [[2, 8]]);\n      }));\n\n      function run() {\n        return _ref4.apply(this, arguments);\n      }\n\n      return run;\n    }(),\n    save: function save() {\n      _querybuilder2.default.save({\n        layerId: this.currentlayer.id,\n        filter: this.filter,\n        projectId: this.projectId,\n        name: this.edit && this.$options.options.name,\n        id: this.edit && this.$options.options.id\n      });\n    }\n  },\n  created: function created() {\n    var _this = this;\n\n    this.filterElement = {\n      current: null,\n      previous: null,\n      operator: null\n    };\n    var project = _projects2.default.getCurrentProject();\n    this.layers = project.getLayers().filter(function (layer) {\n      return !layer.baselayer && layer.geometrytype && layer.geometrytype !== 'NoGeometry' && Array.isArray(layer.fields);\n    }).map(function (layer) {\n      var relations = project.getRelationsByLayerId({\n        layerId: layer.id,\n        type: 'ONE'\n      });\n      var excludejoinfields = [];\n      relations.forEach(function (relation) {\n        var customPrefix = relation.customPrefix;\n\n        var joinLayer = project.getLayerById(relation.referencingLayer);\n        customPrefix = customPrefix === undefined ? joinLayer.getName() + '_' : customPrefix;\n        var joinLayerFields = joinLayer.getFields().map(function (field) {\n          return '' + customPrefix + field.name;\n        });\n        excludejoinfields = [].concat(_toConsumableArray(excludejoinfields), _toConsumableArray(joinLayerFields));\n      });\n      return {\n        id: layer.id,\n        label: layer.name,\n        fields: layer.fields.filter(function (field) {\n          return field.show;\n        }).map(function (_ref5) {\n          var label = _ref5.label,\n              name = _ref5.name;\n          return {\n            label: label,\n            name: name\n          };\n        }).filter(function (field) {\n          return excludejoinfields.indexOf(field) === -1;\n        })\n      };\n    });\n    this.operators = operators;\n    this.currentlayer = this.edit ? this.layers.find(function (layer) {\n      return layer.id === _this.$options.options.layerId;\n    }) : this.layers[0];\n  },\n  mounted: function () {\n    var _ref6 = _asyncToGenerator(regeneratorRuntime.mark(function _callee4() {\n      var _this2 = this;\n\n      var index;\n      return regeneratorRuntime.wrap(function _callee4$(_context4) {\n        while (1) {\n          switch (_context4.prev = _context4.next) {\n            case 0:\n              _context4.next = 2;\n              return this.$nextTick();\n\n            case 2:\n              this.select2 = $('#query_builder_layers_select').select2({\n                width: '100%'\n              });\n              if (this.edit) {\n                index = this.layers.indexOf(this.currentlayer);\n\n                this.select2.val(index);\n                this.select2.trigger('change');\n              }\n              this.select2.on('select2:select', function (evt) {\n                _this2.currentlayer = _this2.layers[evt.params.data.id];\n                _this2.select.field = null;\n                _this2.select.value = null;\n                _this2.reset();\n              });\n\n            case 5:\n            case 'end':\n              return _context4.stop();\n          }\n        }\n      }, _callee4, this);\n    }));\n\n    function mounted() {\n      return _ref6.apply(this, arguments);\n    }\n\n    return mounted;\n  }(),\n  beforeDestroy: function beforeDestroy() {\n    this.select2.select2('destroy');\n    this.select2 = null;\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"form-group\",staticStyle:{\"flex-wrap\":\"nowrap !important\"},attrs:{\"id\":\"query_builder\"}},[_c('div',{attrs:{\"id\":\"query_builder_header\"}}),_vm._v(\" \"),_c('div',{staticClass:\"margin-between-element\",attrs:{\"id\":\"query_builder_layers\"}},[_c('label',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.querybuilder.panel.layers'),expression:\"'sdk.querybuilder.panel.layers'\"}],staticClass:\"querybuilder-title\"}),_vm._v(\" \"),_c('select',{staticClass:\"form-control\",attrs:{\"id\":\"query_builder_layers_select\"}},_vm._l((_vm.layers),function(layer,index){return _c('option',{key:layer.label,staticClass:\"bold\",domProps:{\"value\":index}},[_vm._v(_vm._s(layer.label))])}),0)]),_vm._v(\" \"),_c('div',{staticClass:\"margin-between-element\",attrs:{\"id\":\"query_builder_fields\"}},[_c('div',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.querybuilder.panel.fields'),expression:\"'sdk.querybuilder.panel.fields'\"}],staticClass:\"querybuilder-title\",attrs:{\"id\":\"query_builder_fields_title\"}}),_vm._v(\" \"),_c('div',{staticClass:\"querybuilder-content\",attrs:{\"id\":\"query_builder_fields_content\"}},[_c('table',{staticClass:\"table table-striped content-table\"},[_c('tbody',_vm._l((_vm.fields),function(ref){\nvar name = ref.name;\nvar label = ref.label;\nreturn _c('tr',{key:name,class:{'skin-background-color lighten': _vm.select.field===name},staticStyle:{\"cursor\":\"pointer\"},on:{\"click\":function($event){_vm.select.field = name},\"dblclick\":function($event){return _vm.addToExpression({value: name, type: 'field'})}}},[_c('th',{attrs:{\"scope\":\"row\"}},[_vm._v(_vm._s(label))])])}),0)])])]),_vm._v(\" \"),_c('div',{staticClass:\"margin-between-element\",attrs:{\"id\":\"query_builder_values\"}},[_c('div',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.querybuilder.panel.values'),expression:\"'sdk.querybuilder.panel.values'\"}],staticClass:\"querybuilder-title\",attrs:{\"id\":\"query_builder_values_title\"}}),_vm._v(\" \"),(!_vm.manual)?_c('div',{staticClass:\"querybuilder-content margin-between-element\",attrs:{\"id\":\"query_builder_values_content\"}},[_c('bar-loader',{attrs:{\"loading\":_vm.loading.values}}),_vm._v(\" \"),_c('table',{staticClass:\"table table-striped content-table\"},[_c('tbody',[_vm._l((_vm.values),function(value){return _c('tr',{key:value,class:{'skin-background-color lighten': _vm.select.value===value},staticStyle:{\"cursor\":\"pointer\"},on:{\"click\":function($event){_vm.select.value = value},\"dblclick\":function($event){return _vm.addToExpression({value: value, type: 'value'})}}},[_c('th',{attrs:{\"scope\":\"row\"}},[_vm._v(_vm._s(value))])])}),_vm._v(\" \"),_vm._m(0)],2)])],1):_c('div',{staticClass:\"margin-between-element\",staticStyle:{\"display\":\"flex\",\"justify-content\":\"space-between\",\"align-items\":\"stretch\"},attrs:{\"id\":\"querybuilder-manual\"}},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.manualvalue),expression:\"manualvalue\"}],staticClass:\"form-control\",staticStyle:{\"border\":\"0\"},attrs:{\"style\":\"border: 0;\"},domProps:{\"value\":(_vm.manualvalue)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.manualvalue=$event.target.value}}}),_vm._v(\" \"),_c('span',{class:_vm.g3wtemplate.getFontClass('plus'),staticStyle:{\"cursor\":\"pointer\",\"font-size\":\"1.2em\",\"background-color\":\"white\",\"color\":\"#000000\",\"padding\":\"9px\"},on:{\"click\":function($event){_vm.manualvalue && _vm.addToExpression({value: _vm.manualvalue, type: 'value'})}}})]),_vm._v(\" \"),_c('div',{staticClass:\"content-end skin-color\",attrs:{\"id\":\"query_builder_values_buttons\"}},[_c('button',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.querybuilder.panel.button.manual'),expression:\"'sdk.querybuilder.panel.button.manual'\"}],staticClass:\"query_builder_button btn btn-secondary bold \",class:{'skin-border-color' : _vm.manual},attrs:{\"id\":\"query_builder_values_buttons_sample\"},on:{\"click\":function($event){_vm.manual = true}}}),_vm._v(\" \"),_c('button',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.querybuilder.panel.button.all'),expression:\"'sdk.querybuilder.panel.button.all'\"}],staticClass:\"query_builder_button btn btn-secondary bold \",class:{'skin-border-color' : !_vm.manual},attrs:{\"id\":\"query_builder_values_buttons_all\",\"disabled\":_vm.select.field === null},on:{\"click\":_vm.all}})])]),_vm._v(\" \"),_c('div',{staticClass:\"margin-between-element\",staticStyle:{\"margin-top\":\"auto !important\"},attrs:{\"id\":\"query_builder_operators\"}},[_c('div',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.querybuilder.panel.operators'),expression:\"'sdk.querybuilder.panel.operators'\"}],staticClass:\"querybuilder-title\",attrs:{\"id\":\"query_builder_operators_title\"}}),_vm._v(\" \"),_c('div',{staticClass:\"content-wrap\",attrs:{\"id\":\"query_builder_operators_content\"}},_vm._l((_vm.operators),function(operator){return _c('button',{key:operator,staticClass:\"query_builder_button btn btn-secondary skin-color bold\",on:{\"click\":function($event){return _vm.addToExpression({value: operator, type: 'operator'})}}},[_vm._v(_vm._s(operator))])}),0)]),_vm._v(\" \"),_c('div',{attrs:{\"id\":\"query_builder_footer\"}},[_c('div',{attrs:{\"id\":\"query_builder_expression\"}},[_c('div',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.querybuilder.panel.expression'),expression:\"'sdk.querybuilder.panel.expression'\"}],staticClass:\"querybuilder-title\",attrs:{\"id\":\"query_builder_expression_title\"}}),_vm._v(\" \"),_c('div',{attrs:{\"id\":\"query_builder_expression_content\"}},[_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.filter),expression:\"filter\"}],staticStyle:{\"width\":\"100%\",\"resize\":\"none\",\"height\":\"100px\",\"color\":\"#000000\"},domProps:{\"value\":(_vm.filter)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.filter=$event.target.value}}})])]),_vm._v(\" \"),_c('div',{staticClass:\"margin-between-element\",attrs:{\"id\":\"query_builder_message\"}},[_c('bar-loader',{attrs:{\"loading\":_vm.loading.test}}),_vm._v(\" \"),_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.message),expression:\"message\"},{name:\"t\",rawName:\"v-t\",value:('sdk.querybuilder.messages.number_of_features'),expression:\"'sdk.querybuilder.messages.number_of_features'\"}],staticClass:\"bold skin-color\"}),_c('span',{staticClass:\"bold skin-color\"},[_vm._v(_vm._s(_vm.message))])],1),_vm._v(\" \"),_c('div',{staticClass:\"content-end margin-between-element\",attrs:{\"id\":\"query_builder_footer_buttons\"}},[_c('button',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.querybuilder.panel.button.test'),expression:\"'sdk.querybuilder.panel.button.test'\"}],staticClass:\"query_builder_button btn btn-secondary  bold\",attrs:{\"disabled\":_vm.disabled},on:{\"click\":_vm.test}}),_vm._v(\" \"),_c('button',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.querybuilder.panel.button.clear'),expression:\"'sdk.querybuilder.panel.button.clear'\"}],staticClass:\"query_builder_button btn btn-secondary  bold\",on:{\"click\":_vm.reset}}),_vm._v(\" \"),_c('button',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.querybuilder.panel.button.run'),expression:\"'sdk.querybuilder.panel.button.run'\"}],staticClass:\"query_builder_button btn btn-secondary  bold\",attrs:{\"disabled\":_vm.disabled},on:{\"click\":_vm.run}}),_vm._v(\" \"),_c('button',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.querybuilder.panel.button.save'),expression:\"'sdk.querybuilder.panel.button.save'\"}],staticClass:\"query_builder_button btn btn-secondary  bold\",attrs:{\"disabled\":_vm.disabled},on:{\"click\":_vm.save}})])])])}\n__vue__options__.staticRenderFns = [function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('tr',[_c('th',{attrs:{\"scope\":\"row\"}})])}]\n\n},{\"app/constant\":4,\"services/querybuilder\":366,\"store/projects\":379}],277:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _querybuilder = require('services/querybuilder');\n\nvar _querybuilder2 = _interopRequireDefault(_querybuilder);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar QueryBuilderUIFactory = require('gui/querybuilder/querybuilderuifactory');\n\nexports.default = {\n  name: \"g3w-querybuilder-search\",\n  props: {\n    querybuildersearch: {\n      required: true\n    }\n  },\n  data: function data() {\n    return {\n      loading: false,\n      showinfo: false\n    };\n  },\n\n  methods: {\n    remove: function () {\n      var _ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee() {\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.prev = 0;\n                _context.next = 3;\n                return _querybuilder2.default.delete(this.querybuildersearch);\n\n              case 3:\n                this.$emit('delete');\n                _context.next = 8;\n                break;\n\n              case 6:\n                _context.prev = 6;\n                _context.t0 = _context['catch'](0);\n\n              case 8:\n              case 'end':\n                return _context.stop();\n            }\n          }\n        }, _callee, this, [[0, 6]]);\n      }));\n\n      function remove() {\n        return _ref.apply(this, arguments);\n      }\n\n      return remove;\n    }(),\n    edit: function edit() {\n      QueryBuilderUIFactory.show({\n        options: {\n          id: this.querybuildersearch.id,\n          name: this.querybuildersearch.name,\n          layerId: this.querybuildersearch.layerId,\n          filter: this.querybuildersearch.filter\n        }\n      });\n    },\n    run: function run() {\n      var _this = this;\n\n      this.loading = true;\n      _querybuilder2.default.run({\n        layerId: this.querybuildersearch.layerId,\n        filter: this.querybuildersearch.filter\n      }).finally(function () {\n        _this.loading = false;\n      });\n    }\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('li',[_c('div',{staticStyle:{\"position\":\"relative\"}},[_c('bar-loader',{attrs:{\"loading\":_vm.loading}}),_vm._v(\" \"),_c('div',{staticClass:\"querybuliserch-tools\",staticStyle:{\"display\":\"flex\",\"align-items\":\"baseline\"}},[_c('i',{class:_vm.g3wtemplate.getFontClass('filter'),staticStyle:{\"margin-right\":\"14px\",\"margin-left\":\"1px\"}}),_vm._v(\" \"),_c('span',{staticStyle:{\"white-space\":\"pre-wrap\"}},[_vm._v(_vm._s(_vm.querybuildersearch.name))]),_vm._v(\" \"),_c('div',{staticStyle:{\"margin-left\":\"auto\"}},[_c('span',{directives:[{name:\"t-tooltip\",rawName:\"v-t-tooltip\",value:('sdk.querybuilder.search.run'),expression:\"'sdk.querybuilder.search.run'\"}],staticClass:\"icon-search-action skin-tooltip-bottom\",attrs:{\"data-placement\":\"bottom\",\"data-toggle\":\"tooltip\"}},[_c('i',{class:_vm.g3wtemplate.getFontClass('run'),staticStyle:{\"color\":\"green\",\"padding\":\"3px\",\"font-size\":\"1.3em\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.run($event)}}})]),_vm._v(\" \"),_c('span',{directives:[{name:\"t-tooltip\",rawName:\"v-t-tooltip\",value:('sdk.querybuilder.search.info'),expression:\"'sdk.querybuilder.search.info'\"}],staticClass:\"icon-search-action skin-tooltip-bottom\",attrs:{\"data-placement\":\"bottom\",\"data-toggle\":\"tooltip\"}},[_c('i',{class:_vm.g3wtemplate.getFontClass('info'),staticStyle:{\"color\":\"#FFFFFF\",\"padding\":\"3px\",\"font-size\":\"1.3em\"},on:{\"click\":function($event){$event.stopPropagation();_vm.showinfo=!_vm.showinfo}}})]),_vm._v(\" \"),_c('span',{directives:[{name:\"t-tooltip\",rawName:\"v-t-tooltip\",value:('sdk.querybuilder.search.edit'),expression:\"'sdk.querybuilder.search.edit'\"}],staticClass:\"icon-search-action skin-tooltip-bottom\",attrs:{\"data-placement\":\"bottom\",\"data-toggle\":\"tooltip\"}},[_c('i',{class:_vm.g3wtemplate.getFontClass('pencil'),staticStyle:{\"color\":\"#307095\",\"padding\":\"3px\",\"font-size\":\"1.3em\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.edit($event)}}})]),_vm._v(\" \"),_c('span',{directives:[{name:\"t-tooltip\",rawName:\"v-t-tooltip\",value:('sdk.querybuilder.search.delete'),expression:\"'sdk.querybuilder.search.delete'\"}],staticClass:\"icon-search-action skin-tooltip-bottom\",attrs:{\"data-placement\":\"bottom\",\"data-toggle\":\"tooltip\"}},[_c('i',{class:_vm.g3wtemplate.getFontClass('trash'),staticStyle:{\"color\":\"red\",\"padding\":\"3px\",\"font-size\":\"1.3em\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.remove($event)}}})])])]),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showinfo),expression:\"showinfo\"}],staticClass:\"querybuildsearch-info\",staticStyle:{\"margin-top\":\"5px\"}},[_c('div',[_c('span',{staticStyle:{\"font-weight\":\"bold\",\"white-space\":\"pre\"}},[_vm._v(\"LAYER: \")]),_vm._v(\" \"),_c('span',{staticStyle:{\"white-space\":\"pre-wrap\"}},[_vm._v(_vm._s(_vm.querybuildersearch.layerName))])]),_vm._v(\" \"),_c('div',[_c('span',{staticStyle:{\"font-weight\":\"bold\"}},[_vm._v(\"EXPRESSION: \")]),_vm._v(\" \"),_c('span',{staticStyle:{\"white-space\":\"pre-wrap\"}},[_vm._v(_vm._s(_vm.querybuildersearch.filter))])])])],1)])}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-4002ad61\"\n\n},{\"gui/querybuilder/querybuilderuifactory\":168,\"services/querybuilder\":366}],278:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _mixins = require('mixins');\n\nvar _QueryResultsTableAttributeFieldValue = require('components/QueryResultsTableAttributeFieldValue.vue');\n\nvar _QueryResultsTableAttributeFieldValue2 = _interopRequireDefault(_QueryResultsTableAttributeFieldValue);\n\nvar _QueryResultsActionInfoFormats = require('components/QueryResultsActionInfoFormats.vue');\n\nvar _QueryResultsActionInfoFormats2 = _interopRequireDefault(_QueryResultsActionInfoFormats);\n\nvar _QueryResultsHeaderFeatureBody = require('components/QueryResultsHeaderFeatureBody.vue');\n\nvar _QueryResultsHeaderFeatureBody2 = _interopRequireDefault(_QueryResultsHeaderFeatureBody);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar _require = require('core/utils/utils'),\n    throttle = _require.throttle;\n\nvar maxSubsetLength = 3;\nvar headerExpandActionCellWidth = 10;\nvar headerActionsCellWidth = 10;\nvar HEADERTYPESFIELD = ['varchar', 'integer', 'float', 'date'];\n\nexports.default = {\n  data: function data() {\n    return {\n      state: this.$options.queryResultsService.state,\n      headerExpandActionCellWidth: headerExpandActionCellWidth,\n      headerActionsCellWidth: headerActionsCellWidth\n    };\n  },\n\n  mixins: [_mixins.fieldsMixin],\n  components: {\n    TableAttributeFieldValue: _QueryResultsTableAttributeFieldValue2.default,\n    'infoformats': _QueryResultsActionInfoFormats2.default,\n    'header-feature-body': _QueryResultsHeaderFeatureBody2.default\n  },\n  computed: {\n    layersFeaturesBoxes: function layersFeaturesBoxes() {\n      return this.state.layersFeaturesBoxes;\n    },\n    onelayerresult: function onelayerresult() {\n      return this.state.layers.length === 1;\n    },\n    hasLayers: function hasLayers() {\n      return this.hasResults || !!this.state.components.length;\n    },\n    hasResults: function hasResults() {\n      return this.state.layers.length > 0;\n    },\n    info: function info() {\n      if (this.state.query) {\n        var query = this.state.query;\n        switch (query.type) {\n          case 'coordinates':\n            return {\n              icon: 'marker',\n              message: '  ' + query.coordinates[0] + ', ' + query.coordinates[1]\n            };\n          case 'bbox':\n            return {\n              icon: 'square',\n              message: '  [' + query.bbox.join(' , ') + ']'\n            };\n          case 'polygon':\n            return {\n              icon: 'draw',\n              message: query.layerName ? query.layerName + ' ' + (\"undefined\" !== typeof query.fid ? ' - Feature Id: ' + query.fid : '') : ' ' };\n          default:\n            console.warn('Unsupported query type:  ' + query.type);\n            break;\n        }\n      } else if (this.state.search) {}\n\n      return { icon: null, message: null };\n    }\n  },\n  methods: {\n    getLayerCustomComponents: function getLayerCustomComponents(layerId) {\n      var type = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'feature';\n      var position = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 'after';\n\n      return this.state.layerscustomcomponents[layerId] && this.state.layerscustomcomponents[layerId][type] && this.state.layerscustomcomponents[layerId][type][position] || [];\n    },\n    getLayerField: function getLayerField(_ref) {\n      var layer = _ref.layer,\n          feature = _ref.feature,\n          fieldName = _ref.fieldName;\n\n      var layerField = layer.attributes.find(function (attribute) {\n        return attribute.name === fieldName;\n      });\n      var field = _extends({}, layerField, {\n        label: null,\n        value: feature.attributes[fieldName]\n      });\n      return field;\n    },\n    getQueryFields: function getQueryFields(layer, feature) {\n      var fields = [];\n      var _iteratorNormalCompletion = true;\n      var _didIteratorError = false;\n      var _iteratorError = undefined;\n\n      try {\n        for (var _iterator = layer.formStructure.fields[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n          var field = _step.value;\n\n          var _field = _extends({}, field);\n          _field.query = true;\n          _field.value = feature.attributes[field.name];\n          _field.input = {\n            type: '' + this.getFieldType(_field)\n          };\n          fields.push(_field);\n        }\n      } catch (err) {\n        _didIteratorError = true;\n        _iteratorError = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion && _iterator.return) {\n            _iterator.return();\n          }\n        } finally {\n          if (_didIteratorError) {\n            throw _iteratorError;\n          }\n        }\n      }\n\n      return fields;\n    },\n    getColSpan: function getColSpan(layer) {\n      return this.attributesSubsetLength(layer) + (this.state.layersactions[layer.id].length ? 1 : 0) + !this.hasLayerOneFeature(layer) * 1;\n    },\n    getDownloadActions: function getDownloadActions(layer) {\n      return this.state.layersactions[layer.id].find(function (action) {\n        return action.formats;\n      });\n    },\n    addLayerFeaturesToResults: function addLayerFeaturesToResults(layer) {\n      this.$options.queryResultsService.addLayerFeaturesToResultsAction(layer);\n    },\n    showDownloadAction: function showDownloadAction(evt) {\n      var display = evt.target.children[0].style.display;\n      evt.target.children[0].style.display = display === 'none' ? 'inline-block' : 'none';\n    },\n    printAtlas: function printAtlas(layer) {\n      this.$options.queryResultsService.printAtlas(layer);\n    },\n    showLayerDownloadFormats: function showLayerDownloadFormats(layer) {\n      this.$options.queryResultsService.showLayerDownloadFormats(layer);\n    },\n    saveLayerResult: function saveLayerResult(layer) {\n      var type = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : \"csv\";\n\n      this.$options.queryResultsService.saveLayerResult({ layer: layer, type: type });\n    },\n    hasLayerOneFeature: function hasLayerOneFeature(layer) {\n      return layer.features.length === 1;\n    },\n    addRemoveFilter: function addRemoveFilter(layer) {\n      this.$options.queryResultsService.addRemoveFilter(layer);\n    },\n    getContainerFromFeatureLayer: function getContainerFromFeatureLayer() {\n      var _ref2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          layer = _ref2.layer,\n          index = _ref2.index;\n\n      return $('#' + layer.id + '_' + index + ' > td');\n    },\n    hasOneLayerAndOneFeature: function hasOneLayerAndOneFeature(layer) {\n      return this.hasLayerOneFeature(layer);\n    },\n    hasFormStructure: function hasFormStructure(layer) {\n      return !!layer.formStructure;\n    },\n    layerHasFeatures: function layerHasFeatures(layer) {\n      return layer.features && layer.features.length > 0 ? true : false;\n    },\n    selectionFeaturesLayer: function selectionFeaturesLayer(layer) {\n      this.$options.queryResultsService.selectionFeaturesLayer(layer);\n    },\n    layerHasActions: function layerHasActions(layer) {\n      return this.state.layersactions[layer.id].length > 0;\n    },\n    featureHasActions: function featureHasActions(layer, feature) {\n      return this.geometryAvailable(feature);\n    },\n    geometryAvailable: function geometryAvailable(feature) {\n      return feature.geometry ? true : false;\n    },\n    extractAttributesFromFirstTabOfFormStructureLayers: function extractAttributesFromFirstTabOfFormStructureLayers(layer) {\n      var _this = this;\n\n      var attributes = new Set();\n      var traverseStructure = function traverseStructure(item) {\n        if (item.nodes) item.nodes.forEach(function (node) {\n          return traverseStructure(node);\n        });else {\n          var field = layer.formStructure.fields.find(function (field) {\n            return field.name === item.field_name;\n          });\n          if (field) {\n            if (_this.state.type === 'ows') {\n              field = _extends({}, field);\n              field.name = field.name.replace(/ /g, '_');\n            }\n            attributes.add(field);\n          }\n        }\n      };\n      layer.formStructure.structure.length && layer.formStructure.structure.forEach(function (structure) {\n        return traverseStructure(structure);\n      });\n      return Array.from(attributes);\n    },\n    attributesSubset: function attributesSubset(layer) {\n      var attributes = this.hasFormStructure(layer) ? this.extractAttributesFromFirstTabOfFormStructureLayers(layer) : layer.attributes;\n      var _attributes = attributes.filter(function (attribute) {\n        return attribute.show && HEADERTYPESFIELD.indexOf(attribute.type) !== -1;\n      });\n      var end = Math.min(maxSubsetLength, attributes.length);\n      return _attributes.slice(0, end);\n    },\n    relationsAttributesSubset: function relationsAttributesSubset(relationAttributes) {\n      var attributes = [];\n      _.forEach(relationAttributes, function (value, attribute) {\n        if (Array.isArray(value)) return;\n        attributes.push({ label: attribute, value: value });\n      });\n      var end = Math.min(maxSubsetLength, attributes.length);\n      return attributes.slice(0, end);\n    },\n    relationsAttributes: function relationsAttributes(relationAttributes) {\n      var attributes = [];\n      _.forEach(relationAttributes, function (value, attribute) {\n        attributes.push({ label: attribute, value: value });\n      });\n      return attributes;\n    },\n    attributesSubsetLength: function attributesSubsetLength(layer) {\n      return this.attributesSubset(layer).length;\n    },\n    cellWidth: function cellWidth(index, layer) {\n      var headerLength = maxSubsetLength + this.state.layersactions[layer.id].length;\n      var subsetLength = this.attributesSubsetLength(layer);\n      var diff = headerLength - subsetLength;\n      var actionsCellWidth = layer.hasgeometry ? headerActionsCellWidth : 0;\n      var headerAttributeCellTotalWidth = 100 - headerExpandActionCellWidth - actionsCellWidth;\n      var baseCellWidth = headerAttributeCellTotalWidth / maxSubsetLength;\n      if (index === subsetLength - 1 && diff > 0) return baseCellWidth * (diff + 1);else return baseCellWidth;\n    },\n    featureBoxColspan: function featureBoxColspan(layer) {\n      var colspan = this.attributesSubsetLength(layer);\n      if (layer.expandable) colspan += 1;\n      if (layer.hasgeometry) colspan += 1;\n      return colspan;\n    },\n    relationsAttributesSubsetLength: function relationsAttributesSubsetLength(elements) {\n      return this.relationsAttributesSubset(elements).length;\n    },\n    getLayerFormStructure: function getLayerFormStructure(layer) {\n      return layer.formStructure.structure;\n    },\n    isAttributeOrTab: function isAttributeOrTab(layer, item) {\n      var isField = item.field_name !== undefined;\n      return {\n        type: isField && 'field' || 'tab',\n        item: isField && this.getLayerAttributeFromStructureItem(layer, item.field_name) || [item]\n      };\n    },\n    getLayerAttributeFromStructureItem: function getLayerAttributeFromStructureItem(layer, field_name) {\n      return layer.attributes.find(function (attribute) {\n        return attribute.name === field_name;\n      });\n    },\n    getLayerFeatureBox: function getLayerFeatureBox(layer, feature, relation_index) {\n      var _this2 = this;\n\n      var boxid = this.getBoxId(layer, feature, relation_index);\n      if (this.layersFeaturesBoxes[boxid] === undefined) {\n        this.layersFeaturesBoxes[boxid] = Vue.observable({\n          collapsed: true\n        });\n        this.$watch(function () {\n          return _this2.layersFeaturesBoxes[boxid].collapsed;\n        }, function (collapsed) {\n          var index = layer.features.findIndex(function (_feature) {\n            return feature.id === _feature.id;\n          });\n          var container = _this2.getContainerFromFeatureLayer({\n            layer: layer,\n            index: index\n          });\n          _this2.$options.queryResultsService.openCloseFeatureResult({\n            open: !collapsed,\n            layer: layer,\n            feature: feature,\n            container: container\n          });\n        });\n        this.layersFeaturesBoxes[boxid].collapsed = layer.features.length > 1;\n      }\n      return this.layersFeaturesBoxes[boxid];\n    },\n    collapsedFeatureBox: function collapsedFeatureBox(layer, feature, relation_index) {\n      var boxid = this.getBoxId(layer, feature, relation_index);\n      return this.layersFeaturesBoxes[boxid] ? this.layersFeaturesBoxes[boxid].collapsed : true;\n    },\n    showFeatureInfo: function showFeatureInfo(layer, boxid) {\n      this.$options.queryResultsService.emit('show-query-feature-info', {\n        layer: layer,\n        tabs: this.hasFormStructure(layer),\n        show: this.layersFeaturesBoxes[boxid] ? !this.layersFeaturesBoxes[boxid].collapsed : false\n      });\n    },\n    getBoxId: function getBoxId(layer, feature, relation_index) {\n      return this.$options.queryResultsService.getBoxId(layer, feature, relation_index);\n    },\n    toggleFeatureBox: function () {\n      var _ref3 = _asyncToGenerator(regeneratorRuntime.mark(function _callee(layer, feature, relation_index) {\n        var boxid;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                boxid = this.getBoxId(layer, feature, relation_index);\n\n                this.layersFeaturesBoxes[boxid].collapsed = !this.layersFeaturesBoxes[boxid].collapsed;\n                _context.next = 4;\n                return this.$nextTick();\n\n              case 4:\n                this.showFeatureInfo(layer, boxid);\n\n              case 5:\n              case 'end':\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function toggleFeatureBox(_x5, _x6, _x7) {\n        return _ref3.apply(this, arguments);\n      }\n\n      return toggleFeatureBox;\n    }(),\n    toggleFeatureBoxAndZoom: function toggleFeatureBoxAndZoom(layer, feature, relation_index) {\n      !this.hasLayerOneFeature(layer) && this.toggleFeatureBox(layer, feature, relation_index);\n    },\n    trigger: function () {\n      var _ref4 = _asyncToGenerator(regeneratorRuntime.mark(function _callee2(action, layer, feature, index) {\n        var container;\n        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                if (!(action.opened && $('#' + layer.id + '_' + index).css('display') === 'none')) {\n                  _context2.next = 4;\n                  break;\n                }\n\n                this.toggleFeatureBox(layer, feature);\n                _context2.next = 4;\n                return this.$nextTick();\n\n              case 4:\n                container = this.getContainerFromFeatureLayer({ layer: layer, index: index });\n                _context2.next = 7;\n                return this.$options.queryResultsService.trigger(action.id, layer, feature, index, container);\n\n              case 7:\n              case 'end':\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function trigger(_x8, _x9, _x10, _x11) {\n        return _ref4.apply(this, arguments);\n      }\n\n      return trigger;\n    }(),\n    showFullPhoto: function showFullPhoto(url) {\n      this.$options.queryResultsService.showFullPhoto(url);\n    },\n    openLink: function openLink(link_url) {\n      window.open(link_url, '_blank');\n    }\n  },\n  watch: {\n    'state.layers': function () {\n      var _ref5 = _asyncToGenerator(regeneratorRuntime.mark(function _callee3(layers) {\n        var _this3 = this;\n\n        var layer, feature, boxid;\n        return regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                layers.forEach(function (layer) {\n                  if (layer.attributes.length <= maxSubsetLength && !layer.hasImageField) layer.expandable = false;\n                  layer.features.forEach(function (feature) {\n                    _this3.getLayerFeatureBox(layer, feature);\n                    if (feature.attributes.relations) {\n                      var relations = feature.attributes.relations;\n                      relations.forEach(function (relation) {\n                        var boxid = layer.id + '_' + feature.id + '_' + relation.name;\n                        var elements = relation.elements;\n                        elements.forEach(function (element, index) {\n                          _this3.layersFeaturesBoxes[boxid + index] = {\n                            collapsed: true\n                          };\n                        });\n                      });\n                    }\n                  });\n                });\n\n                this.onelayerresult = layers.length === 1;\n\n                if (this.onelayerresult && this.hasLayerOneFeature(layers[0])) {\n                  layer = layers[0];\n                  feature = layer.features[0];\n                  boxid = this.getBoxId(layer, feature);\n\n                  this.$options.queryResultsService.onceafter('postRender', function () {\n                    _this3.showFeatureInfo(layer, boxid);\n                  });\n                }\n                requestAnimationFrame(function () {\n                  return _this3.$options.queryResultsService.postRender(_this3.$el);\n                });\n                _context3.next = 6;\n                return this.$nextTick();\n\n              case 6:\n              case 'end':\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this);\n      }));\n\n      function stateLayers(_x12) {\n        return _ref5.apply(this, arguments);\n      }\n\n      return stateLayers;\n    }(),\n    onelayerresult: function onelayerresult(bool) {\n      bool && this.$options.queryResultsService.highlightFeaturesPermanently(this.state.layers[0]);\n    }\n  },\n  created: function created() {\n    var _this4 = this;\n\n    this.zoomToLayerFeaturesExtent = throttle(function (layer) {\n      _this4.$options.queryResultsService.zoomToLayerFeaturesExtent(layer, {\n        highlight: true\n      });\n    });\n  },\n  beforeDestroy: function beforeDestroy() {\n    this.state.zoomToResult = true;\n    this.layersFeaturesBoxes = null;\n  },\n  destroyed: function destroyed() {\n    this.$options.queryResultsService.clear();\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"queryresults-wrapper\",attrs:{\"id\":\"search-results\"}},[(_vm.info.message)?_c('div',{staticClass:\"skin-color\",staticStyle:{\"font-weight\":\"bold\",\"margin-bottom\":\"3px\",\"font-size\":\"1.1em\"}},[(_vm.info.icon)?_c('span',{staticClass:\"action-button skin-tooltip-bottom\",class:_vm.g3wtemplate.getFontClass(_vm.info.icon)}):_vm._e(),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(_vm.info.message))])]):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"queryresults-container\"},[(_vm.state.layers.length)?[(_vm.hasLayers)?_c('ul',{staticClass:\"queryresults\",staticStyle:{\"position\":\"relative\"},attrs:{\"id\":\"queryresults\"}},[_vm._l((_vm.state.layers),function(layer){return _c('li',{directives:[{name:\"show\",rawName:\"v-show\",value:((_vm.layerHasFeatures(layer) || layer.rawdata) && layer.show),expression:\"(layerHasFeatures(layer) || layer.rawdata) && layer.show\"}]},[_c('bar-loader',{attrs:{\"loading\":layer.loading}}),_vm._v(\" \"),_c('div',{staticClass:\"box box-primary\"},[_c('div',{staticClass:\"box-header with-border\",class:{'mobile': _vm.isMobile()},attrs:{\"data-widget\":\"collapse\"}},[_c('div',{staticClass:\"box-title query-layer-title\",style:({fontSize: _vm.isMobile() && '1em !important'})},[_vm._v(_vm._s(layer.title)+\"\\n                \"),_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(!layer.rawdata),expression:\"!layer.rawdata\"}],staticClass:\"query-layer-feature-count\"},[_vm._v(\"(\"+_vm._s(layer.features.length)+\")\")])]),_vm._v(\" \"),_c('div',{staticClass:\"box-features-action\",on:{\"click\":function($event){$event.stopPropagation();}}},[_c('infoformats',{attrs:{\"layer\":layer}}),_vm._v(\" \"),(layer.features.length > 1)?[(layer.hasgeometry)?_c('span',{directives:[{name:\"t-tooltip\",rawName:\"v-t-tooltip:left.create\",value:('sdk.mapcontrols.query.actions.zoom_to_features_extent.hint'),expression:\"'sdk.mapcontrols.query.actions.zoom_to_features_extent.hint'\",arg:\"left\",modifiers:{\"create\":true}}],staticClass:\"action-button\",on:{\"click\":function($event){$event.stopPropagation();return _vm.zoomToLayerFeaturesExtent(layer)}}},[_c('span',{staticClass:\"action-button-icon\",class:_vm.g3wtemplate.getFontClass('marker')})]):_vm._e(),_vm._v(\" \"),(layer.atlas.length)?_c('span',{directives:[{name:\"download\",rawName:\"v-download\"},{name:\"t-tooltip\",rawName:\"v-t-tooltip:left.create\",value:('sdk.mapcontrols.query.actions.atlas.hint'),expression:\"'sdk.mapcontrols.query.actions.atlas.hint'\",arg:\"left\",modifiers:{\"create\":true}}],staticClass:\"action-button\",on:{\"click\":function($event){$event.stopPropagation();return _vm.printAtlas(layer)}}},[_c('span',{staticClass:\"action-button-icon\",class:_vm.g3wtemplate.getFontClass('print')})]):_vm._e(),_vm._v(\" \"),(layer.downloads.length === 1)?[_c('span',{directives:[{name:\"download\",rawName:\"v-download\"},{name:\"t-tooltip\",rawName:\"v-t-tooltip:left.create\",value:((\"sdk.mapcontrols.query.actions.download_features_\" + (layer.downloads[0]) + \".hint\")),expression:\"`sdk.mapcontrols.query.actions.download_features_${layer.downloads[0]}.hint`\",arg:\"left\",modifiers:{\"create\":true}}],staticClass:\"action-button\",class:{'toggled': layer[layer.downloads[0]].active}},[_c('span',{staticClass:\"action-button-icon\",class:_vm.g3wtemplate.getFontClass('download'),on:{\"click\":function($event){$event.stopPropagation();return _vm.saveLayerResult(layer, layer.downloads[0])}}})])]:(layer.downloads.length > 1)?[_c('span',{directives:[{name:\"download\",rawName:\"v-download\"},{name:\"t-tooltip\",rawName:\"v-t-tooltip:left.create\",value:('Downloads'),expression:\"'Downloads'\",arg:\"left\",modifiers:{\"create\":true}}],staticClass:\"action-button\",class:{'toggled': layer.downloadformats.active}},[_c('span',{staticClass:\"action-button-icon\",class:_vm.g3wtemplate.getFontClass('download'),on:{\"click\":function($event){$event.stopPropagation();return _vm.showLayerDownloadFormats(layer)}}})])]:_vm._e()]:_vm._e(),_vm._v(\" \"),(layer.external || (layer.source && layer.source.type !== 'wms'))?_c('span',{directives:[{name:\"t-tooltip\",rawName:\"v-t-tooltip:left.create\",value:('sdk.mapcontrols.query.actions.add_features_to_results.hint'),expression:\"'sdk.mapcontrols.query.actions.add_features_to_results.hint'\",arg:\"left\",modifiers:{\"create\":true}}],staticClass:\"action-button\",class:{'toggled': layer.addfeaturesresults.active},on:{\"click\":function($event){$event.stopPropagation();return _vm.addLayerFeaturesToResults(layer)}}},[_c('span',{staticClass:\"action-button-icon\",class:_vm.g3wtemplate.getFontClass('plus-square')})]):_vm._e(),_vm._v(\" \"),(layer.features.length > 1 && (layer.external || (layer.source && layer.source.type !== 'wms')))?_c('span',{directives:[{name:\"t-tooltip\",rawName:\"v-t-tooltip:left.create\",value:('sdk.mapcontrols.query.actions.add_selection.hint'),expression:\"'sdk.mapcontrols.query.actions.add_selection.hint'\",arg:\"left\",modifiers:{\"create\":true}}],staticClass:\"action-button skin-tooltip-left\",class:{'toggled': layer.selection.active},on:{\"click\":function($event){$event.stopPropagation();return _vm.selectionFeaturesLayer(layer)}}},[_c('span',{staticClass:\"action-button-icon\",class:_vm.g3wtemplate.getFontClass('success')})]):_vm._e(),_vm._v(\" \"),_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(layer.selection.active && !layer.external),expression:\"layer.selection.active && !layer.external\"},{name:\"t-tooltip\",rawName:\"v-t-tooltip:left.create\",value:('layer_selection_filter.tools.filter'),expression:\"'layer_selection_filter.tools.filter'\",arg:\"left\",modifiers:{\"create\":true}}],staticClass:\"action-button skin-tooltip-left\",class:{'toggled': layer.filter.active},on:{\"click\":function($event){$event.stopPropagation();return _vm.addRemoveFilter(layer)}}},[_c('span',{staticClass:\"action-button-icon\",class:_vm.g3wtemplate.getFontClass('filter')})])],2),_vm._v(\" \"),_c('button',{staticClass:\"btn btn-box-tool\",attrs:{\"data-widget\":\"collapse\"}},[_c('i',{staticClass:\"btn-collapser skin-color\",class:_vm.g3wtemplate.font['minus']})])]),_vm._v(\" \"),(_vm.state.layeractiontool[layer.id].component)?[_c('div',{staticClass:\"g3w-layer-action-tools with-border\",class:{'mobile': _vm.isMobile()},staticStyle:{\"padding\":\"5px\"}},[_c(_vm.state.layeractiontool[layer.id].component,{tag:\"component\",attrs:{\"layer\":layer,\"config\":_vm.state.layeractiontool[layer.id].config}})],1)]:_vm._e(),_vm._v(\" \"),_vm._l((_vm.getLayerCustomComponents(layer.id, 'layer', 'before')),function(ref){\nvar component = ref.component;\nreturn _c(component,{tag:\"component\",attrs:{\"layer\":layer}})}),_vm._v(\" \"),_c('div',{staticClass:\"box-body\",class:{'mobile': _vm.isMobile()}},[(layer.rawdata)?[_c('div',{staticClass:\"queryresults-text-html\",class:{text: layer.infoformat === 'text/plain'},domProps:{\"innerHTML\":_vm._s(layer.rawdata)}})]:(_vm.hasFormStructure(layer))?[_c('table',{staticClass:\"table\",class:{'mobile': _vm.isMobile()}},[_c('thead',[_c('tr',[(_vm.state.layersactions[layer.id].length)?_c('th',{style:({width: ((_vm.state.layersactions[layer.id].length *26) + \"px\"), maxWidth:((_vm.state.layersactions[layer.id].length * 26) + \"px\")})}):_vm._e(),_vm._v(\" \"),_vm._l((_vm.attributesSubset(layer)),function(attribute,index){return _c('th',{staticClass:\"centered\"},[_vm._v(_vm._s(attribute.label))])}),_vm._v(\" \"),(!_vm.hasLayerOneFeature(layer))?_c('th',{staticClass:\"collapsed\"}):_vm._e()],2)]),_vm._v(\" \"),_c('tbody',[_vm._l((layer.features),function(feature,index){return (feature.show)?[_c('header-feature-body',{attrs:{\"actions\":_vm.state.layersactions[layer.id],\"layer\":layer,\"feature\":feature,\"index\":index,\"onelayerresult\":_vm.onelayerresult,\"trigger\":_vm.trigger,\"toggleFeatureBoxAndZoom\":_vm.toggleFeatureBoxAndZoom,\"hasLayerOneFeature\":_vm.hasLayerOneFeature,\"boxLayerFeature\":_vm.getLayerFeatureBox(layer, feature),\"attributesSubset\":_vm.attributesSubset,\"getLayerField\":_vm.getLayerField}}),_vm._v(\" \"),_c('tr',{staticClass:\"g3w-feature-result-action-tools\"},[(_vm.state.currentactiontools[layer.id][index])?[_c('td',{attrs:{\"colspan\":_vm.getColSpan(layer)}},[_c(_vm.state.currentactiontools[layer.id][index],{tag:\"component\",attrs:{\"colspan\":_vm.getColSpan(layer),\"layer\":layer,\"feature\":feature,\"featureIndex\":index,\"config\":_vm.state.actiontools[_vm.state.currentactiontools[layer.id][index].name][layer.id]}})],1)]:_vm._e()],2),_vm._v(\" \"),_vm._l((_vm.getLayerCustomComponents(layer.id, 'feature', 'before')),function(ref){\nvar component = ref.component;\nreturn _c('tr',[_c('td',{attrs:{\"colspan\":_vm.getColSpan(layer)}},[_c(component,{tag:\"component\",attrs:{\"layer\":layer,\"feature\":feature}})],1)])}),_vm._v(\" \"),_c('tr',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.collapsedFeatureBox(layer,feature) || _vm.hasOneLayerAndOneFeature(layer)),expression:\"!collapsedFeatureBox(layer,feature) || hasOneLayerAndOneFeature(layer)\"}],staticClass:\"featurebox-body\",attrs:{\"id\":((layer.id) + \"_\" + index)}},[_c('td',{attrs:{\"colspan\":_vm.getColSpan(layer)}},[_c('tabs',{attrs:{\"fields\":_vm.getQueryFields(layer, feature),\"layerid\":layer.id,\"feature\":feature,\"tabs\":_vm.getLayerFormStructure(layer)}})],1)]),_vm._v(\" \"),_vm._l((_vm.getLayerCustomComponents(layer.id, 'feature', 'after')),function(ref){\nvar component = ref.component;\nreturn _c('tr',[_c('td',{attrs:{\"colspan\":_vm.getColSpan(layer)}},[_c(component,{tag:\"component\",attrs:{\"layer\":layer,\"feature\":feature}})],1)])})]:_vm._e()})],2)])]:_c('table',{staticClass:\"table\",class:{'mobile': _vm.isMobile()}},[_c('thead',[_c('tr',[(_vm.state.layersactions[layer.id].length)?_c('th',{style:({width: ((_vm.state.layersactions[layer.id].length *26) + \"px\"), maxWidth:((_vm.state.layersactions[layer.id].length * 26) + \"px\")})}):_vm._e(),_vm._v(\" \"),_vm._l((_vm.attributesSubset(layer)),function(attribute,index){return _c('th',{staticClass:\"centered\"},[_vm._v(_vm._s(attribute.label))])}),_vm._v(\" \"),(!_vm.hasLayerOneFeature(layer))?_c('th',{staticClass:\"collapsed\"}):_vm._e()],2)]),_vm._v(\" \"),_vm._l((layer.features),function(feature,index){return (feature.show)?_c('tbody',{key:feature.id},[_c('header-feature-body',{attrs:{\"actions\":_vm.state.layersactions[layer.id],\"layer\":layer,\"feature\":feature,\"index\":index,\"onelayerresult\":_vm.onelayerresult,\"trigger\":_vm.trigger,\"toggleFeatureBoxAndZoom\":_vm.toggleFeatureBoxAndZoom,\"hasLayerOneFeature\":_vm.hasLayerOneFeature,\"boxLayerFeature\":_vm.getLayerFeatureBox(layer, feature),\"attributesSubset\":_vm.attributesSubset,\"getLayerField\":_vm.getLayerField}}),_vm._v(\" \"),_c('tr',{staticClass:\"g3w-feature-result-action-tools\"},[(_vm.state.currentactiontools[layer.id][index])?[_c('td',{attrs:{\"colspan\":_vm.getColSpan(layer)}},[_c(_vm.state.currentactiontools[layer.id][index],{tag:\"component\",attrs:{\"colspan\":_vm.getColSpan(layer),\"layer\":layer,\"feature\":feature,\"featureIndex\":index,\"config\":_vm.state.actiontools[_vm.state.currentactiontools[layer.id][index].name][layer.id]}})],1)]:_vm._e()],2),_vm._v(\" \"),_vm._l((_vm.getLayerCustomComponents(layer.id, 'feature', 'before')),function(ref){\nvar component = ref.component;\nreturn _c('tr',[_c('td',{attrs:{\"colspan\":\"getColSpan(layer)\"}},[_c(component,{tag:\"component\",staticClass:\"box-body\",attrs:{\"layer\":layer,\"feature\":feature}})],1)])}),_vm._v(\" \"),_c('tr',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.collapsedFeatureBox(layer,feature) || _vm.hasOneLayerAndOneFeature(layer)),expression:\"!collapsedFeatureBox(layer,feature) || hasOneLayerAndOneFeature(layer)\"}],staticClass:\"featurebox-body\",attrs:{\"id\":((layer.id) + \"_\" + index)}},[_c('td',{attrs:{\"colspan\":_vm.getColSpan(layer)}},[_c('table',{staticClass:\"feature_attributes\"},_vm._l((layer.attributes.filter(function (attribute) { return attribute.show; })),function(attribute){return _c('tr',[_c('td',{staticClass:\"attr-label\"},[_vm._v(_vm._s(attribute.label))]),_vm._v(\" \"),_c('td',{staticClass:\"attr-value\",attrs:{\"attribute\":attribute.name}},[_c('table-attribute-field-value',{attrs:{\"feature\":feature,\"field\":_vm.getLayerField({layer: layer, feature: feature, fieldName: attribute.name})}})],1)])}),0)])]),_vm._v(\" \"),_vm._l((_vm.getLayerCustomComponents(layer.id, 'feature', 'after')),function(ref){\nvar component = ref.component;\nreturn _c('tr',[_c('td',{attrs:{\"colspan\":\"getColSpan(layer)\"}},[_c(component,{tag:\"component\",staticClass:\"box-body\",attrs:{\"layer\":layer,\"feature\":feature}})],1)])})],2):_c('tbody')})],2)],2),_vm._v(\" \"),_vm._l((_vm.getLayerCustomComponents(layer.id, 'layer', 'after')),function(ref){\nvar component = ref.component;\nreturn _c('div',{staticClass:\"box-body\",class:{'mobile': _vm.isMobile()}},[_c(component,{tag:\"component\",attrs:{\"layer\":layer}})],1)})],2)],1)}),_vm._v(\" \"),_vm._l((_vm.state.components),function(component){return _c('li',[_c(component,{tag:\"component\",on:{\"showresults\":function($event){return _vm.showResults()}}})],1)})],2):_vm._e()]:[(_vm.state.changed)?_c('div',{staticClass:\"query-results-not-found\"},[_c('h4',{directives:[{name:\"t\",rawName:\"v-t\",value:('info.no_results'),expression:\"'info.no_results'\"}],staticClass:\"skin-color\",staticStyle:{\"font-weight\":\"bold\",\"text-align\":\"center\"}})]):_vm._e()]],2)])}\n__vue__options__.staticRenderFns = []\n\n},{\"components/QueryResultsActionInfoFormats.vue\":281,\"components/QueryResultsHeaderFeatureBody.vue\":284,\"components/QueryResultsTableAttributeFieldValue.vue\":285,\"core/utils/utils\":68,\"mixins\":343}],279:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar _require = require('core/i18n/i18n.service'),\n    t = _require.t;\n\nexports.default = {\n  name: \"action\",\n  data: function data() {\n    return {\n      show: true\n    };\n  },\n\n  props: {\n    featureIndex: {\n      type: Number\n    },\n    feature: {\n      type: Object\n    },\n    layer: {\n      type: Object\n    },\n    trigger: {\n      type: Function\n    },\n    action: {\n      type: Object,\n      required: true\n    }\n  },\n  methods: {\n    clickAction: function () {\n      var _ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee(action, layer, feature, featureIndex, event) {\n        var element, originalDataTitle;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return this.trigger(action, layer, feature, featureIndex);\n\n              case 2:\n                if (action.hint_change) {\n                  element = $(event.target).parent();\n                  originalDataTitle = element.attr('data-original-title');\n\n                  element.attr('data-original-title', t(action.hint_change.hint));\n                  element.tooltip('show');\n                  setTimeout(function () {\n                    element.attr('data-original-title', originalDataTitle);\n                    element.tooltip('show');\n                  }, action.hint_change.duration || 600);\n                }\n                this.$emit('action-clicked', action);\n\n              case 4:\n              case 'end':\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function clickAction(_x, _x2, _x3, _x4, _x5) {\n        return _ref.apply(this, arguments);\n      }\n\n      return clickAction;\n    }()\n  },\n  created: function () {\n    var _ref2 = _asyncToGenerator(regeneratorRuntime.mark(function _callee2() {\n      var show;\n      return regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              this.action.init && this.action.init({ layer: this.layer, feature: this.feature, index: this.featureIndex, action: this.action });\n\n              if (!(typeof this.action.condition === 'function')) {\n                _context2.next = 11;\n                break;\n              }\n\n              show = this.action.condition({ layer: this.layer, feature: this.feature });\n\n              if (!(show instanceof Promise)) {\n                _context2.next = 9;\n                break;\n              }\n\n              _context2.next = 6;\n              return show;\n\n            case 6:\n              _context2.t0 = _context2.sent;\n              _context2.next = 10;\n              break;\n\n            case 9:\n              _context2.t0 = show;\n\n            case 10:\n              this.show = _context2.t0;\n\n            case 11:\n            case 'end':\n              return _context2.stop();\n          }\n        }\n      }, _callee2, this);\n    }));\n\n    function created() {\n      return _ref2.apply(this, arguments);\n    }\n\n    return created;\n  }(),\n  mounted: function () {\n    var _ref3 = _asyncToGenerator(regeneratorRuntime.mark(function _callee3() {\n      return regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              _context3.next = 2;\n              return this.$nextTick();\n\n            case 2:\n              $('.action-button[data-toggle=\"tooltip\"]').tooltip();\n\n            case 3:\n            case 'end':\n              return _context3.stop();\n          }\n        }\n      }, _callee3, this);\n    }));\n\n    function mounted() {\n      return _ref3.apply(this, arguments);\n    }\n\n    return mounted;\n  }()\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.show)?_c('span',{directives:[{name:\"download\",rawName:\"v-download\",value:(_vm.action.download),expression:\"action.download\"},{name:\"t-title\",rawName:\"v-t-title\",value:(_vm.action.hint),expression:\"action.hint\"}],staticClass:\"action-button skin-tooltip-right\",class:{'toggled': _vm.action.state && _vm.action.state.toggled[_vm.featureIndex] },attrs:{\"data-placement\":\"right\",\"data-toggle\":\"tooltip\"},on:{\"contextmenu\":function($event){$event.preventDefault();$event.stopPropagation();},\"click\":function($event){$event.stopPropagation();return _vm.clickAction(_vm.action, _vm.layer, _vm.feature, _vm.featureIndex, $event)}}},[_c('span',{class:(\"action-button-icon \" + (_vm.action.class)),staticStyle:{\"padding\":\"2px\"},style:(_vm.action.style)})]):_vm._e()}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-8bfeb4ec\"\n\n},{\"core/i18n/i18n.service\":13}],280:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nexports.default = {\n  name: \"downloadformats\",\n  data: function data() {\n    var download_format = this.config.downloads[0].format;\n    return {\n      download_format: download_format\n    };\n  },\n\n  props: {\n    featureIndex: {\n      type: Number\n    },\n    feature: {\n      type: Object\n    },\n    layer: {\n      type: Object\n    },\n    config: {\n      type: Object,\n      default: null\n    }\n  },\n  methods: {\n    download: function () {\n      var _ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee() {\n        var _this = this;\n\n        var _download;\n\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.prev = 0;\n                _download = this.config.downloads.find(function (action) {\n                  return action.format === _this.download_format;\n                });\n                _context.next = 4;\n                return _download.cbk(this.layer, this.feature ? this.feature : this.layer.features, _download, this.featureIndex);\n\n              case 4:\n                _context.next = 8;\n                break;\n\n              case 6:\n                _context.prev = 6;\n                _context.t0 = _context[\"catch\"](0);\n\n              case 8:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this, [[0, 6]]);\n      }));\n\n      function download() {\n        return _ref.apply(this, arguments);\n      }\n\n      return download;\n    }()\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"g3w-download-formats-content\",staticStyle:{\"width\":\"100%\",\"display\":\"flex\"},on:{\"click\":function($event){$event.preventDefault();$event.stopPropagation();}}},[_c('select',{directives:[{name:\"select2\",rawName:\"v-select2\",value:('download_format'),expression:\"'download_format'\"}],staticClass:\"form-control\",staticStyle:{\"flex-grow\":\"1\"},attrs:{\"search\":false}},_vm._l((_vm.config.downloads),function(download){return _c('option',{directives:[{name:\"download\",rawName:\"v-download\"}],key:download.id,domProps:{\"value\":download.format}},[_c('span',{staticStyle:{\"font-weight\":\"bold\"}},[_vm._v(_vm._s(download.format))])])}),0),_vm._v(\" \"),_c('button',{directives:[{name:\"download\",rawName:\"v-download\"}],staticClass:\"btn skin-button\",staticStyle:{\"border-radius\":\"0 3px 3px 0\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.download($event)}}},[_c('span',{class:_vm.g3wtemplate.getFontClass('download')})])])}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-72d7b8fa\"\n\n},{}],281:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _catalogLayers = require('store/catalog-layers');\n\nvar _catalogLayers2 = _interopRequireDefault(_catalogLayers);\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar _require = require('core/utils/parsers'),\n    responseParser = _require.response;\n\nvar _require2 = require('core/utils/geo'),\n    getAlphanumericPropertiesFromFeature = _require2.getAlphanumericPropertiesFromFeature,\n    query = _require2.query;\n\nexports.default = {\n    name: 'Infoformats',\n    props: {\n        layer: {\n            type: Object,\n            required: true\n        }\n    },\n    data: function data() {\n        return {\n            infoformat: this.layer.infoformat\n        };\n    },\n\n    computed: {\n        infoformats: function infoformats() {\n            return this.layer.infoformats || [];\n        }\n    },\n    methods: {\n        reloadLayerDataWithChangedContentType: function () {\n            var _ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee(contenttype) {\n                var _this = this;\n\n                var queryService, response, _responseParser$get, _responseParser$get2, data;\n\n                return regeneratorRuntime.wrap(function _callee$(_context) {\n                    while (1) {\n                        switch (_context.prev = _context.next) {\n                            case 0:\n                                queryService = _gui2.default.getService('queryresults');\n\n                                this.layer.loading = true;\n                                _context.prev = 2;\n                                _context.next = 5;\n                                return this.projectLayer.changeProxyDataAndReloadFromServer('wms', {\n                                    headers: {\n                                        'Content-Type': contenttype\n                                    },\n                                    params: {\n                                        INFO_FORMAT: contenttype\n                                    }\n                                });\n\n                            case 5:\n                                response = _context.sent;\n\n                                this.layer.infoformat = contenttype;\n                                this.projectLayer.setInfoFormat(this.layer.infoformat);\n                                _responseParser$get = responseParser.get(contenttype)({\n                                    layers: [this.projectLayer],\n                                    response: response\n                                }), _responseParser$get2 = _slicedToArray(_responseParser$get, 1), data = _responseParser$get2[0];\n\n                                if (!data.features) {\n                                    _context.next = 14;\n                                    break;\n                                }\n\n                                this.layer.rawdata = null;\n                                data.features.forEach(function (feature) {\n                                    var _queryService$getFeat = queryService.getFeaturePropertiesAndGeometry(feature),\n                                        fid = _queryService$getFeat.id,\n                                        geometry = _queryService$getFeat.geometry,\n                                        attributes = _queryService$getFeat.properties;\n\n                                    if (_this.layer.attributes.length === 0) {\n                                        _this.layer.hasgeometry = !!geometry;\n\n                                        queryService.setActionsForLayers([_this.layer]);\n                                        getAlphanumericPropertiesFromFeature(attributes).forEach(function (name) {\n                                            _this.layer.attributes.push({\n                                                name: name,\n                                                label: name,\n                                                show: true\n                                            });\n                                        });\n                                    }\n                                    var queryFeature = {\n                                        id: fid,\n                                        attributes: attributes,\n                                        geometry: geometry,\n                                        show: true\n                                    };\n                                    queryFeature.show = true;\n                                    _this.layer.features.push(queryFeature);\n                                });\n                                _context.next = 18;\n                                break;\n\n                            case 14:\n                                this.layer.features.splice(0);\n                                _context.next = 17;\n                                return this.$nextTick();\n\n                            case 17:\n                                this.layer.rawdata = data.rawdata;\n\n                            case 18:\n                                _context.next = 23;\n                                break;\n\n                            case 20:\n                                _context.prev = 20;\n                                _context.t0 = _context['catch'](2);\n\n                                console.log(_context.t0);\n\n                            case 23:\n                                this.layer.loading = false;\n\n                            case 24:\n                            case 'end':\n                                return _context.stop();\n                        }\n                    }\n                }, _callee, this, [[2, 20]]);\n            }));\n\n            function reloadLayerDataWithChangedContentType(_x) {\n                return _ref.apply(this, arguments);\n            }\n\n            return reloadLayerDataWithChangedContentType;\n        }()\n    },\n    watch: {\n        'infoformat': function infoformat(value) {\n            this.reloadLayerDataWithChangedContentType(value);\n        }\n    },\n    created: function created() {\n        this.projectLayer = _catalogLayers2.default.getLayerById(this.layer.id);\n    },\n    beforeDestroy: function beforeDestroy() {\n        this.projectLayer && this.projectLayer.clearProxyData('wms');\n        this.projectLayer = null;\n    }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.infoformats.length)?_c('select',{directives:[{name:\"select2\",rawName:\"v-select2\",value:('infoformat'),expression:\"'infoformat'\"}],staticClass:\"skin-color\",attrs:{\"select2_value\":_vm.infoformat,\"search\":false}},_vm._l((_vm.infoformats),function(infoformat){return _c('option',{key:infoformat,domProps:{\"value\":infoformat}},[_vm._v(_vm._s(infoformat))])}),0):_vm._e()}\n__vue__options__.staticRenderFns = []\n\n},{\"core/utils/geo\":64,\"core/utils/parsers\":67,\"services/gui\":361,\"store/catalog-layers\":374}],282:[function(require,module,exports){\nvar __vueify_style_dispose__ = require(\"vueify/lib/insert-css\").insert(\".g3w-polygonattributes-types-title[data-v-7fd19c11]{font-weight:700;padding:3px;color:#fff;margin:0 0 5px}.g3w-polygonattributes-types-content[data-v-7fd19c11]{display:flex;justify-content:space-between;padding:3px;border-radius:3px;border:1px solid #f4f4f4}\")\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _applicationState = require('store/application-state');\n\nvar _applicationState2 = _interopRequireDefault(_applicationState);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar _require = require('core/i18n/i18n.service'),\n    t = _require.t;\n\nexports.default = {\n  name: \"querypolygonaddattributes\",\n  props: {\n    layer: {\n      type: Object\n    },\n    config: {\n      type: Object,\n      default: null\n    }\n  },\n  data: function data() {\n    return {\n      type: this.config.choices[0].type\n    };\n  },\n  created: function created() {\n    var _this = this;\n\n    this.unwatch = this.$watch(function () {\n      return _applicationState2.default.language;\n    }, function () {\n      _this.config.choices.forEach(function (choice) {\n        return $(_this.$refs[choice.type]).text(t(choice.label));\n      });\n      $(_this.$refs.g3w_select_feature_featurepolygon).select2().trigger('change');\n    });\n  },\n  beforeDestroy: function beforeDestroy() {\n    this.unwatch && this.unwatch();\n    this.unwatch = null;\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticStyle:{\"width\":\"100%\"}},[_c('h5',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.mapcontrols.querybypolygon.download.title'),expression:\"'sdk.mapcontrols.querybypolygon.download.title'\"}],staticClass:\"skin-background-color g3w-polygonattributes-types-title\"}),_vm._v(\" \"),_c('div',{staticClass:\"g3w-polygonattributes-types-content\"},[_c('select',{directives:[{name:\"select2\",rawName:\"v-select2\",value:('type'),expression:\"'type'\"}],ref:\"g3w_select_feature_featurepolygon\",staticClass:\"form-control\",staticStyle:{\"width\":\"100%\"},attrs:{\"search\":false}},_vm._l((_vm.config.choices),function(choice){return _c('option',{directives:[{name:\"t\",rawName:\"v-t\",value:(choice.label),expression:\"choice.label\"}],key:choice.type,ref:choice.type,refInFor:true,domProps:{\"value\":choice.type}})}),0),_vm._v(\" \"),_c('button',{staticClass:\"btn skin-button\",staticStyle:{\"border-radius\":\"0 3px 3px 0\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.config.download(_vm.type)}}},[_c('span',{class:_vm.g3wtemplate.getFontClass('download')})])])])}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-7fd19c11\"\n\n},{\"core/i18n/i18n.service\":13,\"store/application-state\":373,\"vueify/lib/insert-css\":1}],283:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _QueryResultsAction = require(\"components/QueryResultsAction.vue\");\n\nvar _QueryResultsAction2 = _interopRequireDefault(_QueryResultsAction);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = {\n  name: \"actions\",\n  props: {\n    featureIndex: {\n      type: Number\n    },\n    feature: {\n      type: Object\n    },\n    layer: {\n      type: Object\n    },\n    trigger: {\n      type: Function\n    },\n    actions: {\n      type: Array,\n      default: []\n    }\n  },\n  components: {\n    action: _QueryResultsAction2.default\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.actions.length)?_c('td',{staticClass:\"g3w-feature-actions\"},_vm._l((_vm.actions),function(action){return _c('action',_vm._b({key:action.id,attrs:{\"action\":action}},'action',_vm.$props,false))}),1):_vm._e()}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-ec80a64e\"\n\n},{\"components/QueryResultsAction.vue\":279}],284:[function(require,module,exports){\nvar __vueify_style_dispose__ = require(\"vueify/lib/insert-css\").insert(\".noAttributes[data-v-137530c7]{display:flex;justify-content:flex-end}\")\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _QueryResultsActions = require('components/QueryResultsActions.vue');\n\nvar _QueryResultsActions2 = _interopRequireDefault(_QueryResultsActions);\n\nvar _mixins = require('mixins');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = {\n  name: \"headerfeaturebody\",\n  mixins: [_mixins.fieldsMixin],\n  props: {\n    toggleFeatureBoxAndZoom: {\n      type: Function\n    },\n    trigger: {\n      type: Function\n    },\n    hasLayerOneFeature: {\n      type: Function\n    },\n    boxLayerFeature: {\n      type: Object\n    },\n    getLayerField: {\n      type: Function\n    },\n    attributesSubset: {\n      type: Function\n    },\n    layer: {\n      type: Object\n    },\n    feature: {\n      type: Object\n    },\n    index: {\n      type: Number\n    },\n    actions: {\n      type: Array\n    }\n  },\n  components: {\n    actions: _QueryResultsActions2.default\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('tr',{staticClass:\"featurebox-header\",class:[_vm.boxLayerFeature.collapsed ? '' : 'featurebox-header-open'],on:{\"click\":function($event){return _vm.toggleFeatureBoxAndZoom(_vm.layer,_vm.feature)},\"mouseover\":function($event){return _vm.trigger({id:'highlightgeometry'}, _vm.layer, _vm.feature, _vm.index)},\"mouseout\":function($event){return _vm.trigger({id:'clearHighlightGeometry'}, _vm.layer, _vm.feature, _vm.index)}}},[_c('actions',{attrs:{\"layer\":_vm.layer,\"featureIndex\":_vm.index,\"trigger\":_vm.trigger,\"feature\":_vm.feature,\"actions\":_vm.actions}}),_vm._v(\" \"),_vm._l((_vm.attributesSubset(_vm.layer)),function(attribute){return _c('td',{staticClass:\"attribute\"},[(_vm.isLink(_vm.getLayerField({layer: _vm.layer, feature: _vm.feature, fieldName: attribute.name})))?_c('span',{staticClass:\"skin-color\",class:_vm.g3wtemplate.getFontClass('link')}):(_vm.isPhoto(_vm.getLayerField({layer: _vm.layer, feature: _vm.feature, fieldName: attribute.name})))?_c('span',{staticClass:\"skin-color\",class:_vm.g3wtemplate.getFontClass('image')}):(_vm.isImage(_vm.getLayerField({layer: _vm.layer, feature: _vm.feature, fieldName: attribute.name})))?_c('span',{staticClass:\"skin-color\",class:_vm.g3wtemplate.getFontClass('image')}):_c('span',[_vm._v(_vm._s(_vm.feature.attributes[attribute.name]))])])}),_vm._v(\" \"),(!_vm.hasLayerOneFeature(_vm.layer))?_c('td',{staticClass:\"collapsed\",class:{noAttributes: _vm.attributesSubset(_vm.layer).length === 0}},[_c('span',{staticClass:\"fa link morelink skin-color\",class:[_vm.boxLayerFeature.collapsed ? _vm.g3wtemplate.font['plus'] : _vm.g3wtemplate.font['minus']]})]):_vm._e()],2)}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-137530c7\"\n\n},{\"components/QueryResultsActions.vue\":283,\"mixins\":343,\"vueify/lib/insert-css\":1}],285:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _FieldLink = require('components/FieldLink.vue');\n\nvar _FieldLink2 = _interopRequireDefault(_FieldLink);\n\nvar _FieldVue = require('components/FieldVue.vue');\n\nvar _FieldVue2 = _interopRequireDefault(_FieldVue);\n\nvar _mixins = require('mixins');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = {\n  name: \"tableattributefieldvalue\",\n  props: {\n    field: {\n      type: Object\n    },\n    feature: {\n      type: Object\n    }\n  },\n  mixins: [_mixins.fieldsMixin],\n  components: {\n    'g3w-link': _FieldLink2.default,\n    'g3w-vue': _FieldVue2.default\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.isVue(_vm.field))?_c('g3w-vue',{attrs:{\"feature\":_vm.feature,\"state\":_vm.field}}):(_vm.isSimple(_vm.field))?_c('span',{domProps:{\"innerHTML\":_vm._s(_vm.field.value)}}):(_vm.isPhoto(_vm.field))?_c('g3w-image',{attrs:{\"value\":_vm.field.value}}):(_vm.isImage(_vm.field))?_c('g3w-image',{attrs:{\"value\":_vm.field.value}}):(_vm.isLink(_vm.field))?_c('g3w-link',{attrs:{\"state\":{value: _vm.field.value}}}):_vm._e()}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-0a32e30e\"\n\n},{\"components/FieldLink.vue\":209,\"components/FieldVue.vue\":212,\"mixins\":343}],286:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _constant = require('app/constant');\n\nvar _FieldG3W = require('components/FieldG3W.vue');\n\nvar _FieldG3W2 = _interopRequireDefault(_FieldG3W);\n\nvar _QueryResultsActionDownloadFormats = require('components/QueryResultsActionDownloadFormats.vue');\n\nvar _QueryResultsActionDownloadFormats2 = _interopRequireDefault(_QueryResultsActionDownloadFormats);\n\nvar _catalogLayers = require('store/catalog-layers');\n\nvar _catalogLayers2 = _interopRequireDefault(_catalogLayers);\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nvar _mixins = require('mixins');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar _require = require('core/utils/utils'),\n    throttle = _require.throttle;\n\nvar RelationPageEventBus = require('gui/relations/vue/relationeventbus');\n\nvar SIDEBARWIDTH = void 0;\n\nexports.default = {\n  props: ['table', 'feature', 'relation', 'previousview', 'showChartButton', 'cardinality'],\n  inject: ['relationnoback'],\n  mixins: [_mixins.fieldsMixin, _mixins.resizeMixin],\n  components: {\n    Field: _FieldG3W2.default\n  },\n  data: function data() {\n    return {\n      feature: null,\n      fields: null,\n      chart: false,\n      headercomponent: null,\n      downloadButton: null,\n      downloadLayer: {\n        state: null,\n        config: {\n          downloads: []\n        }\n      }\n    };\n  },\n\n  computed: {\n    showrelationslist: function showrelationslist() {\n      return this.previousview === 'relations' && !this.relationnoback;\n    },\n    one: function one() {\n      return this.relation.type === 'ONE';\n    }\n  },\n  methods: {\n    createTable: function () {\n      var _ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee3() {\n        var _this = this;\n\n        var layer, downloadformats, downloadformatsLength;\n        return regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                layer = _catalogLayers2.default.getLayerById(this.table.layerId);\n\n                this.isEditable = layer.isEditable() && !layer.isInEditing();\n                downloadformats = layer.isDownloadable() ? layer.getDownloadableFormats() : [];\n                downloadformatsLength = downloadformats.length;\n\n                if (downloadformatsLength > 0) {\n                  this.downloadButton = {\n                    toggled: false,\n                    tooltip: downloadformatsLength > 1 ? 'Downloads' : 'sdk.tooltips.download_' + downloadformats[0],\n                    handler: downloadformatsLength > 1 ? _asyncToGenerator(regeneratorRuntime.mark(function _callee() {\n                      return regeneratorRuntime.wrap(function _callee$(_context) {\n                        while (1) {\n                          switch (_context.prev = _context.next) {\n                            case 0:\n                              _this.downloadButton.toggled = !_this.downloadButton.toggled;\n                              _this.downloadLayer.state = _this.downloadLayer.state || layer.state;\n                              _this.downloadLayer.config.downloads = _this.downloadLayer.config.downloads.length ? _this.downloadLayer.config.downloads : downloadformats.map(function (format) {\n                                return {\n                                  id: format,\n                                  format: format,\n                                  cbk: function cbk() {\n                                    _this.saveRelation(layer.getDownloadUrl(format));\n                                    _this.headercomponent = null;\n                                  },\n                                  download: true\n                                };\n                              });\n                              _this.headercomponent = _this.downloadButton.toggled ? _QueryResultsActionDownloadFormats2.default : null;\n\n                            case 4:\n                            case 'end':\n                              return _context.stop();\n                          }\n                        }\n                      }, _callee, _this);\n                    })) : function () {\n                      return _this.saveRelation(layer.getDownloadUrl(downloadformats[0]));\n                    }\n                  };\n                }\n                RelationPageEventBus.$on('reload', function () {\n                  _this.reloadLayout();\n                });\n                this.showChart = throttle(_asyncToGenerator(regeneratorRuntime.mark(function _callee2() {\n                  var relationData;\n                  return regeneratorRuntime.wrap(function _callee2$(_context2) {\n                    while (1) {\n                      switch (_context2.prev = _context2.next) {\n                        case 0:\n                          _this.chart = !_this.chart;\n                          _context2.next = 3;\n                          return _this.$nextTick();\n\n                        case 3:\n                          _this.chartContainer = _this.chartContainer || $('#chart_content');\n                          relationData = {\n                            relations: [_this.relation],\n                            fid: _this.feature.attributes[_constant.G3W_FID]\n                          };\n\n                          _this.$emit(_this.chart ? 'show-chart' : 'hide-chart', _this.chartContainer, relationData);\n\n                        case 6:\n                        case 'end':\n                          return _context2.stop();\n                      }\n                    }\n                  }, _callee2, _this);\n                })));\n                _context3.next = 9;\n                return this.$nextTick();\n\n              case 9:\n                SIDEBARWIDTH = _gui2.default.getSize({ element: 'sidebar', what: 'width' });\n                this.relation.title = this.relation.name;\n\n                if (!this.one) {\n                  this.relationDataTable = $(this.$refs.relationtable).DataTable({\n                    \"pageLength\": 10,\n                    \"bLengthChange\": true,\n                    \"scrollResize\": true,\n                    \"scrollCollapse\": true,\n                    \"scrollX\": true,\n                    \"responsive\": true,\n                    \"order\": [this.table.formStructure ? 1 : 0, 'asc'],\n                    \"columnDefs\": [{ \"orderable\": !this.table.formStructure, \"targets\": 0 }]\n                  });\n                  this.tableHeaderHeight = $('.query-relation  div.dataTables_scrollHeadInner').height();\n                }\n\n                _gui2.default.on('pop-content', this.resize);\n\n              case 13:\n              case 'end':\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this);\n      }));\n\n      function createTable() {\n        return _ref.apply(this, arguments);\n      }\n\n      return createTable;\n    }(),\n    resize: function () {\n      var _ref4 = _asyncToGenerator(regeneratorRuntime.mark(function _callee4() {\n        var tableHeight, datatableBody, breadcrumbHeight, OtherElementHeight, width;\n        return regeneratorRuntime.wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                if (this.$refs.query_relation && this.$refs.query_relation.parentNode.style.display !== 'none') {\n                  tableHeight = $(\".content\").height();\n                  datatableBody = $(this.$refs.query_relation).find('div.dataTables_scrollBody');\n                  breadcrumbHeight = $('.content_breadcrumb').outerHeight();\n                  OtherElementHeight = breadcrumbHeight + $('.navbar-header').outerHeight() + $('.close-panel-block').outerHeight() + $(this.$refs['relation-header']).outerHeight() + $('.dataTables_filter').last().outerHeight() + $('.dataTables_paginate.paging_simple_numbers').outerHeight() + $('.dataTables_scrollHead').last().outerHeight();\n\n                  datatableBody.height(tableHeight - this.tableHeaderHeight - OtherElementHeight);\n                  if (this.table.rowFormStructure) {\n                    width = datatableBody.width() - $(this.$refs.relationtable).find('tr.selected > td').outerWidth() - 20;\n\n                    $('.row-wrap-tabs > .tabs-wrapper').width(width);\n                  }\n                  this.reloadLayout();\n                }\n\n              case 1:\n              case 'end':\n                return _context4.stop();\n            }\n          }\n        }, _callee4, this);\n      }));\n\n      function resize() {\n        return _ref4.apply(this, arguments);\n      }\n\n      return resize;\n    }(),\n    saveRelation: function saveRelation(type) {\n      this.$emit('save-relation', type);\n      this.downloadButton.toggled = false;\n    },\n    showFormStructureRow: function () {\n      var _ref5 = _asyncToGenerator(regeneratorRuntime.mark(function _callee5(event, row) {\n        return regeneratorRuntime.wrap(function _callee5$(_context5) {\n          while (1) {\n            switch (_context5.prev = _context5.next) {\n              case 0:\n                this.table.rowFormStructure = this.table.rowFormStructure === row ? null : row;\n                this.fields = this.getRowFields(row);\n                _context5.next = 4;\n                return this.$nextTick();\n\n              case 4:\n                $('#relationtable_wrapper div.dataTables_scrollBody').css('overflow-x', this.table.rowFormStructure ? 'hidden' : 'auto');\n                this.resize();\n\n              case 6:\n              case 'end':\n                return _context5.stop();\n            }\n          }\n        }, _callee5, this);\n      }));\n\n      function showFormStructureRow(_x, _x2) {\n        return _ref5.apply(this, arguments);\n      }\n\n      return showFormStructureRow;\n    }(),\n    editFeature: function editFeature(index) {\n      var queryResultsService = _gui2.default.getService('queryresults');\n      queryResultsService.editFeature({\n        layer: {\n          id: this.table.layerId,\n          attributes: this.table.fields\n        },\n        feature: this.table.features[index]\n      });\n    },\n    getRowFields: function getRowFields(row) {\n      var _this2 = this;\n\n      return this.table.fields.map(function (field, index) {\n        field.value = row[index];\n        field.query = true;\n        field.input = {\n          type: '' + _this2.getFieldType(field)\n        };\n        return field;\n      });\n    },\n    reloadLayout: function reloadLayout() {\n      this.relationDataTable && this.relationDataTable.columns.adjust();\n    },\n    back: function back() {\n      this.$parent.setRelationsList();\n    },\n    fieldIs: function fieldIs(type, value) {\n      var fieldType = this.getFieldType(value);\n      return fieldType === type;\n    },\n    is: function is(type, value) {\n      return this.fieldIs(type, value);\n    },\n    moveFnc: function moveFnc(evt) {\n      var sidebarHeaderSize = $('.sidebar-collapse').length ? 0 : SIDEBARWIDTH;\n      var size = evt.pageX + 2 - sidebarHeaderSize;\n      this.$refs.tablecontent.style.width = size + 'px';\n      this.$refs.chartcontent.style.width = $(this.$refs.relationwrapper).width() - size - 10 + 'px';\n    }\n  },\n  watch: {\n    table: {\n      immediate: true,\n      handler: function handler(table) {\n        table && table.rows.length && this.createTable();\n      }\n    },\n    chart: function () {\n      var _ref6 = _asyncToGenerator(regeneratorRuntime.mark(function _callee6() {\n        return regeneratorRuntime.wrap(function _callee6$(_context6) {\n          while (1) {\n            switch (_context6.prev = _context6.next) {\n              case 0:\n                _context6.next = 2;\n                return this.$nextTick();\n\n              case 2:\n                this.resize();\n\n              case 3:\n              case 'end':\n                return _context6.stop();\n            }\n          }\n        }, _callee6, this);\n      }));\n\n      function chart() {\n        return _ref6.apply(this, arguments);\n      }\n\n      return chart;\n    }(),\n    headercomponent: function () {\n      var _ref7 = _asyncToGenerator(regeneratorRuntime.mark(function _callee7() {\n        return regeneratorRuntime.wrap(function _callee7$(_context7) {\n          while (1) {\n            switch (_context7.prev = _context7.next) {\n              case 0:\n                _context7.next = 2;\n                return this.$nextTick();\n\n              case 2:\n                this.resize();\n\n              case 3:\n              case 'end':\n                return _context7.stop();\n            }\n          }\n        }, _callee7, this);\n      }));\n\n      function headercomponent() {\n        return _ref7.apply(this, arguments);\n      }\n\n      return headercomponent;\n    }()\n  },\n  beforeCreate: function beforeCreate() {\n    this.delayType = 'debounce';\n  },\n  beforeDestroy: function () {\n    var _ref8 = _asyncToGenerator(regeneratorRuntime.mark(function _callee8() {\n      return regeneratorRuntime.wrap(function _callee8$(_context8) {\n        while (1) {\n          switch (_context8.prev = _context8.next) {\n            case 0:\n              if (this.relationDataTable) {\n                this.relationDataTable.destroy();\n                this.relationDataTable = null;\n                this.chartContainer && this.$emit('hide-chart', this.chartContainer);\n                this.chartContainer = null;\n                this.tableHeaderHeight = null;\n                _gui2.default.off('pop-content', this.resize);\n              }\n\n            case 1:\n            case 'end':\n              return _context8.stop();\n          }\n        }\n      }, _callee8, this);\n    }));\n\n    function beforeDestroy() {\n      return _ref8.apply(this, arguments);\n    }\n\n    return beforeDestroy;\n  }()\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.table)?_c('div',{ref:\"query_relation\",staticClass:\"query-relation\",class:_vm.isMobile() ? 'mobile' : null,staticStyle:{\"margin-top\":\"3px\"}},[_c('div',{ref:\"relation-header\",staticClass:\"header skin-background-color lighten\",staticStyle:{\"padding\":\"3px\",\"display\":\"flex\",\"justify-content\":\"space-between\",\"align-items\":\"center\",\"width\":\"100%\"}},[_c('div',{staticClass:\"g3w-long-text\",staticStyle:{\"border-radius\":\"3px\"},style:({fontSize: _vm.isMobile() ? '1em' : '1.3em'})},[(_vm.showrelationslist)?_c('span',{directives:[{name:\"t-tooltip\",rawName:\"v-t-tooltip:right.create\",value:('sdk.relations.back_to_relations'),expression:\"'sdk.relations.back_to_relations'\",arg:\"right\",modifiers:{\"create\":true}}],staticClass:\"action-button-icon action-button\",class:_vm.g3wtemplate.getFontClass('exit'),staticStyle:{\"font-size\":\"0.8em\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.back($event)}}}):_vm._e(),_vm._v(\" \"),_c('span',{staticClass:\"relation-tile skin-color\",staticStyle:{\"font-weight\":\"bold\"}},[_vm._v(\" \"+_vm._s(_vm.relation.name))])]),_vm._v(\" \"),(_vm.table.rows.length)?_c('div',{staticClass:\"relations-table-tools\",staticStyle:{\"font-size\":\"1.1em\",\"margin-bottom\":\"3px\"}},[(_vm.downloadButton)?_c('span',{directives:[{name:\"download\",rawName:\"v-download\"},{name:\"t-tooltip\",rawName:\"v-t-tooltip:left.create\",value:(_vm.downloadButton.tooltip),expression:\"downloadButton.tooltip\",arg:\"left\",modifiers:{\"create\":true}}],staticClass:\"action-button-icon action-button\",class:[_vm.g3wtemplate.getFontClass('download'), {'toggled-white': _vm.downloadButton.toggled}],staticStyle:{\"padding\":\"5px\"},on:{\"click\":_vm.downloadButton.handler}}):_vm._e(),_vm._v(\" \"),(_vm.showChartButton)?_c('span',{directives:[{name:\"t-tooltip\",rawName:\"v-t-tooltip:bottom.create\",value:('sdk.tooltips.show_chart'),expression:\"'sdk.tooltips.show_chart'\",arg:\"bottom\",modifiers:{\"create\":true}}],staticClass:\"action-button-icon action-button\",class:[_vm.g3wtemplate.getFontClass('chart'), _vm.chart ? 'toggled-white' : ''],staticStyle:{\"padding\":\"5px\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.showChart($event)}}}):_vm._e()]):_vm._e()]),_vm._v(\" \"),(_vm.table.rows.length)?_c('div',{ref:\"relationwrapper\",staticStyle:{\"display\":\"flex\",\"justify-content\":\"space-between\",\"margin-bottom\":\"5px\",\"margin-top\":\"3px\",\"height\":\"95%\"}},[_c('div',{ref:\"tablecontent\",style:({width: _vm.chart ? '70%' : '100%', marginRight: _vm.chart ? '8px' : '3px', position: 'relative' }),attrs:{\"id\":\"table_content\"}},[(_vm.headercomponent)?[_c('div',{staticStyle:{\"width\":\"100%\",\"display\":\"flex\",\"margin-left\":\"auto\",\"margin-bottom\":\"5px\",\"margin-right\":\"4px\"}},[_c(_vm.headercomponent,{tag:\"component\",attrs:{\"layer\":_vm.downloadLayer.state,\"config\":_vm.downloadLayer.config}})],1)]:_vm._e(),_vm._v(\" \"),_c('table',{ref:\"relationtable\",staticClass:\"hover relationtable table table-striped row-border\",staticStyle:{\"width\":\"100%\"}},[_c('thead',[_c('tr',{staticStyle:{\"height\":\"0! important\"}},[(_vm.table.formStructure || _vm.isEditable)?_c('th',{style:({minWidth: ((((1*!!_vm.table.formStructure) + (1*_vm.isEditable))*30) + \"px\"), padding: '0 !important' })}):_vm._e(),_vm._v(\" \"),_vm._l((_vm.table.columns),function(column){return _c('th',[_vm._v(_vm._s(column))])})],2)]),_vm._v(\" \"),_c('tbody',_vm._l((_vm.table.rows),function(row,index){return _c('tr',{key:_vm.table.rows_fid[index],class:{'selected': _vm.table.rowFormStructure === row}},[(_vm.table.formStructure || _vm.isEditable)?_c('td',[(_vm.table.formStructure)?_c('span',{directives:[{name:\"t-tooltip\",rawName:\"v-t-tooltip:right.create\",value:(_vm.table.rowFormStructure === row ? 'sdk.tooltips.relations.form_to_row': 'sdk.tooltips.relations.row_to_form'),expression:\"table.rowFormStructure === row ? 'sdk.tooltips.relations.form_to_row': 'sdk.tooltips.relations.row_to_form'\",arg:\"right\",modifiers:{\"create\":true}}],staticClass:\"action-button row-form skin-color\",class:[_vm.table.rowFormStructure === row ? _vm.g3wtemplate.getFontClass('minus') :  _vm.g3wtemplate.getFontClass('table')],staticStyle:{\"cursor\":\"pointer\"},attrs:{\"current-tooltip\":_vm.table.rowFormStructure === row ? 'sdk.tooltips.relations.form_to_row': 'sdk.tooltips.relations.row_to_form'},on:{\"click\":function($event){$event.stopPropagation();return _vm.showFormStructureRow($event, row)}}}):_vm._e(),_vm._v(\" \"),(_vm.isEditable)?_c('span',{directives:[{name:\"t-tooltip\",rawName:\"v-t-tooltip:right.create\",value:('Edit'),expression:\"'Edit'\",arg:\"right\",modifiers:{\"create\":true}}],staticClass:\"action-button row-form skin-color\",class:_vm.g3wtemplate.getFontClass('pencil'),on:{\"click\":function($event){$event.stopPropagation();return _vm.editFeature(index)}}}):_vm._e()]):_vm._e(),_vm._v(\" \"),(_vm.table.formStructure && _vm.table.rowFormStructure === row)?[_c('td',{staticClass:\"row-wrap-tabs\",attrs:{\"colspan\":_vm.table.columns.length}},[_c('tabs',{attrs:{\"layerid\":_vm.table.layerId,\"feature\":_vm.table.features[index],\"fields\":_vm.fields,\"tabs\":_vm.table.formStructure}})],1)]:_vm._l((row),function(value){return _c('td',[_c('field',{attrs:{\"state\":{value:value}}})],1)})],2)}),0)])],2),_vm._v(\" \"),_c('g3w-resize',{staticClass:\"skin-border-color lighten\",staticStyle:{\"border-style\":\"solid\",\"border-width\":\"0 1px 0 1px\"},attrs:{\"show\":_vm.chart,\"moveFnc\":_vm.moveFnc,\"where\":'content'}}),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.chart),expression:\"chart\"}],ref:\"chartcontent\",style:({width: _vm.chart ? '30%' : '0', paddingBottom: '5px', marginBottom: '5px', marginLeft: '8px' }),attrs:{\"id\":\"chart_content\"}})],1):_c('div',{staticClass:\"dataTables_scrollBody\",staticStyle:{\"font-weight\":\"bold\",\"margin-top\":\"10px\",\"font-size\":\"1.1em\",\"display\":\"flex\",\"justify-content\":\"space-between\"}},[_c('span',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.relations.no_relations_found'),expression:\"'sdk.relations.no_relations_found'\"}]})])]):_vm._e()}\n__vue__options__.staticRenderFns = []\n\n},{\"app/constant\":4,\"components/FieldG3W.vue\":206,\"components/QueryResultsActionDownloadFormats.vue\":280,\"core/utils/utils\":68,\"gui/relations/vue/relationeventbus\":174,\"mixins\":343,\"services/gui\":361,\"store/catalog-layers\":374}],287:[function(require,module,exports){\nvar __vueify_style_dispose__ = require(\"vueify/lib/insert-css\").insert(\".relation-grid-item[data-v-02f56b7e]{min-width:0;min-height:80px;border:2px solid;cursor:pointer;border-radius:4px;background-color:#fff;display:flex;align-items:center}.relation-grid-item[data-v-02f56b7e]:hover{background-color:transparent}\")\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nexports.default = {\n  props: ['relations', 'feature', 'loading'],\n  methods: {\n    showRelation: function () {\n      var _ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee(relation) {\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return this.$parent.showRelation(relation);\n\n              case 2:\n              case 'end':\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function showRelation(_x) {\n        return _ref.apply(this, arguments);\n      }\n\n      return showRelation;\n    }(),\n    featureInfo: function featureInfo() {\n      var infoFeatures = [];\n      var index = 0;\n      Object.entries(this.feature.attributes).forEach(function (_ref2) {\n        var _ref3 = _slicedToArray(_ref2, 2),\n            key = _ref3[0],\n            value = _ref3[1];\n\n        if (index > 2) return false;\n        if (value && _.isString(value) && value.indexOf('/') === -1) {\n          infoFeatures.push({\n            key: key,\n            value: value\n          });\n          index += 1;\n        }\n      });\n      return infoFeatures;\n    }\n  },\n  mounted: function () {\n    var _ref4 = _asyncToGenerator(regeneratorRuntime.mark(function _callee2() {\n      var relation;\n      return regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              if (!(this.relations.length === 1)) {\n                _context2.next = 5;\n                break;\n              }\n\n              relation = this.relations[0];\n\n              relation.noback = true;\n              _context2.next = 5;\n              return this.showRelation(relation);\n\n            case 5:\n            case 'end':\n              return _context2.stop();\n          }\n        }\n      }, _callee2, this);\n    }));\n\n    function mounted() {\n      return _ref4.apply(this, arguments);\n    }\n\n    return mounted;\n  }(),\n  beforeDestroy: function beforeDestroy() {\n    if (this.relations.length === 1) {\n      delete this.relations[0].noback;\n    }\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"query-relations\",staticStyle:{\"overflow-y\":\"auto\"}},[_c('div',{staticClass:\"header skin-background-color lighten\",staticStyle:{\"margin-bottom\":\"10px\",\"border-radius\":\"4px\",\"padding\":\"5px\"}},[_c('div',{staticClass:\"skin-color-dark\"},[_c('span',{directives:[{name:\"t\",rawName:\"v-t:pre\",value:('sdk.relations.list_of_relations_feature'),expression:\"'sdk.relations.list_of_relations_feature'\",arg:\"pre\"}],staticStyle:{\"font-size\":\"1.1em\"}}),_vm._v(\" \"),_vm._l((_vm.featureInfo()),function(info){return _c('span',[_c('b',[_vm._v(_vm._s(info.key))]),_vm._v(\": \"+_vm._s(info.value)+\" \")])})],2)]),_vm._v(\" \"),_c('div',{staticClass:\"query-relations-content\",staticStyle:{\"display\":\"grid\",\"grid-template-columns\":\"repeat(2, auto)\",\"grid-column-gap\":\"5px\",\"grid-row-gap\":\"5px\"}},_vm._l((_vm.relations),function(relation){return _c('div',{staticClass:\"skin-border-color relation-grid-item\",on:{\"click\":function($event){return _vm.showRelation(relation)}}},[_c('span',{staticClass:\"skin-color g3w-long-text\",staticStyle:{\"font-weight\":\"bold\",\"padding\":\"5px\"}},[_vm._v(_vm._s(relation.name))])])}),0)])}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-02f56b7e\"\n\n},{\"vueify/lib/insert-css\":1}],288:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nvar _Relations = require('components/Relations.vue');\n\nvar _Relations2 = _interopRequireDefault(_Relations);\n\nvar _Relation = require('components/Relation.vue');\n\nvar _Relation2 = _interopRequireDefault(_Relation);\n\nvar _constant = require('constant');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar _require = require('core/utils/geo'),\n    getFeaturesFromResponseVectorApi = _require.getFeaturesFromResponseVectorApi;\n\nvar RelationPageEventBus = require('gui/relations/vue/relationeventbus');\n\nexports.default = {\n  data: function data() {\n    this.chartRelationIds = this.$options.chartRelationIds || [];\n    var _$options = this.$options,\n        table = _$options.table,\n        _$options$relation = _$options.relation,\n        relation = _$options$relation === undefined ? null : _$options$relation,\n        relations = _$options.relations,\n        nmRelation = _$options.nmRelation,\n        feature = _$options.feature,\n        currentview = _$options.currentview,\n        service = _$options.service;\n\n    return {\n      loading: false,\n      state: null,\n      error: false,\n      table: table ? service.buildRelationTable(table) : null,\n      relation: relation,\n      relations: relations,\n      nmRelation: nmRelation,\n      showChartButton: false,\n      feature: feature,\n      currentview: currentview,\n      previousview: currentview\n    };\n  },\n  provide: function provide() {\n    return {\n      relationnoback: this.$options.relations.length === 1\n    };\n  },\n\n  components: {\n    'relations': _Relations2.default,\n    'relation': _Relation2.default\n  },\n  methods: {\n    saveRelations: function saveRelations(type) {\n      this.$options.service.saveRelations(type);\n    },\n    reloadLayout: function reloadLayout() {\n      RelationPageEventBus.$emit('reload');\n    },\n    showChart: function showChart(container, relationData) {\n      var relationLayerId = this.relation.referencingLayer;\n      _gui2.default.getService('queryresults').showChart([relationLayerId], container, relationData);\n    },\n    hideChart: function hideChart(container) {\n      _gui2.default.getService('queryresults').hideChart(container);\n    },\n    showRelation: function () {\n      var _ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee(relation) {\n        var relationLayerId, fid, response, relations;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _gui2.default.setLoadingContent(true);\n                this.loading = true;\n                this.relation = relation;\n                relationLayerId = relation.referencingLayer;\n                fid = this.feature.attributes[_constant.G3W_FID];\n                _context.prev = 5;\n                _context.next = 8;\n                return this.$options.service.getRelations({\n                  layer: this.$options.layer,\n                  relation: relation,\n                  fid: fid\n                });\n\n              case 8:\n                response = _context.sent;\n                relations = getFeaturesFromResponseVectorApi(response, {\n                  type: 'result'\n                });\n\n                if (!this.nmRelation) {\n                  _context.next = 15;\n                  break;\n                }\n\n                relationLayerId = this.nmRelation.referencedLayer;\n                _context.next = 14;\n                return this.$options.service.getRelationsNM({\n                  nmRelation: this.nmRelation,\n                  features: relations\n                });\n\n              case 14:\n                relations = _context.sent;\n\n              case 15:\n                this.showChartButton = !!this.chartRelationIds.find(function (chartlayerid) {\n                  return chartlayerid === relationLayerId;\n                });\n                this.table = this.$options.service.buildRelationTable(relations, relationLayerId);\n\n                _gui2.default.changeCurrentContentOptions({\n                  title: relation.name,\n                  crumb: {\n                    title: relation.name\n                  }\n                });\n                _context.next = 20;\n                return this.$nextTick();\n\n              case 20:\n                this.previousview = this.currentview;\n                this.currentview = 'relation';\n                _context.next = 26;\n                break;\n\n              case 24:\n                _context.prev = 24;\n                _context.t0 = _context['catch'](5);\n\n              case 26:\n                _gui2.default.setLoadingContent(false);\n                this.loading = true;\n\n              case 28:\n              case 'end':\n                return _context.stop();\n            }\n          }\n        }, _callee, this, [[5, 24]]);\n      }));\n\n      function showRelation(_x) {\n        return _ref.apply(this, arguments);\n      }\n\n      return showRelation;\n    }(),\n    setRelationsList: function setRelationsList() {\n      this.previousview = 'relation';\n      this.currentview = 'relations';\n      _gui2.default.changeCurrentContentOptions({\n        crumb: {\n          title: _constant.LIST_OF_RELATIONS_TITLE\n        }\n      });\n      this.loading = false;\n    }\n  },\n  beforeMount: function beforeMount() {\n    if (this.currentview === 'relation' || this.relations.length === 1 && this.relations[0].type === 'ONE') this.showRelation(this.relations[0]);\n  },\n  mounted: function () {\n    var _ref2 = _asyncToGenerator(regeneratorRuntime.mark(function _callee2() {\n      return regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              this.relations.sort(function (_ref3, _ref4) {\n                var relationName1 = _ref3.name;\n                var relationName2 = _ref4.name;\n\n                if (relationName1 < relationName2) return -1;\n                if (relationName1 > relationName2) return 1;\n                return 0;\n              });\n              _context2.next = 3;\n              return this.$nextTick();\n\n            case 3:\n              if (this.error) requestAnimationFrame(function () {\n                _gui2.default.popContent();\n              });\n              this.error = false;\n\n            case 5:\n            case 'end':\n              return _context2.stop();\n          }\n        }\n      }, _callee2, this);\n    }));\n\n    function mounted() {\n      return _ref2.apply(this, arguments);\n    }\n\n    return mounted;\n  }()\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"query-relations-page\"},[_c(_vm.currentview,{ref:_vm.currentview,tag:\"component\",attrs:{\"loading\":_vm.loading,\"previousview\":_vm.previousview,\"showChartButton\":_vm.showChartButton,\"relations\":_vm.relations,\"relation\":_vm.relation,\"nmRelation\":_vm.nmRelation,\"feature\":_vm.feature,\"table\":_vm.table},on:{\"save-relation\":_vm.saveRelations,\"show-chart\":_vm.showChart,\"hide-chart\":_vm.hideChart}})],1)}\n__vue__options__.staticRenderFns = []\n\n},{\"components/Relation.vue\":286,\"components/Relations.vue\":287,\"constant\":4,\"core/utils/geo\":64,\"gui/relations/vue/relationeventbus\":174,\"services/gui\":361}],289:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _Tool = require('components/Tool.vue');\n\nvar _Tool2 = _interopRequireDefault(_Tool);\n\nvar _QueryBuilderSearch = require('components/QueryBuilderSearch.vue');\n\nvar _QueryBuilderSearch2 = _interopRequireDefault(_QueryBuilderSearch);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nexports.default = {\n  data: function data() {\n    return {\n      state: null\n    };\n  },\n\n  components: {\n    'g3w-tool': _Tool2.default,\n    'g3w-search-querybuilder': _QueryBuilderSearch2.default\n  },\n  computed: {\n    show: function show() {\n      return this.state.searches.length + this.state.searchtools.length + this.state.querybuildersearches.length > 0;\n    }\n  },\n  methods: {\n    showPanel: function showPanel() {\n      var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      this.$options.service.showPanel(config);\n    },\n    removeItem: function removeItem(_ref) {\n      var type = _ref.type,\n          index = _ref.index;\n\n      this.$options.service.removeItem({\n        type: type,\n        index: index\n      });\n    }\n  },\n  mounted: function () {\n    var _ref2 = _asyncToGenerator(regeneratorRuntime.mark(function _callee() {\n      return regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return this.$nextTick();\n\n            case 2:\n              $('.icon-search-action').tooltip();\n\n            case 3:\n            case 'end':\n              return _context.stop();\n          }\n        }\n      }, _callee, this);\n    }));\n\n    function mounted() {\n      return _ref2.apply(this, arguments);\n    }\n\n    return mounted;\n  }()\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.show)?_c('ul',{staticClass:\"treeview-menu g3w-search g3w-tools menu-items\",attrs:{\"id\":\"g3w-search\"}},[_vm._l((_vm.state.searches),function(search){return _c('li',{staticClass:\"menu-item\",on:{\"click\":function($event){return _vm.showPanel(search)}}},[_c('i',{class:_vm.g3wtemplate.getFontClass('empty-circle')}),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(search.name))])])}),_vm._v(\" \"),_vm._l((_vm.state.searchtools),function(searchtool){return _c('li',[_c('g3w-tool',{attrs:{\"tool\":searchtool}})],1)}),_vm._v(\" \"),_vm._l((_vm.state.querybuildersearches),function(querybuildersearch,index){return _c('g3w-search-querybuilder',{key:querybuildersearch.id,attrs:{\"querybuildersearch\":querybuildersearch},on:{\"delete\":function($event){return _vm.removeItem({type:'querybuilder', index:index})}}})})],2):_vm._e()}\n__vue__options__.staticRenderFns = []\n\n},{\"components/QueryBuilderSearch.vue\":277,\"components/Tool.vue\":305}],290:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _applicationState = require('store/application-state');\n\nvar _applicationState2 = _interopRequireDefault(_applicationState);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar _require = require('core/utils/utils'),\n    getUniqueDomId = _require.getUniqueDomId,\n    convertQGISDateTimeFormatToMoment = _require.convertQGISDateTimeFormatToMoment;\n\nexports.default = {\n  name: 'Searchdatetime',\n  props: {\n    forminput: {\n      type: Object,\n      require: true\n    }\n  },\n  created: function created() {\n    this.id = 'search_datetime_' + getUniqueDomId();\n  },\n\n  computed: {\n    time: function time() {\n      return this.forminput.options.format.time;\n    }\n  },\n  mounted: function () {\n    var _ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee() {\n      var _this = this;\n\n      var format, fieldformat, displayformat;\n      return regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return this.$nextTick();\n\n            case 2:\n              format = this.forminput.options.format;\n              fieldformat = format.fieldformat, displayformat = format.displayformat;\n\n              fieldformat = convertQGISDateTimeFormatToMoment(fieldformat);\n              displayformat = convertQGISDateTimeFormatToMoment(displayformat);\n              $('#' + this.id).datetimepicker({\n                defaultDate: null,\n                format: displayformat,\n                ignoreReadonly: true,\n                allowInputToggle: true,\n                toolbarPlacement: 'top',\n                widgetPositioning: {\n                  vertical: 'bottom',\n                  horizontal: 'left'\n                },\n                showClose: true,\n                locale: _applicationState2.default.language || 'en'\n              });\n\n              $('#' + this.id).on(\"dp.change\", function () {\n                var newDate = $('#' + _this.forminput.id).val();\n                _this.forminput.value = _.isEmpty(_.trim(newDate)) ? null : moment(newDate, displayformat).format(fieldformat);\n                _this.$emit('change', _this.forminput);\n              });\n\n              _applicationState2.default.ismobile && setTimeout(function () {\n                $('#' + _this.forminput.id).blur();\n              });\n\n            case 9:\n            case 'end':\n              return _context.stop();\n          }\n        }\n      }, _callee, this);\n    }));\n\n    function mounted() {\n      return _ref.apply(this, arguments);\n    }\n\n    return mounted;\n  }()\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"input-group date\",attrs:{\"id\":_vm.id}},[_c('input',{staticClass:\"form-control\",attrs:{\"id\":_vm.forminput.id,\"type\":\"text\"}}),_vm._v(\" \"),_c('span',{staticClass:\"input-group-addon skin-color\"},[_c('span',{class:_vm.g3wtemplate.getFontClass(_vm.time ? 'time': 'calendar')})])])}\n__vue__options__.staticRenderFns = []\n\n},{\"core/utils/utils\":68,\"store/application-state\":373}],291:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _SearchSelect = require('components/SearchSelect2.vue');\n\nvar _SearchSelect2 = _interopRequireDefault(_SearchSelect);\n\nvar _SearchDatetime = require('components/SearchDatetime.vue');\n\nvar _SearchDatetime2 = _interopRequireDefault(_SearchDatetime);\n\nvar _SearchPanelLabel = require('components/SearchPanelLabel.vue');\n\nvar _SearchPanelLabel2 = _interopRequireDefault(_SearchPanelLabel);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nexports.default = {\n  components: {\n    Select2: _SearchSelect2.default,\n    SearchDatetime: _SearchDatetime2.default,\n    SearchPanelLabel: _SearchPanelLabel2.default\n  },\n  data: function data() {\n    return {\n      state: this.$options.service.state\n    };\n  },\n\n  methods: {\n    isSelectDisabled: function isSelectDisabled(forminput) {\n      return [this.state.loading[forminput.options.dependance], forminput.loading, forminput.options.disabled].reduce(function (disabled) {\n        var current = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n        return disabled || current;\n      }, false);\n    },\n    onFocus: function () {\n      var _ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee(event) {\n        var top;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                if (!this.isMobile()) {\n                  _context.next = 5;\n                  break;\n                }\n\n                top = $(event.target).position().top - 10;\n                _context.next = 4;\n                return this.$nextTick();\n\n              case 4:\n                setTimeout(function () {\n                  return $('.sidebar').scrollTop(top);\n                }, 500);\n\n              case 5:\n              case 'end':\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function onFocus(_x2) {\n        return _ref.apply(this, arguments);\n      }\n\n      return onFocus;\n    }(),\n    autocompleteRequest: function () {\n      var _ref2 = _asyncToGenerator(regeneratorRuntime.mark(function _callee2() {\n        var params = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                return _context2.abrupt('return', this.$options.service.getUniqueValuesFromField(_extends({}, params, {\n                  output: 'autocomplete'\n                })));\n\n              case 1:\n              case 'end':\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function autocompleteRequest() {\n        return _ref2.apply(this, arguments);\n      }\n\n      return autocompleteRequest;\n    }(),\n    changeDependencyFields: function changeDependencyFields(_ref3) {\n      var field = _ref3.attribute,\n          value = _ref3.value;\n\n      var subscribers = this.$options.service.getDependencies(field);\n      return subscribers.length ? this.$options.service.fillDependencyInputs({\n        field: field,\n        subscribers: subscribers,\n        value: value\n      }) : Promise.resolve();\n    },\n    changeNumericInput: function changeNumericInput(input) {\n      input.value = input.value || input.value === 0 ? input.value : null;\n      this.changeInput(input);\n    },\n    changeInput: function changeInput(input) {\n      var _this = this;\n\n      var id = input.id,\n          attribute = input.attribute,\n          value = input.value,\n          type = input.type;\n\n      try {\n        value = type === 'textfield' || type === 'textField' ? value : value.trim();\n      } catch (err) {}\n      this.$options.service.changeInput({ id: id, value: value });\n      this.state.searching = true;\n      this.changeDependencyFields({\n        attribute: attribute,\n        value: value\n      }).finally(function () {\n        _this.state.searching = false;\n      });\n    },\n    doSearch: function doSearch(event) {\n      event.preventDefault();\n      this.$options.service.run();\n    }\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"disabled\",rawName:\"v-disabled\",value:(_vm.state.searching),expression:\"state.searching\"}],staticClass:\"g3w-search-panel form-group\"},[_c('h4',{},[_c('b',[_vm._v(_vm._s(_vm.state.title))])]),_vm._v(\" \"),_vm._t(\"tools\"),_vm._v(\" \"),_vm._t(\"form\",[_c('form',{staticClass:\"g3w-search-form\"},[_vm._l((_vm.state.forminputs),function(forminput){return _c('span',{key:forminput.id},[(forminput.type === 'numberfield')?_c('div',{staticClass:\"form-group numeric\"},[_c('search-panel-label',{attrs:{\"forminput\":forminput}}),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(forminput.value),expression:\"forminput.value\"}],staticClass:\"form-control\",attrs:{\"type\":\"number\",\"min\":\"0\",\"id\":forminput.id},domProps:{\"value\":(forminput.value)},on:{\"change\":function($event){return _vm.changeNumericInput(forminput)},\"input\":[function($event){if($event.target.composing){ return; }_vm.$set(forminput, \"value\", $event.target.value)},function($event){return _vm.changeNumericInput(forminput)}]}})],1):(forminput.type === 'textfield' || forminput.type === 'textField')?_c('div',{staticClass:\"form-group form-item-search  text\"},[_c('search-panel-label',{attrs:{\"forminput\":forminput}}),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(forminput.value),expression:\"forminput.value\"}],staticClass:\"form-control\",attrs:{\"type\":\"text\",\"id\":forminput.id},domProps:{\"value\":(forminput.value)},on:{\"focus\":_vm.onFocus,\"change\":function($event){return _vm.changeInput(forminput)},\"input\":function($event){if($event.target.composing){ return; }_vm.$set(forminput, \"value\", $event.target.value)}}})],1):(forminput.type === 'selectfield' || forminput.type === 'autocompletefield')?_c('div',{directives:[{name:\"disabled\",rawName:\"v-disabled\",value:(_vm.isSelectDisabled(forminput)),expression:\"isSelectDisabled(forminput)\"}],staticClass:\"form-group text\"},[_c('search-panel-label',{attrs:{\"forminput\":forminput}}),_vm._v(\" \"),(forminput.options.dependance)?_c('bar-loader',{attrs:{\"loading\":_vm.state.loading[forminput.options.dependance] || forminput.loading}}):_vm._e(),_vm._v(\" \"),_c('select2',{attrs:{\"forminput\":forminput,\"autocompleteRequest\":_vm.autocompleteRequest},on:{\"select-change\":_vm.changeInput}})],1):_vm._e(),_vm._v(\" \"),(forminput.type === 'datetimefield')?_c('div',{directives:[{name:\"disabled\",rawName:\"v-disabled\",value:(_vm.state.loading[forminput.options.dependance] || false),expression:\"state.loading[forminput.options.dependance] || false\"}],staticClass:\"form-group text\"},[_c('search-panel-label',{attrs:{\"forminput\":forminput}}),_vm._v(\" \"),_c('search-datetime',{attrs:{\"forminput\":forminput},on:{\"change\":_vm.changeInput}})],1):_vm._e(),_vm._v(\" \"),(forminput.logicop)?_c('div',{staticClass:\"search-logicop skin-border-color\"},[_c('h4',[_vm._v(_vm._s(forminput.logicop))])]):_vm._e()])}),_vm._v(\" \"),_c('div',{staticClass:\"form-group\"},[_c('button',{directives:[{name:\"t\",rawName:\"v-t\",value:('dosearch'),expression:\"'dosearch'\"}],staticClass:\"sidebar-button-run btn btn-block pull-right\",attrs:{\"id\":\"dosearch\",\"data-i18n\":\"dosearch\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.doSearch($event)}}})])],2)]),_vm._v(\" \"),_vm._t(\"footer\")],2)}\n__vue__options__.staticRenderFns = []\n\n},{\"components/SearchDatetime.vue\":290,\"components/SearchPanelLabel.vue\":292,\"components/SearchSelect2.vue\":293}],292:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _constant = require('app/constant');\n\nexports.default = {\n  name: 'Searchpanellabel',\n  props: {\n    forminput: {\n      type: Object,\n      require: true\n    }\n  },\n  methods: {\n    getLabelOperator: function getLabelOperator(operator) {\n      return '[ ' + _constant.FILTER_EXPRESSION_OPERATORS[operator] + ' ]';\n    }\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('label',{staticClass:\"search-label\",staticStyle:{\"width\":\"100%\",\"display\":\"flex\",\"justify-content\":\"space-between\"},attrs:{\"for\":_vm.forminput.id}},[_c('span',[_vm._v(_vm._s(_vm.forminput.label || _vm.forminput.attribute))]),_vm._v(\" \"),_c('span',{staticClass:\"skin-color\"},[_vm._v(_vm._s(_vm.getLabelOperator(_vm.forminput.operator)))])])}\n__vue__options__.staticRenderFns = []\n\n},{\"app/constant\":4}],293:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _constant = require('app/constant');\n\nvar _mixins = require('mixins');\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar autocompleteOptions = require('gui/external/select2/options/autocomplete');\n\nvar _require = require('core/i18n/i18n.service'),\n    t = _require.t;\n\nvar _require2 = require('core/utils/utils'),\n    debounce = _require2.debounce;\n\nexports.default = {\n  name: \"select2\",\n  props: ['forminput', 'autocompleteRequest'],\n  mixins: [_mixins.select2Mixin],\n  methods: {\n    emitChangeEvent: function emitChangeEvent(evt) {\n      var id = $(evt.target).attr('id');\n      var attribute = $(evt.target).attr('name');\n      var data = evt.params.data;\n      var value = data ? data.id : _constant.SEARCH_ALLVALUE;\n      this.$emit('select-change', {\n        id: id,\n        attribute: attribute,\n        value: value,\n        type: this.forminput.type\n      });\n    },\n    _initSelect2Element: function _initSelect2Element() {\n      var _this = this;\n\n      var _forminput = this.forminput,\n          type = _forminput.type,\n          attribute = _forminput.attribute,\n          options = _forminput.options;\n\n      var numdigaut = options.numdigaut && !Number.isNaN(1 * options.numdigaut) && 1 * options.numdigaut > 0 && 1 * options.numdigaut || 2;\n      var isAutocomplete = type === 'autocompletefield';\n      this.select2 = $(this.$el).select2(_extends({\n        width: '100%',\n        dropdownParent: $('.g3w-search-form:visible'),\n        minimumInputLength: isAutocomplete && numdigaut || 0,\n        allowClear: isAutocomplete,\n        placeholder: isAutocomplete ? '' : null,\n        ajax: isAutocomplete ? {\n          delay: 500,\n          transport: function () {\n            var _ref2 = _asyncToGenerator(regeneratorRuntime.mark(function _callee(_ref, success, failure) {\n              var value = _ref.data.q;\n              var data;\n              return regeneratorRuntime.wrap(function _callee$(_context) {\n                while (1) {\n                  switch (_context.prev = _context.next) {\n                    case 0:\n                      _context.prev = 0;\n                      _context.next = 3;\n                      return _this.autocompleteRequest({\n                        field: attribute,\n                        value: value\n                      });\n\n                    case 3:\n                      data = _context.sent;\n\n                      success({ results: data });\n                      _context.next = 10;\n                      break;\n\n                    case 7:\n                      _context.prev = 7;\n                      _context.t0 = _context['catch'](0);\n\n                      failure(_context.t0);\n\n                    case 10:\n                    case 'end':\n                      return _context.stop();\n                  }\n                }\n              }, _callee, _this, [[0, 7]]);\n            }));\n\n            function transport(_x, _x2, _x3) {\n              return _ref2.apply(this, arguments);\n            }\n\n            return transport;\n          }()\n        } : null\n      }, autocompleteOptions));\n      this.select2.on('select2:select', function (evt) {\n        _this.emitChangeEvent(evt);\n      });\n      this.forminput.type === 'autocompletefield' && this.select2.on('select2:unselecting', function (evt) {\n        _this.emitChangeEvent(evt);\n      });\n    }\n  },\n  watch: {\n    'forminput.value': function () {\n      var _ref3 = _asyncToGenerator(regeneratorRuntime.mark(function _callee2(value) {\n        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.next = 2;\n                return this.$nextTick();\n\n              case 2:\n                if (value === _constant.SEARCH_ALLVALUE) {\n                  this.select2.val(value);\n                  this.select2.trigger('change');\n                }\n\n              case 3:\n              case 'end':\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function forminputValue(_x4) {\n        return _ref3.apply(this, arguments);\n      }\n\n      return forminputValue;\n    }()\n  },\n  created: function created() {\n    this.allvalue = _constant.SEARCH_ALLVALUE;\n  },\n  mounted: function () {\n    var _ref4 = _asyncToGenerator(regeneratorRuntime.mark(function _callee3() {\n      return regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              _context3.next = 2;\n              return this.$nextTick();\n\n            case 2:\n              this._initSelect2Element();\n\n            case 3:\n            case 'end':\n              return _context3.stop();\n          }\n        }\n      }, _callee3, this);\n    }));\n\n    function mounted() {\n      return _ref4.apply(this, arguments);\n    }\n\n    return mounted;\n  }()\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('select',{directives:[{name:\"disabled\",rawName:\"v-disabled\",value:(_vm.forminput.options.disabled || _vm.forminput.loading),expression:\"forminput.options.disabled || forminput.loading\"}],staticClass:\"form-control\",attrs:{\"name\":_vm.forminput.attribute,\"id\":_vm.forminput.id}},_vm._l((_vm.forminput.options.values),function(keyvalue){return _c('option',{key:keyvalue.value,domProps:{\"value\":keyvalue.value}},[(keyvalue.value === _vm.allvalue )?_c('span',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.search.all'),expression:\"'sdk.search.all'\"}]}):_c('span',[_vm._v(_vm._s(keyvalue.key))])])}),0)}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-525bb7b8\"\n\n},{\"app/constant\":4,\"core/i18n/i18n.service\":13,\"core/utils/utils\":68,\"gui/external/select2/options/autocomplete\":119,\"mixins\":343}],294:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _applicationState = require('store/application-state');\n\nvar _applicationState2 = _interopRequireDefault(_applicationState);\n\nvar _eventbus = require('gui/sidebar/eventbus');\n\nvar _eventbus2 = _interopRequireDefault(_eventbus);\n\nvar _sidebar = require('services/sidebar');\n\nvar _sidebar2 = _interopRequireDefault(_sidebar);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar _require = require('core/i18n/i18n.service'),\n    t = _require.t;\n\nexports.default = {\n  name: \"Sidebar\",\n  data: function data() {\n    return {\n      components: _sidebar2.default.state.components,\n      panels: _sidebar2.default.stack.state.contentsdata,\n      bOpen: true,\n      bPageMode: false,\n      header: t('main navigation'),\n      state: _sidebar2.default.state\n    };\n  },\n\n  computed: {\n    disabled: function disabled() {\n      return _applicationState2.default.gui.sidebar.disabled;\n    },\n    panelsinstack: function panelsinstack() {\n      return this.panels.length > 0;\n    },\n    showmainpanel: function showmainpanel() {\n      return this.components.length > 0 && !this.panelsinstack;\n    },\n    componentname: function componentname() {\n      return this.components.length ? this.components.slice(-1)[0].getTitle() : \"\";\n    },\n    panelname: function panelname() {\n      var name = \"\";\n      if (this.panels.length) {\n        name = this.panels.slice(-1)[0].content.getTitle();\n      }\n      return name;\n    }\n  },\n  methods: {\n    closePanel: function closePanel() {\n      _sidebar2.default.closePanel();\n    },\n    closeAllPanels: function closeAllPanels() {\n      _sidebar2.default.closeAllPanels();\n    }\n  },\n  created: function created() {\n    this.iframe = _applicationState2.default.iframe;\n    _eventbus2.default.$on('sidebaritemclick', function () {\n      return $('.sidebar-toggle').click();\n    });\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('aside',{staticClass:\"main-sidebar\",class:{ iframe: _vm.iframe, 'g3w-disabled': _vm.disabled }},[_c('a',{staticClass:\"sidebar-aside-toggle\",attrs:{\"href\":\"#\",\"data-toggle\":\"offcanvas\",\"role\":\"button\"}},[_c('i',{class:_vm.g3wtemplate.getFontClass('bars')})]),_vm._v(\" \"),_c('div',{staticClass:\"sidebar\",attrs:{\"id\":\"g3w-sidebar\"}},[_c('div',{attrs:{\"id\":\"disable-sidebar\"}}),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.panelsinstack),expression:\"panelsinstack\"}],staticClass:\"g3w-sidebarpanel\"},[_c('div',{staticStyle:{\"overflow\":\"hidden\",\"line-height\":\"14px\",\"font-size\":\"1.5em\"},attrs:{\"id\":\"g3w-sidebarpanel-header-placeholder\"}},[_c('div',{staticStyle:{\"display\":\"flex\"},style:({justifyContent: _vm.state.gui.title ? 'space-between' : 'flex-end' })},[(_vm.state.gui.title)?_c('h4',{directives:[{name:\"t\",rawName:\"v-t\",value:(_vm.state.gui.title),expression:\"state.gui.title\"}],staticStyle:{\"display\":\"inline-block\",\"font-weight\":\"bold\"}}):_vm._e(),_vm._v(\" \"),_c('div',[(_vm.panels.length > 1)?_c('span',{directives:[{name:\"t-tooltip\",rawName:\"v-t-tooltip.create\",value:('back'),expression:\"'back'\",modifiers:{\"create\":true}}],staticClass:\"skin-tooltip-left g3w-span-button close-pane-button fa-stack\",attrs:{\"data-placement\":\"left\",\"data-toggle\":\"tooltip\"},on:{\"click\":_vm.closePanel}},[_c('i',{staticClass:\"fa-stack-1x panel-button\",class:_vm.g3wtemplate.getFontClass('circle')}),_vm._v(\" \"),_c('i',{staticClass:\"fa-stack-1x panel-icon\",class:_vm.g3wtemplate.getFontClass('arrow-left')})]):_vm._e(),_vm._v(\" \"),_c('span',{directives:[{name:\"t-tooltip\",rawName:\"v-t-tooltip.create\",value:('close'),expression:\"'close'\",modifiers:{\"create\":true}}],staticClass:\"skin-tooltip-left g3w-span-button close-pane-button fa-stack\",attrs:{\"data-placement\":\"left\",\"data-toggle\":\"tooltip\"},on:{\"click\":_vm.closeAllPanels}},[_c('i',{staticClass:\"fa-stack-1x panel-button\",class:_vm.g3wtemplate.getFontClass('circle')}),_vm._v(\" \"),_c('i',{staticClass:\"fa-stack-1x panel-icon\",class:_vm.g3wtemplate.getFontClass('close')})])])])]),_vm._v(\" \"),_c('div',{staticClass:\"g3w-sidebarpanel-placeholder\",attrs:{\"id\":\"g3w-sidebarpanel-placeholder\"}})]),_vm._v(\" \"),_c('div',{attrs:{\"id\":\"g3w-sidebarcomponents-content\"}},[_c('ul',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showmainpanel),expression:\"showmainpanel\"}],staticClass:\"sidebar-menu\",class:{'g3w-disabled': _vm.state.disabled},attrs:{\"id\":\"g3w-sidebarcomponents\"}})])])])}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-b2170cb4\"\n\n},{\"core/i18n/i18n.service\":13,\"gui/sidebar/eventbus\":180,\"services/sidebar\":369,\"store/application-state\":373}],295:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _eventbus = require('gui/sidebar/eventbus');\n\nvar _eventbus2 = _interopRequireDefault(_eventbus);\n\nvar _SidebarItemAction = require('components/SidebarItemAction.vue');\n\nvar _SidebarItemAction2 = _interopRequireDefault(_SidebarItemAction);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = {\n  name: \"SidebarItem\",\n  data: function data() {\n    return {\n      info: this.$options.info || {\n        state: null,\n        style: null,\n        class: null\n      },\n      main: true,\n      component: this.$options.component,\n      active: false,\n      title: '',\n      open: false,\n      icon: null,\n      iconColor: null,\n      collapsible: null\n    };\n  },\n\n  components: {\n    SidebarItemAction: _SidebarItemAction2.default\n  },\n  methods: {\n    onClickItem: function onClickItem(evt) {\n      var _this = this;\n\n      this.component.isolate && evt.stopPropagation();\n      if (!this.component.isolate) {\n        this.$options.service.state.components.forEach(function (component) {\n          if (component !== _this.component) {\n            if (component.getOpen()) {\n              component.click({\n                open: component.isolate\n              });\n            }\n          }\n        });\n        !this.component.collapsible && isMobile.any && _eventbus2.default.$emit('sidebaritemclick');\n      }\n      this.component.setOpen(!this.component.state.open);\n    }\n  },\n  created: function created() {\n    var _this2 = this;\n\n    this.component.openClose = function () {\n      return _this2.$refs.anchor_click.click();\n    };\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('li',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.state.visible),expression:\"state.visible\"},{name:\"disabled\",rawName:\"v-disabled\",value:(_vm.state.disabled),expression:\"state.disabled\"}],staticClass:\"treeview sidebaritem\",class:{'active': _vm.open},attrs:{\"id\":_vm.component.id}},[_c('bar-loader',{attrs:{\"loading\":_vm.state.loading}}),_vm._v(\" \"),_c('a',{ref:\"anchor_click\",staticStyle:{\"display\":\"flex\",\"justify-content\":\"space-between\",\"align-items\":\"center\"},attrs:{\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();return _vm.onClickItem($event)}}},[_c('div',[_c('i',{class:_vm.icon,style:({color: _vm.iconColor})}),_vm._v(\" \"),_c('span',{directives:[{name:\"t\",rawName:\"v-t\",value:(_vm.title),expression:\"title\"}],staticClass:\"treeview-label\"})]),_vm._v(\" \"),_c('div',[(_vm.info.state)?_c('span',{class:_vm.info.class,staticStyle:{\"position\":\"absolute\",\"right\":\"5px\",\"font-weight\":\"bold\"},style:(_vm.info.style),attrs:{\"title\":_vm.info.tooltip}},[_vm._v(_vm._s(_vm.info.state))]):_vm._e(),_vm._v(\" \"),_vm._l((_vm.actions),function(action){return _c('sidebar-item-action',{key:action.id,attrs:{\"component\":_vm.component.internalComponent,\"action\":action}})})],2),_vm._v(\" \"),(_vm.collapsible)?_c('i',{staticClass:\"pull-right\",class:_vm.g3wtemplate.getFontClass('angle-left')}):_vm._e()]),_vm._v(\" \"),_c('div',{attrs:{\"id\":\"g3w-sidebarcomponent-placeholder\"}})],1)}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-2f606059\"\n\n},{\"components/SidebarItemAction.vue\":296,\"gui/sidebar/eventbus\":180}],296:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = {\n  name: 'Sidebaritemaction',\n  props: {\n    action: {\n      type: Object,\n      required: true\n    },\n    component: {\n      type: Object\n    }\n  },\n  methods: {\n    triggerAction: function triggerAction() {\n      this.action.fnc(this.component);\n    }\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',{directives:[{name:\"t-tooltip\",rawName:\"v-t-tooltip:left.create\",value:(_vm.action.tooltip),expression:\"action.tooltip\",arg:\"left\",modifiers:{\"create\":true}}],staticClass:\"action skin-tooltip-left\",class:_vm.action.class,staticStyle:{\"font-weight\":\"bold\",\"padding\":\"3px\"},style:(_vm.action.style),on:{\"click\":function($event){$event.stopPropagation();return _vm.triggerAction($event)}}})}\n__vue__options__.staticRenderFns = []\n\n},{}],297:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _SpatialBookMarkItem = require(\"components/SpatialBookMarkItem.vue\");\n\nvar _SpatialBookMarkItem2 = _interopRequireDefault(_SpatialBookMarkItem);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nexports.default = {\n  props: {\n    group: {\n      type: Object,\n\n      required: true\n    }\n  },\n  components: {\n    SpatialBookMarkItem: _SpatialBookMarkItem2.default\n  },\n  methods: {},\n  mounted: function () {\n    var _ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee() {\n      return regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, this);\n    }));\n\n    function mounted() {\n      return _ref.apply(this, arguments);\n    }\n\n    return mounted;\n  }()\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('li',[_c('div',{staticStyle:{\"font-weight\":\"bold\",\"width\":\"100%\"},style:({borderBottom: _vm.group.expanded ? '2px solid #2c3b41' : 'none'}),on:{\"click\":function($event){$event.stopPropagation();_vm.group.expanded = !_vm.group.expanded}}},[_c('span',{class:[_vm.g3wtemplate.getFontClass(_vm.group.expanded ? 'caret-down' : 'caret-right')],staticStyle:{\"margin-right\":\"5px\"}}),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(_vm.group.name))])]),_vm._v(\" \"),_c('ul',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.group.expanded),expression:\"group.expanded\"}],staticStyle:{\"margin-left\":\"10px\"}},_vm._l((_vm.group.nodes),function(node){return _c('spatial-book-mark-item',{attrs:{\"bookmark\":node}})}),1)])}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-07ff686a\"\n\n},{\"components/SpatialBookMarkItem.vue\":298}],298:[function(require,module,exports){\nvar __vueify_style_dispose__ = require(\"vueify/lib/insert-css\").insert(\".spatial-bookmark[data-v-fab34912]{display:flex;align-items:baseline;justify-content:space-between;padding:5px!important}\")\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar Projections = require('g3w-ol/projection/projections');\n\nexports.default = {\n  props: {\n    bookmark: {\n      type: Object,\n\n      required: true\n    }\n  },\n  methods: {\n    removeBookMark: function removeBookMark() {},\n    gotoSpatialBookmark: function () {\n      var _ref2 = _asyncToGenerator(regeneratorRuntime.mark(function _callee(_ref) {\n        var extent = _ref.extent,\n            crs = _ref.crs;\n        var projection;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                if (!(_gui2.default.getService('map').getEpsg().split('EPSG:')[1] !== crs.epsg)) {\n                  _context.next = 5;\n                  break;\n                }\n\n                _context.next = 3;\n                return Projections.registerProjection('EPSG:' + crs.epsg);\n\n              case 3:\n                projection = _context.sent;\n\n                extent = ol.proj.transformExtent(extent, projection, _gui2.default.getService('map').getProjection());\n\n              case 5:\n                _gui2.default.getService('map').zoomToExtent(extent, { force: true });\n\n              case 6:\n              case 'end':\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function gotoSpatialBookmark(_x) {\n        return _ref2.apply(this, arguments);\n      }\n\n      return gotoSpatialBookmark;\n    }()\n  },\n  mounted: function () {\n    var _ref3 = _asyncToGenerator(regeneratorRuntime.mark(function _callee2() {\n      return regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n            case 'end':\n              return _context2.stop();\n          }\n        }\n      }, _callee2, this);\n    }));\n\n    function mounted() {\n      return _ref3.apply(this, arguments);\n    }\n\n    return mounted;\n  }()\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('li',{staticClass:\"spatial-bookmark\",on:{\"click\":function($event){$event.stopPropagation();return _vm.gotoSpatialBookmark(_vm.bookmark)}}},[_c('div',[_c('span',{class:_vm.g3wtemplate.getFontClass('bookmark'),staticStyle:{\"margin-right\":\"5px\",\"font-size\":\"0.7em\"}}),_vm._v(\" \"),_c('span',{staticClass:\"g3w-long-text\"},[_vm._v(_vm._s(_vm.bookmark.name))])]),_vm._v(\" \"),(_vm.bookmark.removable)?_c('span',{staticStyle:{\"color\":\"red\",\"margin\":\"5px\",\"cursor\":\"pointer\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.$emit('remove-bookmark', _vm.bookmark.id)}}},[_c('i',{class:_vm.g3wtemplate.getFontClass('trash')})]):_vm._e()])}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-fab34912\"\n\n},{\"g3w-ol/projection/projections\":111,\"services/gui\":361,\"vueify/lib/insert-css\":1}],299:[function(require,module,exports){\nvar __vueify_style_dispose__ = require(\"vueify/lib/insert-css\").insert(\".content-bookmarks{font-weight:700;color:#fff;padding:5px;border-bottom:2px solid #fff;margin-bottom:5px}.container.add-bookmark-input p.error-input-message{color:#fff}\")\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _constant = require('app/constant');\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nvar _application = require('services/application');\n\nvar _application2 = _interopRequireDefault(_application);\n\nvar _projects = require('store/projects');\n\nvar _projects2 = _interopRequireDefault(_projects);\n\nvar _SpatialBookMarkGroup = require('components/SpatialBookMarkGroup.vue');\n\nvar _SpatialBookMarkGroup2 = _interopRequireDefault(_SpatialBookMarkGroup);\n\nvar _SpatialBookMarkItem = require('components/SpatialBookMarkItem.vue');\n\nvar _SpatialBookMarkItem2 = _interopRequireDefault(_SpatialBookMarkItem);\n\nvar _InputText = require('components/InputText.vue');\n\nvar _InputText2 = _interopRequireDefault(_InputText);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar _require = require('core/utils/utils'),\n    uniqueId = _require.uniqueId;\n\nvar _require2 = require('core/i18n/i18n.service'),\n    t = _require2.t;\n\nvar SPATIAL_BOOKMARKS_LOCALITEMS = _application2.default.getLocalItem(_constant.LOCAL_ITEM_IDS.SPATIALBOOKMARKS.id);\n\nexports.default = {\n\n  components: {\n    SpatialBookMarkGroup: _SpatialBookMarkGroup2.default,\n    SpatialBookMarkItem: _SpatialBookMarkItem2.default,\n    InputText: _InputText2.default\n  },\n\n  data: function data() {\n    var project = _projects2.default.getCurrentProject();\n\n    if (\"undefined\" === typeof SPATIAL_BOOKMARKS_LOCALITEMS[project.getId()]) {\n      SPATIAL_BOOKMARKS_LOCALITEMS[project.getId()] = [];\n    }\n\n    return {\n      showaddform: false,\n\n      project: {\n        bookmarks: project.getSpatialBookmarks() || []\n      },\n\n      user: {\n        bookmarks: SPATIAL_BOOKMARKS_LOCALITEMS[project.getId()]\n      },\n\n      addbookmarkinput: {\n        name: 'add-bookmark',\n        label: t('sdk.spatialbookmarks.input.name'),\n        value: null,\n        editable: true,\n        type: 'varchar',\n        input: {\n          type: 'text',\n          options: {}\n        },\n        visible: true,\n        validate: {\n          valid: false,\n          required: true\n        }\n      }\n\n    };\n  },\n\n\n  computed: {\n    hasProjectbookmarks: function hasProjectbookmarks() {\n      return this.project.bookmarks.length > 0;\n    }\n  },\n\n  methods: {\n    addBookMark: function addBookMark() {\n      this.user.bookmarks.push({\n        id: uniqueId(),\n        name: this.addbookmarkinput.value,\n        extent: _gui2.default.getService('map').getMapExtent(),\n        removable: true,\n        crs: {\n          epsg: 1 * _gui2.default.getService('map').getCrs().split('EPSG:')[1]\n        }\n      });\n      this.saveUserBookMarks();\n      this.showaddform = false;\n    },\n    removeBookMark: function removeBookMark(id) {\n      this.user.bookmarks = this.user.bookmarks.filter(function (bookmark) {\n        return bookmark.id !== id;\n      });\n      this.saveUserBookMarks();\n    },\n    saveUserBookMarks: function saveUserBookMarks() {\n      SPATIAL_BOOKMARKS_LOCALITEMS[_projects2.default.getCurrentProject().getId()] = this.user.bookmarks;\n      _application2.default.setLocalItem({\n        id: _constant.LOCAL_ITEM_IDS.SPATIALBOOKMARKS.id,\n        data: SPATIAL_BOOKMARKS_LOCALITEMS\n      });\n    },\n    showAddForm: function showAddForm() {\n      this.addbookmarkinput.value = null;\n      this.showaddform = true;\n    }\n  },\n\n  created: function created() {\n    var _this = this;\n\n    this.$on('close', function () {\n      _this.showaddform = false;\n    });\n  },\n  mounted: function () {\n    var _ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee() {\n      return regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n            case 'end':\n              return _context.stop();\n          }\n        }\n      }, _callee, this);\n    }));\n\n    function mounted() {\n      return _ref.apply(this, arguments);\n    }\n\n    return mounted;\n  }()\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('ul',{staticClass:\"treeview-menu g3w-spatial-bookmarks menu-items\",class:{'g3w-tools': !_vm.showaddform},attrs:{\"id\":\"g3w-spatial-bookmarks\"}},[(_vm.showaddform)?[_c('li',[_c('div',{staticStyle:{\"display\":\"flex\",\"justify-content\":\"end\"}},[_c('span',{directives:[{name:\"t-tooltip\",rawName:\"v-t-tooltip:left.create\",value:('close'),expression:\"'close'\",arg:\"left\",modifiers:{\"create\":true}}],staticClass:\"sidebar-button sidebar-button-icon\",class:_vm.g3wtemplate.getFontClass('close'),staticStyle:{\"padding\":\"5px\",\"margin\":\"3px\"},on:{\"click\":function($event){$event.stopPropagation();_vm.showaddform = false}}})]),_vm._v(\" \"),_c('helpdiv',{attrs:{\"message\":\"sdk.spatialbookmarks.helptext\"}}),_vm._v(\" \"),_c('div',{staticClass:\"container add-bookmark-input\",staticStyle:{\"padding\":\"5px\",\"width\":\"100%\"}},[_c('input-text',{attrs:{\"state\":_vm.addbookmarkinput}})],1),_vm._v(\" \"),_c('div',{staticStyle:{\"margin-top\":\"5px\"}},[_c('button',{directives:[{name:\"t\",rawName:\"v-t\",value:('add'),expression:\"'add'\"},{name:\"disabled\",rawName:\"v-disabled\",value:(!_vm.addbookmarkinput.validate.valid),expression:\"!addbookmarkinput.validate.valid\"}],staticClass:\"sidebar-button-run btn btn-block\",on:{\"click\":function($event){$event.stopPropagation();return _vm.addBookMark($event)}}})])],1)]:[(_vm.hasProjectbookmarks)?[_c('div',{staticClass:\"content-bookmarks\"},[_c('span',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.spatialbookmarks.sections.project.title'),expression:\"'sdk.spatialbookmarks.sections.project.title'\"}]})]),_vm._v(\" \"),_vm._l((_vm.project.bookmarks),function(bookmark){return [(bookmark.nodes)?_c('spatial-book-mark-group',{attrs:{\"group\":bookmark}}):_c('spatial-book-mark-item',{attrs:{\"bookmark\":bookmark}})]})]:_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"content-bookmarks\",staticStyle:{\"display\":\"flex\",\"justify-content\":\"space-between\",\"align-items\":\"center\",\"margin-top\":\"10px\"}},[_c('span',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.spatialbookmarks.sections.user.title'),expression:\"'sdk.spatialbookmarks.sections.user.title'\"}],staticStyle:{\"font-weight\":\"bold\",\"color\":\"#ffffff\"}}),_vm._v(\" \"),_c('span',{staticClass:\"sidebar-button sidebar-button-icon\",class:_vm.g3wtemplate.getFontClass('plus'),staticStyle:{\"padding\":\"5px\",\"cursor\":\"pointer\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.showAddForm($event)}}})]),_vm._v(\" \"),_vm._l((_vm.user.bookmarks),function(bookmark){return _c('spatial-book-mark-item',{attrs:{\"bookmark\":bookmark},on:{\"remove-bookmark\":_vm.removeBookMark}})})]],2)}\n__vue__options__.staticRenderFns = []\n\n},{\"app/constant\":4,\"components/InputText.vue\":249,\"components/SpatialBookMarkGroup.vue\":297,\"components/SpatialBookMarkItem.vue\":298,\"core/i18n/i18n.service\":13,\"core/utils/utils\":68,\"services/application\":351,\"services/gui\":361,\"store/projects\":379,\"vueify/lib/insert-css\":1}],300:[function(require,module,exports){\nvar __vueify_style_dispose__ = require(\"vueify/lib/insert-css\").insert(\"#streetview-error-key[data-v-06dad624]{display:flex;justify-content:center;align-items:center;font-weight:700;height:100%;padding:10px;background-color:#fff}\")\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = {\n  data: function data() {\n    return {\n      state: null\n    };\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"streetview\"}},[(_vm.$options.keyError)?_c('div',{attrs:{\"id\":\"streetview-error-key\"}},[_c('span',{staticClass:\"skin-color\"},[_vm._v(\" \"+_vm._s(_vm.$options.keyError))])]):_vm._e()])}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-06dad624\"\n\n},{\"vueify/lib/insert-css\":1}],301:[function(require,module,exports){\nvar __vueify_style_dispose__ = require(\"vueify/lib/insert-css\").insert(\".geometry[data-v-b4d834d0]{cursor:pointer}#noheaders[data-v-b4d834d0]{background-color:#fff;font-weight:700;margin-top:10px}\")\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _TableBody = require('components/TableBody.vue');\n\nvar _TableBody2 = _interopRequireDefault(_TableBody);\n\nvar _TableSelectRow = require('components/TableSelectRow.vue');\n\nvar _TableSelectRow2 = _interopRequireDefault(_TableSelectRow);\n\nvar _TableToolbar = require('components/TableToolbar.vue');\n\nvar _TableToolbar2 = _interopRequireDefault(_TableToolbar);\n\nvar _FieldG3W = require('components/FieldG3W.vue');\n\nvar _FieldG3W2 = _interopRequireDefault(_FieldG3W);\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nvar _mixins = require('mixins');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar _require = require('core/utils/utils'),\n    debounce = _require.debounce;\n\nvar dataTable = void 0;\nvar fieldsComponents = [];\nvar eventHandlers = {\n  pagination: {},\n  nopagination: {}\n};\n\nexports.default = {\n  name: \"G3WTable\",\n  mixins: [_mixins.resizeMixin],\n  data: function data() {\n    return {\n      tableBodyComponent: null,\n      state: null,\n      table: null,\n      selectedRow: null\n    };\n  },\n\n  components: {\n    TableBody: _TableBody2.default\n  },\n  methods: {\n    getDataFromBBOX: function getDataFromBBOX() {\n      this.$options.service.getDataFromBBOX();\n    },\n    toggleFilterToken: function toggleFilterToken() {\n      this.$options.service.toggleFilterToken();\n    },\n    clearAllSelection: function clearAllSelection() {\n      this.$options.service.clearLayerSelection();\n    },\n    switchSelection: function switchSelection() {\n      this.$options.service.switchSelection();\n    },\n    selectAllRow: function selectAllRow() {\n      this.state.features.length && this.$options.service.selectAllFeatures();\n    },\n    _setLayout: function _setLayout() {\n      this.$options.service._setLayout();\n    },\n    zoomAndHighLightFeature: function () {\n      var _ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee(feature) {\n        var zoom = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                if (!feature.geometry) {\n                  _context.next = 4;\n                  break;\n                }\n\n                this.$options.service.zoomAndHighLightFeature(feature, zoom);\n                _context.next = 6;\n                break;\n\n              case 4:\n                _context.next = 6;\n                return this.$options.service.zoomAndHighLightGeometryRelationFeatures(feature, zoom);\n\n              case 6:\n              case 'end':\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function zoomAndHighLightFeature(_x2) {\n        return _ref.apply(this, arguments);\n      }\n\n      return zoomAndHighLightFeature;\n    }(),\n    addRemoveSelectedFeature: function addRemoveSelectedFeature(feature) {\n      this.$options.service.addRemoveSelectedFeature(feature);\n    },\n    reloadLayout: function () {\n      var _ref2 = _asyncToGenerator(regeneratorRuntime.mark(function _callee2() {\n        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.next = 2;\n                return this.$nextTick();\n\n              case 2:\n                dataTable && dataTable.columns.adjust();\n\n              case 3:\n              case 'end':\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function reloadLayout() {\n        return _ref2.apply(this, arguments);\n      }\n\n      return reloadLayout;\n    }(),\n    hasHeaders: function hasHeaders() {\n      return !!this.state.headers.length;\n    },\n    createdContentBody: function createdContentBody() {\n      var _this = this;\n\n      fieldsComponents = fieldsComponents.filter(function (fieldComponent) {\n        fieldComponent.$destroy();\n        return false;\n      });\n      var trDomeElements = dataTable.rows().nodes();\n\n      trDomeElements.each(function (rowElement, index) {\n        $(rowElement).css('cursor', 'pointer');\n        if (_this.state.features.length) {\n          var feature = _this.state.features[index];\n          var hasGeometry = !!feature.geometry;\n          $(rowElement).addClass('feature_attribute');\n          feature.selected && $(rowElement).addClass('selected');\n          $(rowElement).on('click', function () {\n            return hasGeometry && _this.zoomAndHighLightFeature(feature);\n          });\n          $(rowElement).on('mouseover', function () {\n            return hasGeometry && _this.zoomAndHighLightFeature(feature, false);\n          });\n          $(rowElement).children().each(function (index, element) {\n            var header = _this.state.headers[index];\n            var contentDOM = void 0;\n            if (header === null) {\n              var SelectRowClass = Vue.extend(_TableSelectRow2.default);\n              var SelectRowInstance = new SelectRowClass({\n                propsData: {\n                  feature: feature\n                }\n              });\n              SelectRowInstance.$on('selected', function (feature) {\n                return _this.$options.service.addRemoveSelectedFeature(feature);\n              });\n              _this.$watch(function () {\n                return feature.selected;\n              }, function (selected) {\n                selected ? $(rowElement).addClass('selected') : $(rowElement).removeClass('selected');\n              });\n              contentDOM = SelectRowInstance.$mount().$el;\n            } else {\n              var fieldClass = Vue.extend(_FieldG3W2.default);\n              var fieldInstance = new fieldClass({\n                propsData: {\n                  state: {\n                    value: feature.attributes[header.name]\n                  }\n                }\n              });\n              fieldInstance.$mount();\n              fieldsComponents.push(fieldInstance);\n              contentDOM = fieldInstance.$el;\n            }\n            $(element).html(contentDOM);\n          });\n        }\n      });\n      setTimeout(function () {\n        return _this.reloadLayout();\n      }, 0);\n    },\n    resize: function () {\n      var _ref3 = _asyncToGenerator(regeneratorRuntime.mark(function _callee3() {\n        var tableHeight, tableHeaderHeight;\n        return regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                _context3.next = 2;\n                return this.$nextTick();\n\n              case 2:\n                tableHeight = $(\".content\").height();\n                tableHeaderHeight = $('#open_attribute_table  div.dataTables_scrollHeadInner').height();\n\n                $('#open_attribute_table  div.dataTables_scrollBody').height(tableHeight - tableHeaderHeight - 130);\n\n              case 5:\n              case 'end':\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this);\n      }));\n\n      function resize() {\n        return _ref3.apply(this, arguments);\n      }\n\n      return resize;\n    }()\n  },\n  beforeCreate: function beforeCreate() {\n    this.delayType = 'debounce';\n  },\n  mounted: function () {\n    var _ref4 = _asyncToGenerator(regeneratorRuntime.mark(function _callee7() {\n      var _this2 = this;\n\n      var hideElements, commonDataTableOptions, debounceSearch, G3WTableToolbarClass, G3WTableToolbarInstance;\n      return regeneratorRuntime.wrap(function _callee7$(_context7) {\n        while (1) {\n          switch (_context7.prev = _context7.next) {\n            case 0:\n              this.setContentKey = _gui2.default.onafter('setContent', this.resize);\n\n              hideElements = function hideElements() {\n                $('.dataTables_info, .dataTables_length').hide();\n                $('.dataTables_paginate').css({\n                  'display': 'flex',\n                  'justify-content': 'space-between',\n                  'font-size': '0.8em',\n                  'margin-top': '5px'\n                });\n                $('.dataTables_filter').css('float', 'right');\n                $('.dataTables_paginate').css('margin', '0');\n              };\n\n              _context7.next = 4;\n              return this.$nextTick();\n\n            case 4:\n              this.first = false;\n              commonDataTableOptions = {\n                \"lengthMenu\": this.state.pageLengths,\n                \"pageLength\": this.state.pageLength,\n                \"scrollX\": true,\n                \"processing\": false,\n                \"scrollCollapse\": true,\n                \"sSearch\": false,\n                \"order\": [1, 'asc'],\n                \"dom\": 'l<\"#g3w-table-toolbar\">frtip',\n                \"columnDefs\": [{\n                  \"targets\": 0,\n                  \"orderable\": false,\n                  \"searchable\": false,\n                  \"width\": '1%'\n                }]\n              };\n\n              if (this.state.pagination) {\n                dataTable = $(this.$refs.attribute_table).DataTable(_extends({}, commonDataTableOptions, {\n                  \"columns\": this.state.headers,\n                  \"ajax\": debounce(function (data, callback) {\n                    var trDomeElements = $('#open_attribute_table table tr');\n                    trDomeElements.each(function (element) {\n                      $(element).off('click');\n                      $(element).off('mouseover');\n                    });\n                    _this2.$options.service.getData(data).then(function () {\n                      var _ref5 = _asyncToGenerator(regeneratorRuntime.mark(function _callee4(serverData) {\n                        return regeneratorRuntime.wrap(function _callee4$(_context4) {\n                          while (1) {\n                            switch (_context4.prev = _context4.next) {\n                              case 0:\n                                callback(serverData);\n                                _context4.next = 3;\n                                return _this2.$nextTick();\n\n                              case 3:\n                                _this2.createdContentBody();\n                                _this2.isMobile() && hideElements();\n\n                              case 5:\n                              case 'end':\n                                return _context4.stop();\n                            }\n                          }\n                        }, _callee4, _this2);\n                      }));\n\n                      return function (_x3) {\n                        return _ref5.apply(this, arguments);\n                      };\n                    }()).catch(function (error) {\n                      console.log(error);\n                    });\n                  }, 800),\n                  \"serverSide\": true,\n                  \"deferLoading\": this.state.allfeatures\n                }));\n                this.$options.service.on('ajax-reload', dataTable.ajax.reload);\n                this.changeColumn = debounce(function () {\n                  var _ref6 = _asyncToGenerator(regeneratorRuntime.mark(function _callee5(event, index) {\n                    return regeneratorRuntime.wrap(function _callee5$(_context5) {\n                      while (1) {\n                        switch (_context5.prev = _context5.next) {\n                          case 0:\n                            dataTable.columns(index).search(event.target.value.trim()).draw();\n\n                          case 1:\n                          case 'end':\n                            return _context5.stop();\n                        }\n                      }\n                    }, _callee5, _this2);\n                  }));\n\n                  return function (_x4, _x5) {\n                    return _ref6.apply(this, arguments);\n                  };\n                }());\n              } else {\n                dataTable = $(this.$refs.attribute_table).DataTable(_extends({}, commonDataTableOptions, {\n                  searchDelay: 600\n                }));\n                debounceSearch = debounce(function () {\n                  _this2.$options.service.setFilteredFeature(dataTable.rows({ search: 'applied' })[0]);\n                }, 600);\n\n                eventHandlers.nopagination['search.dt'] = debounceSearch;\n                dataTable.on('search.dt', debounceSearch);\n                dataTable.on('length.dt', function (evt, settings, length) {\n                  _this2.$options.service.setAttributeTablePageLength(length);\n                });\n                this.changeColumn = debounce(function () {\n                  var _ref7 = _asyncToGenerator(regeneratorRuntime.mark(function _callee6(event, index) {\n                    return regeneratorRuntime.wrap(function _callee6$(_context6) {\n                      while (1) {\n                        switch (_context6.prev = _context6.next) {\n                          case 0:\n                            dataTable.columns(index).search(event.target.value.trim()).draw();\n                            _this2.$options.service.setFilteredFeature(dataTable.rows({ search: 'applied' })[0]);\n\n                          case 2:\n                          case 'end':\n                            return _context6.stop();\n                        }\n                      }\n                    }, _callee6, _this2);\n                  }));\n\n                  return function (_x6, _x7) {\n                    return _ref7.apply(this, arguments);\n                  };\n                }());\n              }\n\n              this.isMobile() && hideElements();\n\n              G3WTableToolbarClass = Vue.extend(_TableToolbar2.default);\n              G3WTableToolbarInstance = new G3WTableToolbarClass({\n                propsData: {\n                  tools: this.state.tools,\n                  geolayer: this.state.geolayer,\n                  switchSelection: this.switchSelection,\n                  clearAllSelection: this.clearAllSelection,\n                  toggleFilterToken: this.toggleFilterToken,\n                  getDataFromBBOX: this.getDataFromBBOX\n                }\n              });\n\n\n              $('#g3w-table-toolbar').html(G3WTableToolbarInstance.$mount().$el);\n\n              this.$options.service.on('redraw', function (data) {\n                dataTable.clear();\n                dataTable.draw(false);\n                setTimeout(function () {\n                  dataTable.rows.add(data);\n                  dataTable.draw(false);\n                  _this2.createdContentBody();\n                  _this2.isMobile() && hideElements();\n                });\n              });\n\n            case 12:\n            case 'end':\n              return _context7.stop();\n          }\n        }\n      }, _callee7, this);\n    }));\n\n    function mounted() {\n      return _ref4.apply(this, arguments);\n    }\n\n    return mounted;\n  }(),\n  beforeDestroy: function beforeDestroy() {\n    this.$options.service.clear();\n    this.$options.service.off('ajax-reload');\n    this.$options.service.off('redraw');\n    _gui2.default.un('setContent', this.setContentKey);\n    dataTable.destroy(true);\n    dataTable = null;\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticStyle:{\"margin-top\":\"5px\"},attrs:{\"id\":\"open_attribute_table\"}},[(_vm.hasHeaders())?_c('table',{ref:\"attribute_table\",staticClass:\"table table-striped row-border compact nowrap\",staticStyle:{\"width\":\"100%\"},attrs:{\"id\":\"layer_attribute_table\"}},[_c('thead',[_c('tr',[_c('th'),_vm._v(\" \"),_vm._l((_vm.state.headers),function(header,index){return (index > 0)?_c('th',[_c('input',{staticClass:\"form-control column-search\",staticStyle:{\"height\":\"25px\",\"min-width\":\"40px\",\"padding\":\"2px\"},attrs:{\"type\":\"text\",\"placeholder\":header.name},on:{\"keyup\":function($event){return _vm.changeColumn($event, index)}}})]):_vm._e()})],2),_vm._v(\" \"),_c('tr',_vm._l((_vm.state.headers),function(header,index){return _c('th',[(index === 0)?_c('span',[_c('input',{staticClass:\"magic-checkbox\",attrs:{\"type\":\"checkbox\",\"id\":\"attribute_table_select_all_rows\",\"disabled\":_vm.state.nofilteredrow || _vm.state.features.length === 0},domProps:{\"checked\":_vm.state.selectAll}}),_vm._v(\" \"),_c('label',{staticStyle:{\"margin-bottom\":\"0 !important\"},attrs:{\"for\":\"attribute_table_select_all_rows\"},on:{\"!click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.selectAllRow($event)}}},[_c('span',{staticStyle:{\"padding\":\"5px\"}})])]):_c('span',[_vm._v(_vm._s(header.label))])])}),0)]),_vm._v(\" \"),_c('table-body',{attrs:{\"headers\":_vm.state.headers,\"filter\":_vm.state.tools.filter,\"features\":_vm.state.features,\"addRemoveSelectedFeature\":_vm.addRemoveSelectedFeature,\"zoomAndHighLightFeature\":_vm.zoomAndHighLightFeature}})],1):_c('div',{directives:[{name:\"t\",rawName:\"v-t\",value:('dataTable.no_data'),expression:\"'dataTable.no_data'\"}],attrs:{\"id\":\"noheaders\"}})])}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-b4d834d0\"\n\n},{\"components/FieldG3W.vue\":206,\"components/TableBody.vue\":302,\"components/TableSelectRow.vue\":303,\"components/TableToolbar.vue\":304,\"core/utils/utils\":68,\"mixins\":343,\"services/gui\":361,\"vueify/lib/insert-css\":1}],302:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _TableSelectRow = require('components/TableSelectRow.vue');\n\nvar _TableSelectRow2 = _interopRequireDefault(_TableSelectRow);\n\nvar _FieldG3W = require('components/FieldG3W.vue');\n\nvar _FieldG3W2 = _interopRequireDefault(_FieldG3W);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = {\n  name: \"table-body\",\n  props: {\n    headers: {\n      required: true,\n      type: Array\n    },\n    features: {\n      required: true,\n      type: Array\n    },\n    zoomAndHighLightFeature: {\n      type: Function\n    },\n    addRemoveSelectedFeature: {\n      type: Function\n    },\n    filter: {\n      type: Object,\n      default: {\n        active: false\n      }\n    }\n  },\n  data: function data() {\n    return {\n      selectedRow: null\n    };\n  },\n\n  components: {\n    Field: _FieldG3W2.default,\n    SelectRow: _TableSelectRow2.default\n  },\n  methods: {\n    getField: function getField(feature, header) {\n      return {\n        value: feature.attributes[header.name],\n        label: undefined };\n    }\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('tbody',{attrs:{\"id\":\"table_body_attributes\"}},_vm._l((_vm.features),function(feature,index){return _c('tr',{key:feature.id,staticClass:\"feature_attribute\",class:[index %2 == 1 ? 'odd' : 'pair', {geometry: !!feature.geometry}, {'selected': feature.selected}],staticStyle:{\"cursor\":\"pointer\"},attrs:{\"role\":\"row\",\"selected\":_vm.selectedRow === index},on:{\"mouseover\":function($event){return _vm.zoomAndHighLightFeature(feature, false)},\"click\":function($event){return _vm.zoomAndHighLightFeature(feature, true)}}},_vm._l((_vm.headers),function(header,hindex){return _c('td',{attrs:{\"tab-index\":1}},[(hindex===0)?_c('select-row',{attrs:{\"feature\":feature},on:{\"selected\":_vm.addRemoveSelectedFeature}}):_c('field',{attrs:{\"feature\":feature,\"state\":_vm.getField(feature, header)}})],1)}),0)}),0)}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-521d3b4c\"\n\n},{\"components/FieldG3W.vue\":206,\"components/TableSelectRow.vue\":303}],303:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _require = require('core/utils/utils'),\n    getUniqueDomId = _require.getUniqueDomId;\n\nexports.default = {\n  name: \"select-row\",\n  props: {\n    feature: {\n      required: true\n    }\n  },\n  data: function data() {\n    return {\n      id: getUniqueDomId()\n    };\n  },\n\n  methods: {\n    select: function select() {\n      this.$emit('selected', this.feature);\n    }\n  },\n  destroyed: function destroyed() {\n    this.$off('selected');\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',[_c('input',{staticClass:\"magic-checkbox\",attrs:{\"type\":\"checkbox\",\"id\":_vm.id},domProps:{\"checked\":_vm.feature.selected}}),_vm._v(\" \"),_c('label',{attrs:{\"for\":_vm.id},on:{\"!click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.select($event)}}},[_c('span')])])}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-f4034894\"\n\n},{\"core/utils/utils\":68}],304:[function(require,module,exports){\nvar __vueify_style_dispose__ = require(\"vueify/lib/insert-css\").insert(\".action-button[data-v-4f671d73]{padding:4px}.action-button.toggled[data-v-4f671d73]{border:1px solid #ccc}\")\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _applicationState = require(\"store/application-state\");\n\nvar _applicationState2 = _interopRequireDefault(_applicationState);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = {\n  name: \"g3w-table-toolbar\",\n  props: {\n    tools: {\n      type: Object\n    },\n    switchSelection: {\n      type: Function\n    },\n    clearAllSelection: {\n      type: Function\n    },\n    toggleFilterToken: {\n      type: Function\n    },\n    getDataFromBBOX: {\n      type: Function\n    }\n  },\n  computed: {\n    disableMapTool: function disableMapTool() {\n      return !this.tools.geolayer.active && _applicationState2.default.gui.layout[_applicationState2.default.gui.layout.__current].rightpanel.height_100;\n    }\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticStyle:{\"display\":\"flex\",\"justify-content\":\"space-between\",\"padding\":\"1px\"}},[(_vm.tools.geolayer.show)?_c('div',{directives:[{name:\"disabled\",rawName:\"v-disabled\",value:(_vm.disableMapTool),expression:\"disableMapTool\"},{name:\"t-tooltip\",rawName:\"v-t-tooltip.create\",value:('layer_selection_filter.tools.show_features_on_map'),expression:\"'layer_selection_filter.tools.show_features_on_map'\",modifiers:{\"create\":true}}],staticClass:\"skin-color action-button skin-tooltip-right\",class:[_vm.g3wtemplate.getFontClass('map'), _vm.tools.geolayer.active ? 'toggled' : ''],attrs:{\"data-placement\":\"right\",\"data-toggle\":\"tooltip\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.getDataFromBBOX($event)}}}):_vm._e(),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.tools.show),expression:\"tools.show\"},{name:\"t-tooltip\",rawName:\"v-t-tooltip.create\",value:('layer_selection_filter.tools.clear'),expression:\"'layer_selection_filter.tools.clear'\",modifiers:{\"create\":true}}],staticClass:\"skin-color action-button skin-tooltip-right\",class:_vm.g3wtemplate.getFontClass('clear'),attrs:{\"data-placement\":\"right\",\"data-toggle\":\"tooltip\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.clearAllSelection($event)}}}),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.tools.show),expression:\"tools.show\"},{name:\"t-tooltip\",rawName:\"v-t-tooltip.create\",value:('layer_selection_filter.tools.invert'),expression:\"'layer_selection_filter.tools.invert'\",modifiers:{\"create\":true}}],staticClass:\"skin-color action-button skin-tooltip-right\",class:[_vm.g3wtemplate.getFontClass('invert'), _vm.tools.filter.active ? 'g3w-disabled': ''],attrs:{\"data-placement\":\"right\",\"data-toggle\":\"tooltip\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.switchSelection($event)}}}),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.tools.show),expression:\"tools.show\"},{name:\"t-tooltip\",rawName:\"v-t-tooltip.create\",value:('layer_selection_filter.tools.filter'),expression:\"'layer_selection_filter.tools.filter'\",modifiers:{\"create\":true}}],staticClass:\"skin-color action-button skin-tooltip-right\",class:[_vm.g3wtemplate.getFontClass('filter'), _vm.tools.filter.active ? 'toggled' : ''],attrs:{\"data-placement\":\"right\",\"data-toggle\":\"tooltip\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.toggleFilterToken($event)}}})])}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-4f671d73\"\n\n},{\"store/application-state\":373,\"vueify/lib/insert-css\":1}],305:[function(require,module,exports){\nvar __vueify_style_dispose__ = require(\"vueify/lib/insert-css\").insert(\".tool_disabled[data-v-31811884]{cursor:not-allowed}.tool_disabled>span[data-v-31811884]{color:#777}\")\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _application = require('services/application');\n\nvar _application2 = _interopRequireDefault(_application);\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar AppState = _application2.default.getState();\n\nvar TOOLSTATE = {\n  alert: {\n    color: 'red'\n  },\n  info: {\n    color: 'blue'\n  },\n  warning: {\n    color: 'orange'\n  }\n};\n\nexports.default = {\n  name: \"g3w-tool\",\n  props: {\n    tool: {\n      required: true\n    }\n  },\n  data: function data() {\n    return {};\n  },\n\n  methods: {\n    fireAction: function fireAction(tool) {\n      this.tool.action(tool);\n    },\n    showToolStateMessage: function showToolStateMessage() {\n      _gui2.default.showModalDialog({\n        title: this.tool.state.type.toUpperCase(),\n        message: this.tool.state.message\n      });\n    }\n  },\n  computed: {\n    disabled: function disabled() {\n      return !this.tool.offline && !AppState.online || this.tool.loading || this.tool.disabled;\n    },\n    icon: function icon() {\n      return this.tool.icon || 'caret-right';\n    },\n    toolstatecolor: function toolstatecolor() {\n      return TOOLSTATE[this.tool.state.type].color;\n    }\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[(_vm.tool.type === 'checkbox' )?_c('div',{staticClass:\"checkbox\"},[_c('label',[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.tool.isCheck),expression:\"tool.isCheck\"}],staticStyle:{\"cursor\":\"pointer\"},attrs:{\"id\":_vm.tool.layerName,\"type\":\"checkbox\"},domProps:{\"value\":_vm.tool.layerName,\"checked\":Array.isArray(_vm.tool.isCheck)?_vm._i(_vm.tool.isCheck,_vm.tool.layerName)>-1:(_vm.tool.isCheck)},on:{\"click\":function($event){return _vm.fireAction(_vm.tool)},\"change\":function($event){var $$a=_vm.tool.isCheck,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=_vm.tool.layerName,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.$set(_vm.tool, \"isCheck\", $$a.concat([$$v])))}else{$$i>-1&&(_vm.$set(_vm.tool, \"isCheck\", $$a.slice(0,$$i).concat($$a.slice($$i+1))))}}else{_vm.$set(_vm.tool, \"isCheck\", $$c)}}}}),_vm._v(\"\\n      \"+_vm._s(_vm.tool.name)+\"\\n    \")])]):_c('div',{staticClass:\"tool\",class:{tool_disabled: _vm.disabled},staticStyle:{\"position\":\"relative\"},on:{\"click\":function($event){!_vm.disabled ? _vm.fireAction(_vm.tool) : null}}},[_c('bar-loader',{attrs:{\"loading\":_vm.tool.loading}}),_vm._v(\" \"),_c('i',{class:_vm.g3wtemplate.getFontClass(_vm.icon)}),_vm._v(\" \"),(_vm.tool.html)?_c('span',[_c('i',{class:_vm.tool.html.icon}),_vm._v(\"\\n      \"+_vm._s(_vm.tool.html.text || _vm.tool.name)+\"\\n    \")]):_c('span',{directives:[{name:\"t\",rawName:\"v-t\",value:(_vm.tool.name),expression:\"tool.name\"}]}),_vm._v(\" \"),(_vm.tool.state.type)?_c('span',{staticStyle:{\"cursor\":\"pointer\",\"vertical-align\":\"center\",\"position\":\"absolute\",\"right\":\"0\",\"top\":\"0\",\"padding\":\"5px\"},style:({color: _vm.toolstatecolor}),on:{\"click\":function($event){$event.stopPropagation();return _vm.showToolStateMessage($event)}}},[_c('i',{class:_vm.g3wtemplate.getFontClass(_vm.tool.state.type)})]):_vm._e()],1)])}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-31811884\"\n\n},{\"services/application\":351,\"services/gui\":361,\"vueify/lib/insert-css\":1}],306:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _Tool = require('components/Tool.vue');\n\nvar _Tool2 = _interopRequireDefault(_Tool);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = {\n  data: function data() {\n    return {\n      state: null\n    };\n  },\n\n  watch: {\n    'state.toolsGroups': {\n      handler: function handler(groups) {\n        this.$emit('visible', groups.length > 0);\n      }\n    }\n  },\n  components: {\n    G3wTool: _Tool2.default\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('ul',{staticClass:\"g3w-tools treeview-menu\"},[_c('bar-loader',{attrs:{\"loading\":_vm.state.loading}}),_vm._v(\" \"),_vm._l((_vm.state.toolsGroups),function(group){return _c('li',{key:group.name},[_c('div',{staticClass:\"tool-header\"},[_c('i',{class:_vm.g3wtemplate.getFontClass('tool')}),_vm._v(\" \"),_c('span',{},[_vm._v(_vm._s(group.name))])]),_vm._v(\" \"),_c('div',{staticClass:\"tool-box\",attrs:{\"id\":group.name + '-tools'}},_vm._l((group.tools),function(tool){return _c('g3w-tool',{key:tool.name,attrs:{\"tool\":tool}})}),1)])})],2)}\n__vue__options__.staticRenderFns = []\n\n},{\"components/Tool.vue\":305}],307:[function(require,module,exports){\nvar __vueify_style_dispose__ = require(\"vueify/lib/insert-css\").insert(\".usermessage-content[data-v-57c4f706]{color:#fff;z-index:1000;position:absolute;line-height:normal;padding:3px;min-width:250px;box-shadow:0 3px 5px rgba(0,0,0,.3);-moz-box-shadow:0 3px 5px rgba(0,0,0,.3)}.usermessage-content.mobile[data-v-57c4f706]{padding:0;min-width:100%}.usermessage-header-content[data-v-57c4f706]{display:flex;align-items:baseline;justify-content:space-between;width:100%}.usermessage-header-icontype[data-v-57c4f706]{padding:10px 0 0 5px;font-weight:700;font-size:1.3em}.usermessage-content.mobile .usermessage-header-icontype[data-v-57c4f706]{padding:0 0 0 5px;font-size:1.1em}.usermessage-header-title[data-v-57c4f706],.usermessage-header-title h4[data-v-57c4f706]{font-weight:700;text-align:center}.usermessage-content.mobile .usermessage-header-title h4[data-v-57c4f706]{margin:0}.usermessage-header-subtitle[data-v-57c4f706]{font-weight:700;margin:5px}.usermessage-header-right[data-v-57c4f706]{padding:5px}.usermessage-header-right-item[data-v-57c4f706]{font-weight:700!important;font-size:1.2em;cursor:pointer}.usermessage-message[data-v-57c4f706]{width:100%;padding:0 0 3px 10px;max-height:100px;font-size:1.1em;align-self:flex-start;overflow-y:auto}\")\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _constant = require('app/constant');\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar COLORS = {\n  success: {\n    backgroundColor: '#62ac62',\n    color: '#FFFFFF'\n  },\n  info: {\n    backgroundColor: '#44a0bb',\n    color: '#FFFFFF'\n  },\n  warning: {\n    backgroundColor: '#f29e1d',\n    color: '#FFFFFF'\n  },\n  alert: {\n    backgroundColor: '#c34943',\n    color: '#FFFFFF'\n  },\n  tool: {\n    backgroundColor: '#FFFFFF',\n    color: \"#222d32\"\n  },\n  loading: {\n    backgroundColor: '#FFFFFF',\n    color: \"#222d32\",\n    fontWeight: \"bold\"\n  }\n};\n\nvar STYLES = {\n  success: {},\n  info: {},\n  warning: {},\n  alert: {},\n  tool: {\n    \"z-index\": _constant.ZINDEXES.usermessage.tool,\n    left: \"40px\"\n  },\n  loading: {}\n};\n\nexports.default = {\n  name: \"usermessage\",\n  props: {\n    id: {},\n    type: {\n      type: String,\n      default: 'info' },\n    title: {\n      type: String,\n      default: null\n    },\n    subtitle: {\n      type: String,\n      default: null\n    },\n    position: {\n      type: String,\n      default: 'top'\n    },\n    size: {\n      type: 'String',\n      default: 'fullpage'\n    },\n    message: {\n      type: String,\n      default: ''\n    },\n    textMessage: {\n      type: Boolean,\n      default: false\n    },\n    autoclose: {\n      type: Boolean,\n      default: false\n    },\n    draggable: {\n      type: Boolean,\n      default: false\n    },\n    duration: {\n      type: Number,\n      default: 2000\n    },\n    closable: {\n      type: Boolean,\n      default: true\n    }\n  },\n  computed: {\n    showheader: function showheader() {\n      return this.type !== 'loading';\n    }\n  },\n  methods: {\n    addClassMobile: function addClassMobile() {\n      return this.isMobile() && !_gui2.default.isSidebarVisible();\n    },\n    closeUserMessage: function closeUserMessage() {\n      this.$emit('close-usermessage');\n    },\n    hideShow: function hideShow() {}\n  },\n  created: function created() {\n    var _position$split = this.position.split('-'),\n        _position$split2 = _slicedToArray(_position$split, 2),\n        where = _position$split2[0],\n        alignement = _position$split2[1];\n\n    var width = '100%';\n    switch (this.size) {\n      case 'small':\n        width = '25%';\n        break;\n      case 'medium':\n        width = '50%';\n        break;\n      case 'fullpage':\n      default:\n        width = '100%';\n    }\n    if (where === 'center') where = {\n      top: 0,\n      bottom: 0,\n      maxHeight: '20%'\n    };else {\n      where = _defineProperty({}, where, 50);\n    }\n    var position = _extends({}, where, {\n      width: width\n    });\n    if (alignement) {\n      position.width = '25%';\n      switch (alignement) {\n        case 'center':\n          position.left = '0';\n          position.right = '0';\n          position.margin = 'auto';\n          break;\n        case 'right':\n          position.right = 0;\n          break;\n      }\n    }\n    this.style = _extends({}, COLORS[this.type], position, STYLES[this.type]);\n  },\n  mounted: function () {\n    var _ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee() {\n      var _this = this;\n\n      var timeout;\n      return regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              if (!this.autoclose) {\n                _context.next = 4;\n                break;\n              }\n\n              _context.next = 3;\n              return this.$nextTick();\n\n            case 3:\n              timeout = setTimeout(function () {\n                _this.closeUserMessage();\n                clearTimeout(timeout);\n              }, this.duration);\n\n            case 4:\n            case 'end':\n              return _context.stop();\n          }\n        }\n      }, _callee, this);\n    }));\n\n    function mounted() {\n      return _ref.apply(this, arguments);\n    }\n\n    return mounted;\n  }()\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"usermessage-content\",class:{'mobile': _vm.addClassMobile()},style:(_vm.style),attrs:{\"id\":_vm.id}},[(_vm.showheader)?_c('div',{staticClass:\"usermessage-header-content\"},[_c('i',{staticClass:\"usermessage-header-icontype\",class:_vm.g3wtemplate.getFontClass(_vm.type)}),_vm._v(\" \"),_c('div',{staticClass:\"usermessage-header-title\"},[_vm._t(\"header\",[(_vm.title)?_c('h4',{directives:[{name:\"t\",rawName:\"v-t\",value:(_vm.title),expression:\"title\"}]}):_c('h4',[_vm._v(\" \"+_vm._s(_vm.type.toUpperCase()))]),_vm._v(\" \"),(_vm.subtitle)?_c('h5',{directives:[{name:\"t\",rawName:\"v-t\",value:(_vm.subtitle),expression:\"subtitle\"}],staticClass:\"usermessage-header-subtitle\"}):_vm._e()])],2),_vm._v(\" \"),_c('div',{staticClass:\"usermessage-header-right\"},[(!_vm.autoclose && _vm.closable)?_c('div',{on:{\"click\":_vm.closeUserMessage}},[_c('i',{staticClass:\"usermessage-header-right-item\",class:_vm.g3wtemplate.getFontClass('close')})]):_vm._e()])]):_vm._e(),_vm._v(\" \"),_vm._t(\"body\",[(_vm.textMessage)?_c('div',{staticClass:\"usermessage-message\"},[_vm._v(_vm._s(_vm.message))]):_c('div',{directives:[{name:\"t\",rawName:\"v-t\",value:(_vm.message),expression:\"message\"}],staticClass:\"usermessage-message\"})]),_vm._v(\" \"),_vm._t(\"footer\")],2)}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-57c4f706\"\n\n},{\"app/constant\":4,\"services/gui\":361,\"vueify/lib/insert-css\":1}],308:[function(require,module,exports){\nvar __vueify_style_dispose__ = require(\"vueify/lib/insert-css\").insert(\".content_breadcrumb[data-v-466a54cc]{font-size:1.2em;padding:0 3px;border-radius:3px}\")\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _UserMessage = require('components/UserMessage.vue');\n\nvar _UserMessage2 = _interopRequireDefault(_UserMessage);\n\nvar _NotifyOnline = require('components/NotifyOnline.vue');\n\nvar _NotifyOnline2 = _interopRequireDefault(_NotifyOnline);\n\nvar _NotifyDownload = require('components/NotifyDownload.vue');\n\nvar _NotifyDownload2 = _interopRequireDefault(_NotifyDownload);\n\nvar _NotifyPlugins = require('components/NotifyPlugins.vue');\n\nvar _NotifyPlugins2 = _interopRequireDefault(_NotifyPlugins);\n\nvar _constant = require('app/constant');\n\nvar _viewport = require('services/viewport');\n\nvar _viewport2 = _interopRequireDefault(_viewport);\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nexports.default = {\n  name: \"Viewport\",\n  props: {\n    appState: {\n      type: Object\n    }\n  },\n  components: {\n    userMessage: _UserMessage2.default,\n    onlineNotify: _NotifyOnline2.default,\n    downloadNotify: _NotifyDownload2.default,\n    pluginsNotify: _NotifyPlugins2.default\n  },\n  data: function data() {\n    return {\n      state: _viewport2.default.state,\n      updatePreviousTitle: false,\n      media: {\n        matches: true\n      }\n    };\n  },\n\n  computed: {\n    breadcrumb: function breadcrumb() {\n      return this.state.content.contentsdata.filter(function (content) {\n        return content.options.crumb;\n      }).map(function (content) {\n        return content.options.crumb;\n      });\n    },\n    showresize: function showresize() {\n      var currentPerc = _viewport2.default.getCurrentContentLayout()[this.state.split === 'h' ? 'width' : 'height'];\n      return this.state.resized.start && this.state.secondaryPerc > 0 && this.state.secondaryPerc < 100 && currentPerc < 100 && currentPerc > 0;\n    },\n    showresizeicon: function showresizeicon() {\n      return this.state.secondaryPerc !== 100;\n    },\n    hooks: function hooks() {\n      return this.usermessage.hooks;\n    },\n    usermessage: function usermessage() {\n      return this.state.usermessage;\n    },\n    showtitle: function showtitle() {\n      var showtitle = true;\n      var contentsData = this.state.content.contentsdata;\n      if (contentsData.length) {\n        var options = contentsData[contentsData.length - 1].options;\n        if (_.isBoolean(options.showtitle)) showtitle = options.showtitle;\n      }\n      return showtitle;\n    },\n    showContent: function showContent() {\n      return this.state.content.show;\n    },\n    styles: function styles() {\n      return {\n        map: {\n          width: this.state.map.sizes.width + 'px',\n          height: this.state.map.sizes.height + 'px'\n        },\n        content: {\n          width: this.state.content.sizes.width + 'px',\n          height: this.state.content.sizes.height + 'px',\n          zIndex: _constant.ZINDEXES.usermessage.tool + 1,\n          minHeight: this.state.split === 'v' ? _constant.VIEWPORT.resize.content.min + 'px' : null\n        }\n      };\n    },\n    contentTitle: function contentTitle() {\n      var contentsData = this.state.content.contentsdata;\n      if (contentsData.length) {\n        var _contentsData$options = contentsData[contentsData.length - 1].options,\n            title = _contentsData$options.title,\n            post_title = _contentsData$options.post_title;\n\n        return { title: title, post_title: post_title };\n      }\n    },\n    backOrBackTo: function backOrBackTo() {\n      var contentsData = this.state.content.contentsdata;\n      return contentsData.length > 1 && this.state.content.showgoback ? !contentsData[contentsData.length - 2].options.title ? 'back' : 'backto' : false;\n    },\n    previousTitle: function previousTitle() {\n      var _this = this;\n\n      var contentsData = this.state.content.contentsdata;\n      var title = contentsData.length > 1 && this.state.content.showgoback ? contentsData[contentsData.length - 2].options.title : null;\n      this.updatePreviousTitle = true;\n      this.$nextTick(function () {\n        return _this.updatePreviousTitle = false;\n      });\n      return title;\n    }\n  },\n  methods: {\n    isNotLastCrumb: function isNotLastCrumb(index) {\n      return index < this.breadcrumb.length - 1;\n    },\n    closeContent: function closeContent() {\n      _gui2.default.closeContent();\n    },\n    closeMap: function closeMap() {\n      _viewport2.default.closeMap();\n    },\n    gotoPreviousContent: function gotoPreviousContent() {\n      _gui2.default.popContent();\n    },\n    closeUserMessage: function closeUserMessage() {\n      _gui2.default.closeUserMessage();\n    },\n    moveFnc: function moveFnc(evt) {\n      var size = this.state.split === 'h' ? 'width' : 'height';\n      evt.preventDefault();\n      var sidebarHeaderSize = size === 'width' ? $('.sidebar-collapse').length ? 0 : _viewport2.default.SIDEBARWIDTH : $('#main-navbar').height();\n      var viewPortSize = $(this.$el)[size]();\n      var mapSize = (size === 'width' ? evt.pageX + 2 : evt.pageY + 2) - sidebarHeaderSize;\n      if (mapSize > viewPortSize - _constant.VIEWPORT.resize.content.min) mapSize = viewPortSize - _constant.VIEWPORT.resize.content.min;else if (mapSize < _constant.VIEWPORT.resize.map.min) mapSize = _constant.VIEWPORT.resize.map.min;\n      var contentSize = viewPortSize - mapSize;\n      var resizePercentageMap = Math.round(mapSize / viewPortSize * 100);\n      var resizePercentageContent = 100 - resizePercentageMap;\n      _viewport2.default.resizeViewComponents(this.state.split, {\n        map: _defineProperty({}, size, mapSize),\n        content: _defineProperty({}, size, contentSize)\n      }, resizePercentageContent);\n    }\n  },\n  mounted: function () {\n    var _ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee() {\n      var _this2 = this;\n\n      var handleResizeViewport, mediaQueryEventMobile;\n      return regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              handleResizeViewport = function handleResizeViewport() {\n                _this2.state.resized.start = true;\n              };\n\n              _context.next = 3;\n              return this.$nextTick();\n\n            case 3:\n              mediaQueryEventMobile = window.matchMedia(\"(min-height: 300px)\");\n\n              this.media.matches = mediaQueryEventMobile.matches;\n              mediaQueryEventMobile.addListener(function (event) {\n                if (event.type === 'change') _this2.media.matches = event.currentTarget.matches;\n              });\n              handleResizeViewport();\n\n            case 7:\n            case 'end':\n              return _context.stop();\n          }\n        }\n      }, _callee, this);\n    }));\n\n    function mounted() {\n      return _ref.apply(this, arguments);\n    }\n\n    return mounted;\n  }()\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"g3w-viewport\"},[_c('transition',{attrs:{\"name\":\"fade\",\"duration\":{ enter: 500, leave: 500 }}},[(_vm.usermessage.show)?_c('user-message',{attrs:{\"title\":_vm.usermessage.title,\"subtitle\":_vm.usermessage.subtitle,\"id\":_vm.usermessage.id,\"message\":_vm.usermessage.message,\"draggable\":_vm.usermessage.draggable,\"closable\":_vm.usermessage.closable,\"duration\":_vm.usermessage.duration,\"position\":_vm.usermessage.position,\"autoclose\":_vm.usermessage.autoclose,\"textMessage\":_vm.usermessage.textMessage,\"size\":_vm.usermessage.size,\"type\":_vm.usermessage.type},on:{\"close-usermessage\":_vm.closeUserMessage}},[(_vm.hooks.header)?_c('template',{slot:\"header\"},[_c(_vm.hooks.header,{tag:\"component\"})],1):_vm._e(),_vm._v(\" \"),(_vm.hooks.body)?_c('template',{slot:\"body\"},[_c(_vm.hooks.body,{tag:\"component\"})],1):_vm._e(),_vm._v(\" \"),(_vm.hooks.footer)?_c('template',{slot:\"footer\"},[_c(_vm.usermessage.hooks.footer,{tag:\"component\"})],1):_vm._e()],2):_vm._e()],1),_vm._v(\" \"),_c('div',{staticClass:\"g3w-view map\",class:(\"split-\" + (_vm.state.split)),style:(_vm.styles.map),attrs:{\"id\":\"g3w-view-map\"}},[_c('g3w-resize',{class:(\"split-\" + (_vm.state.split)),style:({backgroundColor:'transparent'}),attrs:{\"id\":\"resize-map-and-content\",\"show\":_vm.showresize,\"moveFnc\":_vm.moveFnc,\"orientation\":_vm.state.split}}),_vm._v(\" \"),_c('div',{attrs:{\"id\":\"application-notifications\"}},[_c('online-notify'),_vm._v(\" \"),_c('download-notify'),_vm._v(\" \"),_c('plugins-notify')],1)],1),_vm._v(\" \"),_c('div',{directives:[{name:\"disabled\",rawName:\"v-disabled\",value:(_vm.state.content.disabled),expression:\"state.content.disabled\"}],staticClass:\"g3w-view content\",class:(\"split-\" + (_vm.state.split)),style:(_vm.styles.content),attrs:{\"id\":\"g3w-view-content\"}},[(_vm.breadcrumb.length > 1)?_c('section',{ref:_vm.breadcrumb,staticClass:\"content_breadcrumb\"},_vm._l((_vm.breadcrumb),function(crumb,index){return _c('span',{key:crumb.title},[_c('span',{directives:[{name:\"t\",rawName:\"v-t\",value:(crumb.title),expression:\"crumb.title\"}],staticClass:\"skin-color-dark\",style:({fontWeight: _vm.isNotLastCrumb(index) ? 'bold' : 'normal'})}),_vm._v(\" \"),(_vm.isNotLastCrumb(index))?_c('span',{staticStyle:{\"font-weight\":\"bold\",\"margin\":\"3px 0\"}},[_vm._v(\"/\")]):_vm._e()])}),0):_vm._e(),_vm._v(\" \"),((_vm.showtitle && _vm.contentTitle) || _vm.previousTitle || (_vm.state.content.closable && _vm.state.content.aside))?_c('div',{staticClass:\"close-panel-block\",staticStyle:{\"display\":\"flex\",\"justify-content\":\"space-between\"}},[(_vm.previousTitle)?_c('div',{staticClass:\"g3w_contents_back g3w-long-text\"},[(_vm.backOrBackTo === 'back')?_c('div',{class:_vm.backOrBackTo},[_c('span',{staticClass:\"action-button\",class:_vm.g3wtemplate.getFontClass('back')}),_vm._v(\" \"),_c('span',{directives:[{name:\"t\",rawName:\"v-t\",value:('back'),expression:\"'back'\"}]})]):_c('div',{class:_vm.backOrBackTo,on:{\"click\":function($event){$event.stopPropagation();return _vm.gotoPreviousContent()}}},[_c('span',{staticClass:\"action-button\",class:_vm.g3wtemplate.getFontClass('back')}),_vm._v(\" \"),_c('span',{directives:[{name:\"t\",rawName:\"v-t\",value:('backto'),expression:\"'backto'\"}]}),_vm._v(\" \"),(!_vm.updatePreviousTitle)?_c('span',{directives:[{name:\"t\",rawName:\"v-t\",value:(_vm.previousTitle),expression:\"previousTitle\"}]}):_vm._e()])]):_vm._e(),_vm._v(\" \"),(!_vm.previousTitle && _vm.showtitle && _vm.contentTitle)?_c('div',{staticClass:\"panel-title\",class:{'mobile': _vm.isMobile()},style:([_vm.state.content.style.title])},[_c('span',{attrs:{\"id\":\"contenttitle\"}},[_c('span',{directives:[{name:\"t\",rawName:\"v-t\",value:(_vm.contentTitle.title),expression:\"contentTitle.title\"}]}),_vm._v(\" \"),_c('span',{directives:[{name:\"t\",rawName:\"v-t\",value:(_vm.contentTitle.post_title),expression:\"contentTitle.post_title\"}]})])]):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"g3-content-header-action-tools\",staticStyle:{\"display\":\"flex\"}},[_vm._l((_vm.state.content.headertools),function(tool){return _c(tool,{tag:\"component\"})}),_vm._v(\" \"),(_vm.showresizeicon)?_c('resize-icon',{staticStyle:{\"font-size\":\"1em\",\"padding\":\"0\",\"align-self\":\"center\",\"margin-left\":\"auto\"},style:({marginRight: _vm.state.content.closable ? '5px': '0px'}),attrs:{\"type\":_vm.state.split}}):_vm._e(),_vm._v(\" \"),(_vm.state.content.closable && _vm.state.content.aside)?_c('span',{staticClass:\"action-button\",class:{'mobile': _vm.isMobile()},staticStyle:{\"display\":\"flex\",\"justify-content\":\"center\"},on:{\"click\":_vm.closeContent}},[_c('i',{staticClass:\"skin-color-dark\",class:_vm.g3wtemplate.getFontClass('close')})]):_vm._e()],2)]):_vm._e(),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.state.content.loading),expression:\"state.content.loading\"}],staticClass:\"bar-loader\"})])],1)}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-466a54cc\"\n\n},{\"app/constant\":4,\"components/NotifyDownload.vue\":268,\"components/NotifyOnline.vue\":269,\"components/NotifyPlugins.vue\":270,\"components/UserMessage.vue\":307,\"services/gui\":361,\"services/viewport\":371,\"vueify/lib/insert-css\":1}],309:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = {\n  data: function data() {\n    return {\n      state: null\n    };\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"contents\",attrs:{\"id\":\"contents\"}})}\n__vue__options__.staticRenderFns = []\n\n},{}],310:[function(require,module,exports){\nvar __vueify_style_dispose__ = require(\"vueify/lib/insert-css\").insert(\".g3w-add-wms-url-message[data-v-965f11b2]{font-weight:700;color:#000}.g3w-wmsurl-error[data-v-965f11b2]{background-color:red}.g3w-wmsurl-already-added[data-v-965f11b2]{background-color:orange}.wms_url_input_content[data-v-965f11b2]{margin-bottom:5px}.wms-icon-action[data-v-965f11b2]{font-weight:700;font-size:1.3em;box-shadow:0 5px 10px #1e282c}.wms-icon-action[data-v-965f11b2]:hover{box-shadow:none}\")\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar _require = require('core/utils/utils'),\n    isURL = _require.isURL;\n\nexports.default = {\n  name: \"sidebaritem\",\n  data: function data() {\n    return {\n      url: null,\n      id: null,\n      loading: false,\n      status: {\n        error: false,\n        added: false\n      }\n    };\n  },\n\n  computed: {\n    inputswmsurlvalid: function inputswmsurlvalid() {\n      return this.url !== null && this.url.trim() && isURL(this.url) && this.id !== null && this.id.trim();\n    }\n  },\n  methods: {\n    addwmsurl: function () {\n      var _ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee() {\n        var _ref2, error, added;\n\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                this.loading = true;\n                _context.next = 3;\n                return this.$options.service.addNewUrl({\n                  url: this.url,\n                  id: this.id\n                });\n\n              case 3:\n                _ref2 = _context.sent;\n                error = _ref2.error;\n                added = _ref2.added;\n\n                this.status.error = error;\n                this.status.added = added;\n                this.loading = false;\n\n              case 9:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function addwmsurl() {\n        return _ref.apply(this, arguments);\n      }\n\n      return addwmsurl;\n    }(),\n    deleteWmsUrl: function deleteWmsUrl(id) {\n      this.$options.service.deleteWmsUrl(id);\n    },\n    showWmsLayersPanel: function () {\n      var _ref3 = _asyncToGenerator(regeneratorRuntime.mark(function _callee2(url) {\n        var _ref4, error, added;\n\n        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.prev = 0;\n\n                this.loading = true;\n                _context2.next = 4;\n                return this.$options.service.loadWMSDataAndShowWmsLayersPanel(url);\n\n              case 4:\n                _ref4 = _context2.sent;\n                error = _ref4.error;\n                added = _ref4.added;\n\n                this.status.error = error;\n                this.status.added = added;\n                this.loading = false;\n                _context2.next = 15;\n                break;\n\n              case 12:\n                _context2.prev = 12;\n                _context2.t0 = _context2[\"catch\"](0);\n\n                console.log(_context2.t0);\n\n              case 15:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this, [[0, 12]]);\n      }));\n\n      function showWmsLayersPanel(_x) {\n        return _ref3.apply(this, arguments);\n      }\n\n      return showWmsLayersPanel;\n    }()\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('ul',{staticClass:\"treeview-menu g3w-tools menu-items\"},[(_vm.loading)?_c('li',[_c('bar-loader',{attrs:{\"loading\":_vm.loading}})],1):_vm._e(),_vm._v(\" \"),_c('li',{staticStyle:{\"display\":\"flex\",\"flex-direction\":\"column\",\"justify-content\":\"space-between\",\"background\":\"transparent !important\",\"margin-bottom\":\"10px\"}},[_c('div',{staticClass:\"wms_url_input_content\"},[_c('label',{directives:[{name:\"t\",rawName:\"v-t\",value:('sidebar.wms.panel.label.name'),expression:\"'sidebar.wms.panel.label.name'\"}],attrs:{\"for\":\"add_custom_name_url_wms_input\"}}),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.id),expression:\"id\"}],staticClass:\"form-control\",staticStyle:{\"width\":\"100%\",\"color\":\"#000000\"},attrs:{\"id\":\"add_custom_name_url_wms_input\"},domProps:{\"value\":(_vm.id)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.id=$event.target.value}}})]),_vm._v(\" \"),_c('div',{staticClass:\"wms_url_input_content\"},[_c('label',{attrs:{\"for\":\"add_custom_url_wms_input\"}},[_vm._v(\"URL\")]),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.url),expression:\"url\"}],staticClass:\"form-control\",staticStyle:{\"width\":\"100%\",\"color\":\"#000000\"},attrs:{\"id\":\"add_custom_url_wms_input\"},domProps:{\"value\":(_vm.url)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.url=$event.target.value}}})]),_vm._v(\" \"),_c('div',[_c('button',{directives:[{name:\"disabled\",rawName:\"v-disabled\",value:(!_vm.inputswmsurlvalid),expression:\"!inputswmsurlvalid\"}],staticClass:\"btn btn-block skin-background-color\",staticStyle:{\"width\":\"100%\"},on:{\"click\":function($event){$event.preventDefault();$event.stopPropagation();return _vm.addwmsurl($event)}}},[_c('i',{class:_vm.g3wtemplate.getFontClass('plus-square')})])])]),_vm._v(\" \"),(_vm.status.error)?_c('li',[_c('div',{directives:[{name:\"t\",rawName:\"v-t\",value:('server_error'),expression:\"'server_error'\"}],staticClass:\"g3w-add-wms-url-message g3w-wmsurl-error\"})]):(_vm.status.added)?_c('li',[_c('div',{directives:[{name:\"t\",rawName:\"v-t\",value:('sidebar.wms.url_already_added'),expression:\"'sidebar.wms.url_already_added'\"}],staticClass:\"g3w-add-wms-url-message g3w-wmsurl-already-added\"})]):_vm._e(),_vm._v(\" \"),_c('li',{staticClass:\"skin-border-color\",staticStyle:{\"background\":\"transparent !important\",\"border-top\":\"2px solid\"}},[_c('div',{staticStyle:{\"max-height\":\"200px\",\"overflow-y\":\"auto\"}},[_vm._l((_vm.state.adminwmsurls),function(ref){\nvar id = ref.id;\nvar url = ref.url;\nreturn _c('div',{key:_vm.wmsurl,staticStyle:{\"display\":\"flex\",\"justify-content\":\"space-between\",\"align-items\":\"center\",\"border-bottom\":\"1px solid #cccccc\",\"padding-bottom\":\"3px\"}},[_c('span',{staticClass:\"g3w-long-text\",staticStyle:{\"flex-grow\":\"1\",\"margin-right\":\"15px\"}},[_vm._v(_vm._s(id))]),_vm._v(\" \"),_c('span',{staticClass:\"skin-color\",staticStyle:{\"padding\":\"5px\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.showWmsLayersPanel(id)}}},[_c('i',{class:_vm.g3wtemplate.getFontClass('plus-square'),staticStyle:{\"font-weight\":\"bold\",\"font-size\":\"1.3em\"}})])])}),_vm._v(\" \"),_vm._l((_vm.state.localwmsurls),function(ref){\nvar id = ref.id;\nvar url = ref.url;\nreturn _c('div',{key:id,staticStyle:{\"border-bottom\":\"1px solid #cccccc\",\"padding-bottom\":\"3px\"}},[_c('div',{staticStyle:{\"display\":\"flex\",\"justify-content\":\"space-between\",\"align-items\":\"center\",\"padding-top\":\"3px\"}},[_c('span',{staticClass:\"g3w-long-text\",staticStyle:{\"flex-grow\":\"1\",\"margin-right\":\"15px\",\"font-weight\":\"bold\"}},[_vm._v(_vm._s(id))]),_vm._v(\" \"),_c('span',{directives:[{name:\"t-tooltip\",rawName:\"v-t-tooltip:top.create\",value:('sidebar.wms.add_wms_layer'),expression:\"'sidebar.wms.add_wms_layer'\",arg:\"top\",modifiers:{\"create\":true}}],staticClass:\"skin-color\",staticStyle:{\"padding\":\"3px\",\"margin\":\"2px\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.showWmsLayersPanel(url)}}},[_c('i',{staticClass:\"wms-icon-action\",class:_vm.g3wtemplate.getFontClass('plus-square')})]),_vm._v(\" \"),_c('span',{directives:[{name:\"t-tooltip\",rawName:\"v-t-tooltip:top.create\",value:('sidebar.wms.delete_wms_url'),expression:\"'sidebar.wms.delete_wms_url'\",arg:\"top\",modifiers:{\"create\":true}}],staticStyle:{\"color\":\"red\",\"padding\":\"3px\",\"margin\":\"2px\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.deleteWmsUrl(id)}}},[_c('i',{staticClass:\"wms-icon-action\",class:_vm.g3wtemplate.getFontClass('trash'),staticStyle:{\"color\":\"red\"}})])]),_vm._v(\" \"),_c('div',{staticClass:\"g3w-long-text\",staticStyle:{\"font-size\":\"0.7em\"},attrs:{\"title\":url}},[_vm._v(_vm._s(url))])])})],2)])])}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-965f11b2\"\n\n},{\"core/utils/utils\":68,\"vueify/lib/insert-css\":1}],311:[function(require,module,exports){\nvar __vueify_style_dispose__ = require(\"vueify/lib/insert-css\").insert(\".g3w-wms-panel-title[data-v-64ebf92a]{font-size:1.2em;font-weight:700;margin-bottom:10px}button.wms-add-layer-buttom[data-v-64ebf92a]{width:100%;margin-top:10px}.g3w-wms-external-panel-layer-added-message[data-v-64ebf92a]{font-weight:700;color:red;margin:5px 0}\")\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar Projections = require('g3w-ol/projection/projections');\n\nexports.default = {\n  name: \"wmpspanel\",\n  data: function data() {\n    return {\n      loading: false,\n      position: undefined,\n      name: undefined,\n      title: null,\n      abstract: null,\n      map_formats: [],\n      info_formats: [],\n      layers: [],\n      selectedlayers: [],\n      projections: [],\n      epsg: null,\n      added: false\n    };\n  },\n\n  methods: {\n    addWMSlayer: function () {\n      var _ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee() {\n        var config;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                config = {\n                  url: this.url,\n                  name: this.name && this.name.trim() || undefined,\n                  layers: this.selectedlayers,\n                  epsg: this.epsg,\n                  position: this.position\n                };\n\n                this.added = this.$options.service.checkIfWMSAlreadyAdded(config);\n\n                if (this.added) {\n                  _context.next = 13;\n                  break;\n                }\n\n                this.loading = true;\n                _context.prev = 4;\n                _context.next = 7;\n                return this.$options.service.addWMSlayer(config);\n\n              case 7:\n                _context.next = 11;\n                break;\n\n              case 9:\n                _context.prev = 9;\n                _context.t0 = _context[\"catch\"](4);\n\n              case 11:\n                this.loading = false;\n                this.clear();\n\n              case 13:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this, [[4, 9]]);\n      }));\n\n      function addWMSlayer() {\n        return _ref.apply(this, arguments);\n      }\n\n      return addWMSlayer;\n    }(),\n    clear: function clear() {\n      this.selectedlayers = [];\n      this.name = null;\n    },\n    filterLayerByCurrentEpsg: function filterLayerByCurrentEpsg() {\n      var _this = this;\n\n      this.layers = this.epsg !== null ? this.layers.filter(function (_ref2) {\n        var name = _ref2.name;\n        return _this.layerProjections[name].crss.indexOf(_this.epsg) !== -1;\n      }) : this.$options.config.layers;\n    }\n  },\n  watch: {\n    selectedlayers: function selectedlayers(layers) {\n      var _this2 = this;\n\n      if (layers.length) {\n        var firstLayer = layers[0];\n        if (layers.length === 1) {\n          this.epsg = this.layerProjections[firstLayer].crss[0];\n\n          this.projections = this.layerProjections[firstLayer].crss;\n        } else this.projections = this.projections.filter(function (projection) {\n          return _this2.layerProjections[layers[layers.length - 1]].crss.index(projection) !== -1;\n        });\n      } else {\n        this.epsg = null;\n        this.projections = [];\n      }\n    },\n    epsg: function () {\n      var _ref3 = _asyncToGenerator(regeneratorRuntime.mark(function _callee2() {\n        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.next = 2;\n                return this.$nextTick();\n\n              case 2:\n                this.filterLayerByCurrentEpsg();\n\n              case 3:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function epsg() {\n        return _ref3.apply(this, arguments);\n      }\n\n      return epsg;\n    }()\n  },\n  created: function () {\n    var _ref4 = _asyncToGenerator(regeneratorRuntime.mark(function _callee3() {\n      var _this3 = this;\n\n      var _$options$config, layers, title, abstract, url;\n\n      return regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              _$options$config = this.$options.config, layers = _$options$config.layers, title = _$options$config.title, abstract = _$options$config.abstract, url = _$options$config.wmsurl;\n\n              this.layerProjections = {};\n              this.url = url;\n              layers.forEach(function (layer) {\n                _this3.layerProjections[layer.name] = {\n                  crss: layer.crss.map(function (crs) {\n                    Projections.get(crs);\n                    return \"EPSG:\" + crs.epsg;\n                  }).sort(),\n                  title: layer.title\n                };\n              });\n              this.layers = layers;\n\n              this.title = title;\n\n              this.abstract = abstract;\n\n            case 7:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee3, this);\n    }));\n\n    function created() {\n      return _ref4.apply(this, arguments);\n    }\n\n    return created;\n  }(),\n  beforeDestroy: function beforeDestroy() {\n    this.$data = null;\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"disabled\",rawName:\"v-disabled\",value:(_vm.loading),expression:\"loading\"}]},[_c('bar-loader',{attrs:{\"loading\":_vm.loading}}),_vm._v(\" \"),_c('h3',{staticClass:\"skin-color g3w-wms-panel-title\"},[_vm._v(_vm._s(_vm.title))]),_vm._v(\" \"),(_vm.abstract)?_c('helpdiv',{attrs:{\"message\":_vm.abstract}}):_vm._e(),_vm._v(\" \"),_c('label',{directives:[{name:\"t\",rawName:\"v-t\",value:('sidebar.wms.panel.label.layers'),expression:\"'sidebar.wms.panel.label.layers'\"}],attrs:{\"for\":\"g3w-wms-layers\"}}),_vm._v(\" \"),_c('select',{directives:[{name:\"select2\",rawName:\"v-select2\",value:('selectedlayers'),expression:\"'selectedlayers'\"}],attrs:{\"id\":\"g3w-wms-layers\",\"multiple\":\"multiple\",\"clear\":\"true\"}},_vm._l((_vm.layers),function(layer){return _c('option',{key:layer.name,domProps:{\"value\":layer.name}},[_vm._v(_vm._s(layer.title))])}),0),_vm._v(\" \"),_c('label',{directives:[{name:\"t\",rawName:\"v-t\",value:('sidebar.wms.panel.label.projections'),expression:\"'sidebar.wms.panel.label.projections'\"}],attrs:{\"for\":\"g3w-wms-projections\"}}),_vm._v(\" \"),_c('select',{directives:[{name:\"select2\",rawName:\"v-select2\",value:('epsg'),expression:\"'epsg'\"}],attrs:{\"id\":\"g3w-wms-projections\"}},_vm._l((_vm.projections),function(projection){return _c('option',{key:projection,domProps:{\"value\":projection}},[_vm._v(_vm._s(projection))])}),0),_vm._v(\" \"),_c('label',{directives:[{name:\"t\",rawName:\"v-t\",value:('sidebar.wms.panel.label.name'),expression:\"'sidebar.wms.panel.label.name'\"}],attrs:{\"for\":\"g3w-wms-layer-name\"}}),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.name),expression:\"name\"}],staticClass:\"form-control\",attrs:{\"id\":\"g3w-wms-layer-name\"},domProps:{\"value\":(_vm.name)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.name=$event.target.value}}}),_vm._v(\" \"),(_vm.added)?_c('div',{directives:[{name:\"t\",rawName:\"v-t\",value:('sidebar.wms.layer_id_already_added'),expression:\"'sidebar.wms.layer_id_already_added'\"}],staticClass:\"g3w-wms-external-panel-layer-added-message\"}):_vm._e(),_vm._v(\" \"),_c('layerspositions',{attrs:{\"position\":_vm.position},on:{\"layer-position-change\":function($event){_vm.position=$event}}}),_vm._v(\" \"),_c('button',{directives:[{name:\"disabled\",rawName:\"v-disabled\",value:(_vm.selectedlayers.length === 0),expression:\"selectedlayers.length === 0\"}],staticClass:\"btn wms-add-layer-buttom sidebar-button skin-button\",on:{\"click\":function($event){$event.stopPropagation();return _vm.addWMSlayer($event)}}},[_c('i',{class:_vm.g3wtemplate.getFontClass('plus-square'),staticStyle:{\"font-weight\":\"bold\"}})])],1)}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-64ebf92a\"\n\n},{\"g3w-ol/projection/projections\":111,\"vueify/lib/insert-css\":1}],312:[function(require,module,exports){\nrequire('regenerator-runtime');\n\nvar _vueColor = require('vue-color');\n\nvar VueColor = _interopRequireWildcard(_vueColor);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\n/**\n * @deprecated since v3.8. Will be removed in v4.x. Use ESM imports from 'vue-color' instead\n */\n/**\n * @file shims legacy variables to ensure backward compatibily with old G3W-CLIENT plugins (eg. window variables)\n * @since v3.8\n */\n\n/**\n * Add babel runtime support for compiled/transpiled async functions\n * \n * @TODO check if this still useful nowdays (IE 11 ?)\n */\nwindow.VueColor = VueColor;\n\n/**\n * @deprecated since v3.8. Will be removed in v4.x. Use require('vue-cookie') instead of window.VueCookie\n */\nwindow.VueCookie = require('vue-cookie');\n\n},{\"regenerator-runtime\":\"regenerator-runtime\",\"vue-color\":\"vue-color\",\"vue-cookie\":\"vue-cookie\"}],313:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\n/**\n * @TODO refactor stateful directives (eg. \"v-t\") in order to delete this file: \"src/directives/utils.js\"\n */\n\nvar _require = require('core/utils/utils'),\n    uniqueId = _require.uniqueId;\n\n/**\n * Internal state\n */\n\n\nvar vm = new Vue();\nvar directives = {};\n\nvar watch = exports.watch = function watch(_ref) {\n  var el = _ref.el,\n      attr = _ref.attr,\n      watcher = _ref.watcher;\n\n  var unique_attr_id = uniqueId();\n  el.setAttribute(attr, unique_attr_id);\n  var dir = directives[unique_attr_id] = {};\n  if (watcher) {\n    dir.unwatch = vm.$watch(watcher[0], watcher[1], watcher[2] || { immediate: true });\n    dir.handler = watcher[1];\n  }\n  return unique_attr_id;\n};\n\nvar unwatch = exports.unwatch = function unwatch(_ref2) {\n  var el = _ref2.el,\n      attr = _ref2.attr;\n\n  var unique_attr_id = el.getAttribute(attr);\n  if (unique_attr_id) {\n    directives[unique_attr_id].unwatch();\n    delete directives[unique_attr_id];\n  }\n};\n\nvar trigger = exports.trigger = function trigger(_ref3) {\n  var el = _ref3.el,\n      attr = _ref3.attr,\n      data = _ref3.data;\n  return directives[el.getAttribute(attr)].handler(data);\n};\n\n},{\"core/utils/utils\":68}],314:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\n/**\n * @file\n * @since v3.7\n */\n\nexports.default = function (el, binding) {\n  binding.value ? el.setAttribute('checked', 'checked') : el.removeAttribute('checked');\n};\n\n},{}],315:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\n/**\n * @file\n * @since v3.7\n */\n\nexports.default = function (el, binding) {\n  var className = 'g3w-disabled';\n  if (binding.value) {\n    if (!el.classList.contains(className)) el.classList.add(className);\n  } else el.classList.remove(className);\n};\n\n},{}],316:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _applicationState = require('store/application-state');\n\nvar _applicationState2 = _interopRequireDefault(_applicationState);\n\nvar _utils = require('directives/utils');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * @file\n * @since v3.7\n */\n\nvar attr = 'g3w-v-download-id';\n\nexports.default = {\n  bind: function bind(el, binding) {\n    if (typeof binding.value === 'boolean' ? binding.value : true) {\n      (0, _utils.watch)({\n        el: el,\n        attr: attr,\n        watcher: [function () {\n          return _applicationState2.default.download;\n        }, function (bool) {\n          var className = binding.modifiers && binding.modifiers.show && 'hide' || 'disabled';\n          el.classList.toggle('g3w-' + className, className === 'hide' ? !bool : bool);\n        }]\n      });\n    }\n  },\n\n  unbind: function unbind(el) {\n    return (0, _utils.unwatch)({ el: el, attr: attr });\n  }\n};\n\n},{\"directives/utils\":313,\"store/application-state\":373}],317:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _applicationState = require('store/application-state');\n\nvar _applicationState2 = _interopRequireDefault(_applicationState);\n\nvar _utils = require('directives/utils');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * @file\n * @since v3.7\n */\n\nvar attr = 'g3w-v-offline-id';\n\nexports.default = {\n  bind: function bind(el, binding) {\n    // show if online\n    (0, _utils.watch)({\n      el: el,\n      attr: attr,\n      watcher: [function () {\n        return _applicationState2.default.online;\n      }, function (bool) {\n        bool = (binding.arg && binding.arg === 'hide' ? false : true) ? bool : !bool;\n        el.classList.toggle('g3w-hide', !bool);\n      }]\n    });\n  },\n\n  unbind: function unbind(el) {\n    return (0, _utils.unwatch)({ el: el, attr: attr });\n  }\n};\n\n},{\"directives/utils\":313,\"store/application-state\":373}],318:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _applicationState = require('store/application-state');\n\nvar _applicationState2 = _interopRequireDefault(_applicationState);\n\nvar _utils = require('directives/utils');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * @file\n * @since v3.7\n */\n\nvar attr = 'g3w-v-plugins-id';\n\nexports.default = {\n  bind: function bind(el) {\n    (0, _utils.watch)({\n      el: el,\n      attr: attr,\n      watcher: [function () {\n        return _applicationState2.default.plugins;\n      }, function (plugins) {\n        el.classList.toggle('g3w-hide', plugins.length === 0);\n      }]\n    });\n  },\n\n  unbind: function unbind(el) {\n    return (0, _utils.unwatch)({ el: el, attr: attr });\n  }\n};\n\n},{\"directives/utils\":313,\"store/application-state\":373}],319:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n/**\n * @file\n * @since v3.7\n */\n\nexports.default = {\n  inserted: function inserted(el, binding, vnode) {\n    var _ref = vnode.data.attrs || {},\n        templateResult = _ref.templateResult,\n        templateSelection = _ref.templateSelection,\n        _ref$multiple = _ref.multiple,\n        multiple = _ref$multiple === undefined ? false : _ref$multiple,\n        _ref$search = _ref.search,\n        search = _ref$search === undefined ? true : _ref$search,\n        select2_value = _ref.select2_value;\n\n    $(el).select2({\n      width: '100%',\n      dropdownCssClass: 'skin-color',\n      templateResult: templateResult,\n      templateSelection: templateSelection,\n      minimumResultsForSearch: !search ? -1 : undefined\n    }).on('select2:select', function (e) {\n      if (binding.value) {\n        var value = e.params.data.id;\n        if (multiple && vnode.context[binding.value].filter(function (d) {\n          return value === d;\n        }).length === 0) {\n          vnode.context[binding.value].push(value);\n        } else {\n          vnode.context[binding.value] = value;\n        }\n      }\n    }).on('select2:unselect', function (e) {\n      if (binding.value && multiple) {\n        vnode.context[binding.value] = vnode.context[binding.value].filter(function (d) {\n          return e.params.data.id !== d;\n        });\n      }\n    });\n\n    if (binding.value && select2_value) {\n      $(el).val(select2_value).trigger('change');\n    }\n  },\n\n  unbind: function unbind(el) {\n    $(el).select2('destroy');\n  }\n};\n\n},{}],320:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\n/**\n * @file\n * @since v3.7\n */\n\nexports.default = function (el, binding) {\n  el.toggleAttribute('selected', binding.value === 0);\n};\n\n},{}],321:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _applicationState = require('store/application-state');\n\nvar _applicationState2 = _interopRequireDefault(_applicationState);\n\nvar _utils = require('directives/utils');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * @file\n * @since v3.7\n */\n\nvar _require = require('core/i18n/i18n.service'),\n    t = _require.t;\n\nvar attr = 'g3w-v-t-html-id';\n\nexports.default = {\n  bind: function bind(el, binding) {\n    (0, _utils.watch)({\n      el: el,\n      attr: attr,\n      watcher: [function () {\n        return _applicationState2.default.language;\n      }, function () {\n        el.innerHTML = '' + t(binding.value);\n      }]\n    });\n  },\n\n  unbind: function unbind(el) {\n    return (0, _utils.unwatch)({ el: el, attr: attr });\n  }\n};\n\n},{\"core/i18n/i18n.service\":13,\"directives/utils\":313,\"store/application-state\":373}],322:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _applicationState = require('store/application-state');\n\nvar _applicationState2 = _interopRequireDefault(_applicationState);\n\nvar _utils = require('directives/utils');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * @file\n * @since v3.7\n */\n\nvar _require = require('core/i18n/i18n.service'),\n    t = _require.t,\n    tPlugin = _require.tPlugin;\n\nvar attr = 'g3w-v-t-placeholder-id';\n\nexports.default = {\n  bind: function bind(el, binding) {\n    (0, _utils.watch)({\n      el: el,\n      attr: attr,\n      watcher: [function () {\n        return _applicationState2.default.language;\n      }, function () {\n        el.setAttribute('placeholder', (binding.arg === 'plugin' ? tPlugin : t)(binding.value));\n      }]\n    });\n  },\n\n  unbind: function unbind(el) {\n    return (0, _utils.unwatch)({ el: el, attr: attr });\n  }\n};\n\n},{\"core/i18n/i18n.service\":13,\"directives/utils\":313,\"store/application-state\":373}],323:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _applicationState = require('store/application-state');\n\nvar _applicationState2 = _interopRequireDefault(_applicationState);\n\nvar _utils = require('directives/utils');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * @file\n * @since v3.7\n */\n\nvar _require = require('core/i18n/i18n.service'),\n    tPlugin = _require.tPlugin;\n\nvar attr = 'g3w-v-t-plugin-id';\n\nexports.default = {\n  bind: function bind(el, binding) {\n    var innerHTML = el.innerHTML;\n    (0, _utils.watch)({\n      el: el,\n      attr: attr,\n      watcher: [function () {\n        return _applicationState2.default.language;\n      }, function () {\n        var value = binding.value !== null ? tPlugin(binding.value) : '';\n        switch (binding.arg ? binding.arg : 'post') {\n          case 'pre':\n            el.innerHTML = value + ' ' + innerHTML;break;\n          case 'post':\n            el.innerHTML = innerHTML + ' ' + value;break;\n        }\n      }]\n    });\n  },\n\n  unbind: function unbind(el) {\n    return (0, _utils.unwatch)({ el: el, attr: attr });\n  }\n};\n\n},{\"core/i18n/i18n.service\":13,\"directives/utils\":313,\"store/application-state\":373}],324:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _applicationState = require('store/application-state');\n\nvar _applicationState2 = _interopRequireDefault(_applicationState);\n\nvar _utils = require('directives/utils');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * @file\n * @since v3.7\n */\n\nvar _require = require('core/i18n/i18n.service'),\n    t = _require.t,\n    tPlugin = _require.tPlugin;\n\nvar attr = 'g3w-v-t-title-id';\n\nexports.default = {\n  bind: function bind(el, binding) {\n    (0, _utils.watch)({\n      el: el,\n      attr: attr,\n      watcher: [function () {\n        return _applicationState2.default.language;\n      }, function () {\n        var title = (binding.arg === 'plugin' ? tPlugin : t)(binding.value);\n        el.setAttribute('title', title);\n        el.setAttribute('data-original-title', title);\n      }] });\n  },\n\n  unbind: function unbind(el) {\n    return (0, _utils.unwatch)({ el: el, attr: attr });\n  }\n};\n\n},{\"core/i18n/i18n.service\":13,\"directives/utils\":313,\"store/application-state\":373}],325:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _applicationState = require('store/application-state');\n\nvar _applicationState2 = _interopRequireDefault(_applicationState);\n\nvar _utils = require('directives/utils');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * @file\n * @since v3.7\n */\n\nvar _require = require('core/i18n/i18n.service'),\n    t = _require.t,\n    tPlugin = _require.tPlugin;\n\nvar attr = 'g3w-v-t-tooltip-id';\n\nexports.default = {\n  bind: function bind(_el, binding) {\n    // Automatically create tooltip\n    if (binding.modifiers.create) {\n      if (binding.arg) {\n        _el.setAttribute('data-placement', binding.arg);\n        _el.classList.add('skin-color', 'skin-tooltip-' + binding.arg);\n      }\n      $(_el).tooltip({ trigger: _applicationState2.default.ismobile ? 'click' : 'hover', html: true })\n      // hide tooltip on mobile  after click\n      .on('shown.bs.tooltip', function () {\n        _applicationState2.default.ismobile && setTimeout(function () {\n          return $(_el).tooltip('hide');\n        }, 600);\n      });\n    }\n    (0, _utils.watch)({\n      el: _el,\n      attr: attr,\n      watcher: [function () {\n        return _applicationState2.default.language;\n      }, function (_ref) {\n        var _ref$el = _ref.el,\n            el = _ref$el === undefined ? _el : _ref$el;\n\n        var value = el.getAttribute('current-tooltip');\n        if (value === null) {\n          value = binding.value;\n        }\n        el.setAttribute('data-original-title', binding.modifiers.text ? value : (binding.arg === 'plugin' ? tPlugin : t)(value));\n      }]\n    });\n  },\n  componentUpdated: function componentUpdated(el, oldVnode) {\n    var value = el.getAttribute('current-tooltip');\n    if (value != null && value !== oldVnode.oldValue) {\n      (0, _utils.trigger)({ el: el, attr: attr, data: { el: el } });\n    }\n  },\n\n  unbind: function unbind(el) {\n    $(el).tooltip('hide');(0, _utils.unwatch)({ el: el, attr: attr });\n  }\n};\n\n},{\"core/i18n/i18n.service\":13,\"directives/utils\":313,\"store/application-state\":373}],326:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _applicationState = require('store/application-state');\n\nvar _applicationState2 = _interopRequireDefault(_applicationState);\n\nvar _utils = require('directives/utils');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * @file\n * @since v3.7\n */\n\nvar _require = require('core/i18n/i18n.service'),\n    t = _require.t;\n\nvar attr = 'g3w-v-t-id';\n\nexports.default = {\n  bind: function bind(el, binding) {\n    var innerHTML = el.innerHTML;\n    (0, _utils.watch)({\n      el: el,\n      attr: attr,\n      watcher: [function () {\n        return _applicationState2.default.language;\n      }, function () {\n        var value = binding.value !== null ? t(binding.value) : '';\n        switch (binding.arg ? binding.arg : 'post') {\n          case 'pre':\n            el.innerHTML = value + ' ' + innerHTML;break;\n          case 'post':\n            el.innerHTML = innerHTML + ' ' + value;break;\n        }\n      }]\n    });\n  },\n\n  unbind: function unbind(el) {\n    return (0, _utils.unwatch)({ el: el, attr: attr });\n  }\n};\n\n},{\"core/i18n/i18n.service\":13,\"directives/utils\":313,\"store/application-state\":373}],327:[function(require,module,exports){\n/**\n * @file Expose `window.g3wsdk` variable\n * @since v3.8\n */\n\n/**\n * Expose \"g3wsdk\" variable globally used by plugins to load sdk class and instances\n * \n * @type {object}\n */\nwindow.g3wsdk = require('app/api');\n\n/**\n * @TODO not yet implemented\n *\n * @see https://github.com/g3w-suite/g3w-client/issues/71\n * @see https://github.com/g3w-suite/g3w-client/issues/46\n */\n// window.g3w = window.g3wsdk;\n\n},{\"app/api\":2}],328:[function(require,module,exports){\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nrequire('./deprecated');\n\nrequire('./globals');\n\nvar _applicationState = require('store/application-state');\n\nvar _applicationState2 = _interopRequireDefault(_applicationState);\n\nvar _application = require('services/application');\n\nvar _application2 = _interopRequireDefault(_application);\n\nvar _viewport = require('services/viewport');\n\nvar _viewport2 = _interopRequireDefault(_viewport);\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nvar _floatbar = require('services/floatbar');\n\nvar _floatbar2 = _interopRequireDefault(_floatbar);\n\nvar _navbaritems = require('services/navbaritems');\n\nvar _navbaritems2 = _interopRequireDefault(_navbaritems);\n\nvar _sidebar = require('services/sidebar');\n\nvar _sidebar2 = _interopRequireDefault(_sidebar);\n\nvar _components = require('store/components');\n\nvar _components2 = _interopRequireDefault(_components);\n\nvar _App = require('components/App.vue');\n\nvar _App2 = _interopRequireDefault(_App);\n\nvar _GlobalImage = require('components/GlobalImage.vue');\n\nvar _GlobalImage2 = _interopRequireDefault(_GlobalImage);\n\nvar _GlobalGallery = require('components/GlobalGallery.vue');\n\nvar _GlobalGallery2 = _interopRequireDefault(_GlobalGallery);\n\nvar _GlobalGeo = require('components/GlobalGeo.vue');\n\nvar _GlobalGeo2 = _interopRequireDefault(_GlobalGeo);\n\nvar _GlobalSkeleton = require('components/GlobalSkeleton.vue');\n\nvar _GlobalSkeleton2 = _interopRequireDefault(_GlobalSkeleton);\n\nvar _GlobalBarLoader = require('components/GlobalBarLoader');\n\nvar _GlobalBarLoader2 = _interopRequireDefault(_GlobalBarLoader);\n\nvar _GlobalProgressBar = require('components/GlobalProgressBar');\n\nvar _GlobalProgressBar2 = _interopRequireDefault(_GlobalProgressBar);\n\nvar _GlobalHelpDiv = require('components/GlobalHelpDiv.vue');\n\nvar _GlobalHelpDiv2 = _interopRequireDefault(_GlobalHelpDiv);\n\nvar _GlobalResize = require('components/GlobalResize.vue');\n\nvar _GlobalResize2 = _interopRequireDefault(_GlobalResize);\n\nvar _GlobalLayerPositions = require('components/GlobalLayerPositions.vue');\n\nvar _GlobalLayerPositions2 = _interopRequireDefault(_GlobalLayerPositions);\n\nvar _GlobalDateTime = require('components/GlobalDateTime.vue');\n\nvar _GlobalDateTime2 = _interopRequireDefault(_GlobalDateTime);\n\nvar _GlobalRange = require('components/GlobalRange.vue');\n\nvar _GlobalRange2 = _interopRequireDefault(_GlobalRange);\n\nvar _GlobalResizeIcon = require('components/GlobalResizeIcon.vue');\n\nvar _GlobalResizeIcon2 = _interopRequireDefault(_GlobalResizeIcon);\n\nvar _GlobalTabs = require('components/GlobalTabs.vue');\n\nvar _GlobalTabs2 = _interopRequireDefault(_GlobalTabs);\n\nvar _GlobalDivider = require('components/GlobalDivider.vue');\n\nvar _GlobalDivider2 = _interopRequireDefault(_GlobalDivider);\n\nvar _Floatbar = require('components/Floatbar.vue');\n\nvar _Floatbar2 = _interopRequireDefault(_Floatbar);\n\nvar _NavbaritemsLeft = require('components/NavbaritemsLeft.vue');\n\nvar _NavbaritemsLeft2 = _interopRequireDefault(_NavbaritemsLeft);\n\nvar _NavbaritemsRight = require('components/NavbaritemsRight.vue');\n\nvar _NavbaritemsRight2 = _interopRequireDefault(_NavbaritemsRight);\n\nvar _Sidebar = require('components/Sidebar.vue');\n\nvar _Sidebar2 = _interopRequireDefault(_Sidebar);\n\nvar _Viewport = require('components/Viewport.vue');\n\nvar _Viewport2 = _interopRequireDefault(_Viewport);\n\nvar _vDisabled = require('directives/v-disabled');\n\nvar _vDisabled2 = _interopRequireDefault(_vDisabled);\n\nvar _vChecked = require('directives/v-checked');\n\nvar _vChecked2 = _interopRequireDefault(_vChecked);\n\nvar _vSelectedFirst = require('directives/v-selected-first');\n\nvar _vSelectedFirst2 = _interopRequireDefault(_vSelectedFirst);\n\nvar _vSelect = require('directives/v-select2');\n\nvar _vSelect2 = _interopRequireDefault(_vSelect);\n\nvar _vTTooltip = require('directives/v-t-tooltip');\n\nvar _vTTooltip2 = _interopRequireDefault(_vTTooltip);\n\nvar _vTHtml = require('directives/v-t-html');\n\nvar _vTHtml2 = _interopRequireDefault(_vTHtml);\n\nvar _vTPlaceholder = require('directives/v-t-placeholder');\n\nvar _vTPlaceholder2 = _interopRequireDefault(_vTPlaceholder);\n\nvar _vTTitle = require('directives/v-t-title');\n\nvar _vTTitle2 = _interopRequireDefault(_vTTitle);\n\nvar _vT = require('directives/v-t');\n\nvar _vT2 = _interopRequireDefault(_vT);\n\nvar _vTPlugin = require('directives/v-t-plugin');\n\nvar _vTPlugin2 = _interopRequireDefault(_vTPlugin);\n\nvar _vPlugins = require('directives/v-plugins');\n\nvar _vPlugins2 = _interopRequireDefault(_vPlugins);\n\nvar _vOnline = require('directives/v-online');\n\nvar _vOnline2 = _interopRequireDefault(_vOnline);\n\nvar _vDownload = require('directives/v-download');\n\nvar _vDownload2 = _interopRequireDefault(_vDownload);\n\nvar _constant = require('app/constant');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; } /**\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                            * @file Production entry point (app.min.js)\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                            * @since v3.8\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                            */\n\n// include backward compatibilies\n\n\n// expose global variables\n\n\n//import core\n\n\n//import services\n\n\n// import store\n\n\n//components\n\n\n//directives\n\n\n// constants\n\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit,\n    toRawType = _require.toRawType;\n\nvar _require2 = require('core/i18n/i18n.service'),\n    t = _require2.t,\n    tPlugin = _require2.tPlugin;\n\nvar G3WObject = require('core/g3wobject');\nvar ProjectsMenuComponent = require('gui/projectsmenu/projectsmenu');\nvar ChangeMapMenuComponent = require('gui/changemapmenu/changemapmenu');\n\n/**\n * Install global components\n *\n * ORIGINAL SOURCE: src/app/gui/vue/vue.globalcomponents.js@3.6\n */\nVue.component(_GlobalImage2.default.name, _GlobalImage2.default);\nVue.component(_GlobalGallery2.default.name, _GlobalGallery2.default);\nVue.component(_GlobalGeo2.default.name, _GlobalGeo2.default);\nVue.component(_GlobalBarLoader2.default.name, _GlobalBarLoader2.default);\nVue.component(_GlobalProgressBar2.default.name, _GlobalProgressBar2.default);\nVue.component(_GlobalSkeleton2.default.name, _GlobalSkeleton2.default);\nVue.component(_GlobalHelpDiv2.default.name, _GlobalHelpDiv2.default);\nVue.component(_GlobalResize2.default.name, _GlobalResize2.default);\nVue.component(_GlobalLayerPositions2.default.name, _GlobalLayerPositions2.default);\nVue.component(_GlobalDateTime2.default.name, _GlobalDateTime2.default);\nVue.component(_GlobalRange2.default.name, _GlobalRange2.default);\nVue.component(_GlobalResizeIcon2.default.name, _GlobalResizeIcon2.default);\nVue.component(_GlobalTabs2.default.name, _GlobalTabs2.default);\nVue.component(_GlobalDivider2.default.name, _GlobalDivider2.default);\n\n/**\n * Install application filters\n *\n * ORIGINAL SOURCE: src/app/gui/vue/vue.filter.js@3.6\n */\nVue.filter('t', function (value) {\n  return t(value);\n});\nVue.filter('tPlugin', function (value) {\n  return value !== null ? tPlugin(value) : '';\n});\n\n/**\n * Install global directives\n *\n * ORIGINAL SOURCE: src/app/gui/vue/vue.directives.js@v3.6\n */\nVue.directive(\"disabled\", _vDisabled2.default);\nVue.directive(\"checked\", _vChecked2.default);\nVue.directive(\"selected-first\", _vSelectedFirst2.default);\nVue.directive('select2', _vSelect2.default);\nVue.directive('t-tooltip', _vTTooltip2.default);\nVue.directive('t-html', _vTHtml2.default);\nVue.directive('t-placeholder', _vTPlaceholder2.default);\nVue.directive('t-title', _vTTitle2.default);\nVue.directive(\"t\", _vT2.default);\nVue.directive(\"t-plugin\", _vTPlugin2.default);\nVue.directive(\"plugins\", _vPlugins2.default);\nVue.directive(\"online\", _vOnline2.default);\nVue.directive(\"download\", _vDownload2.default);\n\n/**\n * Install global plugins\n */\nVue.use(window.VueCookie);\n\n/**\n * Vue 2 Plugin used to add global-level functionality to Vue\n *\n * @link https://v2.vuejs.org/v2/guide/plugins.html\n *\n * ORIGINAL SOURCE: src/app/gui/vue/vueappplugin.js@3.6\n */\nVue.use({\n  install: function install(Vue) {\n    // hold a list of registered fontawsome classes for current project\n    Vue.prototype.g3wtemplate = {\n      font: _constant.FONT_AWESOME_ICONS,\n      /**\n       * @TODO check if deprecated\n       */\n      get: function get() {},\n      getInfo: function getInfo() {\n        return {\n          font: this.font\n        };\n      },\n      addFontClass: function addFontClass() {\n        var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n            name = _ref.name,\n            className = _ref.className;\n\n        var added = this.font[name] === undefined;\n        if (added) this.font[name] = className;\n        return added;\n      },\n\n      /**\n       * @TODO check if deprecated\n       */\n      getInfoString: function getInfoString() {},\n      getFontClass: function getFontClass(type) {\n        return typeof this.font[type] !== \"undefined\" ? this.font[type] : '';\n      }\n    };\n    // include isMobile() method within all Vue instances\n    Vue.mixin({\n      methods: {\n        isMobile: function (_isMobile) {\n          function isMobile() {\n            return _isMobile.apply(this, arguments);\n          }\n\n          isMobile.toString = function () {\n            return _isMobile.toString();\n          };\n\n          return isMobile;\n        }(function () {\n          return isMobile.any;\n        })\n      }\n    });\n  }\n}, {});\n\nVue.mixin({ inheritAttrs: false }); // set mixins inheriAttrs to avoid tha unused props are setted as attrs\n\n/**\n * @requires components/App.vue\n */\nvar layout = $.LayoutManager;\n\n// loading spinner at beginning\nlayout.loading(true);\n\n/**\n * ORIGINAL SOURCE: src/gui/app/index.js@3.4\n */\nvar ApplicationTemplate = function ApplicationTemplate(_ref2) {\n  var ApplicationService = _ref2.ApplicationService;\n\n  var appLayoutConfig = ApplicationService.getConfig().layout || {};\n  // useful to build a difference layout/component based on mobile or not\n  this._isMobile = isMobile.any;\n  this._isIframe = appLayoutConfig.iframe;\n  //ussefult ot not close user message when set content is called\n  this.sizes = {\n    sidebar: {\n      width: 0\n    }\n  };\n  /*\n    usefull to show onaly last waiting request output\n    at moment will be an object\n    {\n      stop: method to sot to show result\n    }\n   */\n  this.waitingoutputdataplace = null;\n  this.init = function () {\n    // create Vue App\n    this._createApp();\n  };\n  // create application config\n  this._createTemplateConfig = function () {\n    var G3WTemplate = Vue.prototype.g3wtemplate;\n    var appTitle = ApplicationService.getConfig().apptitle || 'G3W Suite';\n    var ContentsComponent = require('gui/viewport/contentsviewer');\n    var CatalogComponent = require('gui/catalog/vue/catalog');\n    var SearchComponent = require('gui/search/vue/search');\n    var QueryBuilderUIFactory = require('gui/querybuilder/querybuilderuifactory');\n    var PrintComponent = require('gui/print/vue/print');\n    var MetadataComponent = require('gui/metadata/vue/metadata');\n    var ToolsComponent = require('gui/tools/vue/tools');\n    var WMSComponent = require('gui/wms/vue/wms');\n    var MapComponent = require('gui/map/vue/map');\n    var QueryResultsComponent = require('gui/queryresults/vue/queryresults');\n    var SpatialBookMarksComponent = require('gui/spatialbookmarks/vue/spatialbookmarks');\n    return {\n      title: appTitle,\n      placeholders: {\n        navbar: {\n          components: []\n        },\n        sidebar: {\n          components: [new MetadataComponent({\n            id: 'metadata',\n            open: false,\n            collapsible: false,\n            icon: G3WTemplate.getFontClass('file'),\n            mobile: true\n          }), new SpatialBookMarksComponent({\n            id: 'spatialbookmarks',\n            open: false,\n            collapsible: true,\n            icon: G3WTemplate.getFontClass('bookmark'),\n            mobile: true\n          }), new PrintComponent({\n            id: 'print',\n            open: false,\n            collapsible: true, //  it used to manage click event if can run setOpen component method\n            icon: G3WTemplate.getFontClass('print'),\n            mobile: false\n          }), new SearchComponent({\n            id: 'search',\n            open: false,\n            collapsible: true,\n            icon: G3WTemplate.getFontClass('search'),\n            actions: [{\n              id: \"querybuilder\",\n              class: G3WTemplate.getFontClass('calculator') + ' sidebar-button sidebar-button-icon',\n              tooltip: 'Query Builder',\n              fnc: function fnc() {\n                _gui2.default.closeContent();\n                ApplicationTemplate.Services.sidebar.closeOpenComponents();\n                QueryBuilderUIFactory.show({\n                  type: 'sidebar' // sidebar or modal\n                });\n              },\n              style: {\n                color: '#8DC3E3',\n                padding: '6px',\n                fontSize: '1.2em',\n                borderRadius: '3px',\n                marginRight: '5px'\n              }\n            }],\n            mobile: true\n          }),\n          // Component that store plugins\n          new ToolsComponent({\n            id: 'tools',\n            open: false,\n            collapsible: true,\n            icon: G3WTemplate.getFontClass('tools'),\n            mobile: true\n          }), new WMSComponent({\n            id: 'wms',\n            open: false,\n            collapsible: true,\n            icon: G3WTemplate.getFontClass('layers'),\n            mobile: true\n          }), new CatalogComponent({\n            id: 'catalog',\n            open: false,\n            collapsible: false,\n            isolate: true,\n            icon: G3WTemplate.getFontClass('map'),\n            mobile: true,\n            config: {\n              legend: {\n                config: appLayoutConfig.legend\n              }\n            }\n          })]\n        },\n        floatbar: {\n          components: []\n        }\n      },\n      othercomponents: [new QueryResultsComponent({\n        id: 'queryresults'\n      })],\n      viewport: {\n        // placeholder of the content (view content). Secondary view (hidden)\n        components: {\n          map: new MapComponent({\n            id: 'map'\n          }),\n          content: new ContentsComponent({\n            id: 'contents'\n          })\n        }\n      }\n    };\n  };\n\n  //Vue app\n  this._createApp = function () {\n    this._setDataTableLanguage();\n    var self = this;\n    if (isMobile.any || this._isIframe) $('body').addClass('sidebar-collapse');\n    return new Vue({\n      el: '#app',\n      created: function created() {\n        // set general metods for the application as  GUI.showForm etc ..\n        self._setupInterface();\n        // setup layout\n        self._setupLayout();\n        //register all services fro the application\n        self._setUpServices();\n        // create templateConfig\n        self.templateConfig = self._createTemplateConfig();\n        // listen lng change and reset datatable language\n        this.$watch(function () {\n          return _applicationState2.default.language;\n        }, function () {\n          self._setDataTableLanguage();\n        });\n      },\n      mounted: function () {\n        var _ref3 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n          var skinColor;\n          return regeneratorRuntime.wrap(function _callee$(_context) {\n            while (1) {\n              switch (_context.prev = _context.next) {\n                case 0:\n                  _context.next = 2;\n                  return this.$nextTick();\n\n                case 2:\n                  self._buildTemplate();\n                  // setup Font, Css class methods\n                  self._setUpTemplateDependencies(this);\n                  $(document).localize();\n                  self._setViewport(self.templateConfig.viewport);\n                  skinColor = $('.navbar').css('background-color');\n\n                  _gui2.default.skinColor = skinColor && '#' + skinColor.substr(4, skinColor.indexOf(')') - 4).split(',').map(function (color) {\n                    return parseInt(color).toString(16);\n                  }).join('');\n                  _context.next = 10;\n                  return this.$nextTick();\n\n                case 10:\n                  self.emit('ready');\n                  self.sizes.sidebar.width = $('#g3w-sidebar').width();\n                  //getSkinColor\n                  _gui2.default.ready();\n\n                case 13:\n                case 'end':\n                  return _context.stop();\n              }\n            }\n          }, _callee, this);\n        }));\n\n        function mounted() {\n          return _ref3.apply(this, arguments);\n        }\n\n        return mounted;\n      }()\n    });\n  };\n\n  this._setupLayout = function () {\n    if (!isMobile.any) {\n      // setup map controls\n      $(\"<style type='text/css'> .ol-control-tl {\" + \"top: 7px;\" + \"left:43px;\" + \"}</style>\").appendTo(\"head\");\n    }\n    // Inizialization of the components of the application\n    Vue.component('sidebar', _Sidebar2.default);\n    //Navbar custom items\n    Vue.component('navbarleftitems', _NavbaritemsLeft2.default);\n    Vue.component('navbarrightitems', _NavbaritemsRight2.default);\n    Vue.component('viewport', _Viewport2.default);\n    Vue.component('floatbar', _Floatbar2.default);\n    Vue.component('app', _App2.default);\n  };\n\n  // dataTable Translations and custom extentions\n  this._setDataTableLanguage = function () {\n    var dataTable = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n\n    var languageOptions = {\n      \"language\": {\n        \"sSearch\": '',\n        \"searchPlaceholder\": t(\"dosearch\"),\n        \"sLengthMenu\": t(\"dataTable.lengthMenu\"),\n        \"paginate\": {\n          \"previous\": t(\"dataTable.previous\"),\n          \"next\": t(\"dataTable.next\")\n        },\n        \"info\": t(\"dataTable.info\"),\n        \"zeroRecords\": t(\"dataTable.nodatafilterd\"),\n        \"infoFiltered\": ''\n      }\n    };\n    //set form control class to filter\n    $.extend($.fn.dataTableExt.oStdClasses, {\n      \"sFilterInput\": \"form-control search\"\n    });\n    !dataTable ? $.extend(true, $.fn.dataTable.defaults, languageOptions) : dataTable.dataTable({ \"oLanguage\": languageOptions });\n  };\n\n  // route setting att beginning (is an example)\n  this._addRoutes = function () {\n    var RouterService = ApplicationService.getRouterService();\n    var mapService = _gui2.default.getComponent('map').getService();\n    RouterService.addRoute('map/zoomto/{coordinate}/:zoom:', function (coordinate, zoom) {\n      coordinate = _.map(coordinate.split(','), function (xy) {\n        return Number(xy);\n      });\n      zoom = zoom ? Number(zoom) : null;\n      if (coordinate.length) {\n        mapService.on('ready', function () {\n          this.zoomTo(coordinate, zoom);\n        });\n      }\n    });\n  };\n\n  //register all services\n  this._setUpServices = function () {\n    Object.keys(ApplicationTemplate.Services).forEach(function (element) {\n      var service = ApplicationTemplate.Services[element];\n      ApplicationService.registerService(element, service);\n    });\n    Object.values(_gui2.default.getComponents()).forEach(function (component) {\n      ApplicationService.registerService(component.id, component.getService());\n    });\n    ApplicationTemplate.Services.viewport.on('resize', function () {\n      return _gui2.default.emit('resize');\n    });\n  };\n  // build template function\n  this._buildTemplate = function () {\n    var _this = this;\n\n    _floatbar2.default.init(layout);\n    var placeholdersConfig = this.templateConfig.placeholders;\n    Object.entries(placeholdersConfig).forEach(function (_ref4) {\n      var _ref5 = _slicedToArray(_ref4, 2),\n          placeholder = _ref5[0],\n          options = _ref5[1];\n\n      _this._addComponents(options.components, placeholder);\n    });\n    //register other compoents\n    this._addOtherComponents();\n  };\n\n  //add component not related to placeholder\n  this._addOtherComponents = function () {\n    if (this.templateConfig.othercomponents) this._addComponents(this.templateConfig.othercomponents);\n  };\n  // viewport setting\n  this._setViewport = function (viewportOptions) {\n    // viewport components\n    // es.: map e content\n    /*\n     components: {\n      map: new MapComponent({\n        id: 'map'\n      }),\n      content: new ContentsComponent({\n        id: 'content',\n      })\n     }\n      */\n    if (viewportOptions) {\n      ApplicationTemplate.Services.viewport.init(viewportOptions);\n      this._addComponents(viewportOptions.components);\n    }\n  };\n\n  // add component to template\n  this._addComponent = function (component, placeholder) {\n    var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n    this._addComponents([component], placeholder, options);\n    return true;\n  };\n\n  // registry component\n  this._addComponents = function (components, placeholder, options) {\n    var register = true;\n    if (placeholder && ApplicationTemplate.PLACEHOLDERS.indexOf(placeholder) > -1) {\n      var placeholderService = ApplicationTemplate.Services[placeholder];\n      if (placeholderService) register = placeholderService.addComponents(components, options);\n    }\n    Object.entries(components).forEach(function (_ref6) {\n      var _ref7 = _slicedToArray(_ref6, 2),\n          key = _ref7[0],\n          component = _ref7[1];\n\n      if (register) {\n        _components2.default.registerComponent(component);\n        ApplicationService.registerService(component.id, component.getService());\n      }\n    });\n  };\n\n  this._removeComponent = function (componentId, placeholder, options) {\n    var component = _components2.default.unregisterComponent(componentId);\n    placeholder && ApplicationTemplate.Services[placeholder] && ApplicationTemplate.Services[placeholder].removeComponent(component, options);\n  };\n\n  this._showModalOverlay = function () {\n    var bool = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n    var message = arguments[1];\n\n    var mapService = _gui2.default.getService('map');\n    if (bool) mapService.startDrawGreyCover(message);else mapService.stopDrawGreyCover();\n  };\n\n  this._isSidebarVisible = function () {\n    return !$('body').hasClass('sidebar-collapse');\n  };\n\n  this._showSidebar = function () {\n    $('body').addClass('sidebar-open');\n    $('body').removeClass('sidebar-collapse');\n  };\n\n  this._hideSidebar = function () {\n    $('body').removeClass('sidebar-open');\n    $('body').addClass('sidebar-collapse');\n  };\n\n  // setup Fonts Css dependencies methods\n  this._setUpTemplateDependencies = function (VueApp) {\n    _gui2.default.isMobile = function () {\n      return isMobile.any;\n    };\n    // method that return Template Info\n    _gui2.default.getTemplateInfo = function () {\n      return VueApp.g3wtemplate.getInfo();\n    };\n    _gui2.default.getTemplateInfo = function () {\n      return VueApp.g3wtemplate.getInfo();\n    };\n    _gui2.default.getFontClass = function (type) {\n      return VueApp.g3wtemplate.getFontClass(type);\n    };\n  };\n\n  /**\n   * Convert error to user message showed\n   * @param error\n   * @returns {string}\n   */\n  _gui2.default.errorToMessage = function (error) {\n    var message = 'server_error';\n    switch (toRawType(error)) {\n      case 'Error':\n        message = 'CLIENT - ' + error.message;\n        break;\n      case 'Object':\n        if (error.responseJSON) {\n          error = error.responseJSON;\n          if (error.result === false) {\n            var _error$error = error.error,\n                _error$error$code = _error$error.code,\n                code = _error$error$code === undefined ? '' : _error$error$code,\n                _error$error$data = _error$error.data,\n                data = _error$error$data === undefined ? '' : _error$error$data,\n                _error$error$message = _error$error.message,\n                msg = _error$error$message === undefined ? '' : _error$error$message;\n\n            message = code.toUpperCase() + ' ' + data + ' ' + msg;\n          }\n        } else if (error.responseText) {\n          message = error.responseText;\n        }\n        break;\n      case 'Array':\n        message = error.map(function (error) {\n          return _gui2.default.errorToMessage(error);\n        }).join(' ');\n        break;\n      case 'String':\n      default:\n        message = error;\n    }\n    return message;\n  };\n\n  // setup Interaces\n  this._setupInterface = function () {\n    var _this2 = this;\n\n    /* PLUBLIC INTERFACE */\n\n    /* Common methods */\n    _gui2.default.layout = layout;\n    _gui2.default.getSize = function (_ref8) {\n      var element = _ref8.element,\n          what = _ref8.what;\n\n      if (element && what) return _this2.sizes[element][what];\n    };\n\n    _gui2.default.addComponent = this._addComponent.bind(this);\n    _gui2.default.removeComponent = this._removeComponent.bind(this);\n\n    /* Metodos to define */\n    _gui2.default.getResourcesUrl = function () {\n      return ApplicationService.getConfig().resourcesurl;\n    };\n\n    //LIST\n    _gui2.default.showList = _floatbar2.default.showPanel.bind(_floatbar2.default);\n    _gui2.default.closeList = _floatbar2.default.closePanel.bind(_floatbar2.default);\n    _gui2.default.hideList = _floatbar2.default.hidePanel.bind(_floatbar2.default);\n\n    // TABLE\n    _gui2.default.showTable = function () {};\n    _gui2.default.closeTable = function () {};\n\n    //Function called from DataRouterservice for gui output\n    /**\n     *\n     * @param data\n     * @param options\n     */\n    _gui2.default.outputDataPlace = function () {\n      var _ref9 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee4(dataPromise) {\n        var _this3 = this;\n\n        var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n        var defaultOutputConfig, _options$title, title, _options$show, show, before, after, outputConfig, condition, add, loading, queryResultsService;\n\n        return regeneratorRuntime.wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                // show parameter it used to set condition to show result or not\n                // loading parameter is used to show result content when we are wait the response. Default true otherwise we shoe result content at the end\n                defaultOutputConfig = { condition: true, add: false, loading: true };\n                _options$title = options.title, title = _options$title === undefined ? '' : _options$title, _options$show = options.show, show = _options$show === undefined ? defaultOutputConfig : _options$show, before = options.before, after = options.after;\n                // convert show in an object\n\n                outputConfig = toRawType(show) !== 'Object' ? {\n                  condition: show, // can be Function or Boolean otherwise is set true\n                  add: false,\n                  loading: true\n                } : _extends({}, defaultOutputConfig, show);\n                condition = outputConfig.condition, add = outputConfig.add, loading = outputConfig.loading;\n                //check if waiting output data\n                // in case we stop and substiute with new request data\n\n                _context4.t0 = this.waitingoutputdataplace;\n\n                if (!_context4.t0) {\n                  _context4.next = 8;\n                  break;\n                }\n\n                _context4.next = 8;\n                return this.waitingoutputdataplace.stop();\n\n              case 8:\n                queryResultsService = add ? _gui2.default.getService('queryresults') : loading && this.showContentFactory('query')(title);\n\n                this.waitingoutputdataplace = function () {\n                  var _stop = false;\n                  _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2() {\n                    var data, showResult, message;\n                    return regeneratorRuntime.wrap(function _callee2$(_context2) {\n                      while (1) {\n                        switch (_context2.prev = _context2.next) {\n                          case 0:\n                            _context2.prev = 0;\n                            _context2.next = 3;\n                            return dataPromise;\n\n                          case 3:\n                            data = _context2.sent;\n                            _context2.t0 = before;\n\n                            if (!_context2.t0) {\n                              _context2.next = 8;\n                              break;\n                            }\n\n                            _context2.next = 8;\n                            return before(data);\n\n                          case 8:\n                            // in case of usermessage show user message\n                            data.usermessage && _gui2.default.showUserMessage({\n                              type: data.usermessage.type,\n                              message: data.usermessage.message,\n                              autoclose: data.usermessage.autoclose\n                            });\n                            if (!_stop) {\n                              // check condition\n                              showResult = toRawType(condition) === 'Function' ? condition(data) : toRawType(condition) === 'Boolean' ? condition : true;\n\n                              if (showResult) {\n                                (queryResultsService ? queryResultsService : _this3.showContentFactory('query')(title)).setQueryResponse(data, {\n                                  add: add\n                                });\n                              } else _gui2.default.closeContent();\n                              // call after is set with data\n                              after && after(data);\n                            }\n                            _context2.next = 17;\n                            break;\n\n                          case 12:\n                            _context2.prev = 12;\n                            _context2.t1 = _context2['catch'](0);\n                            message = _this3.errorToMessage(_context2.t1);\n\n                            _this3.showUserMessage({\n                              type: 'alert',\n                              message: message,\n                              textMessage: true\n                            });\n                            _this3.closeContent();\n\n                          case 17:\n                            _context2.prev = 17;\n\n                            if (!_stop) _this3.waitingoutputdataplace = null;\n                            return _context2.finish(17);\n\n                          case 20:\n                          case 'end':\n                            return _context2.stop();\n                        }\n                      }\n                    }, _callee2, _this3, [[0, 12, 17, 20]]);\n                  }))();\n                  return {\n                    stop: function () {\n                      var _ref11 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee3() {\n                        return regeneratorRuntime.wrap(function _callee3$(_context3) {\n                          while (1) {\n                            switch (_context3.prev = _context3.next) {\n                              case 0:\n                                _stop = true;\n\n                              case 1:\n                              case 'end':\n                                return _context3.stop();\n                            }\n                          }\n                        }, _callee3, _this3);\n                      }));\n\n                      function stop() {\n                        return _ref11.apply(this, arguments);\n                      }\n\n                      return stop;\n                    }()\n                  };\n                }();\n\n              case 10:\n              case 'end':\n                return _context4.stop();\n            }\n          }\n        }, _callee4, this);\n      }));\n\n      return function (_x6) {\n        return _ref9.apply(this, arguments);\n      };\n    }();\n\n    _gui2.default.showContentFactory = function (type) {\n      var showPanelContent = void 0;\n      switch (type) {\n        case 'query':\n          showPanelContent = _gui2.default.showQueryResults;\n          break;\n        case 'form':\n          showPanelContent = _gui2.default.showForm;\n          break;\n      }\n      return showPanelContent;\n    };\n\n    _gui2.default.showForm = function () {\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      var perc = options.perc,\n          _options$split = options.split,\n          split = _options$split === undefined ? 'h' : _options$split,\n          push = options.push,\n          showgoback = options.showgoback,\n          crumb = options.crumb;\n\n      var FormComponent = require('gui/form/vue/form');\n      // new isnstace every time\n      var formComponent = options.formComponent ? new options.formComponent(options) : new FormComponent(options);\n      //get service\n      var formService = formComponent.getService();\n      // parameters : [content, title, push, perc, split, closable, crumb]\n      _gui2.default.setContent({\n        perc: perc,\n        content: formComponent,\n        split: split,\n        crumb: crumb,\n        push: !!push, //only one( if other delete previous component)\n        showgoback: !!showgoback,\n        closable: false\n      });\n      // return service\n      return formService;\n    };\n\n    /**\n     *\n     * @param pop remove or not content or pop\n     */\n    _gui2.default.closeForm = function () {\n      var _ref12 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          _ref12$pop = _ref12.pop,\n          pop = _ref12$pop === undefined ? false : _ref12$pop;\n\n      this.emit('closeform', false);\n      pop ? _gui2.default.popContent() : _viewport2.default.removeContent();\n      // force set modal to false\n      _gui2.default.setModal(false);\n    };\n\n    _gui2.default.disableElement = function (_ref13) {\n      var element = _ref13.element,\n          disable = _ref13.disable;\n\n      disable && $(element).addClass('g3w-disabled') || $(element).removeClass('g3w-disabled');\n    };\n\n    _gui2.default.disableContent = function (disable) {\n      _viewport2.default.disableContent(disable);\n    };\n\n    _gui2.default.disablePanel = function () {\n      var disable = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n      _gui2.default.disableElement({\n        element: \"#g3w-sidebarpanel-placeholder\",\n        disable: disable\n      });\n    };\n\n    // hide content\n    _gui2.default.hideContent = function (bool, perc) {\n      return _viewport2.default.hideContent(bool, perc);\n    };\n\n    _gui2.default.closeContent = function () {\n      this.emit('closecontent', false);\n      return _viewport2.default.closeContent();\n    };\n\n    _gui2.default.closeOpenSideBarComponent = function () {\n      ApplicationTemplate.Services.sidebar.closeOpenComponents();\n    };\n\n    // show results info/search\n    _gui2.default.showQueryResults = function (title, results) {\n      var queryResultsComponent = _gui2.default.getComponent('queryresults');\n      var queryResultService = queryResultsComponent.getService();\n      queryResultService.reset();\n      results && queryResultService.setQueryResponse(results);\n      _gui2.default.showContextualContent({\n        content: queryResultsComponent,\n        title: \"info.title\",\n        crumb: {\n          title: \"info.title\",\n          trigger: null\n        },\n        push: _gui2.default.getPushContent(),\n        post_title: title\n      });\n      return queryResultService;\n    };\n\n    _gui2.default.addNavbarItem = function (item) {\n      _navbaritems2.default.addItem(item);\n    };\n\n    _gui2.default.removeNavBarItem = function () {};\n\n    _gui2.default.showPanel = _sidebar2.default.showPanel.bind(_sidebar2.default);\n\n    _gui2.default.closePanel = _sidebar2.default.closePanel.bind(_sidebar2.default);\n\n    ///\n    _gui2.default.disableApplication = function () {\n      var bool = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n      ApplicationService.disableApplication(bool);\n    };\n\n    //showusermessage\n    _gui2.default.showUserMessage = function () {\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      return _viewport2.default.showUserMessage(options);\n    };\n\n    _gui2.default.closeUserMessage = function () {\n      _viewport2.default.closeUserMessage();\n    };\n\n    /* ------------------ */\n    _gui2.default.notify = {\n      warning: function warning(message) {\n        var autoclose = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n        _gui2.default.showUserMessage({\n          type: 'warning',\n          message: message,\n          autoclose: autoclose\n        });\n      },\n      error: function error(message) {\n        var autoclose = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n        _gui2.default.showUserMessage({\n          type: 'alert',\n          message: message,\n          autoclose: autoclose\n        });\n      },\n      info: function info(message) {\n        var autoclose = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n        _gui2.default.showUserMessage({\n          type: 'info',\n          message: message,\n          autoclose: autoclose\n        });\n      },\n      success: function success(message) {\n        _gui2.default.showUserMessage({\n          type: 'success',\n          message: message,\n          autoclose: true\n        });\n      }\n    };\n\n    // proxy  bootbox library\n    _gui2.default.dialog = bootbox;\n\n    //modal dialog//\n    _gui2.default.showModalDialog = function () {\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      return _gui2.default.dialog.dialog(options);\n    };\n\n    /* spinner */\n    _gui2.default.showSpinner = function () {\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      var container = options.container || 'body';\n      var id = options.id || 'loadspinner';\n      var where = options.where || 'prepend'; // append | prepend\n      var style = options.style || '';\n      var transparent = options.transparent ? 'background-color: transparent' : '';\n      var center = options.center ? 'margin: auto' : '';\n      if (!$(\"#\" + id).length) {\n        $(container)[where].call($(container), '<div id=\"' + id + '\" class=\"spinner-wrapper ' + style + '\" style=\"' + transparent + '\"><div class=\"spinner ' + style + '\" style=\"' + center + '\"></div></div>');\n      }\n    };\n\n    //hide spinner\n    _gui2.default.hideSpinner = function () {\n      var id = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'loadspinner';\n\n      $(\"#\" + id).remove();\n    };\n\n    /* end spinner*/\n    /* end common methods */\n\n    /*  */\n\n    // FLOATBAR //\n    _gui2.default.showFloatbar = function () {\n      _floatbar2.default.open();\n    };\n\n    _gui2.default.hideFloatbar = function () {\n      _floatbar2.default.close();\n    };\n\n    // SIDEBAR //\n    _gui2.default.showSidebar = this._showSidebar.bind(this);\n    _gui2.default.hideSidebar = this._hideSidebar.bind(this);\n    _gui2.default.isSidebarVisible = this._isSidebarVisible.bind(this);\n\n    // RELOAD COMPONENTS\n    _gui2.default.reloadComponents = function () {\n      ApplicationTemplate.Services.sidebar.reloadComponents();\n    };\n\n    // MODAL\n    _gui2.default.setModal = this._showModalOverlay.bind(this);\n\n    /**\n     * Toggle set full screen modal \n     */\n    _gui2.default.showFullModal = function () {\n      var _ref14 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          _ref14$element = _ref14.element,\n          element = _ref14$element === undefined ? \"#full-screen-modal\" : _ref14$element,\n          _ref14$show = _ref14.show,\n          show = _ref14$show === undefined ? true : _ref14$show;\n\n      $(element).modal(show ? 'show' : 'hide');\n    };\n\n    _gui2.default.disableSideBar = function () {\n      var bool = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n\n      _applicationState2.default.gui.sidebar.disabled = bool;\n    };\n\n    // VIEWPORT //\n    _gui2.default.setPrimaryView = function (viewName) {\n      _viewport2.default.setPrimaryView(viewName);\n    };\n\n    // only map\n    _gui2.default.showMap = function () {\n      _viewport2.default.showMap();\n    };\n\n    _gui2.default.showContextualMap = function () {\n      var perc = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 30;\n      var split = arguments[1];\n\n      _viewport2.default.showContextualMap({\n        perc: perc,\n        split: split\n      });\n    };\n\n    _gui2.default.setContextualMapComponent = function (mapComponent) {\n      _viewport2.default.setContextualMapComponent(mapComponent);\n    };\n\n    _gui2.default.resetContextualMapComponent = function () {\n      _viewport2.default.resetContextualMapComponent();\n    };\n\n    //  (100%) content\n    _gui2.default.showContent = function () {\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      _gui2.default.setLoadingContent(false);\n      options.perc = _this2._isMobile ? 100 : options.perc;\n      _gui2.default.setContent(options);\n      return true;\n    };\n\n    _gui2.default.showContextualContent = function () {\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      options.perc = _this2._isMobile ? 100 : options.perc;\n      _gui2.default.setContent(options);\n      return true;\n    };\n\n    // add component to stack (append)\n    // Differences between pushContent and setContent are :\n    //  - push every componet is added, set is refreshed\n    //  - pushContent has a new parameter (backonclose) when is clicked x\n    //  - the contentComponet is close all stack is closed\n    _gui2.default.pushContent = function () {\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      options.perc = _this2._isMobile ? 100 : options.perc;\n      options.push = true;\n      _gui2.default.setContent(options);\n    };\n\n    // add content to stack\n    _gui2.default.pushContextualContent = function () {\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      options.perc = _this2._isMobile ? 100 : options.perc;\n      _gui2.default.pushContent(options);\n    };\n\n    // remove last content from stack\n    _gui2.default.popContent = function () {\n      _viewport2.default.popContent();\n    };\n    //return number of component of stack\n    _gui2.default.getContentLength = function () {\n      return _viewport2.default.contentLength();\n    };\n\n    _gui2.default.getCurrentContentTitle = function () {\n      return _viewport2.default.getCurrentContentTitle();\n    };\n\n    _gui2.default.getCurrentContentId = function () {\n      return _viewport2.default.getCurrentContentId();\n    };\n\n    /**\n     * change current content title\n     * @param title\n     */\n    _gui2.default.changeCurrentContentTitle = function (title) {\n      _viewport2.default.changeCurrentContentTitle(title);\n    };\n\n    /**\n     * change current content options\n     * @param options: {title, crumb}\n     */\n    _gui2.default.changeCurrentContentOptions = function () {\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      _viewport2.default.changeCurrentContentOptions(options);\n    };\n\n    /**\n     * Method to get current content\n     */\n    _gui2.default.getCurrentContent = function () {\n      return _viewport2.default.getCurrentContent();\n    };\n\n    _gui2.default.toggleFullViewContent = function () {\n      _viewport2.default.toggleFullViewContent();\n    };\n\n    _gui2.default.resetToDefaultContentPercentage = function () {\n      _viewport2.default.resetToDefaultContentPercentage();\n    };\n\n    _gui2.default.getProjectMenuDOM = function () {\n      var _ref15 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          projects = _ref15.projects,\n          host = _ref15.host,\n          cbk = _ref15.cbk;\n\n      var projectVueMenuComponent = new ProjectsMenuComponent({\n        projects: projects && Array.isArray(projects) && projects,\n        cbk: cbk,\n        host: host\n      }).getInternalComponent();\n      return projectVueMenuComponent.$mount().$el;\n    };\n\n    _gui2.default.setCloseUserMessageBeforeSetContent = function () {\n      var bool = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n\n      this._closeUserMessageBeforeSetContent = bool;\n    };\n\n    _gui2.default._setContent = function () {\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      _this2._closeUserMessageBeforeSetContent && _gui2.default.closeUserMessage();\n      options.content = options.content || null;\n      options.title = options.title || \"\";\n      options.push = _.isBoolean(options.push) ? options.push : false;\n      options.perc = _this2._isMobile ? 100 : options.perc;\n      options.split = options.split || 'h';\n      options.backonclose = _.isBoolean(options.backonclose) ? options.backonclose : false;\n      options.showtitle = _.isBoolean(options.showtitle) ? options.showtitle : true;\n      _viewport2.default.showContent(options);\n    };\n\n    _gui2.default.hideClientMenu = function () {\n      ApplicationService.getConfig().user = null;\n    };\n\n    _gui2.default.hideChangeMaps = function () {\n      ApplicationService.getConfig().projects = [];\n    };\n\n    // return specific classes\n    _gui2.default.getTemplateClasses = function () {\n      return BootstrapVersionClasses;\n    };\n\n    _gui2.default.getTemplateClass = function (_ref16) {\n      var element = _ref16.element,\n          type = _ref16.type;\n\n      return BootstrapVersionClasses[element][type];\n    };\n\n    _gui2.default.setLoadingContent = function () {\n      var loading = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n      ApplicationTemplate.Services.viewport.setLoadingContent(loading);\n      return loading && new Promise(function (resolve) {\n        setTimeout(resolve, 200);\n      });\n    };\n\n    _gui2.default.openProjectsMenu = function () {\n      var isProjectMenuComponent = _gui2.default.getComponent('contents').getComponentById('projectsmenu');\n      if (isProjectMenuComponent) {\n        _gui2.default.closeContent();\n        return;\n      }\n      if (this.isMobile()) {\n        _gui2.default.hideSidebar();\n        $('#main-navbar.navbar-collapse').removeClass('in');\n      }\n      ApplicationTemplate.Services.sidebar.closeOpenComponents();\n      _gui2.default.setContent({\n        content: new ProjectsMenuComponent(),\n        title: '',\n        perc: 100\n      });\n    };\n\n    /**\n     * @since 3.8.0\n     */\n    _gui2.default.openChangeMapMenu = function () {\n      var isChangeMapMenuComponent = _gui2.default.getComponent('contents').getComponentById('changemapmenu');\n      if (isChangeMapMenuComponent) {\n        _gui2.default.closeContent();\n        return;\n      }\n      if (this.isMobile()) {\n        _gui2.default.hideSidebar();\n        $('#main-navbar.navbar-collapse').removeClass('in');\n      }\n      ApplicationTemplate.Services.sidebar.closeOpenComponents();\n      _gui2.default.setContent({\n        content: new ChangeMapMenuComponent(),\n        title: '',\n        perc: 100\n      });\n    };\n  };\n\n  base(this);\n};\n\ninherit(ApplicationTemplate, G3WObject);\n\n// Placeholder knowed by application\nApplicationTemplate.PLACEHOLDERS = ['navbar', 'sidebar', 'viewport', 'floatbar'];\n\n// service know by the applications (standard)\nApplicationTemplate.Services = {\n  navbar: null,\n  sidebar: _sidebar2.default,\n  viewport: _viewport2.default,\n  floatbar: null\n};\n\nApplicationTemplate.fail = function (_ref17) {\n  var error = _ref17.error;\n\n  layout.loading(false);\n  new Vue(_extends({\n    el: '#app'\n  }, Vue.compile('<div class=\"error-initial-page skin-background-color\">\\n        <template v-if=\"isMobile()\">\\n          <h3 class=\"oops\">Oops!</h3>\\n          <h5 class=\"cause\">' + (error || t('error_page.error')) + '</h5>\\n          <h6 class=\"at-moment\">' + t('error_page.at_moment') + '</h6>\\n          <h4 class=\"f5\">' + t('error_page.f5') + '</h4>\\n        </template>\\n        <template v-else>\\n          <h1 class=\"oops\">Oops!</h1>\\n          <h1 class=\"cause\">' + (error || t('error_page.error')) + '</h1>\\n          <h3 class=\"at-moment\">' + t('error_page.at_moment') + '</h3>\\n          <h2 class=\"f5\">' + t('error_page.error') + '</h2>\\n        </template>\\n      </div>')));\n};\n\n/**\n * Application starting point\n *\n * create the ApplicationTemplate instance passing template interface configuration\n * and the applicationService instance that is useful to work with project API\n */\n_application2.default.init().then(function () {\n  var app = new ApplicationTemplate({ ApplicationService: _application2.default });\n  app.on('ready', function () {\n    return _application2.default.postBootstrap();\n  });\n  app.init();\n}).catch(function (_ref18) {\n  var _ref18$error = _ref18.error,\n      error = _ref18$error === undefined ? null : _ref18$error,\n      language = _ref18.language;\n\n  if (error) {\n    if (error.responseJSON && error.responseJSON.error.data) error = error.responseJSON.error.data;else if (error.statusText) error = error.statusText;\n  }\n  console.error(error);\n  ApplicationTemplate.fail({ error: error });\n});\n\n},{\"./deprecated\":312,\"./globals\":327,\"app/constant\":4,\"components/App.vue\":194,\"components/Floatbar.vue\":213,\"components/GlobalBarLoader\":218,\"components/GlobalDateTime.vue\":219,\"components/GlobalDivider.vue\":220,\"components/GlobalGallery.vue\":221,\"components/GlobalGeo.vue\":222,\"components/GlobalHelpDiv.vue\":223,\"components/GlobalImage.vue\":224,\"components/GlobalLayerPositions.vue\":225,\"components/GlobalProgressBar\":226,\"components/GlobalRange.vue\":227,\"components/GlobalResize.vue\":228,\"components/GlobalResizeIcon.vue\":229,\"components/GlobalSkeleton.vue\":230,\"components/GlobalTabs.vue\":231,\"components/NavbaritemsLeft.vue\":266,\"components/NavbaritemsRight.vue\":267,\"components/Sidebar.vue\":294,\"components/Viewport.vue\":308,\"core/g3wobject\":12,\"core/i18n/i18n.service\":13,\"core/utils/utils\":68,\"directives/v-checked\":314,\"directives/v-disabled\":315,\"directives/v-download\":316,\"directives/v-online\":317,\"directives/v-plugins\":318,\"directives/v-select2\":319,\"directives/v-selected-first\":320,\"directives/v-t\":326,\"directives/v-t-html\":321,\"directives/v-t-placeholder\":322,\"directives/v-t-plugin\":323,\"directives/v-t-title\":324,\"directives/v-t-tooltip\":325,\"gui/catalog/vue/catalog\":113,\"gui/changemapmenu/changemapmenu\":115,\"gui/form/vue/form\":123,\"gui/map/vue/map\":158,\"gui/metadata/vue/metadata\":161,\"gui/print/vue/print\":164,\"gui/projectsmenu/projectsmenu\":167,\"gui/querybuilder/querybuilderuifactory\":168,\"gui/queryresults/vue/queryresults\":172,\"gui/search/vue/search\":179,\"gui/spatialbookmarks/vue/spatialbookmarks\":181,\"gui/tools/vue/tools\":186,\"gui/viewport/contentsviewer\":189,\"gui/wms/vue/wms\":192,\"services/application\":351,\"services/floatbar\":360,\"services/gui\":361,\"services/navbaritems\":365,\"services/sidebar\":369,\"services/viewport\":371,\"store/application-state\":373,\"store/components\":375}],329:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = {\n  translation: {\n    error_page: {\n      error: \"Verbindungsfehler\",\n      at_moment: \"Karte anzeigen ist im Moment nicht möglich\",\n      f5: \"Drücken Sie Strg+F5\"\n    },\n    cookie_law: {\n      message: \"Diese Website verwendet Cookies, um Ihnen die bestmögliche Erfahrung auf unserer Website zu bieten.\",\n      buttonText: \"Verstanden!\"\n    },\n    default: \"default\",\n    sign_in: \"Anmelden\",\n    layer_selection_filter: {\n      tools: {\n        filter: \"Filter hinzufügen/entfernen\",\n        nofilter: \"Filter entfernen\",\n        invert: \"Auswahl umkehren\",\n        clear: \"Auswahl löschen\",\n        show_features_on_map: \"Auf der Karte sichtbare Features anzeigen\"\n      }\n    },\n    warning: {\n      not_supported_format: \"Nicht unterstütztes Format\"\n    },\n    layer_position: {\n      top: 'OBEN',\n      bottom: 'UNTEN',\n      message: \"Position relativ zu den Layern im TOC\"\n    },\n    sdk: {\n      atlas: {\n        template_dialog: {\n          title: \"Template auswählen\"\n        }\n      },\n      spatialbookmarks: {\n        title: \"Räumliche Lesezeichen\",\n        helptext: \"Bewegen Sie sich auf der Kartenausdehnung, fügen Sie den Namen ein und klicken Sie auf Hinzufügen\",\n        input: {\n          name: \"Name\"\n        },\n        sections: {\n          project: {\n            title: \"Projekt-Lesezeichen\"\n          },\n          user: {\n            title: \"Benutzer-Lesezeichen\"\n          }\n        }\n      },\n      search: {\n        all: 'ALLE',\n        no_results: \"Keine Ergebnisse\",\n        searching: \"Suchen ...\",\n        error_loading: \"Fehler beim Datenladen\",\n        layer_not_searchable: \"Layer ist nicht durchsuchbar\",\n        layer_not_querable: \"Layer ist nicht abfragbar\",\n        autocomplete: {\n          inputshort: {\n            pre: \"Bitte\",\n            post: \"oder mehrere Zeichen eingeben\"\n          }\n        }\n      },\n      print: {\n        no_layers: 'Kein Layer zu drucken',\n        template: \"Template\",\n        labels: \"Labels\",\n        scale: \"Skala\",\n        format: \"Format\",\n        rotation: \"Drehung\",\n        download_image: \"Bild herunterladen\",\n        fids_instruction: \"Akzeptierte Werte: von 1 bis [max]. Es ist möglich, ein Intervall einzugeben, z. B. 4-6\",\n        fids_example: \"Bsp. 1,4-6 druckt id 1,4,5,6\",\n        help: \"Die im Druck angezeigten Layer können die im Projekt definierten sein und nicht die auf der Karte angezeigten\"\n      },\n      querybuilder: {\n        search: {\n          run: \"Ausführen\",\n          info: \"Information\",\n          delete: \"Löschen\",\n          edit: \"Bearbeiten\"\n        },\n        messages: {\n          changed: 'Gespeichert',\n          number_of_features: \"Anzahl der Features\"\n        },\n        panel: {\n          button: {\n            all: 'ALLE',\n            save: 'SPEICHERN',\n            test: 'TEST',\n            clear: 'LÖSCHEN',\n            run: 'AUSFÜHREN',\n            manual: 'MANUELL'\n          },\n          layers: 'LAYERS',\n          fields: 'FELDER',\n          values: 'WERTE',\n          operators: 'OPERATOREN',\n          expression: 'AUSDRUCK'\n        },\n        error_run: 'Es ist ein Fehler aufgetreten. Bitte überprüfen Sie die Abfrage',\n        error_test: \"Während der Ausführung der Abfrage ist ein Fehler aufgetreten\",\n        delete: 'Soll es gelöscht werden?',\n        additem: 'Geben Sie den Namen der neuen Suche ein'\n      },\n      errors: {\n        layers: {\n          load: \"Einige Layer sind nicht verfügbar\"\n        },\n        unsupported_format: 'Nicht unterstütztes Format',\n        add_external_layer: 'Fehler im Ladevorgang des Layers'\n      },\n      metadata: {\n        title: 'Metadaten',\n        groups: {\n          general: {\n            title: 'ALLGEMEIN',\n            fields: {\n              title: 'TITEL',\n              name: 'NAME',\n              description: \"BESCHREIBUNG\",\n              abstract: \"ABASTRACT\",\n              keywords: 'SCHLÜSSELWÖRTER',\n              fees: \"GEBÜHREN\",\n              accessconstraints: \"ZUGRIFFSBESCHRÄNKUNG\",\n              contactinformation: \"KONTAKTE\",\n              subfields: {\n                contactinformation: {\n                  contactelectronicmailaddress: \"Email\",\n                  personprimary: 'Referenzen',\n                  contactvoicetelephone: 'Telefon',\n                  contactorganization: 'Firma',\n                  ContactOrganization: 'Firma',\n                  contactposition: 'Position',\n                  ContactPosition: 'Position',\n                  contactperson: 'Person',\n                  ContactPerson: 'Person'\n                }\n              },\n              wms_url: \"WMS\"\n            }\n          },\n          spatial: {\n            title: 'SPATIAL',\n            fields: {\n              crs: 'EPSG',\n              extent: 'BBOX'\n            }\n          },\n          layers: {\n            title: 'LAYERS',\n            fields: {\n              layers: 'LAYERS',\n              subfields: {\n                crs: 'EPSG',\n                bbox: 'BBOX',\n                title: \"TITEL\",\n                name: 'NAME',\n                geometrytype: 'GEOMETRIE',\n                source: 'QUELLE',\n                attributes: 'ATTRIBUTE',\n                abstract: 'ABSTRACT',\n                attribution: 'ATRIBUTION',\n                keywords: \"SCHLÜSSELWÖRTER\",\n                metadataurl: 'METADATEN URL',\n                dataurl: \"DATEN URL\"\n              }\n            },\n            groups: {\n              general: 'ALLGEMEIN',\n              spatial: 'SPATIAL'\n            }\n          }\n        }\n      },\n      tooltips: {\n        relations: {\n          form_to_row: \"Zeilenansicht\",\n          row_to_form: \"Formularansicht\"\n        },\n        copy_map_extent_url: 'Link zur Kartenansicht kopieren',\n        download_shapefile: \"Shapefile herunterladen\",\n        download_gpx: \"DGPX herunterladen\",\n        download_gpkg: \"GPKG herunterladen\",\n        download_csv: \"CSV herunterladen\",\n        download_xls: \"XLS herunterladen\",\n        show_chart: \"Diagramm anzeigen\",\n        atlas: \"Atlas drucken\"\n      },\n      mapcontrols: {\n        query: {\n          tooltip: 'Query layer',\n          actions: {\n            add_selection: {\n              hint: \"Auswahl hinzufügen/entfernen\"\n            },\n            zoom_to_features_extent: {\n              hint: \"Zoom auf Feature-Ausdehnung\"\n            },\n            add_features_to_results: {\n              hint: \"Hinzufügen/Entfernen von Features zu den Ergebnissen\"\n            },\n            remove_feature_from_results: {\n              hint: \"Feature aus den Ergebnissen entfernen\"\n            },\n            zoom_to_feature: {\n              hint: \"Zum Feature zoomen\"\n            },\n            relations: {\n              hint: \"Relationen anzeigen\"\n            },\n            relations_charts: {\n              hint: \"Relationship-Diagramm anzeigen\"\n            },\n            download_features_shapefile: {\n              hint: 'Features Shapefile herunterladen'\n            },\n            download_shapefile: {\n              hint: 'Feature Shapefile herunterladen'\n            },\n            download_features_gpx: {\n              hint: \"Feature GPX herunterladen\"\n            },\n            download_features_gpkg: {\n              hint: \"Feature GPKG herunterladen\"\n            },\n            download_gpx: {\n              hint: \"Feature GPX herunterladen\"\n            },\n            download_gpkg: {\n              hint: \"Feature GPKG herunterladen\"\n            },\n            download_features_csv: {\n              hint: \"Features CSV herunterladen\"\n            },\n            download_csv: {\n              hint: \"Feature CSV herunterladen\"\n            },\n            download_features_xls: {\n              hint: \"Features XLS herunterladen\"\n            },\n            download_xls: {\n              hint: \"Feature XLS herunterladen\"\n            },\n            atlas: {\n              hint: \"Atlas drucken\"\n            },\n            copy_zoom_to_fid_url: {\n              hint: \"Kopieren der Karten-URL mit dieser Geometrie-Feature-Erweiterung\",\n              hint_change: \"Kopiert\"\n            }\n          }\n        },\n        querybypolygon: {\n          download: {\n            title: \"Attribute herunterladen\",\n            choiches: {\n              feature: {\n                label: \"Nur Features\"\n              },\n              feature_polygon: {\n                label: \"Features+Query Polygon\"\n              }\n            }\n          },\n          tooltip: 'Query nach Polygon',\n          no_geometry: 'Keine Geometrie in der Antwort',\n          help: {\n            title: 'Hilfe - Abfrage nach Polygon',\n            message: \"\\n                <ul>\\n                  <li>W\\xE4hlen Sie einen Polygon Layer auf TOC.</li>\\n                  <li>Stellen Sie sicher, dass der Layer sichtbar ist.</li>\\n                  <li>Klicken Sie auf ein Feature des ausgew\\xE4hlten Layers.</li>\\n                </ul>\"\n          }\n        },\n        querybydrawpolygon: {\n          tooltip: \"Abfrage durch Polygon zeichnen\"\n        },\n        querybybbox: {\n          tooltip: 'BBox Layer abfragen',\n          nolayers_visible: 'Es sind keine abfragbaren Layer sichtbar. Bitte setzen Sie mindestens einen sichtbaren wfs Layer, um die Abfrage zu starten',\n          help: {\n            title: 'Hilfe - Abfrage des BBox Layers',\n            message: \"\\n                 <ul>\\n                  <li>Ein Quadrat auf der Karte ziehen, um unterstrichene Layer im TOC abzufragen</li>\\n                 </ul>\"\n          }\n        },\n        addlayer: {\n          messages: {\n            csv: {\n              warning: \"Das Ergebnis in der Karte ist unvollständig, da die unten stehende Liste fehlerhafter Einträge enthält:\"\n            }\n          },\n          tooltip: 'Layer hinzufügen'\n        },\n        geolocation: {\n          tooltip: 'Geolokalisierung'\n        },\n        measures: {\n          length: {\n            tooltip: \"Länge\",\n            help: \"Klicken Sie auf die Karte, um die Linie zu zeichnen. Drücken Sie <br>CANC, wenn Sie den letzten Eckpunkt löschen möchten.\"\n          },\n          area: {\n            tooltip: \"Fläche\",\n            help: \"Drücken Sie <br>CANC, wenn Sie den letzten Eckpunkt löschen wollen.\"\n          }\n        },\n        scale: {\n          no_valid_scale: \"Ungültige Skala\"\n        },\n        scaleline: {\n          units: {\n            metric: 'Meter',\n            nautical: 'Nautische Meile'\n          }\n        },\n        zoomhistory: {\n          zoom_last: \"Zoom Vorheriger\",\n          zoom_next: \"Zoom Nächster\"\n        }\n      },\n      relations: {\n        relation_data: 'Daten zur Relation',\n        no_relations_found: 'Keine Relationen gefunden',\n        back_to_relations: 'Zurück zu den Relationen',\n        list_of_relations_feature: 'Liste der Relationen des Features',\n        error_missing_father_field: \"Ein Feld fehlt\"\n      },\n      workflow: {\n        steps: {\n          title: 'Schritte'\n        },\n        next: 'Weiter'\n      },\n      form: {\n        loading: 'Laden ...',\n        inputs: {\n          messages: {\n            errors: {\n              picklayer: \"Kein Feature ausgewählt. Prüfen, ob der Layer in Bearbeitung oder im aktuellen Maßstab sichtbar ist\"\n            }\n          },\n          tooltips: {\n            picklayer: \"Wert aus dem Layer abrufen\",\n            lonlat: \"Zum Abrufen der Koordinaten auf die Karte klicken\"\n          },\n          input_validation_mutually_exclusive: \"Feld schließt sich gegenseitig aus mit \",\n          input_validation_error: \"Obligatorisches Feld oder falscher Datentyp\",\n          input_validation_min_field: \"Der Wert muss größer/gleich sein als der Feldwert  \",\n          input_validation_max_field: \"Der Wert muss kleiner/gleich sein als der Feldwert \",\n          input_validation_exclude_values: \"Wert muss einmalig sein\",\n          integer: \"integer\",\n          bigint: \"integer\",\n          text: \"text\",\n          varchar: \"text\",\n          textarea: \"text\",\n          string: \"string\",\n          date: \"date\",\n          datetime: \"date\",\n          float: \"float\",\n          table: \"table\"\n        },\n        footer: {\n          \"required_fields\": \"Erforderliche Felder\"\n        },\n        messages: {\n          qgis_input_widget_relation: \"Spezifisches Relations-Formular verwenden, um mit Relationen zu arbeiten\"\n        }\n      },\n      catalog: {\n        current_map_theme_prefix: \"THEMA\",\n        choose_map_theme: \"THEMA AUSWÄHLEN\",\n        menu: {\n          layerposition: 'Position des Layers',\n          setwmsopacity: \"Opazität einstellen\",\n          wms: {\n            title: \"\",\n            copy: \"Klicken Sie hier, um die Url zu kopieren\",\n            copied: \"Kopiert\"\n          },\n          download: {\n            shp: 'Shapefile herunterladen',\n            gpx: 'GPX herunterladen',\n            gpkg: 'GPKG herunterladen',\n            csv: 'CSV herunterladen',\n            xls: 'XLS herunterladen',\n            geotiff: \"GEOTIFF herunterladen\",\n            geotiff_map_extent: \"GEOTIFF herunterladen (aktueller Ansichtsumfang)\"\n          }\n        }\n      },\n      wps: {\n        list_process: \"Liste der Prozesse\",\n        tooltip: 'Karte anklicken'\n      }\n    },\n    credits: {\n      g3wSuiteFramework: \"Applikation basiert auf OS-Framework\",\n      g3wSuiteDescription: \"Veröffentlichen und verwalten Sie Ihre QGIS-Projekte im Internet\",\n      productOf: \"Framework entwickelt von\"\n    },\n    toggle_color_scheme: \"Farbschema umschalten\",\n    logout: \"Logout\",\n    no_other_projects: \"Kein weiteres Projekt für diese Gruppe\",\n    no_other_groups: \"Keine weiteren Gruppen für diese Makrogruppe\",\n    yes: \"Ja\",\n    no: \"No\",\n    back: \"Zurück\",\n    backto: \"Zurück zu \",\n    changemap: \"Karte ändern\",\n    change_session: \"Sitzung ändern\",\n    component: \"Allgemeine Komponente\",\n    search: \"Suche\",\n    no_results: \"Keine Ergebnisse gefunden\",\n    print: \"Drucken\",\n    create_print: \"Drucken erstellen\",\n    dosearch: \"Suche\",\n    catalog: \"Karte\",\n    data: \"Daten\",\n    externalwms: \"WMS\",\n    baselayers: \"Base\",\n    tools: \"Tools\",\n    tree: \"Layers\",\n    legend: \"Legende\",\n    nobaselayer: \"Keine Basemap\",\n    street_search: \"Adresse finden\",\n    show: \"Anzeigen\",\n    hide: \"Ausblenden\",\n    copy_form_data: \"Daten kopieren\",\n    paste_form_data: \"Einfügen\",\n    copy_form_data_from_feature: \"Daten von der Karte kopieren\",\n    error_map_loading: \"Fehler beim Laden der Karte\",\n    check_internet_connection_or_server_admin: \"Internetverbindung prüfen oder Admin kontaktieren\",\n    could_not_load_vector_layers: \"Verbindungsfehler: Layers können geladen werden\",\n    server_saver_error: \"Fehler beim Speichern auf dem Server\",\n    server_error: \"Server-Verbindungsfehler\",\n    save: \"Speichern\",\n    cancel: \"Abbrechen\",\n    close: \"Schließen\",\n    /**\n     * @since 3.8.0\n     */\n    dont_show_again: \"Diese Meldung nicht mehr anzeigen\",\n    enlange_reduce: \"Vergrößern/Verkleinern\",\n    reset_default: \"Standardgröße\",\n    add: \"Hinzufügen\",\n    exitnosave: \"Beenden ohne Speichern\",\n    annul: \"Abbrechen\",\n    layer_is_added: \"Layer mit gleichem Namen bereits hinzugefügt\",\n    sidebar: {\n      wms: {\n        panel: {\n          title: 'WMS Layer hinzufügen',\n          label: {\n            position: \"Kartenposition\",\n            name: \"Name\",\n            projections: 'Projektion',\n            layers: 'Layers'\n          }\n        },\n        add_wms_layer: \"WMS Layer hinzufügen\",\n        delete_wms_url: \"WMS Url löschen\",\n        layer_id_already_added: \"WMS Layer bereits hinzugefügt\",\n        url_already_added: \"WMS URL/Name bereits hinzugefügt\",\n        layer_add_error: \"WMS Layer nicht hinzugefügt. Bitte überprüfen Sie alle WMS-Parameter oder Url\"\n      }\n    },\n    info: {\n      title: \"Ergebnisse\",\n      list_of_relations: \"List of Relations\",\n      open_link: \"Beigefügtes Dokument öffnen\",\n      server_error: \"Auf dem Server ist ein Fehler aufgetreten\",\n      no_results: \"Keine Ergebnisse für diese Anfrage/Suche gefunden\",\n      link_button: \"Öffnen\"\n    },\n    mapcontrols: {\n      geolocations: {\n        error: \"Position kann nicht bestimmt werden\"\n      },\n      nominatim: {\n        placeholder: \"Addresse ...\",\n        noresults: \"Keine Ergebnisse\",\n        notresponseserver: \"Keine Antwort vom Server\"\n      },\n      add_layer_control: {\n        header: \"Layer hinzufügen\",\n        select_projection: \"Layer Projektion auswählen\",\n        select_field_to_show: \"Feld auswählen, das auf der Karte angezeigt werden soll\",\n        select_csv_separator: \"Begrenzer auswählen\",\n        select_csv_x_field: \"X-Feld auswählen\",\n        select_csv_y_field: \"Y-Feld auswählen\",\n        select_color: \"Layer Farbe auswählen\",\n        drag_layer: \"Layer hierher ziehen und ablegen\"\n      },\n      query: {\n        input_relation: \"Klicken, um Relationen anzuzeigen\"\n      },\n      length: {\n        tooltip: \"Länge\"\n      },\n      area: {\n        tooltip: \"Area\"\n      },\n      screenshot: {\n        error: \"Screenshot Fehlererstellung\"\n      }\n    },\n    catalog_items: {\n      helptext: \"Klicken Sie mit der rechten Maustaste auf einen einzelnen Layer, um auf zusätzliche Funktionen zuzugreifen\",\n      contextmenu: {\n        zoomtolayer: \"Zoom auf Layer\",\n        open_attribute_table: \"Attributtabelle öffnen\",\n        show_metadata: \"Metadaten\",\n        styles: 'Stile',\n        vector_color_menu: \"Farbe einstellen/ändern\",\n        layer_opacity: \"Opazität\"\n      }\n    },\n    dataTable: {\n      previous: \"Vorherige\",\n      next: \"Weiter\",\n      lengthMenu: \"_MENÜ_ anzeigen\",\n      info: \"Anzeige von _START_ bis _END_ der _TOTAL_ Einträge\",\n      no_data: \"Keine Daten\",\n      nodatafilterd: \"Keine passenden Datensätze gefunden\",\n      infoFiltered: \"(gefiltert aus _MAX_ Gesamtsätzen)\"\n    }\n  }\n};\n\n},{}],330:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = {\n  translation: {\n    error_page: {\n      error: \"Connection error\",\n      at_moment: \"At the moment is not possible show map\",\n      f5: \"Press Ctrl+F5\"\n    },\n    cookie_law: {\n      message: \"This website uses cookies to ensure you get the best experience on our website.\",\n      buttonText: \"Got It!\"\n    },\n    default: \"default\",\n    sign_in: \"Sign in\",\n    layer_selection_filter: {\n      tools: {\n        filter: \"Add/Remove Filter\",\n        nofilter: \"Remove Filter\",\n        invert: \"Invert Selection\",\n        clear: \"Clear Selection\",\n        show_features_on_map: \"Show features visible on map\"\n      }\n    },\n    warning: {\n      not_supported_format: \"Not supported format\"\n    },\n    layer_position: {\n      top: 'TOP',\n      bottom: 'BOTTOM',\n      message: \"Position relative to layers on TOC\"\n    },\n    sdk: {\n      atlas: {\n        template_dialog: {\n          title: \"Select Template\"\n        }\n      },\n      spatialbookmarks: {\n        title: \"Spatial Bookmarks\",\n        helptext: \"Move on map extent, insert name and click Add\",\n        input: {\n          name: \"Name\"\n        },\n        sections: {\n          project: {\n            title: \"Project Bookmarks\"\n          },\n          user: {\n            title: \"User Bookmarks\"\n          }\n        }\n      },\n      search: {\n        all: 'ALL',\n        no_results: \"No results\",\n        searching: \"Searching ...\",\n        error_loading: \"Error Loading Data\",\n        layer_not_searchable: \"Layer is not searchable\",\n        layer_not_querable: \"Layer is not querable\",\n        autocomplete: {\n          inputshort: {\n            pre: \"Please enter\",\n            post: \"or more characters\"\n          }\n        }\n      },\n      print: {\n        no_layers: 'No Layer to print',\n        template: \"Template\",\n        labels: \"Labels\",\n        scale: \"Scale\",\n        format: \"Format\",\n        rotation: \"Rotation\",\n        download_image: \"Download Image\",\n        fids_instruction: \"Values accepted: from 1 to value of [max]. Is possible to insert a range ex. 4-6\",\n        fids_example: \"Ex. 1,4-6 will be printed id 1,4,5,6\",\n        help: \"The layers shown in the print could be those defined on the project and not those displayed on the map\"\n      },\n      querybuilder: {\n        search: {\n          run: \"Run\",\n          info: \"Information\",\n          delete: \"Delete\",\n          edit: \"Edit\"\n        },\n        messages: {\n          changed: 'Saved',\n          number_of_features: \"Number of features\"\n        },\n        panel: {\n          button: {\n            all: 'ALL',\n            save: 'SAVE',\n            test: 'TEST',\n            clear: 'CLEAR',\n            run: 'RUN',\n            manual: 'MANUAL'\n          },\n          layers: 'LAYERS',\n          fields: 'FIELDS',\n          values: 'VALUES',\n          operators: 'OPERATORS',\n          expression: 'EXPRESSION'\n        },\n        error_run: 'An error occurs. Please check the query',\n        error_test: \"An error occur during query execution\",\n        delete: 'Do you want delete it?',\n        additem: 'Insert the name of the new search'\n      },\n      errors: {\n        layers: {\n          load: \"Some layers are not available\"\n        },\n        unsupported_format: 'Not supported format',\n        add_external_layer: 'Load layer error'\n      },\n      metadata: {\n        title: 'Metadata',\n        groups: {\n          general: {\n            title: 'GENERAL',\n            fields: {\n              title: 'TITLE',\n              name: 'NAME',\n              description: \"DESCRIPTION\",\n              abstract: \"ABSTRACT\",\n              keywords: 'KEYWORDS',\n              fees: \"FEES\",\n              accessconstraints: \"ACCESS CONSTRAINT\",\n              contactinformation: \"CONTACTS\",\n              subfields: {\n                contactinformation: {\n                  contactelectronicmailaddress: \"Email\",\n                  personprimary: 'References',\n                  contactvoicetelephone: 'Phone',\n                  contactorganization: 'Organization',\n                  ContactOrganization: 'Organization',\n                  contactposition: 'Position',\n                  ContactPosition: 'Position',\n                  contactperson: 'Person',\n                  ContactPerson: 'Person'\n                }\n              },\n              wms_url: \"WMS\"\n            }\n          },\n          spatial: {\n            title: 'SPATIAL',\n            fields: {\n              crs: 'EPSG',\n              extent: 'BBOX'\n            }\n          },\n          layers: {\n            title: 'LAYERS',\n            fields: {\n              layers: 'LAYERS',\n              subfields: {\n                crs: 'EPSG',\n                bbox: 'BBOX',\n                title: \"TITLE\",\n                name: 'NAME',\n                geometrytype: 'GEOMETRY',\n                source: 'SOURCE',\n                attributes: 'ATTRIBUTES',\n                abstract: 'ABSTRACT',\n                attribution: 'ATTRIBUTION',\n                keywords: \"PAROLE CHIAVE\",\n                metadataurl: 'METADATA URL',\n                dataurl: \"DATA URL\"\n              }\n            },\n            groups: {\n              general: 'GENERAL',\n              spatial: 'SPATIAL'\n            }\n          }\n        }\n      },\n      tooltips: {\n        relations: {\n          form_to_row: \"Row View\",\n          row_to_form: \"Form View\"\n        },\n        copy_map_extent_url: 'Copy map view link',\n        download_shapefile: \"Download Shapefile\",\n        download_gpx: \"Download GPX\",\n        download_gpkg: \"Download GPKG\",\n        download_csv: \"Download CSV\",\n        download_xls: \"Download XLS\",\n        show_chart: \"Show Chart\",\n        atlas: \"Print Atlas\"\n      },\n      mapcontrols: {\n        query: {\n          tooltip: 'Query layer',\n          actions: {\n            add_selection: {\n              hint: \"Add/Remove Selection\"\n            },\n            zoom_to_features_extent: {\n              hint: \"Zoom to features extent\"\n            },\n            add_features_to_results: {\n              hint: \"Add/Remove features to results\"\n            },\n            remove_feature_from_results: {\n              hint: \"Remove feature from results\"\n            },\n            zoom_to_feature: {\n              hint: \"Zoom to feature\"\n            },\n            relations: {\n              hint: \"Show Relations\"\n            },\n            relations_charts: {\n              hint: \"Show relations chart\"\n            },\n            download_features_shapefile: {\n              hint: 'Download features Shapefile'\n            },\n            download_shapefile: {\n              hint: 'Download feature Shapefile'\n            },\n            download_features_gpx: {\n              hint: \"Download feature GPX\"\n            },\n            download_features_gpkg: {\n              hint: \"Download features GPKG\"\n            },\n            download_gpx: {\n              hint: \"Download feature GPX\"\n            },\n            download_gpkg: {\n              hint: \"Download feature GPKG\"\n            },\n            download_features_csv: {\n              hint: \"Download features CSV\"\n            },\n            download_csv: {\n              hint: \"Download feature CSV\"\n            },\n            download_features_xls: {\n              hint: \"Download features XLS\"\n            },\n            download_xls: {\n              hint: \"Download feature XLS\"\n            },\n            atlas: {\n              hint: \"Print Atlas\"\n            },\n            copy_zoom_to_fid_url: {\n              hint: \"Copy map URL with this geometry feature extension\",\n              hint_change: \"Copied\"\n            }\n          }\n        },\n        querybypolygon: {\n          download: {\n            title: \"Attributes download\",\n            choiches: {\n              feature: {\n                label: \"Features only\"\n              },\n              feature_polygon: {\n                label: \"Features+Query Polygon\"\n              }\n            }\n          },\n          tooltip: 'Query By Polygon',\n          no_geometry: 'No geometry on response',\n          help: {\n            title: 'Guide - Query By Polygon',\n            message: \"\\n                <ul>\\n                  <li>Select a polygon layer on TOC.</li>\\n                  <li>Be sure that layer is visible.</li>\\n                  <li>Click on a feature of selected layer.</li>\\n                </ul>\"\n          }\n        },\n        querybydrawpolygon: {\n          tooltip: \"Query by Draw Polygon \"\n        },\n        querybybbox: {\n          tooltip: 'Query BBox layer',\n          nolayers_visible: 'No querable layers are visible. Please set at least one visible wfs layer to run query',\n          help: {\n            title: 'Guide - Query BBox layer',\n            message: \"\\n                  <ul>\\n                  <li>Draw a square on map to query underlined layers on TOC</li>\\n                  </ul>\"\n          }\n        },\n        addlayer: {\n          messages: {\n            csv: {\n              warning: \"The result in the map is partial due to the presence of the below incorrect records list:\"\n            }\n          },\n          tooltip: 'Add Layer'\n        },\n        geolocation: {\n          tooltip: 'Geolocation'\n        },\n        measures: {\n          length: {\n            tooltip: \"Length\",\n            help: \"Click on map to draw the line. Press <br>CANC if you want delete last vertex\"\n          },\n          area: {\n            tooltip: \"Area\",\n            help: \"Click to draw poligon.Press <br>CANC if you want delete last vertex\"\n          }\n        },\n        scale: {\n          no_valid_scale: \"Invalid Scale\"\n        },\n        scaleline: {\n          units: {\n            metric: 'Meters',\n            nautical: 'Nautical Mile'\n          }\n        },\n        zoomhistory: {\n          zoom_last: \"Zoom Last\",\n          zoom_next: \"Zoom Next\"\n        }\n      },\n      relations: {\n        relation_data: 'Relation data',\n        no_relations_found: 'No relations found',\n        back_to_relations: 'Back to relations',\n        list_of_relations_feature: 'List of relations of feature',\n        error_missing_father_field: \"Field is missing\"\n      },\n      workflow: {\n        steps: {\n          title: 'Steps'\n        },\n        next: 'Next'\n      },\n      form: {\n        loading: 'Loading ...',\n        inputs: {\n          messages: {\n            errors: {\n              picklayer: \"No feature selected. Check if layer is on editing or visible at current scale\"\n            }\n          },\n          tooltips: {\n            picklayer: \"Get value from ma layer\",\n            lonlat: \"Click on map to get coordinates\"\n          },\n          input_validation_mutually_exclusive: \"Field mutually exclusive with \",\n          input_validation_error: \"Mandatory Field or wrong data type\",\n          input_validation_min_field: \"Value has to be more/equal to field value  \",\n          input_validation_max_field: \"Value has to be less/equal to field value \",\n          input_validation_exclude_values: \"Value has to be unique\",\n          integer: \"integer\",\n          bigint: \"integer\",\n          text: \"text\",\n          varchar: \"text\",\n          textarea: \"text\",\n          string: \"string\",\n          date: \"date\",\n          datetime: \"date\",\n          float: \"float\",\n          table: \"table\"\n        },\n        footer: {\n          \"required_fields\": \"Required fields\"\n        },\n        messages: {\n          qgis_input_widget_relation: \"Use relation specific form to work with relation\"\n        }\n      },\n      catalog: {\n        current_map_theme_prefix: \"THEME\",\n        choose_map_theme: \"CHOOSE THEME\",\n        menu: {\n          layerposition: 'Layer Position',\n          setwmsopacity: \"Set Opacity\",\n          wms: {\n            title: \"\",\n            copy: \"Click here to copy url\",\n            copied: \"Copied\"\n          },\n          download: {\n            shp: 'Download Shapefile',\n            gpx: 'Download GPX',\n            gpkg: 'Download GPKG',\n            csv: 'Download CSV',\n            xls: 'Download XLS',\n            geotiff: \"Download GEOTIFF\",\n            geotiff_map_extent: \"Download GEOTIFF(current view extent)\"\n          }\n        }\n      },\n      wps: {\n        list_process: \"List of process\",\n        tooltip: 'Click on map'\n      }\n    },\n    credits: {\n      g3wSuiteFramework: \"Application based on OS framework\",\n      g3wSuiteDescription: \"Publish and manage your QGIS projects on the web\",\n      productOf: \"Framework developed by\"\n    },\n    toggle_color_scheme: \"Toggle color scheme\",\n    logout: \"Logout\",\n    no_other_projects: \"No more project for this group\",\n    no_other_groups: \"No more groups for this Macrogroup\",\n    yes: \"Yes\",\n    no: \"No\",\n    back: \"Back\",\n    backto: \"Back to \",\n    changemap: \"Change Map\",\n    change_session: \"Change Session\",\n    component: \"Generic Component\",\n    search: \"Search\",\n    no_results: \"No results found\",\n    print: \"Print\",\n    create_print: \"Create Print\",\n    dosearch: \"Search\",\n    catalog: \"Map\",\n    data: \"Data\",\n    externalwms: \"WMS\",\n    baselayers: \"Base\",\n    tools: \"Tools\",\n    tree: \"Layers\",\n    legend: \"Legend\",\n    nobaselayer: \"No basemap\",\n    street_search: \"Find Address\",\n    show: \"Show\",\n    hide: \"Hide\",\n    copy_form_data: \"Copy data\",\n    paste_form_data: \"Paste\",\n    copy_form_data_from_feature: \"Copy data from map\",\n    error_map_loading: \"Error occurs loading map\",\n    check_internet_connection_or_server_admin: \"Check internet connection or contact admin\",\n    could_not_load_vector_layers: \"Connection error: Layers can be loaded\",\n    server_saver_error: \"Error in server saving\",\n    server_error: \"Server connection error\",\n    save: \"Save\",\n    cancel: \"Cancel\",\n    close: \"Close\",\n    /**\n     * @since 3.8.0\n     */\n    dont_show_again: \"Don't show again\",\n    enlange_reduce: \"Enlarge/Reduce\",\n    reset_default: \"Default size\",\n    add: \"Add\",\n    exitnosave: \"Exit without save\",\n    annul: \"Cancel\",\n    layer_is_added: \"Layer with same name already added\",\n    sidebar: {\n      wms: {\n        panel: {\n          title: 'Add WMS Layer',\n          label: {\n            position: \"Map Position\",\n            name: \"Name\",\n            projections: 'Projection',\n            layers: 'Layers'\n          }\n        },\n        add_wms_layer: \"Add WMS layer\",\n        delete_wms_url: \"Delete WMS url\",\n        layer_id_already_added: \"WMS Layer already added\",\n        url_already_added: \"WMS URL/Name already added\",\n        layer_add_error: \"WMS Layer not added. Please check all wms parameter or url\"\n      }\n    },\n    info: {\n      title: \"Results\",\n      list_of_relations: \"List of Relations\",\n      open_link: \"Open attached document\",\n      server_error: \"An error occurred from server\",\n      no_results: \"No results found for this query/search\",\n      link_button: \"Open\"\n    },\n    mapcontrols: {\n      geolocations: {\n        error: \"Can't get your position\"\n      },\n      nominatim: {\n        placeholder: \"Address ...\",\n        noresults: \"No results\",\n        notresponseserver: \"No response from server\"\n      },\n      add_layer_control: {\n        header: \"Add Layer\",\n        select_projection: \"Select layer projection\",\n        select_field_to_show: \"Select Field to show on map\",\n        select_csv_separator: \"Select delimiter\",\n        select_csv_x_field: \"Select X field\",\n        select_csv_y_field: \"Select Y field\",\n        select_color: \"Select Layer Color\",\n        drag_layer: \"Drag and drop layer here\"\n      },\n      query: {\n        input_relation: \"Click to show relations\"\n      },\n      length: {\n        tooltip: \"Length\"\n      },\n      area: {\n        tooltip: \"Area\"\n      },\n      screenshot: {\n        error: \"Screenshot error creation\"\n      }\n    },\n    catalog_items: {\n      helptext: \"Right-click on individual layer to access additional features\",\n      contextmenu: {\n        zoomtolayer: \"Zoom to Layer\",\n        open_attribute_table: \"Open Attribute Table\",\n        show_metadata: \"Metadata\",\n        styles: 'Styles',\n        vector_color_menu: \"Set/Change Color\",\n        layer_opacity: \"Opacity\"\n      }\n    },\n    dataTable: {\n      previous: \"Previous\",\n      next: \"Next\",\n      lengthMenu: \"Show _MENU_\",\n      info: \"Showing _START_ to _END_ of _TOTAL_ entries\",\n      no_data: \"No data\",\n      nodatafilterd: \"No matching records found\",\n      infoFiltered: \"(filtered from _MAX_ total records)\"\n    }\n  }\n};\n\n},{}],331:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = {\n  translation: {\n    error_page: {\n      error: \"Yhteysvirhe\",\n      at_moment: \"Tällä hetkellä ei ole mahdollista näyttää karttaa\",\n      f5: \"Paina Ctrl+F5\"\n    },\n    cookie_law: {\n      message: \"This website uses cookies to ensure you get the best experience on our website.\",\n      buttonText: \"Got It!\"\n    },\n    default: \"oletuksena\",\n    sign_in: \"Kirjaudu sisään\",\n    layer_selection_filter: {\n      tools: {\n        filter: \"Lisätä/Poista Suodattaa\",\n        nofilter: \"Poista Suodattaa\",\n        invert: \"Käänteinen Valinta\",\n        clear: \"Peruuttaa Valinta\",\n        show_features_on_map: \"Näytä kartalla näkyvät ominaisuudet\"\n      }\n    },\n    warning: {\n      not_supported_format: \"Not supported format\"\n    },\n    layer_position: {\n      top: 'TOP',\n      bottom: 'BOTTOM',\n      message: \"Position relative to layers on TOC\"\n    },\n    sdk: {\n      atlas: {\n        template_dialog: {\n          title: \"Valitse Template\"\n        }\n      },\n      spatialbookmarks: {\n        title: \"Tilalliset kirjanmerkit\",\n        helptext: \"Siirry kartan laajuuteen, lisää nimi ja napsauta Lisää\",\n        input: {\n          name: \"Nimi\"\n        },\n        sections: {\n          project: {\n            title: \"Projektin kirjanmerkit\"\n          },\n          user: {\n            title: \"Käyttäjän kirjanmerkit\"\n          }\n        }\n      },\n      search: {\n        all: 'KAIKKI',\n        no_results: \"Ei tuloksia\",\n        searching: \"Haetaan ...\",\n        error_loading: \"Virhe ladattaessa tietoja.\",\n        layer_not_searchable: \"Taso ei ole haettavissa.\",\n        layer_not_querable: \"Tasolle ei voi suorittaa kyselyitä.\",\n        autocomplete: {\n          inputshort: {\n            pre: \"Syötä\",\n            post: \"tai useampi merkki\"\n          }\n        }\n      },\n      print: {\n        no_layers: 'Ei tulostettavia tasoja',\n        template: \"Template\",\n        labels: \"Labels\",\n        scale: \"Mittakaava\",\n        format: \"Formaatti\",\n        rotation: \"Kierto\",\n        download_image: \"Lataa kuva\",\n        fids_instruction: \"Hyväksytyt arvot: yhdestä arvoon [max]. Salittua syöttää myös väli, esim. 4-6.\",\n        fids_example: \"Esimerkiksi 1,4-6 tulostuu id 1,4,5,6.\",\n        help: \"Tulosteessa esiintyvät tasot voivat olla projektissa määriteltyjä ei kartalla esiintyviä.\"\n      },\n      querybuilder: {\n        search: {\n          run: \"Suorita\",\n          info: \"Informaatio\",\n          delete: \"Poista\",\n          edit: \"Muokkaa\"\n        },\n        messages: {\n          changed: 'Tallennettu',\n          number_of_features: \"Ominaisuuksien lukumäärä\"\n        },\n        panel: {\n          button: {\n            all: 'KAIKKI',\n            save: 'TALLENNA',\n            test: 'TESTI',\n            clear: 'TYHJENNÄ',\n            run: 'SUORITA',\n            manual: 'MANUAALINEN'\n          },\n          layers: 'TASOT',\n          fields: 'KENTÄT',\n          values: 'ARVOT',\n          operators: 'OPERAATTORIT',\n          expression: 'LAUSEKE'\n        },\n        error_run: 'Tapahtui virhe. Tarkista kysely.',\n        error_test: \"Kyselyä suorittaessa tapahtui virhe.\",\n        delete: 'Haluatko poistaa sen?',\n        additem: 'Anna nimi uudelle haulle.'\n      },\n      errors: {\n        layers: {\n          load: \"Jotkin tasot eivät ole saatavilla.\"\n        },\n        unsupported_format: 'Ei tuettu formaatti',\n        add_external_layer: 'Tason latausvirhe'\n      },\n      metadata: {\n        title: 'Metatiedot',\n        groups: {\n          general: {\n            title: 'YLEINEN',\n            fields: {\n              title: 'OTSIKKO',\n              name: 'NIMI',\n              description: \"KUVAUS\",\n              abstract: \"TIIVISTELMÄ\",\n              keywords: 'AVAINSANAT',\n              fees: \"MAKSUT\",\n              accessconstraints: \"PÄÄSYRAJOITUKSET\",\n              contactinformation: \"YHTEYSTIEDOT\",\n              subfields: {\n                contactinformation: {\n                  contactelectronicmailaddress: \"Sähköposti\",\n                  personprimary: 'Viitteet',\n                  contactvoicetelephone: 'Puhelin',\n                  contactorganization: 'Organisaatio',\n                  ContactOrganization: 'Organisaatio',\n                  contactposition: 'Asema',\n                  ContactPosition: 'Asema',\n                  contactperson: 'Yhteyshenkilö',\n                  ContactPerson: 'Yhteyshenkilö'\n                }\n              },\n              wms_url: \"WMS\"\n            }\n          },\n          spatial: {\n            title: 'SPATIAL',\n            fields: {\n              crs: 'EPSG',\n              extent: 'BBOX'\n            }\n          },\n          layers: {\n            title: 'TASOT',\n            fields: {\n              layers: 'TASOT',\n              subfields: {\n                crs: 'EPSG',\n                bbox: 'BBOX',\n                title: \"OTSIKKO\",\n                name: 'NIMI',\n                geometrytype: 'GEOMETRIA',\n                source: 'LÄHDE',\n                attributes: 'ATTRIBUUTIT',\n                abstract: 'TIIVISTELMÄ',\n                attribution: 'ATTRIBUUTIO',\n                keywords: \"AVAINSANAT\",\n                metadataurl: 'METATIEDON URL',\n                dataurl: \"DATA URL\"\n              }\n            },\n            groups: {\n              general: 'YLEINEN',\n              spatial: 'SPATIAL'\n            }\n          }\n        }\n      },\n      tooltips: {\n        relations: {\n          form_to_row: \"Rivinäkymä\",\n          row_to_form: \"Taulukkonäkymä\"\n        },\n        copy_map_extent_url: 'Kopioi kartan katselulinkki',\n        download_shapefile: \"Lataa SHP-tiedosto\",\n        download_gpx: \"Lataa GPX-tiedosto\",\n        download_gpkg: \"Lataa GPKG-tiedosto\",\n        download_csv: \"Lataa CSV-tiedosto\",\n        download_xls: \"Lataa XLS-tiedosto\",\n        show_chart: \"Näytä kaavio\",\n        atlas: \"Tulosta Atlas\"\n      },\n      mapcontrols: {\n        query: {\n          tooltip: 'Kyselytaso',\n          actions: {\n            add_selection: {\n              hint: 'Lisää/Poista valinta'\n            },\n            zoom_to_features_extent: {\n              hint: \"Tarkenna ominaisuuden laajuuteen\"\n            },\n            add_features_to_results: {\n              hint: \"Add/Remove features to results\"\n            },\n            remove_feature_from_results: {\n              hint: \"Remove feature from results\"\n            },\n            zoom_to_feature: {\n              hint: \"Tarkenna ominaisuuteen\"\n            },\n            relations: {\n              hint: \"Näytä relaatiot\"\n            },\n            relations_charts: {\n              hint: \"Näytä relaatiokaavio\"\n            },\n            download_features_shapefile: {\n              hint: 'Lataa ominaisuuden SHP-tiedosto'\n            },\n            download_shapefile: {\n              hint: 'Lataa ominaisuuden SHP-tiedosto'\n            },\n            download_features_gpx: {\n              hint: \"Lataa ominaisuuden GPX-tiedosto\"\n            },\n            download_features_gpkg: {\n              hint: \"Lataa ominaisuuden GPKG-tiedosto\"\n            },\n            download_gpx: {\n              hint: \"Lataa ominaisuuden GPX-tiedosto\"\n            },\n            download_gpkg: {\n              hint: \"Lataa ominaisuuden GPKG-tiedosto\"\n            },\n            download_features_csv: {\n              hint: \"Lataa ominaisuuden CSV-tiedosto\"\n            },\n            download_csv: {\n              hint: \"Lataa ominaisuuden CSV-tiedosto\"\n            },\n            download_features_xls: {\n              hint: \"Lataa ominaisuuden XLS-tiedosto\"\n            },\n            download_xls: {\n              hint: \"Lataa ominaisuuden XLS-tiedosto\"\n            },\n            atlas: {\n              hint: \"Tulosta Atlas\"\n            },\n            copy_zoom_to_fid_url: {\n              hint: \"Copy map URL with this geometry feature extension\",\n              hint_change: \"Copied\"\n            }\n          }\n        },\n        querybypolygon: {\n          download: {\n            title: \"Attributes download\",\n            choiches: {\n              feature: {\n                label: \"Features only\"\n              },\n              feature_polygon: {\n                label: \"Features+Query Polygon\"\n              }\n            }\n          },\n          tooltip: 'Kysely monikulmiolla',\n          no_geometry: 'No geometry on response',\n          help: {\n            title: 'Ohje - Kysely monikulmiolla',\n            message: \"\\n                <ul>\\n                  <li>Valitse monikulmiotaso luettelosta.</li>\\n                  <li>Tarkista, ett\\xE4 taso on n\\xE4kyvill\\xE4.</li>\\n                  <li>Valitse ominaisuus valitulla tasolla.</li>\\n                </ul>\"\n          }\n        },\n        querybydrawpolygon: {\n          tooltip: \"Kysely piirtopolygonin mukaan\"\n        },\n        querybybbox: {\n          tooltip: 'Tasoon kohdituva BBox-kysely',\n          nolayers_visible: 'Ei kyseltäviä tasoja näkyvillä. Aseta vähintään yksi WFS-taso näkyväksi suorittaaksesi haun.',\n          help: {\n            title: 'Ohje - Tasoon kohdistuva BBox-kysely',\n            message: \"\\n                 <ul>\\n                  <li>Piirr\\xE4 suorakulmio kartalle suorittaaksesi kyselyn luettelossa alleviivatuille tasoille.</li>\\n                 </ul>\"\n          }\n        },\n        addlayer: {\n          messages: {\n            csv: {\n              warning: \"The result in the map is partial due to the presence of the below incorrect records list:\"\n            }\n          },\n          tooltip: 'Lisää taso'\n        },\n        geolocation: {\n          tooltip: 'Maantieteellinen sijainti'\n        },\n        measures: {\n          length: {\n            tooltip: \"Pituus\",\n            help: \"Piirrä murtoviiva kartalle. Paina <br>CANC, mikäli haluat poistaa edellisen pisteen.\"\n          },\n          area: {\n            tooltip: \"Alue\",\n            help: \"Piirrä monikulmio kartalle. Paina <br>CANC, mikäli haluat poistaa edellisen pisteen.\"\n          }\n        },\n        scale: {\n          no_valid_scale: \"Väärä mittakaava\"\n        },\n        scaleline: {\n          units: {\n            metric: 'Meters',\n            nautical: 'Nautical Mile'\n          }\n        },\n        zoomhistory: {\n          zoom_last: \"Zoom Edellinen\",\n          zoom_next: \"Zoom Seurata\"\n        }\n      },\n      relations: {\n        relation_data: 'Relaation tiedot',\n        no_relations_found: 'Relaatiota ei löytynyt.',\n        back_to_relations: 'Takaisin relaatioihin',\n        list_of_relations_feature: 'Lista ominaisuuden relaatioista',\n        error_missing_father_field: \"Kenttä puuttu\"\n      },\n      workflow: {\n        steps: {\n          title: 'Vaiheet'\n        },\n        next: \"Seuraava\"\n      },\n      form: {\n        loading: 'Ladataan...',\n        inputs: {\n          messages: {\n            errors: {\n              picklayer: \"Ominaisuuksia ei valiitu. Tarkista, että taso on muokattavissa tai näkyvissä nykyisellä mittakaavalla.\"\n            }\n          },\n          tooltips: {\n            picklayer: \"Valitse arvo karttatasolta\",\n            lonlat: \"Click on map to get coordinates\"\n          },\n          input_validation_mutually_exclusive: \"Kenttä toisensa poissulkeva.\",\n          input_validation_error: \"Pakollinen kenttä tai väärä tietotyyppi.\",\n          input_validation_min_field: \"Arvon tulee olla suurempi tai yhtäsuuri kuin kentän arvo.\",\n          input_validation_max_field: \"Arvon tulee olla pienempi tai yhtäsuuri kuin kentän arvo.\",\n          input_validation_exclude_values: \"Arvon tulee olla uniikki.\",\n          integer: \"kokonaisluku\",\n          bigint: \"kokonaisluku\",\n          text: \"teksti\",\n          varchar: \"teksti\",\n          textarea: \"teksti\",\n          string: \"merkkijono\",\n          date: \"päiväys\",\n          datetime: \"päiväys\",\n          float: \"liukuluku\",\n          table: \"taulukko\"\n        },\n        footer: {\n          \"required_fields\": \"Vaaditut kentät\"\n        },\n        messages: {\n          qgis_input_widget_relation: \"Käytä relaatioiden määrittämiseen tähän tarkoitettua toimintoa\"\n        }\n      },\n      catalog: {\n        current_map_theme_prefix: \"THEME\",\n        choose_map_theme: \"CHOOSE THEME\",\n        menu: {\n          layerposition: 'Layer Position',\n          setwmsopacity: \"Set Opacity\",\n          wms: {\n            title: \"\",\n            copy: \"Paina tästä kopioidaksesi url:n.\",\n            copied: \"Kopioitu.\"\n          },\n          download: {\n            shp: 'Lataa SHP-tiedosto',\n            gpx: 'Lataa GPX-tiedosto',\n            gpkg: 'Lataa GPKG-tiedosto',\n            csv: 'Lataa CSV-tiedosto',\n            xls: 'Lataa XLS-tiedosto',\n            geotiff: 'Lataa GEOTIFF-tiedosto',\n            geotiff_map_extent: \"Lataa GEOTIFF-tiedosto(current view extent)\"\n          }\n        }\n      },\n      wps: {\n        list_process: \"Lista prosesseista\",\n        tooltip: 'Valitse kartalta'\n      }\n    },\n    credits: {\n      g3wSuiteFramework: \"Sovellus perustuu OS framework\",\n      g3wSuiteDescription: \"Julkaise ja hallinnoi QGIS-projekteja verkossa.\",\n      productOf: \"Frameworkin on kehittänyt\"\n    },\n    toggle_color_scheme: \"Toggle color scheme\",\n    logout: \"Kirjaudu ulos\",\n    no_other_projects: \"Ei projekteja tälle ryhmälle\",\n    no_other_groups: \"Ei enää ryhmiä tälle makroryhmälle\",\n    yes: \"Kyllä\",\n    no: \"Ei\",\n    back: \"Palaa\",\n    backto: \"Takaisin \",\n    changemap: \"Vaihda karttaa\",\n    change_session: \"Vaihda istuntoa\",\n    component: \"Yleinen komponentti\",\n    search: \"Hae\",\n    no_results: \"Ei hakutuloksia\",\n    print: \"Tulosta\",\n    create_print: \"Luo tuloste\",\n    dosearch: \"Hae\",\n    catalog: \"Kartta\",\n    data: \"Data\",\n    externalwms: \"WMS\",\n    baselayers: \"Taustakartta\",\n    tools: \"Työkalut\",\n    tree: \"Tasot\",\n    legend: \"Merkintöjen selite\",\n    nobaselayer: \"Ei taustakarttaa\",\n    street_search: \"Hae osoite\",\n    show: \"Näytä\",\n    hide: \"Piilota\",\n    copy_form_data: \"Kopioi tiedot\",\n    paste_form_data: \"Liitä\",\n    copy_form_data_from_feature: \"Kopioi tiedot kartalta\",\n    error_map_loading: \"Virhe ladattessa karttaa\",\n    check_internet_connection_or_server_admin: \"Tarkista internetyhteys tai ota yhteyttä ylläpitäjään.\",\n    could_not_load_vector_layers: \"Yhteysvirhe, tasoja ei voida ladata.\",\n    server_saver_error: \"Virhe tallentaessa palvelimelle.\",\n    server_error: \"Yhteysvirhe palvelimeen\",\n    save: \"Tallenna\",\n    cancel: \"Peruuta\",\n    close: \"Sulje\",\n    /**\n     * @since 3.8.0\n     */\n    dont_show_again: \"Älä näytä viestiä uudelleen\",\n    enlange_reduce: \"Enlarge/Reduce\",\n    reset_default: \"Default size\",\n    add: \"Lisää\",\n    exitnosave: \"Poistu tallentamatta\",\n    annul: \"Peruuta\",\n    layer_is_added: \"Samanniminen taso on jo lisätty.\",\n    sidebar: {\n      wms: {\n        panel: {\n          title: 'Add WMS Layer',\n          label: {\n            position: \"Map Position\",\n            name: \"Name\",\n            projections: 'Projection',\n            layers: 'Layers'\n          }\n        },\n        add_wms_layer: \"Aggiungi WMS layer\",\n        delete_wms_url: \"Delete WMS url\",\n        layer_id_already_added: \"WMS Taso on jo lisätty.\",\n        url_already_added: \"WMS URL/Nimi on jo lisätty.\",\n        layer_add_error: \"WMS Layer not added. Please check all wms parameter or url\"\n      }\n    },\n    info: {\n      title: \"Tulokset\",\n      list_of_relations: \"List of Relations\",\n      open_link: \"Avaa liitetiedosto\",\n      server_error: \"Palvelimella tapahtui virhe.\",\n      no_results: \"Ei tuloksia haulle/kyselylle.\",\n      link_button: \"Avaa\"\n    },\n    mapcontrols: {\n      geolocations: {\n        error: \"Sijaintiasi ei saada\"\n      },\n      nominatim: {\n        placeholder: \"Osoite ...\",\n        noresults: \"Ei tuloksia\",\n        notresponseserver: \"Ei vastausta palvelimelta\"\n      },\n      add_layer_control: {\n        header: \"Lisää taso\",\n        select_projection: \"Valitse tason projektio\",\n        select_field_to_show: \"Select Field to show on map\",\n        select_csv_separator: \"Select delimiter\",\n        select_csv_x_field: \"Select X field\",\n        select_csv_y_field: \"Select Y field\",\n        select_color: \"Valitse tason väri\",\n        drag_layer: \"Vedä ja pudota taso tähän\"\n      },\n      query: {\n        input_relation: \"Paina näyttääksesi relaatiot\"\n      },\n      length: {\n        tooltip: \"Pituus\"\n      },\n      area: {\n        tooltip: \"Pinta-ala\"\n      },\n      screenshot: {\n        error: \"Screenshot error creation\"\n      }\n    },\n    catalog_items: {\n      helptext: \"Napsauta hiiren kakkospainikkeella yksittäistä tasoa päästäksesi lisäominaisuuksiin.\",\n      contextmenu: {\n        zoomtolayer: \"Tarkenna tasoon\",\n        open_attribute_table: \"Avaa attribuuttitaulu\",\n        show_metadata: \"Metatiedot\",\n        styles: \"Tyylejä\",\n        vector_color_menu: \"Aseta/muuta väriä\",\n        layer_opacity: \"Peittävyys\"\n      }\n    },\n    dataTable: {\n      previous: \"Edellinen\",\n      next: \"Seuraava\",\n      lengthMenu: \"Show _MENU_ items\",\n      info: \"Showing _START_ to _END_ of _TOTAL_ entries\",\n      no_data: \"Ei tietoja\",\n      nodatafilterd: \"Vastaavia tietueita ei löytynyt\",\n      infoFiltered: \"(filtered from _MAX_ total records)\"\n    }\n  }\n};\n\n},{}],332:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = {\n  translation: {\n    error_page: {\n      error: \"Erreur de connexion\",\n      at_moment: \"Pour le moment, il n'est pas possible d'afficher la carte\",\n      f5: \"Appuyez sur Ctrl+F5\"\n    },\n    cookie_law: {\n      message: \"Ce site utilise des cookies pour assurer une bonne convivialité pour l'utilisateur final.\",\n      buttonText: \"J’ai compris !\"\n    },\n    default: \"par défaut \",\n    sign_in: \"Se connecter \",\n    layer_selection_filter: {\n      tools: {\n        filter: \"Ajout/Suppression de filtre \",\n        nofilter: \"Supprimer le filtre \",\n        invert: \"Sélection inversée \",\n        clear: \"Effacer la sélection \",\n        show_features_on_map: \"Afficher les caractéristiques visibles sur la carte\"\n      }\n    },\n    warning: {\n      not_supported_format: \"Not supported format\"\n    },\n    layer_position: {\n      top: 'TOP',\n      bottom: 'BOTTOM',\n      message: \"Position relative to layers on TOC\"\n    },\n    sdk: {\n      atlas: {\n        template_dialog: {\n          title: \"Sélectionnez Template\"\n        }\n      },\n      spatialbookmarks: {\n        title: \"Signets spatiaux\",\n        helptext: \"Déplacez-vous sur l'étendue de la carte, insérez le nom et cliquez sur Ajouter\",\n        input: {\n          name: \"Nom\"\n        },\n        sections: {\n          project: {\n            title: \"Signets du projet\"\n          },\n          user: {\n            title: \"Signets de l'utilisateur\"\n          }\n        }\n      },\n      search: {\n        all: 'TOUTES',\n        no_results: \"Aucune valeur trouvée\",\n        searching: \"Je cherche...\",\n        error_loading: \"Erreur de chargement des valeurs\",\n        layer_not_searchable: \"Le layer n’est pas recherchable\",\n        layer_not_querable: \"Le layer n'est pas interrogeable\",\n        autocomplete: {\n          inputshort: {\n            pre: \"Tapez au moins\",\n            post: \"caractères\"\n          }\n        }\n      },\n      print: {\n        no_layers: 'Aucune layer visible',\n        scale: \"Échelle\",\n        format: \"Format\",\n        rotation: \"Rotation\",\n        download_image: \"Télécharger l'image\",\n        fids_instruction: \"Valeurs acceptées : de 1 à la valeur maximale indiquée par [max]. Il est également possible d'indiquer une fourchette de valeurs, par exemple 4-6\",\n        fids_example: \"Par exemple 1,4-6 les ids 1,4,5,6 seront imprimés\",\n        help: \"Les layers montrés dans l'impression peuvent être ceux définis dans le projet et non ceux montrés sur la carte\"\n      },\n      querybuilder: {\n        search: {\n          run: \"Lancer la recherche\",\n          info: \"Information\",\n          delete: \"Supprimer\",\n          edit: \"Editer\"\n        },\n        messages: {\n          changed: 'Enregistré correctement',\n          number_of_features: \"Nombre de fonctionnalités\"\n        },\n        panel: {\n          button: {\n            all: 'TOUTES',\n            save: 'SAUVEGARDER',\n            test: 'TESTER',\n            clear: 'NETTOYER',\n            run: 'EXECUTER',\n            manual: 'MANUEL'\n          },\n          layers: 'LAYERS',\n          fields: 'CHAMPS',\n          values: 'VALEURS',\n          operators: 'OPERATEURS',\n          expression: 'EXPRESSION'\n        },\n        error_run: \"Une erreur s'est produite. Vérifiez si la requête est correcte\",\n        error_test: \"Erreur d'exécution de la requête\",\n        delete: 'Voulez-vous confirmer la suppression ?',\n        additem: 'Entrer le nom de la requête'\n      },\n      errors: {\n        layers: {\n          load: \"Certaines layers du projet ne sont pas disponibles actuellement et n'apparaissent donc pas dans la vue actuelle\"\n        },\n        unsupported_format: 'Format non supporté',\n        add_external_layer: 'Erreur lors du chargement du layer'\n      },\n      metadata: {\n        title: \"Métadonnées\",\n        groups: {\n          general: {\n            title: 'GÉNÉRAL',\n            fields: {\n              title: 'TITRE',\n              name: 'NOM',\n              description: \"DESCRIPTION\",\n              abstract: \"ABREGE\",\n              keywords: 'LISTE DE MOTS-CLÉS',\n              fees: \"DROITS D'INSCRIPTION\",\n              accessconstraints: \"CONTRAINTES D'ACCÈS\",\n              contactinformation: \"CONTACTS\",\n              subfields: {\n                contactinformation: {\n                  contactelectronicmailaddress: \"E-mail\",\n                  personprimary: 'Références',\n                  contactvoicetelephone: 'Téléphone',\n                  contactorganization: 'Organisation',\n                  ContactOrganization: 'Organisation',\n                  contactposition: 'Localisation',\n                  ContactPosition: 'Localisation',\n                  contactperson: 'Personne',\n                  ContactPerson: 'Personne'\n                }\n              },\n              wms_url: \"WMS\"\n            }\n          },\n          spatial: {\n            title: 'INFO ESPACE',\n            fields: {\n              crs: 'EPSG',\n              extent: 'BBOX'\n            }\n          },\n          layers: {\n            title: 'STRATES',\n            groups: {\n              general: 'GENERALE',\n              spatial: 'INFO ESPACE'\n            },\n            fields: {\n              layers: 'STRATES',\n              subfields: {\n                crs: 'EPSG',\n                bbox: 'BBOX',\n                title: \"TITRE\",\n                name: 'NOM',\n                geometrytype: 'GÉOMÉTRIE',\n                source: 'SOURCE',\n                attributes: 'ATTRIBUTES',\n                abstract: 'ABRÉGÉ',\n                attribution: 'ATTRIBUTION',\n                keywords: \"MOTS- CLÉS\",\n                metadataurl: 'URL DE MÉTADONNÉES',\n                dataurl: \"URL DES DONNÉES\"\n              }\n            }\n          }\n        }\n      },\n      tooltips: {\n        relations: {\n          form_to_row: \"Afficher le format de la ligne\",\n          row_to_form: \"Format du formulaire d'affichage\"\n        },\n        zoom_to_features_extent: \"Zoom sur les fonctionnalités\",\n        copy_map_extent_url: 'Copier le lien de visualisation de la carte',\n        download_shapefile: \"Télécharger le fichier Shapefile\",\n        download_gpx: \"Télécharger GPX\",\n        download_gpkg: \"Télécharger GPKG\",\n        download_csv: \"Télécharger CSV\",\n        download_xls: \"Télécharger XLS\",\n        show_chart: \"Montrer graphique\",\n        atlas: \"Imprimer l'Atlas\"\n      },\n      mapcontrols: {\n        query: {\n          tooltip: 'Interrogation layer',\n          actions: {\n            add_selection: {\n              hint: \"Ajouter/supprimer une sélection\"\n            },\n            zoom_to_features_extent: {\n              hint: \"Zoom sur les fonctionnalités\"\n            },\n            add_features_to_results: {\n              hint: \"Ajouter des fonctionnalités aux résultats\"\n            },\n            remove_feature_from_results: {\n              hint: \"Supprimer la fonctionnalité des résultats\"\n            },\n            zoom_to_feature: {\n              hint: \"Zoom sur les fonctionnalités\"\n            },\n            relations: {\n              hint: \"Voir les relations\"\n            },\n            relations_charts: {\n              hint: \"Voir les graphiques de relations\"\n            },\n            download_features_shapefile: {\n              hint: 'Télécharger les fonctionnalités vers Shapefile'\n            },\n            download_shapefile: {\n              hint: 'Télécharger le Shapefile'\n            },\n            download_features_gpx: {\n              hint: \"Télécharger les fonctionnalités vers GPX\"\n            },\n            download_features_gpkg: {\n              hint: \"Télécharger les fonctionnalités vers GPKG\"\n            },\n            download_gpx: {\n              hint: \"Télécharger le GPX\"\n            },\n            download_gpkg: {\n              hint: \"Télécharger le GPKG\"\n            },\n            download_features_csv: {\n              hint: \"Télécharger les fonctionnalités vers CSV\"\n            },\n            download_csv: {\n              hint: \"Télécharger le CSV\"\n            },\n            download_features_xls: {\n              hint: \"Télécharger les fonctionnalités vers XLS\"\n            },\n            download_xls: {\n              hint: \"Télécharger le XLS\"\n            },\n            atlas: {\n              hint: \"Imprimer l'Atlas\"\n            },\n            copy_zoom_to_fid_url: {\n              hint: \"Copier l'URL de la carte avec l'extension vers cette géométrie\",\n              hint_change: \"Copié\"\n            }\n          }\n        },\n        querybypolygon: {\n          download: {\n            title: \"Téléchargement des attributs\",\n            choiches: {\n              feature: {\n                label: \"Fonctionnalités seulement\"\n              },\n              feature_polygon: {\n                label: \"Fonctionnalités+Requête Polygon \"\n              }\n            }\n          },\n          tooltip: 'Requête par polygone',\n          no_geometry: 'La réponse ne contient pas de géométrie',\n          help: {\n            title: 'Aide - Requête par polygone',\n            message: \"\\n                <ul>\\n                  <li>S\\xE9lectionnez un layer de polygone dans la l\\xE9gende.</li>\\n                  <li>V\\xE9rifiez que le layer est visible dans la carte.</li>\\n                  <li>Cliquez sur une g\\xE9om\\xE9trie du layer s\\xE9lectionn\\xE9.</li>\\n                </ul>\"\n          }\n        },\n        querybydrawpolygon: {\n          tooltip: \"Requête par polygone de dessin\"\n        },\n        querybybbox: {\n          tooltip: 'Requête pour BBOX',\n          nolayers_visible: \"Aucun layer requêtable n'est visible. Assurez-vous qu'au moins un layer wfs est visible pour exécuter la requête\",\n          help: {\n            title: 'Aide - Requête BBox',\n            message: \"\\n                  <ul>\\n                    <li>Dessinez un rectangle pour interroger les couches surlign\\xE9es en jaune</li>\\n                 </ul>\\n            \"\n          }\n        },\n        addlayer: {\n          messages: {\n            csv: {\n              warning: \"Le résultat de la carte est partiel en raison de la présence des enregistrements incorrects suivants :\"\n            }\n          },\n          tooltip: 'Ajouter un layer'\n        },\n        geolocation: {\n          tooltip: 'Géolocalisation'\n        },\n        measures: {\n          length: {\n            tooltip: \"Longueur\",\n            help: \"Cliquez sur la carte pour continuer à dessiner la ligne.<br>CANC si vous voulez supprimer le dernier vertex inséré\"\n          },\n          area: {\n            tooltip: \"Zone\",\n            help: \"Cliquez pour continuer à dessiner le polygone.<br>CANC si vous voulez supprimer le dernier vertex inséré\"\n          }\n        },\n        scale: {\n          no_valid_scale: \"Échelle invalide\"\n        },\n        scaleline: {\n          units: {\n            metric: 'Meters',\n            nautical: 'Nautical Mile'\n          }\n        },\n        zoomhistory: {\n          zoom_last: \"Zoom Précédent\",\n          zoom_next: \"Zoom Suivant\"\n        }\n      },\n      relations: {\n        relation_data: 'Données relationnelles',\n        no_relations_found: 'Aucune relation trouvée',\n        back_to_relations: 'Retour aux relations',\n        list_of_relations_feature: 'Liste des relations entre les caractéristiques',\n        error_missing_father_field: \"Le champ concerné n'existe pas\"\n      },\n      workflow: {\n        steps: {\n          title: 'Étapes'\n        },\n        next: 'Suivant'\n      },\n      form: {\n        loading: 'Chargement...',\n        inputs: {\n          messages: {\n            errors: {\n              picklayer: \"Aucune fonction sélectionnée. Vérifier si le layer est en édition ou non visible à l'échelle actuelle\"\n            }\n          },\n          tooltips: {\n            picklayer: \"Obtenir la valeur de la carte\",\n            lonlat: \"Cliquez sur la carte pour obtenir les coordonnées\"\n          },\n          input_validation_mutually_exclusive: \"Champ mutuellement exclusif avec \",\n          input_validation_error: \"Champ obligatoire ou type de valeur incorrect\",\n          input_validation_min_field: \"La valeur doit être supérieure ou égale au camp \",\n          input_validation_max_field: \"La valeur doit être inférieure ou égale au champ \",\n          input_validation_exclude_values: \"Le champ doit contenir une valeur différente\",\n          integer: \"entier\",\n          bigint: \"entier\",\n          text: \"textuel\",\n          varchar: \"textuel\",\n          textarea: \"textuel\",\n          string: \"chaîne\",\n          date: \"date\",\n          datetime: \"date\",\n          float: \"float\",\n          table: \"table\"\n        },\n        footer: {\n          required_fields: \"Champs obligatoires\"\n        },\n        messages: {\n          qgis_input_widget_relation: \"Gérer les relations via un formulaire dédié\"\n        }\n      },\n      catalog: {\n        current_map_theme_prefix: \"THEME\",\n        choose_map_theme: \"SÉLECTIONNEZ LE THÈME\",\n        menu: {\n          layerposition: 'Layer Position',\n          setwmsopacity: \"Set Opacity\",\n          wms: {\n            title: \"\",\n            copy: \"Cliquez ici pour copier l'url\",\n            copied: \"Copié\"\n          },\n          download: {\n            shp: 'Télécharger Shapefile',\n            gpx: 'Télécharger GPX',\n            gpkg: 'Télécharger GPKG',\n            csv: 'Télécharger CSV',\n            xls: 'Télécharger XLS',\n            geotiff: 'Télécharger GEOTIFF',\n            geotiff_map_extent: \"Télécharger GEOTIFF(current view extent)\"\n          }\n        }\n      },\n      wps: {\n        list_process: \"Liste des processus\",\n        tooltip: 'Cliquez sur la carte'\n      }\n    },\n    credits: {\n      g3wSuiteFramework: \"Application construite avec le framework OS\",\n      g3wSuiteDescription: \"Publiez et gérez vos projets QGIS sur le Web\",\n      productOf: \"Framework développé par\"\n    },\n    logout: \"Quitter\",\n    no_other_projects: \"Il n'y a pas d'autres projets dans ce groupe de cartes\",\n    no_other_groups: \"Il n'y a pas d'autres groupes dans ce macrogroupe\",\n    yes: \"Oui\",\n    no: \"No\",\n    back: \"Retour\",\n    backto: \"Retour à \",\n    changemap: \"Changer de carte\",\n    change_session: \"Changer de séance\",\n    component: \"Composant générique\",\n    search: \"Recherches\",\n    no_results: \"Aucun résultat trouvé\",\n    print: \"Imprimer\",\n    create_print: \"Créer une impression\",\n    dosearch: \"Recherche\",\n    catalog: \"Carte\",\n    data: \"Données\",\n    externalwms: \"WMS\",\n    baselayers: \"Bases\",\n    tools: \"Outils\",\n    tree: \"Strates\",\n    legend: \"Légende\",\n    nobaselayer: \"Pas de carte de base\",\n    street_search: \"Adresse de recherche\",\n    show: \"Afficher\",\n    hide: \"Cacher\",\n    copy_form_data: \"Copier les données du formulaire\",\n    paste_form_data: \"Coller\",\n    copy_form_data_from_feature: \"Copier les données de la carte\",\n    error_map_loading: \"Erreur de chargement de la nouvelle carte\",\n    check_internet_connection_or_server_admin: \"Vérifiez la connexion internet ou contactez l'administrateur\",\n    could_not_load_vector_layers: \"Erreur de connexion au serveur : il n'a pas été possible de charger les vecteurs demandés\",\n    server_saver_error: \"Erreur de sauvegarde sur le serveur\",\n    server_error: \"Une erreur s'est produite dans la requête au serveur\",\n    save: \"Sauvegarder\",\n    cancel: \"Supprimer\",\n    close: \"Fermer\",\n    /**\n     * @since 3.8.0\n     */\n    dont_show_again: \"Ne plus afficher ce message\",\n    enlange_reduce: \"Enlarge/Reduce\",\n    reset_default: \"Default size\",\n    add: \"Ajouter\",\n    exitnosave: \"Quitter sans sauvegarder\",\n    annul: \"Annuler\",\n    layer_is_added: \"Layer avec le même nom déjà ajouté\",\n    wms_layer_id_already_added: \"WMS Layer déjà ajouté\",\n    wms_url_already_added: \"WMS URL déjà ajouté\",\n    sidebar: {\n      wms: {\n        panel: {\n          title: 'Add WMS Layer',\n          label: {\n            position: \"Map Position\",\n            name: \"Name\",\n            projections: 'Projection',\n            layers: 'Layers'\n          }\n        },\n        add_wms_layer: \"Add WMS layer\",\n        delete_wms_url: \"Delete WMS url\",\n        layer_id_already_added: \"WMS Nivån har redan lagts till.\",\n        url_already_added: \"WMS URL/Nom har redan lagts till.\",\n        layer_add_error: \"WMS Layer not added. Please check all wms parameter or url\"\n      }\n    },\n    info: {\n      title: \"Résultats\",\n      list_of_relations: \"List of Relations\",\n      open_link: \"Ouvrir le document joint\",\n      server_error: \"Une erreur s'est produite dans la requête au serveur\",\n      no_results: \"Aucun résultat pour cette requête/recherche\",\n      link_button: \"Ouvrir\"\n    },\n    mapcontrols: {\n      geolocations: {\n        title: \"\",\n        error: \"Votre position ne peut être calculée.\"\n      },\n      nominatim: {\n        placeholder: \"Adresse ...\",\n        noresults: \"Aucun résultat\",\n        notresponseserver: \"Le serveur ne répond pas\"\n      },\n      add_layer_control: {\n        header: \"Ajouter un layer\",\n        select_projection: \"Sélectionnez le système de projection de couches\",\n        select_field_to_show: \"Sélectionnez le champ à afficher sur la carte\",\n        select_csv_separator: \"Sélectionner le séparateur\",\n        select_csv_x_field: \"Sélectionnez le champ X\",\n        select_csv_y_field: \"Sélectionnez le champ Y\",\n        select_color: \"Sélectionnez la couleur du layer\",\n        drag_layer: \"Faire glisser le layer vers cette zone\"\n      },\n      query: {\n        input_relation: \"Cliquez pour voir les relations\"\n      },\n      length: {\n        tooltip: \"Longueur\"\n      },\n      area: {\n        tooltip: \"Zone\"\n      },\n      screenshot: {\n        error: \"Erreur de création de la capture d'écran\"\n      }\n    },\n    catalog_items: {\n      helptext: \"Cliquez avec le bouton droit de la souris sur les différents layers pour accéder à des fonctionnalités supplémentaires\",\n      contextmenu: {\n        zoomtolayer: \"Zoom sur le layer\",\n        open_attribute_table: \"Table d'attributs ouverte\",\n        show_metadata: \"Métadonnées\",\n        styles: \"Styles\",\n        vector_color_menu: \"Définir/changer la couleur\",\n        layer_opacity: \"Opacité\"\n      }\n    },\n    dataTable: {\n      previous: \"Précédent\",\n      next: \"Suivant\",\n      lengthMenu: \"Afficher _MENU_\",\n      info: \"Afficher _START_ à _END_ sur _TOTAL_ lignes\",\n      nodatafilterd: \"Aucun résultat trouvé\",\n      infoFiltered: \"(Filtré par _MAX_ rangs totaux)\"\n    }\n  }\n};\n\n},{}],333:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _it = require('./it');\n\nvar _it2 = _interopRequireDefault(_it);\n\nvar _en = require('./en');\n\nvar _en2 = _interopRequireDefault(_en);\n\nvar _fi = require('./fi');\n\nvar _fi2 = _interopRequireDefault(_fi);\n\nvar _se = require('./se');\n\nvar _se2 = _interopRequireDefault(_se);\n\nvar _fr = require('./fr');\n\nvar _fr2 = _interopRequireDefault(_fr);\n\nvar _de = require('./de');\n\nvar _de2 = _interopRequireDefault(_de);\n\nvar _ro = require('./ro');\n\nvar _ro2 = _interopRequireDefault(_ro);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar translations = {\n  it: _it2.default,\n  en: _en2.default,\n  fi: _fi2.default,\n  se: _se2.default,\n  fr: _fr2.default,\n  de: _de2.default,\n  ro: _ro2.default\n};\n\nexports.default = translations;\n\n},{\"./de\":329,\"./en\":330,\"./fi\":331,\"./fr\":332,\"./it\":334,\"./ro\":335,\"./se\":336}],334:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = {\n  translation: {\n    error_page: {\n      error: \"Errore di connessione\",\n      at_moment: \"Al momento non è possibile caricare la mappa\",\n      f5: \"Premi Ctrl+F5\"\n    },\n    cookie_law: {\n      message: \"Questo sito utilizza i cookie per garantire una buona usabilità all'utilizzatore finale.\",\n      buttonText: \"Ho capito!\"\n    },\n    default: \"predefinito\",\n    sign_in: \"Accedi\",\n    layer_selection_filter: {\n      tools: {\n        filter: \"Aggiungi/Rimuovi Filtro\",\n        nofilter: \"Rimuovi filtro\",\n        invert: \"Inverti Selezione\",\n        clear: \"Annulla selezione\",\n        show_features_on_map: \"Mostra features visibili su mappa\"\n      }\n    },\n    warning: {\n      not_supported_format: \"Formato non supportato\"\n    },\n    layer_position: {\n      top: 'SOPRA',\n      bottom: 'IN FONDO',\n      message: \"Posizione rispetto ai layers della TOC\"\n    },\n    sdk: {\n      atlas: {\n        template_dialog: {\n          title: \"Seleziona Template\"\n        }\n      },\n      spatialbookmarks: {\n        title: \"Segnalibri Spaziali\",\n        helptext: \"Posizionati all'estensione del tuo nuovo segnalibro, definisci il nome e clicca Aggiungi\",\n        input: {\n          name: \"Nome\"\n        },\n        sections: {\n          project: {\n            title: \"Segnalibri Progetto\"\n          },\n          user: {\n            title: \"Segnalibri Utente\"\n          }\n        }\n      },\n      search: {\n        all: 'TUTTE',\n        no_results: \"Nessun valore trovato\",\n        searching: \"Sto cercando ..\",\n        error_loading: \"Errore nel caricamento valori\",\n        layer_not_searchable: \"Il layer non è ricercabile\",\n        layer_not_querable: \"Il layer non è interrogabile\",\n        autocomplete: {\n          inputshort: {\n            pre: \"Digita almeno\",\n            post: \"caratteri\"\n          }\n        }\n      },\n      print: {\n        no_layers: 'Nessun Layer visibile',\n        template: \"Template\",\n        labels: \"Etichette\",\n        scale: \"Scala\",\n        format: \"Formato\",\n        rotation: \"Rotazione\",\n        download_image: \"Scarica Immagine\",\n        fids_instruction: \"Valori accettati: da 1 al valore massimo indicato da [max]. Possibile indicare anche range di valori es. 4-6\",\n        fids_example: \"Es. 1,4-6 verranno stampati gli id 1,4,5,6\",\n        help: \"I layers mostrati nella stampa potrebbero essere quelli definiti sul progetto e non quelli visualizzati sulla mappa\"\n      },\n      querybuilder: {\n        search: {\n          run: \"Lancia ricerca\",\n          info: \"Informazioni\",\n          delete: \"Cancella\",\n          edit: \"Modifica\"\n        },\n        messages: {\n          changed: 'Salvato correttamente',\n          number_of_features: \"Numero di features\"\n        },\n        panel: {\n          button: {\n            all: 'TUTTI',\n            save: 'SALVA',\n            test: 'TEST',\n            clear: 'PULISCI',\n            run: 'ESEGUI',\n            manual: 'MANUALE'\n          },\n          layers: 'LAYERS',\n          fields: 'CAMPI',\n          values: 'VALORI',\n          operators: 'OPERATORI',\n          expression: 'ESPRESSIONE'\n        },\n        error_run: 'Si è verificato un errore. Verificare se la query è corretta',\n        error_test: \"Errore nell'esecuzione della query\",\n        delete: 'Vuoi confermare la cancellazione?',\n        additem: 'Inserisci nome della ricerca'\n      },\n      errors: {\n        layers: {\n          load: \"Alcuni layers presenti nel progetto non sono attualmente disponibili e quindi non compaiono nell'attuale visualizzazione\"\n        },\n        unsupported_format: 'Formato non supportato',\n        add_external_layer: 'Errore nel caricamento del layer'\n      },\n      metadata: {\n        title: \"Metadati\",\n        groups: {\n          general: {\n            title: 'GENERALE',\n            fields: {\n              title: 'TITOLO',\n              name: 'NOME',\n              description: \"DESCRIZIONE\",\n              abstract: \"ABSTRACT\",\n              keywords: 'LISTA DELLE PAROLE CHIAVE',\n              fees: \"CANONI\",\n              accessconstraints: \"VINCOLI DI ACCESSO\",\n              contactinformation: \"CONTATTI\",\n              subfields: {\n                contactinformation: {\n                  contactelectronicmailaddress: \"E-mail\",\n                  personprimary: 'Riferimenti',\n                  contactvoicetelephone: 'Telefono',\n                  contactorganization: 'Organizzazione',\n                  ContactOrganization: 'Organizzazione',\n                  contactposition: 'Posizione',\n                  ContactPosition: 'Posizione',\n                  contactperson: 'Persona',\n                  ContactPerson: 'Persona'\n                }\n              },\n              wms_url: \"WMS\"\n            }\n          },\n          spatial: {\n            title: 'INFO SPAZIALI',\n            fields: {\n              crs: 'EPSG',\n              extent: 'BBOX'\n            }\n          },\n          layers: {\n            title: 'STRATI',\n            groups: {\n              general: 'GENERALE',\n              spatial: 'INFO SPAZIALI'\n            },\n            fields: {\n              layers: 'STRATI',\n              subfields: {\n                crs: 'EPSG',\n                bbox: 'BBOX',\n                title: \"TITOLO\",\n                name: 'NOME',\n                geometrytype: 'GEOMETRIA',\n                source: 'SORGENTE',\n                attributes: 'ATTRIBUTI',\n                abstract: 'ABSTRACT',\n                attribution: 'ATTRIBUTION',\n                keywords: \"PAROLE CHIAVE\",\n                metadataurl: 'METADATA URL',\n                dataurl: \"DATA URL\"\n              }\n            }\n          }\n        }\n      },\n      tooltips: {\n        relations: {\n          form_to_row: \"Visualizza formato Riga\",\n          row_to_form: \"Visualizza formato Form\"\n        },\n        zoom_to_features_extent: \"Zoom sulle features\",\n        copy_map_extent_url: 'Copia map view link',\n        download_shapefile: \"Scarica Shapefile\",\n        download_gpx: \"Scarica GPX\",\n        download_gpkg: \"Scarica GPKG\",\n        download_csv: \"Scarica CSV\",\n        download_xls: \"Scarica XLS\",\n        show_chart: \"Mostra Grafico\",\n        atlas: \"Stampa Atlas\"\n      },\n      mapcontrols: {\n        query: {\n          tooltip: 'Interroga Layer',\n          actions: {\n            add_selection: {\n              hint: \"Aggiungi/Rimuovi Selezione\"\n            },\n            zoom_to_features_extent: {\n              hint: \"Zoom sulle features\"\n            },\n            add_features_to_results: {\n              hint: \"Aggiungi features ai risultati\"\n            },\n            remove_feature_from_results: {\n              hint: \"Rimuovi feature dai risultati\"\n            },\n            zoom_to_feature: {\n              hint: \"Zoom sulla feature\"\n            },\n            relations: {\n              hint: \"Visualizza Relazioni\"\n            },\n            relations_charts: {\n              hint: \"Visualizza grafici relazioni\"\n            },\n            download_features_shapefile: {\n              hint: 'Scarica features in Shapefile'\n            },\n            download_shapefile: {\n              hint: 'Scarica feature in Shapefile'\n            },\n            download_features_gpx: {\n              hint: \"Scarica features in GPX\"\n            },\n            download_features_gpkg: {\n              hint: \"Scarica features in GPKG\"\n            },\n            download_gpx: {\n              hint: \"Scarica feature in GPX\"\n            },\n            download_gpkg: {\n              hint: \"Scarica feature in GPKG\"\n            },\n            download_features_csv: {\n              hint: \"Scarica features in CSV\"\n            },\n            download_csv: {\n              hint: \"Scarica feature in CSV\"\n            },\n            download_features_xls: {\n              hint: \"Scarica features in XLS\"\n            },\n            download_xls: {\n              hint: \"Scarica la feature in XLS\"\n            },\n            atlas: {\n              hint: \"Stampa Atlas\"\n            },\n            copy_zoom_to_fid_url: {\n              hint: \"Copia URL mappa con estensione a questa geometria\",\n              hint_change: \"Copiato\"\n            }\n          }\n        },\n        querybypolygon: {\n          download: {\n            title: \"Download attributi\",\n            choiches: {\n              feature: {\n                label: \"Solo features\"\n              },\n              feature_polygon: {\n                label: \"Features+Poligono Interrogazione\"\n              }\n            }\n          },\n          tooltip: 'Interroga per poligono',\n          no_geometry: 'Non contiene la geometria nella risposta',\n          help: {\n            title: 'Guida - Interrogazione con Poligono',\n            message: \"\\n                <ul>\\n                  <li>Seleziona uno strato poligonale in legenda.</li>\\n                  <li>Assicurati che lo strato sia visibile in mappa.</li>\\n                  <li>Clicca su una geometria dello strato selezionato.</li>\\n                </ul>\"\n          }\n        },\n        querybydrawpolygon: {\n          tooltip: \"Disegna un poligono per interrogare\"\n        },\n        querybybbox: {\n          tooltip: 'Interroga per BBOX',\n          nolayers_visible: \"Nessun layer interrogabile è visibile. Assicurarsi che almeno un layer wfs sia visibile per eseguire l'interrogazione\",\n          help: {\n            title: 'Guida - Interrogazione BBox',\n            message: \"\\n                  <ul>\\n                    <li>Disegna un rettangolo per interrogare gli strati evidenziati in giallo</li>\\n                  </ul>\\n            \"\n          }\n        },\n        addlayer: {\n          messages: {\n            csv: {\n              warning: \"Il risultato in mappa è parziale a causa della presenza dei seguenti records non corretti:\"\n            }\n          },\n          tooltip: 'Aggiungi Layer'\n        },\n        geolocation: {\n          tooltip: 'Geolocalizzazione'\n        },\n        measures: {\n          length: {\n            tooltip: \"Lunghezza\",\n            help: \"Clicca sulla mappa per continuare a disegnare la linea.<br>CANC se si vuole cancellare l'ultimo vertice inserito\"\n          },\n          area: {\n            tooltip: \"Area\",\n            help: \"Clicca per continuare a disegnare il poligono.<br>CANC se si vuole cancellare l'ultimo vertice inserito\"\n          }\n        },\n        scale: {\n          no_valid_scale: \"Scala non valida\"\n        },\n        scaleline: {\n          units: {\n            metric: 'Metri',\n            nautical: 'Miglio Nautico'\n          }\n        },\n        zoomhistory: {\n          zoom_last: \"Zoom Precedente\",\n          zoom_next: \"Zoom Successivo\"\n        }\n      },\n      relations: {\n        relation_data: 'Dati Relazione',\n        no_relations_found: 'Nessuna relazione trovata',\n        back_to_relations: 'Ritorna alle relazioni',\n        list_of_relations_feature: 'Lista delle relazioni della feature',\n        error_missing_father_field: \"Il campo relazionato non esiste\"\n      },\n      workflow: {\n        steps: {\n          title: 'Passi'\n        },\n        next: 'Avanti'\n      },\n      form: {\n        loading: 'Caricamento ...',\n        inputs: {\n          messages: {\n            errors: {\n              picklayer: \"Nessuna feature selezionata. Verificare se il layer è in editing o non visibile alla scala attuale\"\n            }\n          },\n          tooltips: {\n            picklayer: \"Prendi valore dalla mappa\",\n            lonlat: \"Clicca sulla mappa per prendere le coordinate\"\n          },\n          input_validation_mutually_exclusive: \"Campo mutualmente esclusivo con \",\n          input_validation_error: \"Campo obbligatorio o tipo valore non corretto\",\n          input_validation_min_field: \"Valore deve essere magiore uguale a quello del camp \",\n          input_validation_max_field: \"Valore deve essere minore uguale a quello del campo \",\n          input_validation_exclude_values: \"Campo deve contenere un valore diverso\",\n          integer: \"intero\",\n          bigint: \"intero\",\n          text: \"testuale\",\n          varchar: \"testuale\",\n          textarea: \"testuale\",\n          string: \"stringa\",\n          date: \"data\",\n          datetime: \"data\",\n          float: \"float\",\n          table: \"table\"\n        },\n        footer: {\n          required_fields: \"Campi obbligatori\"\n        },\n        messages: {\n          qgis_input_widget_relation: \"Gestisci le relazioni tramite form dedicato\"\n        }\n      },\n      catalog: {\n        current_map_theme_prefix: \"TEMA\",\n        choose_map_theme: \"SCEGLI TEMA\",\n        menu: {\n          layerposition: 'Posizione Layer',\n          setwmsopacity: \"Cambia opacità\",\n          wms: {\n            title: \"\",\n            copy: \"Clicca qui per copiare url\",\n            copied: \"Copiato\"\n          },\n          download: {\n            shp: 'Scarica Shapefile',\n            gpx: 'Scarica GPX',\n            gpkg: 'Scarica GPKG',\n            csv: 'Scarica CSV',\n            xls: 'Scarica XLS',\n            geotiff: \"Scarica GEOTIFF\",\n            geotiff_map_extent: \"Scarica GEOTIFF(estensione vista corrente)\"\n          }\n        }\n      },\n      wps: {\n        list_process: \"Lista dei processi\",\n        tooltip: 'Clicca sulla mappa'\n      }\n    },\n    credits: {\n      g3wSuiteFramework: \"Applicativo realizzato con il framework OS\",\n      g3wSuiteDescription: \"Pubblica e gestisci i tuoi progetti QGIS sul Web\",\n      productOf: \"Framework sviluppato da\"\n    },\n    toggle_color_scheme: \"Cambia colore\",\n    logout: \"Esci\",\n    no_other_projects: \"Nu există alte proiecte în acest grup de hărți\",\n    no_other_groups: \"Nu există alte grupuri în acest grup de macrocomenzi\",\n    yes: \"Si\",\n    no: \"No\",\n    back: \"Indietro\",\n    backto: \"Torna a \",\n    changemap: \"Cambia Mappa\",\n    change_session: \"Cambia Sessione\",\n    component: \"Componente Generico\",\n    search: \"Ricerche\",\n    no_results: \"Nessun risultato trovato\",\n    print: \"Stampa\",\n    create_print: \"Crea Stampa\",\n    dosearch: \"Cerca\",\n    catalog: \"Mappa\",\n    data: \"Dati\",\n    externalwms: \"WMS\",\n    baselayers: \"Basi\",\n    tools: \"Strumenti\",\n    tree: \"Strati\",\n    legend: \"Legenda\",\n    nobaselayer: \"Nessuna mappa di base\",\n    street_search: \"Cerca indirizzo\",\n    show: \"Mostra\",\n    hide: \"Nascondi\",\n    copy_form_data: \"Copia i dati del modulo\",\n    paste_form_data: \"Incolla\",\n    copy_form_data_from_feature: \"Copia i dati dalla mappa\",\n    error_map_loading: \"Errore di caricamento della nuova mappa\",\n    check_internet_connection_or_server_admin: \"Controllare la connessione internet o contattare l'amministratore\",\n    could_not_load_vector_layers: \"Errore di connessione al server: non è stato possibile caricare i vettoriali richiesti\",\n    server_saver_error: \"Errore nel salvataggio sul server\",\n    server_error: \"Si è verificato un errore nella richiesta al server\",\n    save: \"Salva\",\n    cancel: \"Cancella\",\n    close: \"Chiudi\",\n    /**\n     * @since 3.8.0\n     */\n    dont_show_again: \"Non mostrare più\",\n    enlange_reduce: \"Allarga/Riduci\",\n    reset_default: \"Dimensione Partenza\",\n    add: \"Aggiungi\",\n    exitnosave: \"Esci senza salvare\",\n    annul: \"Annulla\",\n    layer_is_added: \"Layer con stesso nome già aggiunto\",\n    sidebar: {\n      wms: {\n        panel: {\n          title: 'Aggiungi WMS Layer',\n          label: {\n            position: \"Posizione su Mappa\",\n            name: \"Nome\",\n            projections: 'Sistema di riferimento',\n            layers: 'Layers'\n          }\n        },\n        add_wms_layer: \"Aggiungi WMS layer\",\n        delete_wms_url: \"Elimina WMS url\",\n        layer_id_already_added: \"WMS Layer già aggiunto\",\n        url_already_added: \"WMS URL/Nome già aggiunto\",\n        layer_add_error: \"WMS Layer non aggiunto. Verificare i parametri o l'url\"\n      }\n    },\n    info: {\n      title: \"Risultati\",\n      list_of_relations: \"Lista delle relazioni\",\n      open_link: \"Apri documento allegato\",\n      server_error: \"Si è verificato un errore nella richiesta al server\",\n      no_results: \"Nessun risultato per questa interrogazione/ricerca \",\n      link_button: \"Apri\"\n    },\n    mapcontrols: {\n      geolocations: {\n        title: \"\",\n        error: \"Non è possibile calcolare la tua posizione.\"\n      },\n      nominatim: {\n        placeholder: \"Indirizzo ...\",\n        noresults: \"Nessun risultato\",\n        notresponseserver: \"Il server non risponde\"\n      },\n      add_layer_control: {\n        header: \"Aggiungi Layer\",\n        select_projection: \"Seleziona il sistema di proiezione del layer\",\n        select_field_to_show: \"Seleziona il campo da visualizzare sulla mappa\",\n        select_csv_separator: \"Seleziona il separatore\",\n        select_csv_x_field: \"Seleziona il campo X\",\n        select_csv_y_field: \"Seleziona il campo Y\",\n        select_color: \"Seleziona il colore del Layer\",\n        drag_layer: \"Trascina il layer in questa area\"\n      },\n      query: {\n        input_relation: \"Clicca per consultare le relazioni\"\n      },\n      length: {\n        tooltip: \"Lunghezza\"\n      },\n      area: {\n        tooltip: \"Area\"\n      },\n      screenshot: {\n        error: \"Errore nella creazione dello screenshot\"\n      }\n    },\n    catalog_items: {\n      helptext: \"Tasto destro sui singoli layer per accedere alle funzionalità aggiuntive\",\n      contextmenu: {\n        zoomtolayer: \"Zoom to Layer\",\n        open_attribute_table: \"Apri tabella attributi\",\n        show_metadata: \"Metadati\",\n        styles: \"Stili\",\n        vector_color_menu: \"Setta/Cambia Colore\",\n        layer_opacity: \"Trasparenza\"\n      }\n    },\n    dataTable: {\n      previous: \"Precedente\",\n      next: \"Successivo\",\n      lengthMenu: \"Visualizza _MENU_\",\n      info: \"Visualizzazione _START_ a _END_ su _TOTAL_ righe\",\n      nodatafilterd: \"Nessun risultato trovato\",\n      infoFiltered: \"(Filtrati da _MAX_ total righe)\"\n    }\n  }\n};\n\n},{}],335:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = {\n  translation: {\n    error_page: {\n      error: \"Eroare de conexiune\",\n      at_moment: \"Momentan nu este posibil să afișați harta\",\n      f5: \"Apăsați Ctrl+F5\"\n    },\n    cookie_law: {\n      message: \"Acest website foloseste cookie-uri pentru a furniza vizitatorilor o experiență mult mai bună de navigare\",\n      buttonText: \"Am înțeles!\"\n    },\n    default: \"Implicit\",\n    sign_in: \"Logare\",\n    layer_selection_filter: {\n      tools: {\n        filter: \"Adăugare/Eliminare Filtrare\",\n        nofilter: \"Eliminare Filtrare\",\n        invert: \"Inversare Selecție\",\n        clear: \"Elimină Selecția\",\n        show_features_on_map: \"Arată entitățile vizibile în cadrul hărții\"\n      }\n    },\n    warning: {\n      not_supported_format: \"Formatul nu este acceptat\"\n    },\n    layer_position: {\n      top: 'SUS',\n      bottom: 'JOS',\n      message: \"Poziție relativă la straturile din TOC\"\n    },\n    sdk: {\n      atlas: {\n        template_dialog: {\n          title: \"Selectați Template\"\n        }\n      },\n      spatialbookmarks: {\n        title: \"Marcaje spațiale\",\n        helptext: \"Deplasați-vă pe întinderea hărții, introduceți numele și faceți clic pe Adăugați\",\n        input: {\n          name: \"Nume\"\n        },\n        sections: {\n          project: {\n            title: \"Marcaje de proiect\"\n          },\n          user: {\n            title: \"Marcaje utilizator\"\n          }\n        }\n      },\n      search: {\n        all: 'Toate',\n        no_results: \"Fără rezultat\",\n        searching: \"Căutare ...\",\n        error_loading: \"Încărcarea a eșuat\",\n        layer_not_searchable: \"Nu se poate căuta pe strat\",\n        layer_not_querable: \"Stratul nu se poate interoga\",\n        autocomplete: {\n          inputshort: {\n            pre: \"Te rog introdu\",\n            post: \"sau mai multe caractere\"\n          }\n        }\n      },\n      print: {\n        no_layers: 'Nu avem straturi de print',\n        template: \"Șablon\",\n        labels: \"Etichete\",\n        scale: \"Scară\",\n        format: \"Format\",\n        rotation: \"Rotație\",\n        download_image: \"Descarcă Imaginea\",\n        fids_instruction: \"Valori acceptate: de la 1 la valoarea [max]. Este posibilă inserarea de interval, de ex. 4-6\",\n        fids_example: \"Ex. 1,4-6 vor fi tipărite id 1,4,5,6\",\n        help: \"Straturile prezentate în print pot fi acelea definite în proiect și nu acelea prezentate în cadrul hărții\"\n      },\n      querybuilder: {\n        search: {\n          run: \"Execută\",\n          info: \"Info\",\n          delete: \"Elimină\",\n          edit: \"Modifică\"\n        },\n        messages: {\n          changed: 'Salvat',\n          number_of_features: \"Număr de entități\"\n        },\n        panel: {\n          button: {\n            all: 'TOATE',\n            save: 'SALVEAZĂ',\n            test: 'TEST',\n            clear: 'ȘTERGE',\n            run: 'RUN',\n            manual: 'MANUAL'\n          },\n          layers: 'STRATURI',\n          fields: 'CÂMPURI',\n          values: 'VALORI',\n          operators: 'OPERATORI',\n          expression: 'EXPRESII'\n        },\n        error_run: 'A survenit o eroare. De verificat interogarea',\n        error_test: \"A survenit o eroare în timp ce se executa interogarea\",\n        delete: 'Vrei să o ștergi?',\n        additem: 'Introdu numele noii căutări'\n      },\n      errors: {\n        layers: {\n          load: \"Câteva straturi nu sunt disponibile\"\n        },\n        unsupported_format: 'Formatul nu este acceptat',\n        add_external_layer: 'Eroare încărcare strat'\n      },\n      metadata: {\n        title: 'Metadate',\n        groups: {\n          general: {\n            title: 'GENERALITĂȚI',\n            fields: {\n              title: 'TITLU',\n              name: 'NUME',\n              description: \"DESCRIERE\",\n              abstract: \"ABSTRACT\",\n              keywords: 'CUVINTE CHEIE',\n              fees: \"TAXE\",\n              accessconstraints: \"CONSTRÂNGERI DE ACCES\",\n              contactinformation: \"CONTACTE\",\n              subfields: {\n                contactinformation: {\n                  contactelectronicmailaddress: \"Email\",\n                  personprimary: 'Referințe',\n                  contactvoicetelephone: 'Telefon',\n                  contactorganization: 'Organizație',\n                  ContactOrganization: 'Organizație',\n                  contactposition: 'Poziție',\n                  ContactPosition: 'Poziție',\n                  contactperson: 'Persoana',\n                  ContactPerson: 'Persoana'\n                }\n              },\n              wms_url: \"WMS\"\n            }\n          },\n          spatial: {\n            title: 'SPAȚIAL',\n            fields: {\n              crs: 'EPSG',\n              extent: 'BBOX'\n            }\n          },\n          layers: {\n            title: 'STRATURI',\n            fields: {\n              layers: 'STRATURI',\n              subfields: {\n                crs: 'EPSG',\n                bbox: 'BBOX',\n                title: \"TITLU\",\n                name: 'NUME',\n                geometrytype: 'GEOMETRIE',\n                source: 'SURSA',\n                attributes: 'ATRIBUTE',\n                abstract: 'ABSTRACT',\n                attribution: 'ATRIBUIRE',\n                keywords: \"CUVINTE CHEIE\",\n                metadataurl: 'URL METADATE',\n                dataurl: \"URL DATE\"\n              }\n            },\n            groups: {\n              general: 'GENERALITĂȚI',\n              spatial: 'SPAȚIAL'\n            }\n          }\n        }\n      },\n      tooltips: {\n        relations: {\n          form_to_row: \"Vizualizare pe rânduri\",\n          row_to_form: \"Vizualizare formular\"\n        },\n        copy_map_extent_url: 'Copiază linkul de vizualizare hartă',\n        download_shapefile: \"Descarcă Shapefile\",\n        download_gpx: \"Descarcă GPX\",\n        download_gpkg: \"Descarcă GPKG\",\n        download_csv: \"Descarcă CSV\",\n        download_xls: \"Descarcă XLS\",\n        show_chart: \"Arată Diagrama\",\n        atlas: \"Tipărire Atlas\"\n      },\n      mapcontrols: {\n        query: {\n          tooltip: 'Interogare strat',\n          actions: {\n            add_selection: {\n              hint: \"Adaugă/Elimină Selecția\"\n            },\n            zoom_to_features_extent: {\n              hint: \"Zoom la încadrarea entităților\"\n            },\n            add_features_to_results: {\n              hint: \"Adaugă/Elimină entități rezultat\"\n            },\n            remove_feature_from_results: {\n              hint: \"Elimină entitate din rezultat\"\n            },\n            zoom_to_feature: {\n              hint: \"Zoom la entitate\"\n            },\n            relations: {\n              hint: \"Arată Relațiile\"\n            },\n            relations_charts: {\n              hint: \"Arată diagrama de relații\"\n            },\n            download_features_shapefile: {\n              hint: 'Descarcă entități în Shapefile'\n            },\n            download_shapefile: {\n              hint: 'Descarcă entitate în Shapefile'\n            },\n            download_features_gpx: {\n              hint: \"Descarcă entități în GPX\"\n            },\n            download_features_gpkg: {\n              hint: \"Descarcă entități în GPKG\"\n            },\n            download_gpx: {\n              hint: \"Descarcă entitate în GPX\"\n            },\n            download_gpkg: {\n              hint: \"Descarcă entitate în GPKG\"\n            },\n            download_features_csv: {\n              hint: \"Descarcă entități în CSV\"\n            },\n            download_csv: {\n              hint: \"Descarcă entitate în CSV\"\n            },\n            download_features_xls: {\n              hint: \"Descarcă entități în XLS\"\n            },\n            download_xls: {\n              hint: \"Descarcă entitate în XLS\"\n            },\n            atlas: {\n              hint: \"Tipărire Atlas\"\n            },\n            copy_zoom_to_fid_url: {\n              hint: \"Copiază URL hartă cu întinderea geometriei entității\",\n              hint_change: \"Copiat\"\n            }\n          }\n        },\n        querybypolygon: {\n          download: {\n            title: \"Descărcare atribute\",\n            choiches: {\n              feature: {\n                label: \"Doar entități\"\n              },\n              feature_polygon: {\n                label: \"Entități+Poligon Interogare\"\n              }\n            }\n          },\n          tooltip: 'Interogare După Poligon',\n          no_geometry: 'Nu avem geometrii în răspuns',\n          help: {\n            title: 'Ghid - Interogare După Poligon',\n            message: \"\\n                <ul>\\n                  <li>Selecteaz\\u0103 un strat poligon din TOC.</li>\\n                  <li>Asigur\\u0103-te c\\u0103 stratul este vizibil.</li>\\n                  <li>Click pe o entitate a stratului selectat.</li>\\n                </ul>\"\n          }\n        },\n        querybydrawpolygon: {\n          tooltip: \"Interogare prin poligon de desen\"\n        },\n        querybybbox: {\n          tooltip: 'Interogare BBox strat',\n          nolayers_visible: 'Nu este vizibil niciun strat de interogare. Trebuie setat cel puțin un strat WFS vizibil pentru a efectua interogarea',\n          help: {\n            title: 'Ghid - Interogare BBox strat',\n            message: \"\\n                 <ul>\\n                  <li>Deseneaz\\u0103 un p\\u0103trat pe hart\\u0103 pentru a interoga straturile din TOC de sub </li>\\n                 </ul>\"\n          }\n        },\n        addlayer: {\n          messages: {\n            csv: {\n              warning: \"Rezultateul pe hartă este parțial datorită prezenței următoarei liste de rezultate incorecte:\"\n            }\n          },\n          tooltip: 'Adaugă Strat'\n        },\n        geolocation: {\n          tooltip: 'Geolocalizare'\n        },\n        measures: {\n          length: {\n            tooltip: \"Lungime\",\n            help: \"Click pe hartă pentru a desena linia. Apasă <br>CANC dacă dorești să ștergi ultimul vertex\"\n          },\n          area: {\n            tooltip: \"Aria\",\n            help: \"Click pentru desen poligon. Apasă <br>CANC dacă dorești să ștergi ultimul vertex\"\n          }\n        },\n        scale: {\n          no_valid_scale: \"Scară Invalidă\"\n        },\n        scaleline: {\n          units: {\n            metric: 'Metri',\n            nautical: 'Mile Nautice'\n          }\n        },\n        zoomhistory: {\n          zoom_last: \"Zoom Anterior\",\n          zoom_next: \"Zoom Urmatorul\"\n        }\n      },\n      relations: {\n        relation_data: 'Date Relații',\n        no_relations_found: 'Nu am găsit nicio relație',\n        back_to_relations: 'Înapoi la relații',\n        list_of_relations_feature: 'Lista de relații a entității',\n        error_missing_father_field: \"Câmpul de legătură lipsește\"\n      },\n      workflow: {\n        steps: {\n          title: 'Pași'\n        },\n        next: 'Următorul'\n      },\n      form: {\n        loading: 'Se încarcă ...',\n        inputs: {\n          messages: {\n            errors: {\n              picklayer: \"Nu avem entitate selectată. Verifică dacă stratul este în editare sau vizibil la scara curentă if layer is on editing or visible at current scale\"\n            }\n          },\n          tooltips: {\n            picklayer: \"Ia valoare din strat\",\n            lonlat: \"Click pe hartă pentru a prelua coordonate\"\n          },\n          input_validation_mutually_exclusive: \"Câmp ce se exclude mutual cu \",\n          input_validation_error: \"Câmp mandatoriu sau tip de date greșit\",\n          input_validation_min_field: \"Valoarea trebuie să fie mai mare/egală cu valoare câmpului \",\n          input_validation_max_field: \"Valoarea trebuie să fie mai mică/egală cu valoare câmpului \",\n          input_validation_exclude_values: \"Valoarea trebuie să fie unică\",\n          integer: \"integer - nr. întreg\",\n          bigint: \"integer - nr. întreg\",\n          text: \"text\",\n          varchar: \"text\",\n          textarea: \"text\",\n          string: \"string - text\",\n          date: \"data\",\n          datetime: \"data\",\n          float: \"float - nr. cu zecimale\",\n          table: \"tabelă\"\n        },\n        footer: {\n          \"required_fields\": \"Câmpuri necesare\"\n        },\n        messages: {\n          qgis_input_widget_relation: \"Folosește formular specific de relații pentru a lucra cu relația\"\n        }\n      },\n      catalog: {\n        current_map_theme_prefix: \"TEMA\",\n        choose_map_theme: \"ALEGE TEMA\",\n        menu: {\n          layerposition: 'Poziție Strat',\n          setwmsopacity: \"Alege Opacitatea\",\n          wms: {\n            title: \"Titlu\",\n            copy: \"Click pentru copiere URL\",\n            copied: \"Copiat\"\n          },\n          download: {\n            shp: 'Descarcă Shapefile',\n            gpx: 'Descarcă GPX',\n            gpkg: 'Descarcă GPKG',\n            csv: 'Descarcă CSV',\n            xls: 'Descarcă XLS',\n            geotiff: \"Descarcă GEOTIFF\",\n            geotiff_map_extent: \"Descarcă GEOTIFF(ce se vede în cadrul hărții)\"\n          }\n        }\n      },\n      wps: {\n        list_process: \"Lista de procese\",\n        tooltip: 'Click pe hartă'\n      }\n    },\n    credits: {\n      g3wSuiteFramework: \"Aplicație bazată pe frameworkul\",\n      g3wSuiteDescription: \"Publică și administrează proiectele de QGIS pe WEB\",\n      productOf: \"Framework dezvoltat de\"\n    },\n    toggle_color_scheme: \"Comutare schemă de culori\",\n    logout: \"Deconectare\",\n    no_other_projects: \"No more project for this group\",\n    no_other_groups: \"Nu mai sunt grupuri pentru acest macrogrup\",\n    yes: \"Da\",\n    no: \"Nu\",\n    back: \"Înapoi\",\n    backto: \"Înapoi la \",\n    changemap: \"Schimbare Hartă\",\n    change_session: \"Schimbați sesiunea\",\n    component: \"Componentă Generică\",\n    search: \"Căutare\",\n    no_results: \"Niciun rezultat găsit\",\n    print: \"Tipărire\",\n    create_print: \"Tipărește\",\n    dosearch: \"Caută\",\n    catalog: \"Hartă\",\n    data: \"Data\",\n    externalwms: \"WMS\",\n    baselayers: \"Straturi Bază\",\n    tools: \"Instrumente\",\n    tree: \"Straturi\",\n    legend: \"Legendă\",\n    nobaselayer: \"Fără strat de bază\",\n    street_search: \"Caută Adresă\",\n    show: \"Arată\",\n    hide: \"Ascunde\",\n    copy_form_data: \"Copiază data\",\n    paste_form_data: \"Lipește\",\n    copy_form_data_from_feature: \"Copiază data din hartă\",\n    error_map_loading: \"Sunt erori la încărcarea hărții\",\n    check_internet_connection_or_server_admin: \"Verificați conexiune de internet sau contactați administratorul de sistem\",\n    could_not_load_vector_layers: \"Eroare de conexiune: Straturile nu pot fi încărcate\",\n    server_saver_error: \"Eroare la salvarea pe server\",\n    server_error: \"Eroare de conexiune la server\",\n    save: \"Salvează\",\n    cancel: \"Anulează\",\n    close: \"Închide\",\n    /**\n     * @since 3.8.0\n     */\n    dont_show_again: \"Nu mai afișa mesajul\",\n    enlange_reduce: \"Mărește/Micșorează\",\n    reset_default: \"Mărimea implicită\",\n    add: \"Adaugă\",\n    exitnosave: \"Ieșire fără salvare\",\n    annul: \"Anulează\",\n    layer_is_added: \"Există un strat cu același nume deja adăugat\",\n    sidebar: {\n      wms: {\n        panel: {\n          title: 'Adaugă strat WMS',\n          label: {\n            position: \"Poziție Hartă\",\n            name: \"Nume\",\n            projections: 'Proiecție',\n            layers: 'Straturi'\n          }\n        },\n        add_wms_layer: \"Adaugă strat WMS\",\n        delete_wms_url: \"Șterge URL WMS\",\n        layer_id_already_added: \"Strat WMS deja adăugat\",\n        url_already_added: \"URL WMS/Nume deja adăugat\",\n        layer_add_error: \"Stratul WMS nu s-a adăugat. Verificați URL-ul sau parametrii WMS\"\n      }\n    },\n    info: {\n      title: \"Rezultate\",\n      list_of_relations: \"List of Relations\",\n      open_link: \"Deschide document atașat\",\n      server_error: \"Serverul a întâmpinat o eroare\",\n      no_results: \"Niciun rezultat\",\n      link_button: \"Deschide\"\n    },\n    mapcontrols: {\n      geolocations: {\n        error: \"Nu te-am putut localiza\"\n      },\n      nominatim: {\n        placeholder: \"Adresa ...\",\n        noresults: \"Niciun rezultat\",\n        notresponseserver: \"Niciun răspuns de la server\"\n      },\n      add_layer_control: {\n        header: \"Adăugare Strat\",\n        select_projection: \"Selectează proiecția strat\",\n        select_field_to_show: \"Selectează câmpul de arătat pe hartă\",\n        select_csv_separator: \"Selectează delimitatorul\",\n        select_csv_x_field: \"Selectează câmpul X - Est\",\n        select_csv_y_field: \"Selectează câmpul Y - Nord\",\n        select_color: \"Selectează culoare strat\",\n        drag_layer: \"Trageți stratul aici (Drag&Drop)\"\n      },\n      query: {\n        input_relation: \"Click pentru a arăta relațiile\"\n      },\n      length: {\n        tooltip: \"Lungime\"\n      },\n      area: {\n        tooltip: \"Arie\"\n      },\n      screenshot: {\n        error: \"Eroare captură ecran\"\n      }\n    },\n    catalog_items: {\n      helptext: \"Click dreapta pe strat pentru a accesa opțiuni\",\n      contextmenu: {\n        zoomtolayer: \"Zoom pe Strat\",\n        open_attribute_table: \"Deschide Tabela Atribute\",\n        show_metadata: \"Metadate\",\n        styles: 'Stiluri',\n        vector_color_menu: \"Setează/Schimbă Culoare\",\n        layer_opacity: \"Opacitate\"\n      }\n    },\n    dataTable: {\n      previous: \"Anteriorul\",\n      next: \"Următorul\",\n      lengthMenu: \"Arată _MENU_\",\n      info: \"Arată _START_ până la _END_ din _TOTAL_ de intrări\",\n      no_data: \"Fără date\",\n      nodatafilterd: \"Niciun rezultat\",\n      infoFiltered: \"(filtrat din _MAX_ de rezultate totale)\"\n    }\n  }\n};\n\n},{}],336:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = {\n  translation: {\n    error_page: {\n      error: \"Anslutningsfel\",\n      at_moment: \"För närvarande är inte möjligt visa karta\",\n      f5: \"Tryck på Ctrl+F5\"\n    },\n    cookie_law: {\n      message: \"This website uses cookies to ensure you get the best experience on our website.\",\n      buttonText: \"Got It!\"\n    },\n    default: \"standard\",\n    sign_in: \"Logga in\",\n    layer_selection_filter: {\n      tools: {\n        filter: \"Lägg till/Avlägsna Filtrera\",\n        nofilter: \"Avlägsna Filtrera\",\n        invert: \"Invertera Urval\",\n        clear: \"Annullera Urval\",\n        show_features_on_map: \"Visa funktioner som är synliga på kartan\"\n      }\n    },\n    warning: {\n      not_supported_format: \"Not supported format\"\n    },\n    layer_position: {\n      top: 'TOP',\n      bottom: 'BOTTOM',\n      message: \"Position relative to layers on TOC\"\n    },\n    sdk: {\n      atlas: {\n        template_dialog: {\n          title: \"Välj Template\"\n        }\n      },\n      spatialbookmarks: {\n        title: \"Rumsliga bokmärken\",\n        helptext: \"Flytta på kartans omfattning, ange namn och klicka på Lägg till\",\n        input: {\n          name: \"Namn\"\n        },\n        sections: {\n          project: {\n            title: \"Projektbokmärken\"\n          },\n          user: {\n            title: \"Användarbokmärken\"\n          }\n        }\n      },\n      search: {\n        all: 'ALLA',\n        no_results: \"Inga resultat\",\n        searching: \"Sökning ...\",\n        error_loading: \"Fel vid laddning av uppgifter.\",\n        layer_not_searchable: \"Nivån kan inte sökas.\",\n        layer_not_querable: \"Förfrågningar kan inte göras på nivån.\",\n        autocomplete: {\n          inputshort: {\n            pre: \"Mata in\",\n            post: \"eller flera tecken\"\n          }\n        }\n      },\n      print: {\n        no_layers: 'Inga nivåer att skriva ut',\n        template: \"Template\",\n        labels: \"Labels\",\n        scale: \"Skala\",\n        format: \"Format\",\n        rotation: \"Rotation\",\n        download_image: \"Ladda ner bild\",\n        fids_instruction: \"Godkända värden: Från ett till värdet [max]. Mellanslag tillåts, t.ex. 4-6.\",\n        fids_example: \"Exempelvis 1,4-6 skriver ut id 1,4,5,6.\",\n        help: \"Nivåerna på utskriften kan vara specificerade i ett projekt inte sådana som visas på karta.\"\n      },\n      querybuilder: {\n        search: {\n          run: \"Utför\",\n          info: \"Information\",\n          delete: \"Ta bort\",\n          edit: \"Redigera\"\n        },\n        messages: {\n          changed: 'Sparat',\n          number_of_features: \"Antal funktione\"\n        },\n        panel: {\n          button: {\n            all: 'ALLA',\n            save: 'SPARA',\n            test: 'TEST',\n            clear: 'TÖM',\n            run: 'UTFÖR',\n            manual: 'MANUELL'\n          },\n          layers: 'NIVÅER',\n          fields: 'FÄLT',\n          values: 'VÄRDEN',\n          operators: 'OPERATÖRER',\n          expression: 'KLAUSUL'\n        },\n        error_run: 'Ett fel inträffade. Kontrollera förfrågan.',\n        error_test: \"Ett fel inträffade när förfrågan utfördes.\",\n        delete: 'Vill du ta bort den?',\n        additem: 'Ge den nya sökningen ett namn.'\n      },\n      errors: {\n        layers: {\n          load: \"Vissa nivåer är inte tillgängliga.\"\n        },\n        unsupported_format: 'Formatet stöds inte',\n        add_external_layer: 'Fel vid laddning av nivån'\n      },\n      metadata: {\n        title: 'Metadata',\n        groups: {\n          general: {\n            title: 'ALLMÄN',\n            fields: {\n              title: 'RUBRIK',\n              name: 'NAMN',\n              description: \"BESKRIVNING\",\n              abstract: \"SAMMANDRAG\",\n              keywords: 'NYCKELORD',\n              fees: \"AVGIFTER\",\n              accessconstraints: \"ÅTKOMSTBEGRÄNSNINGAR\",\n              contactinformation: \"KONTAKTUPPGIFTER\",\n              subfields: {\n                contactinformation: {\n                  contactelectronicmailaddress: \"E-post\",\n                  personprimary: 'Referenser',\n                  contactvoicetelephone: 'Telefon',\n                  contactorganization: 'Organisation',\n                  ContactOrganization: 'Organisation',\n                  contactposition: 'Ställning',\n                  ContactPosition: 'Ställning',\n                  contactperson: 'Kontaktperson',\n                  ContactPerson: 'Kontaktperson'\n                }\n              },\n              wms_url: \"WMS\"\n            }\n          },\n          spatial: {\n            title: 'SPATIAL',\n            fields: {\n              crs: 'EPSG',\n              extent: 'BBOX'\n            }\n          },\n          layers: {\n            title: 'NIVÅER',\n            fields: {\n              layers: 'NIVÅER',\n              subfields: {\n                crs: 'EPSG',\n                bbox: 'BBOX',\n                title: \"RUBRIK\",\n                name: 'NAMN',\n                geometrytype: 'GEOMETRI',\n                source: 'KÄLLA',\n                attributes: 'ATTRIBUT',\n                abstract: 'SAMMANDRAG',\n                attribution: 'TILLSKRIVNING',\n                keywords: \"NYCKELORD\",\n                metadataurl: 'METADATA URL',\n                dataurl: \"DATA URL\"\n              }\n            },\n            groups: {\n              general: 'ALLMÄN',\n              spatial: 'SPATIAL'\n            }\n          }\n        }\n      },\n      tooltips: {\n        relations: {\n          form_to_row: \"Radvy\",\n          row_to_form: \"Tabellvy\"\n        },\n        copy_map_extent_url: 'Kopiera länk till karta',\n        download_shapefile: \"Ladda SHP-fil\",\n        download_gpx: \"Ladda GPX-fil\",\n        download_gpkg: \"Ladda GPKG-fil\",\n        download_csv: \"Ladda CSV-fil\",\n        download_xls: \"Ladda XLS-fil\",\n        show_chart: \"Visa diagram\", //Tero 9.12.2020\n        atlas: \"Skriv ut Atlas\"\n      },\n      mapcontrols: {\n        query: {\n          tooltip: 'Förfrågningsnivå',\n          actions: {\n            add_selection: {\n              hint: \"Lägg till/Avlägsna Urval\"\n            },\n            zoom_to_features_extent: {\n              hint: \"Zooma till egenskapens omfattning\"\n            },\n            add_features_to_results: {\n              hint: \"Add/Remove features to results\"\n            },\n            remove_feature_from_results: {\n              hint: \"Remove feature from results\"\n            },\n            zoom_to_feature: {\n              hint: \"Zooma till egenskapen\"\n            },\n            relations: {\n              hint: \"Visa relationerna\"\n            },\n            relations_charts: {\n              hint: \"Visa relationsdiagrammet\" //Tero 9.12.2020\n            },\n            download_features_shapefile: {\n              hint: 'Ladda egenskapens SHP-fil'\n            },\n            download_shapefile: {\n              hint: 'Ladda egenskapens SHP-fil'\n            },\n            download_features_gpx: {\n              hint: \"Ladda egenskapens GPX-fil\"\n            },\n            download_features_gpkg: {\n              hint: \"Ladda egenskapens GPKG-fil\"\n            },\n            download_gpx: {\n              hint: \"Ladda egenskapens GPX-fil\"\n            },\n            download_gpkg: {\n              hint: \"Ladda egenskapens GPKG-fil\"\n            },\n            download_features_csv: {\n              hint: \"Ladda egenskapens CSV-fil\"\n            },\n            download_csv: {\n              hint: \"Ladda egenskapens CSV-fil\"\n            },\n            download_features_xls: {\n              hint: \"Ladda egenskapens XLS-fil\"\n            },\n            download_xls: {\n              hint: \"Ladda egenskapens XLS-fil\"\n            },\n            atlas: {\n              hint: \"Skriv ut Atlas\"\n            },\n            copy_zoom_to_fid_url: {\n              hint: \"Copy map URL with this geometry feature extension\",\n              hint_change: \"Copied\"\n            }\n          }\n        },\n        querybypolygon: {\n          download: {\n            title: \"Attributes download\",\n            choiches: {\n              feature: {\n                label: \"Features only\"\n              },\n              feature_polygon: {\n                label: \"Features+Query Polygon\"\n              }\n            }\n          },\n          tooltip: 'Förfrågan med polygon',\n          no_geometry: 'No geometry on response',\n          help: {\n            title: 'Ohje - Förfrågan med polygon',\n            message: \"\\n                <ul>\\n                  <li>V\\xE4lj polygonniv\\xE5 i listan.</li>\\n                  <li>Kontrollera att niv\\xE5n \\xE4r synlig.</li>\\n                  <li>V\\xE4lj egenskap p\\xE5 \\xF6nskad niv\\xE5.</li>\\n                </ul>\"\n          }\n        },\n        querybydrawpolygon: {\n          tooltip: \"Fråga efter ritpolygon\"\n        },\n        querybybbox: {\n          tooltip: 'BBox-förfrågan som riktar sig till en nivå',\n          nolayers_visible: 'Inga nivåer som förfrågningar kan riktas till. Gör minst en WFS-nivå synlig för att kunna utföra sökningen.',\n          help: {\n            title: 'Ohje - BBox-förfrågan som riktar sig till nivån',\n            message: \"\\n                 <ul>\\n                  <li>Rita upp en rektangel p\\xE5 kartan f\\xF6r att utf\\xF6ra f\\xF6rfr\\xE5gan p\\xE5 de i listan understreckade niv\\xE5erna.</li>\\n                 </ul>\"\n          }\n        },\n        addlayer: {\n          messages: {\n            csv: {\n              warning: \"The result in the map is partial due to the presence of the below incorrect records list:\"\n            }\n          },\n          tooltip: 'Lägg till nivå'\n        },\n        geolocation: {\n          tooltip: 'Geografiskt läge'\n        },\n        measures: {\n          length: {\n            tooltip: \"Längd\",\n            help: \"Rita upp en bruten linje på kartan. Tryck <br>CANC, om du vill ta bort föregående punkt.\"\n          },\n          area: {\n            tooltip: \"Område\",\n            help: \"Rita upp en polygon på kartan. Tryck <br>CANC, om du vill ta bort föregående punkt.\"\n          }\n        },\n        scale: {\n          no_valid_scale: \"Fel skala\"\n        },\n        scaleline: {\n          units: {\n            metric: 'Meters',\n            nautical: 'Nautical Mile'\n          }\n        },\n        zoomhistory: {\n          zoom_last: \"Zoom Föregående\",\n          zoom_next: \"Zoom Nästa\"\n        }\n      },\n      relations: {\n        relation_data: 'Relationsuppgifter',\n        no_relations_found: 'Inga relationer hittades.',\n        back_to_relations: 'Tillbaka till relationerna',\n        list_of_relations_feature: 'Lista på egenskapens relationer',\n        error_missing_father_field: \"Fält saknas\"\n      },\n      workflow: {\n        steps: {\n          title: 'Skeden'\n        },\n        next: \"Nästa\"\n\n      },\n      form: {\n        loading: 'Laddning...',\n        inputs: {\n          messages: {\n            errors: {\n              picklayer: \"Inga egenskaper har valts. Kontroller att nivån kan redigeras eller att den syns med nuvarande skala.\"\n            }\n          },\n          tooltips: {\n            picklayer: \"Välj värde på kartnivå\",\n            lonlat: \"Click on map to get coordinates\"\n          },\n          input_validation_mutually_exclusive: \"Fälten utesluter varandra.\",\n          input_validation_error: \"Obligatoriskt fält eller fel datatyp.\",\n          input_validation_min_field: \"Värdet ska vara större eller lika stort som värdet i fältet.\",\n          input_validation_max_field: \"Värdet ska vara mindre eller lika stort som värdet i fältet.\",\n          input_validation_exclude_values: \"Värdet ska vara unikt.\",\n          integer: \"heltal\",\n          bigint: \"heltal\",\n          text: \"text\",\n          varchar: \"text\",\n          textarea: \"text\",\n          string: \"teckensträng\",\n          date: \"datum\",\n          datetime: \"datum\",\n          float: \"flyttal\",\n          table: \"tabell\"\n        },\n        footer: {\n          \"required_fields\": \"Obligatoriska fält\"\n        },\n        messages: {\n          qgis_input_widget_relation: \"Använd den specifika funktinen för att bestämma relationer\"\n        }\n      },\n      catalog: {\n        current_map_theme_prefix: \"THEME\",\n        choose_map_theme: \"CHOOSE THEME\",\n        menu: {\n          layerposition: 'Layer Position',\n          setwmsopacity: \"Set Opacity\",\n          wms: {\n            title: \"\",\n            copy: \"Tryck här för att kopiera url.\",\n            copied: \"Kopierad.\"\n          },\n          download: {\n            shp: 'Ladda SHP-fil',\n            gpx: 'Ladda GPX-fil',\n            gpkg: 'Ladda GPKG-fil',\n            csv: 'Ladda CSV-fil',\n            xls: 'Ladda XLS-fil',\n            geotiff: 'Ladda GEOTIFF-fil',\n            geotiff_map_extent: \"Ladda GEOTIFF-fil(current view extent)\"\n          }\n        }\n      },\n      wps: {\n        list_process: \"Lista på processer\",\n        tooltip: 'Välj på kartan'\n      }\n    },\n    credits: {\n      g3wSuiteFramework: \"Tillämpningen baserar på OS framework\",\n      g3wSuiteDescription: \"Publicera och hantera QGIS-projekt på nätet.\",\n      productOf: \"Framework har utvecklats av\"\n    },\n    toggle_color_scheme: \"Toggle color scheme\",\n    logout: \"Logga ut\",\n    no_other_projects: \"Inga projekt för denna grupp\",\n    no_other_groups: \"Inga fler grupper för denna makrogrupp\",\n    yes: \"Ja\",\n    no: \"Nej\",\n    back: \"Gå tillbaka\",\n    backto: \"Tillbaka \",\n    changemap: \"Byt karta\",\n    change_session: \"Ändra session\",\n    component: \"Allmän komponent\",\n    search: \"Sök\",\n    no_results: \"Inga sökresultat\",\n    print: \"Skriv ut\",\n    create_print: \"Skapa utskrift\",\n    dosearch: \"Sök\",\n    catalog: \"Karta\",\n    data: \"Data\",\n    externalwms: \"WMS\",\n    baselayers: \"Bakgrundskarta\",\n    tools: \"Verktyg\",\n    tree: \"Nivåer\",\n    legend: \"Förklaring till beteckningarna\",\n    nobaselayer: \"Ingen bakgrundskarta\",\n    street_search: \"Sök adress\",\n    show: \"Visa\",\n    hide: \"Dölj\",\n    copy_form_data: \"Kopiera uppgifterna\",\n    paste_form_data: \"Infoga\",\n    copy_form_data_from_feature: \"Kopiera uppgifter från kartan\",\n    error_map_loading: \"Fel vid laddning av kartan\",\n    check_internet_connection_or_server_admin: \"Kontrollera internetanslutningen eller kontakta administratören.\",\n    could_not_load_vector_layers: \"Fel i anslutningen, nivåer kan inte laddas.\",\n    server_saver_error: \"Fel vid lagring på servern.\",\n    server_error: \"Fel på anslutningen till servern\",\n    save: \"Spara\",\n    cancel: \"Ånga\",\n    close: \"Stäng\",\n    /**\n     * @since 3.8.0\n     */\n    dont_show_again: \"Visa inte det här meddelandet igen\",\n    enlange_reduce: \"Enlarge/Reduce\",\n    reset_default: \"Default size\",\n    add: \"Lägg till\",\n    exitnosave: \"Lämna programmet utan att spara\",\n    annul: \"Ångra\",\n    layer_is_added: \"Lagret med samma namn har redan lagts till.\",\n    sidebar: {\n      wms: {\n        panel: {\n          title: 'Add WMS Layer',\n          label: {\n            position: \"Map Position\",\n            name: \"Name\",\n            projections: 'Projection',\n            layers: 'Layers'\n          }\n        },\n        add_wms_layer: \"Aggiungi WMS layer\",\n        delete_wms_url: \"Delete WMS url\",\n        layer_id_already_added: \"WMS Nivån har redan lagts till.\",\n        url_already_added: \"WMS URL/Namn har redan lagts till.\",\n        layer_add_error: \"WMS Layer not added. Please check all wms parameter or url\"\n      }\n    },\n    info: {\n      title: \"Resultat\",\n      list_of_relations: \"List of Relations\",\n      open_link: \"Öppna filbilaga\",\n      server_error: \"Ett fel uppstod på servern.\",\n      no_results: \"Inga resultat för sökningen/förfrågan.\",\n      link_button: \"Öppna\"\n    },\n    mapcontrols: {\n      geolocations: {\n        error: \"Du kan inte lokaliseras\"\n      },\n      nominatim: {\n        placeholder: \"Adress ...\",\n        noresults: \"Inga resultat\",\n        notresponseserver: \"Inget svar från servern\"\n      },\n      add_layer_control: {\n        header: \"Lägg till nivå\",\n        select_projection: \"Välj projektion för nivån\",\n        select_field_to_show: \"Select Field to show on map\",\n        select_csv_separator: \"Select delimiter\",\n        select_csv_x_field: \"Select X field\",\n        select_csv_y_field: \"Select Y field\",\n        select_color: \"Välj färg på nivån\",\n        drag_layer: \"Dra och släpp nivån hit\"\n      },\n      query: {\n        input_relation: \"Tryck för att visa relationerna\"\n      },\n      length: {\n        tooltip: \"Längd\"\n      },\n      area: {\n        tooltip: \"Areal\"\n      },\n      screenshot: {\n        error: \"Screenshot error creation\"\n      }\n    },\n    catalog_items: {\n      helptext: \"Högerklicka på en enskild nivå för att komma till tilläggsegenskaperna.\",\n      contextmenu: {\n        zoomtolayer: \"Zooma till nivå\",\n        open_attribute_table: \"Öppna attributtabellen\",\n        show_metadata: \"Metadata\",\n        styles: \"Stilar\",\n        vector_color_menu: \"Ställ in/ändra färg\",\n        layer_opacity: \"Opacitet\"\n      }\n    },\n    dataTable: {\n      previous: \"Föregående\",\n      next: \"Nästa\",\n      lengthMenu: \"Show _MENU_ items\",\n      info: \"Showing _START_ to _END_ of _TOTAL_ entries\",\n      no_data: \"Inga uppgifter\",\n      nodatafilterd: \"Inga motsvarande poster hittades\",\n      infoFiltered: \"(filtered from _MAX_ total records)\"\n    }\n  }\n};\n\n},{}],337:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _catalogLayers = require('store/catalog-layers');\n\nvar _catalogLayers2 = _interopRequireDefault(_catalogLayers);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; } /**\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                            * @file\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                            * @since v3.7\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                            */\n\nexports.default = {\n  methods: {\n    autocompleteRequest: function () {\n      var _ref = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n        var _ref2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n            layerId = _ref2.layerId,\n            field = _ref2.field,\n            value = _ref2.value;\n\n        var data, layer;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                data = [];\n                layer = _catalogLayers2.default.getLayerById(layerId);\n                _context.prev = 2;\n                _context.next = 5;\n                return layer.getFilterData({\n                  suggest: field + '|' + value,\n                  unique: field\n                });\n\n              case 5:\n                data = _context.sent;\n                _context.next = 10;\n                break;\n\n              case 8:\n                _context.prev = 8;\n                _context.t0 = _context['catch'](2);\n\n              case 10:\n                return _context.abrupt('return', data.map(function (value) {\n                  return {\n                    id: value,\n                    text: value\n                  };\n                }));\n\n              case 11:\n              case 'end':\n                return _context.stop();\n            }\n          }\n        }, _callee, this, [[2, 8]]);\n      }));\n\n      function autocompleteRequest() {\n        return _ref.apply(this, arguments);\n      }\n\n      return autocompleteRequest;\n    }()\n  }\n};\n\n},{\"store/catalog-layers\":374}],338:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n/**\n * @file\n * @since v3.7\n */\n\nexports.default = {\n  computed: {\n    tabIndex: function tabIndex() {\n      return this.editable ? 0 : -1;\n    },\n    notvalid: function notvalid() {\n      return this.state.validate.valid === false;\n    },\n    editable: function editable() {\n      return this.state.editable;\n    },\n    showhelpicon: function showhelpicon() {\n      return this.state.help && this.state.help.message.trim();\n    },\n    disabled: function disabled() {\n      return !this.editable || this.loadingState === 'loading' || this.loadingState === 'error';\n    },\n    loadingState: function loadingState() {\n      return this.state.input.options.loading ? this.state.input.options.loading.state : null;\n    }\n  },\n  methods: {\n    showHideHelp: function showHideHelp() {\n      this.state.help.visible = !this.state.help.visible;\n    },\n\n    // used to text input to listen mobile changes\n    mobileChange: function mobileChange(event) {\n      this.state.value = event.target.value;\n      this.change();\n    },\n\n    // called when input value change\n    change: function change() {\n      this.service.setEmpty();\n      this.service.setUpdate();\n      // validate input if is required or need to be unique\n      if (this.state.validate.required || this.state.validate.unique) this.service.validate();\n      // emit change input\n      this.$emit('changeinput', this.state);\n    },\n    isVisible: function isVisible() {}\n  }\n};\n\n},{}],339:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n/**\n * @file\n * @since v3.8\n */\n\nexports.default = {\n  created: function created() {\n    /**\n     * Store `click` and `doubleclick` events on a single vue element.\n     *\n     * @see https://stackoverflow.com/q/41303982\n     */\n    this.__CLICK_EVENT = {\n      count: 0, // count click events\n      timeoutID: null // timeoutID return by setTimeout Function\n    };\n  },\n\n\n  methods: {\n\n    /**\n     * @param {{ '1': () => {}, '2': () => {}}} callbacks hashmap of click event handlers ('1' = click, '2' = double click)\n     * @param context\n     */\n    handleClick: function handleClick() {\n      var _this = this;\n\n      var callbacks = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      var context = arguments[1];\n\n      this.__CLICK_EVENT.count += 1; // increment click count\n      if (!this.__CLICK_EVENT.timeoutID) {\n        // skip and wait for timeout in order to detect double click\n        this.__CLICK_EVENT.timeoutID = setTimeout(function () {\n          if (undefined !== callbacks[_this.__CLICK_EVENT.count]) {\n            callbacks[_this.__CLICK_EVENT.count].call(context);\n          }\n          _this.__resetClickMixin();\n        }, 300);\n      }\n    },\n    __resetClickMixin: function __resetClickMixin() {\n      this.__CLICK_EVENT.count = 0;\n      this.__CLICK_EVENT.timeoutID = null;\n    },\n    __clearClickMixin: function __clearClickMixin() {\n      this.__resetClickMixin();\n      this.__CLICK_EVENT = null;\n    }\n  },\n\n  beforeDestroy: function beforeDestroy() {\n    this.__clearClickMixin();\n  }\n};\n\n},{}],340:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n/**\n * @file\n * @since v3.7\n */\n\nexports.default = {\n  methods: {\n    getFieldService: function getFieldService() {\n      if (undefined === this._fieldsService) {\n        this._fieldsService = require('gui/fields/fieldsservice');\n      }\n      return this._fieldsService;\n    },\n    getFieldType: function getFieldType(field) {\n      return this.getFieldService().getType(field);\n    },\n    isSimple: function isSimple(field) {\n      return this.getFieldService().isSimple(field);\n    },\n    isLink: function isLink(field) {\n      return this.getFieldService().isLink(field);\n    },\n    isImage: function isImage(field) {\n      return this.getFieldService().isImage(field);\n    },\n    isPhoto: function isPhoto(field) {\n      return this.getFieldService().isPhoto(field);\n    },\n    isVue: function isVue(field) {\n      return this.getFieldService().isVue(field);\n    },\n    sanitizeFieldValue: function sanitizeFieldValue(value) {\n      return Array.isArray(value) && !value.length ? '' : value;\n    }\n  }\n};\n\n},{\"gui/fields/fieldsservice\":121}],341:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n/**\n * @file\n * @since v3.7\n */\n\nexports.default = {\n  data: function data() {\n    return {\n      valid: false\n    };\n  },\n\n  methods: {\n    addToValidate: function addToValidate(input) {\n      this.tovalidate.push(input);\n    },\n    changeInput: function changeInput(input) {\n      this.isValid(input);\n    },\n\n    // Every input send to form it valid value that will change the genaral state of form\n    isValid: function isValid(input) {\n      var _this = this;\n\n      if (input) {\n        // check mutually\n        if (input.validate.mutually) {\n          if (!input.validate.required) {\n            if (!input.validate.empty) {\n              input.validate._valid = input.validate.valid;\n              input.validate.mutually_valid = input.validate.mutually.reduce(function (previous, inputname) {\n                return previous && _this.tovalidate[inputname].validate.empty;\n              }, true);\n              input.validate.valid = input.validate.mutually_valid && input.validate.valid;\n            } else {\n              input.value = null;\n              input.validate.mutually_valid = true;\n              input.validate.valid = true;\n              input.validate._valid = true;\n              var countNoTEmptyInputName = [];\n              for (var i = input.validate.mutually.length; i--;) {\n                var inputname = input.validate.mutually[i];\n                !this.tovalidate[inputname].validate.empty && countNoTEmptyInputName.push(inputname);\n              }\n              if (countNoTEmptyInputName.length < 2) {\n                countNoTEmptyInputName.forEach(function (inputname) {\n                  _this.tovalidate[inputname].validate.mutually_valid = true;\n                  _this.tovalidate[inputname].validate.valid = true;\n                  setTimeout(function () {\n                    _this.tovalidate[inputname].validate.valid = _this.tovalidate[inputname].validate._valid;\n                    _this.state.valid = _this.state.valid && _this.tovalidate[inputname].validate.valid;\n                  });\n                });\n              }\n            }\n          }\n          //check if min_field or max_field is set\n        } else if (!input.validate.empty && (input.validate.min_field || input.validate.max_field)) {\n          var input_name = input.validate.min_field || input.validate.max_field;\n          input.validate.valid = input.validate.min_field ? this.tovalidate[input.validate.min_field].validate.empty || 1 * input.value > 1 * this.tovalidate[input.validate.min_field].value : this.tovalidate[input.validate.max_field].validate.empty || 1 * input.value < 1 * this.tovalidate[input.validate.max_field].value;\n          if (input.validate.valid) this.tovalidate[input_name].validate.valid = true;\n        }\n      }\n      this.valid = Object.values(this.tovalidate).reduce(function (previous, input) {\n        return previous && input.validate.valid;\n      }, true);\n    }\n  },\n  created: function created() {\n    this.tovalidate = [];\n  },\n  destroyed: function destroyed() {\n    this.tovalidate = null;\n  }\n};\n\n},{}],342:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = {\n  methods: {\n    showLayer: function showLayer() {\n      this.visible = !this.visible;\n      this.layer.setVisible(this.visible);\n    }\n  },\n  created: function created() {\n    var data = this.data;\n    var mapService = _gui2.default.getComponent('map').getService();\n    var mapProjection = mapService.getProjection().getCode();\n    var style = void 0;\n    switch (data.type) {\n      case 'Point':\n      case 'MultiPoint':\n        style = [new ol.style.Style({\n          image: new ol.style.Circle({\n            radius: 6,\n            fill: new ol.style.Fill({\n              color: [255, 255, 255, 1.0]\n            }),\n            stroke: new ol.style.Stroke({\n              color: [0, 0, 0, 1.0],\n              width: 2\n            })\n          })\n        }), new ol.style.Style({\n          image: new ol.style.Circle({\n            radius: 2,\n            fill: new ol.style.Fill({\n              color: [255, 255, 255, 1.0]\n            }),\n            stroke: new ol.style.Stroke({\n              color: [0, 0, 0, 1.0],\n              width: 2\n            })\n          })\n        })];\n        break;\n      case 'Line':\n      case 'MultiLineString':\n      case 'Polygon':\n      case 'MultiPolygon':\n        style = new ol.style.Style({\n          fill: new ol.style.Fill({\n            color: 'rgba(255, 255, 255, 0.3)'\n          }),\n          stroke: new ol.style.Stroke({\n            color: [0, 0, 0, 1.0],\n            width: 2\n          })\n        });\n        break;\n    }\n    this.layer = new ol.layer.Vector({\n      source: new ol.source.Vector({\n        features: new ol.format.GeoJSON().readFeatures(data, {\n          featureProjection: mapProjection\n        })\n      }),\n      visible: !!this.visible,\n      style: style\n    });\n    mapService.getMap().addLayer(this.layer);\n  },\n  beforeDestroy: function beforeDestroy() {\n    var mapService = _gui2.default.getComponent('map').getService();\n    mapService.getMap().removeLayer(this.layer);\n  }\n}; /**\n    * @file\n    * @since v3.7\n    */\n\n},{\"services/gui\":361}],343:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.mixins = exports.autocompleteMixin = exports.baseInputMixin = exports.metadataMixin = exports.widgetMixins = exports.formInputsMixins = exports.select2Mixin = exports.selectMixin = exports.resizeMixin = exports.geoMixin = exports.mediaMixin = exports.fieldsMixin = undefined;\n\nvar _autocomplete = require('mixins/autocomplete');\n\nvar _autocomplete2 = _interopRequireDefault(_autocomplete);\n\nvar _fields = require('mixins/fields');\n\nvar _fields2 = _interopRequireDefault(_fields);\n\nvar _media = require('mixins/media');\n\nvar _media2 = _interopRequireDefault(_media);\n\nvar _geo = require('mixins/geo');\n\nvar _geo2 = _interopRequireDefault(_geo);\n\nvar _resize = require('mixins/resize');\n\nvar _resize2 = _interopRequireDefault(_resize);\n\nvar _select = require('mixins/select');\n\nvar _select2 = _interopRequireDefault(_select);\n\nvar _select3 = require('mixins/select2');\n\nvar _select4 = _interopRequireDefault(_select3);\n\nvar _formInputs = require('mixins/form-inputs');\n\nvar _formInputs2 = _interopRequireDefault(_formInputs);\n\nvar _widget = require('mixins/widget');\n\nvar _widget2 = _interopRequireDefault(_widget);\n\nvar _metadata = require('mixins/metadata');\n\nvar _metadata2 = _interopRequireDefault(_metadata);\n\nvar _baseInput = require('mixins/base-input');\n\nvar _baseInput2 = _interopRequireDefault(_baseInput);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar mixins = {\n  autocompleteMixin: _autocomplete2.default,\n  fieldsMixin: _fields2.default,\n  mediaMixin: _media2.default,\n  geoMixin: _geo2.default,\n  resizeMixin: _resize2.default,\n  selectMixin: _select2.default,\n  select2Mixin: _select4.default,\n  formInputsMixins: _formInputs2.default,\n  widgetMixins: _widget2.default,\n  metadataMixin: _metadata2.default,\n  baseInputMixin: _baseInput2.default\n}; /**\n    * @file\n    * @since v3.7\n    */\n\nexports.fieldsMixin = _fields2.default;\nexports.mediaMixin = _media2.default;\nexports.geoMixin = _geo2.default;\nexports.resizeMixin = _resize2.default;\nexports.selectMixin = _select2.default;\nexports.select2Mixin = _select4.default;\nexports.formInputsMixins = _formInputs2.default;\nexports.widgetMixins = _widget2.default;\nexports.metadataMixin = _metadata2.default;\nexports.baseInputMixin = _baseInput2.default;\nexports.autocompleteMixin = _autocomplete2.default;\nexports.mixins = mixins;\nexports.default = mixins;\n\n},{\"mixins/autocomplete\":337,\"mixins/base-input\":338,\"mixins/fields\":340,\"mixins/form-inputs\":341,\"mixins/geo\":342,\"mixins/media\":344,\"mixins/metadata\":345,\"mixins/resize\":346,\"mixins/select\":347,\"mixins/select2\":348,\"mixins/widget\":349}],344:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\n/**\n * @file\n * @since v3.7\n */\n\nexports.default = {\n  computed: {\n    filename: function filename() {\n      return this.value ? this.value.split('/').pop() : this.value;\n    }\n  },\n  methods: {\n    isMedia: function isMedia(value) {\n      if (value && (typeof value === 'undefined' ? 'undefined' : _typeof(value)) === 'object' && value.constructor === Object) return !!value.mime_type;\n      return false;\n    },\n    getMediaType: function getMediaType(mime_type) {\n      var media = {\n        type: null,\n        options: {}\n      };\n      switch (mime_type) {\n        case 'image/gif':\n        case 'image/png':\n        case 'image/jpeg':\n        case 'image/bmp':\n          media.type = 'image';\n          break;\n        case 'application/pdf':\n          media.type = 'pdf';\n          break;\n        case 'video/mp4':\n        case 'video/ogg':\n        case 'video/x-ms-wmv':\n        case 'video/x-msvideo':\n        case 'video/quicktime':\n          media.type = 'video';\n          media.options.format = mime_type;\n          break;\n        case 'application/gzip':\n        case 'application/zip':\n          media.type = 'zip';\n          break;\n        case 'application/msword':\n        case 'application/vnd.oasis.opendocument.text':\n          media.type = 'text';\n          break;\n        case 'application/vnd.ms-office':\n        case 'application/vnd.oasis.opendocument.spreadsheet':\n          media.type = 'excel';\n          break;\n        case 'application/vnd.openxmlformats-officedocument.presentationml.presentation':\n        case 'application/vnd.ms-powerpoint':\n        case 'application/vnd.oasis.opendocument.presentation':\n          media.type = 'ppt';\n          break;\n        default:\n          media.type = 'unknow';\n      }\n      return media;\n    }\n  }\n};\n\n},{}],345:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n/**\n * @file\n * @since v3.7\n */\n\nexports.default = {\n  methods: {\n    findAttributeFormMetadataAttribute: function findAttributeFormMetadataAttribute(name) {\n      return this.state.metadata ? this.state.metadata[name] !== undefined : false;\n    },\n    findMetadataAttribute: function findMetadataAttribute(name) {\n      return this.state[name] !== undefined;\n    }\n  }\n};\n\n},{}],346:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; } /**\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                            * @file\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                            * @since v3.7\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                            */\n\nvar _require = require('core/utils/utils'),\n    throttle = _require.throttle,\n    debounce = _require.debounce;\n\nvar DELAY_TYPE = {\n  throttle: throttle,\n  debounce: debounce\n};\n\nexports.default = {\n  created: function created() {\n    var delayWrapper = this.delayType && DELAY_TYPE[this.delayType] || DELAY_TYPE.throttle;\n    this.delayResize = this.resize ? delayWrapper(this.resize.bind(this), this.delayTime) : null;\n    _gui2.default.on('resize', this.delayResize);\n  },\n  mounted: function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n      return regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return this.$nextTick();\n\n            case 2:\n              this.resize && this.resize();\n\n            case 3:\n            case 'end':\n              return _context.stop();\n          }\n        }\n      }, _callee, this);\n    }));\n\n    function mounted() {\n      return _ref.apply(this, arguments);\n    }\n\n    return mounted;\n  }(),\n  beforeDestroy: function beforeDestroy() {\n    _gui2.default.off('resize', this.delayResize);\n    this.delayResize = null;\n    this.delayTime = null;\n  }\n};\n\n},{\"core/utils/utils\":68,\"services/gui\":361}],347:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\n/**\n * @file\n * @since v3.7\n */\n\nvar _require = require('core/i18n/i18n.service'),\n    getAppLanguage = _require.getAppLanguage;\n\nexports.default = {\n  methods: {\n    getLanguage: function getLanguage() {\n      return getAppLanguage();\n    },\n    changeSelect: function changeSelect(value) {\n      this.state.value = value === 'null' ? null : value;\n      this.change();\n    },\n    getValue: function getValue(value) {\n      return value === null ? 'null' : value;\n    },\n    resetValues: function resetValues() {\n      this.state.input.options.values.splice(0);\n    }\n  },\n  computed: {\n    autocomplete: function autocomplete() {\n      return this.state.input.type === 'select_autocomplete' && this.state.input.options.usecompleter;\n    }\n  },\n  watch: {\n    notvalid: function () {\n      var _ref = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(value) {\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return this.$nextTick();\n\n              case 2:\n                if (this.select2) value ? this.select2.data('select2').$container.addClass(\"input-error-validation\") : this.select2.data('select2').$container.removeClass(\"input-error-validation\");\n\n              case 3:\n              case 'end':\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function notvalid(_x) {\n        return _ref.apply(this, arguments);\n      }\n\n      return notvalid;\n    }()\n  }\n};\n\n},{\"core/i18n/i18n.service\":13}],348:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _applicationState = require('store/application-state');\n\nvar _applicationState2 = _interopRequireDefault(_applicationState);\n\nvar _resize = require('mixins/resize');\n\nvar _resize2 = _interopRequireDefault(_resize);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * @file\n * @since v3.7\n */\n\nexports.default = {\n  mixins: [_resize2.default],\n  methods: {\n    setValue: function setValue() {\n      this.select2.val(this.state.value).trigger('change');\n    },\n    resize: function resize() {\n      this.select2 && !_applicationState2.default.ismobile && this.select2.select2('close');\n    }\n  },\n  beforeDestroy: function beforeDestroy() {\n    //destroy a select2  dom element\n    this.select2 && this.select2.select2('destroy');\n    // remove all event\n    this.select2.off();\n    this.select2 = null;\n  }\n};\n\n},{\"mixins/resize\":346,\"store/application-state\":373}],349:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n/**\n * @file\n * @since v3.7\n */\n\nexports.default = {\n  data: function data() {\n    return {\n      changed: false\n    };\n  },\n\n  methods: {\n    widgetChanged: function widgetChanged() {\n      this.changed = true;\n      this.change();\n    },\n    stateValueChanged: function stateValueChanged(value) {\n      console.log('need to be implemented by widget'); // method to overwrite\n    }\n  },\n  watch: {\n    'state.value': function stateValue(value) {\n      this.changed ? this.changed = false : this.stateValueChanged(value);\n    }\n  }\n};\n\n},{}],350:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\n/**\n * @file\n * @since v3.6\n */\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit,\n    reject = _require.reject;\n\nvar G3WObject = require('core/g3wobject');\n\n// Class Api Service\nfunction ApiService() {\n  this._config = null;\n  this._baseUrl = null;\n  this.init = function () {\n    var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    var d = $.Deferred();\n    this._config = config;\n    // prende l'url base delle api dal config dell'applicazione\n    this._baseUrl = config.urls.api;\n    this._apiEndpoints = config.urls.apiEndpoints;\n    d.resolve();\n    return d.promise();\n  };\n  var howManyAreLoading = 0;\n  this._incrementLoaders = function () {\n    howManyAreLoading === 0 && this.emit('apiquerystart');\n    howManyAreLoading += 1;\n  };\n\n  this._decrementLoaders = function () {\n    howManyAreLoading -= 1;\n    howManyAreLoading === 0 && this.emit('apiqueryend');\n  };\n  this.get = function (api, options) {\n    var _this = this;\n\n    var apiEndPoint = this._apiEndpoints[api];\n    if (apiEndPoint) {\n      var completeUrl = this._baseUrl + '/' + apiEndPoint;\n      if (options.request) completeUrl = completeUrl + '/' + options.request;\n      var params = options.params || {};\n      this.emit(api + 'querystart');\n      this._incrementLoaders();\n      return $.get(completeUrl, params).done(function (response) {\n        _this.emit(api + 'queryend', response);\n        return response;\n      }).fail(function (error) {\n        _this.emit(api + 'queryfail', error);\n        return error;\n      }).always(function () {\n        return _this._decrementLoaders();\n      });\n    } else return reject();\n  };\n  base(this);\n}\n\ninherit(ApiService, G3WObject);\n\nexports.default = new ApiService();\n\n},{\"core/g3wobject\":12,\"core/utils/utils\":68}],351:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _config = require('config');\n\nvar _config2 = _interopRequireDefault(_config);\n\nvar _constant = require('app/constant');\n\nvar _applicationState = require('store/application-state');\n\nvar _applicationState2 = _interopRequireDefault(_applicationState);\n\nvar _data = require('services/data');\n\nvar _data2 = _interopRequireDefault(_data);\n\nvar _plugins = require('store/plugins');\n\nvar _plugins2 = _interopRequireDefault(_plugins);\n\nvar _projects = require('store/projects');\n\nvar _projects2 = _interopRequireDefault(_projects);\n\nvar _api = require('services/api');\n\nvar _api2 = _interopRequireDefault(_api);\n\nvar _clipboard = require('services/clipboard');\n\nvar _clipboard2 = _interopRequireDefault(_clipboard);\n\nvar _router = require('services/router');\n\nvar _router2 = _interopRequireDefault(_router);\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; } /**\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                            * @file\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                            * @since v3.6\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                            */\n\nvar _require = require('core/i18n/i18n.service'),\n    i18ninit = _require.init,\n    changeLanguage = _require.changeLanguage;\n\nvar _require2 = require('core/utils/utils'),\n    base = _require2.base,\n    inherit = _require2.inherit,\n    XHR = _require2.XHR,\n    uniqueId = _require2.uniqueId;\n\nvar G3WObject = require('core/g3wobject');\n\n/**\n * Manage Application \n */\nvar ApplicationService = function ApplicationService() {\n  var _this = this;\n\n  this.version = _constant.APP_VERSION;\n\n  _applicationState2.default.iframe = window.top !== window.self;\n\n  _applicationState2.default.online = navigator.onLine;\n\n  _applicationState2.default.ismobile = isMobile.any;\n\n  this.complete = false;\n\n  /**\n   * set base url\n   */\n  this.baseurl = '/';\n\n  this.download_caller_id = null;\n\n  /**\n   * store all services sidebar etc..\n   */\n  this._applicationServices = {};\n\n  this.config = {};\n\n  this._initConfigUrl = null;\n\n  this._initConfig = null;\n\n  this._groupId = null;\n\n  this._gid = null;\n\n  this.setters = {\n    changeProject: function changeProject() {\n      var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          gid = _ref.gid,\n          host = _ref.host;\n\n      return this._changeProject({ gid: gid, host: host });\n    },\n\n\n    /**\n     * @since 3.8.0\n     */\n    changeMapProject: function changeMapProject(_ref2) {\n      var url = _ref2.url,\n          epsg = _ref2.epsg;\n\n      url = _gui2.default.getService('map').addMapExtentUrlParameterToUrl(url, epsg);\n      history.replaceState(null, null, url);\n      location.replace(url);\n    },\n    online: function online() {\n      this.setOnline();\n    },\n    offline: function offline() {\n      this.setOffline();\n    },\n    setFilterToken: function setFilterToken(filtertoken) {\n      this._setFilterToken(filtertoken);\n    }\n  };\n\n  base(this);\n\n  /**\n   * Set application user from intiConfig (passed as parameter)\n   */\n  this.on('initconfig', function () {\n    var _ref3 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        user = _ref3.user;\n\n    _this.setApplicationUser(user);\n  });\n\n  /**\n   * init application\n   */\n  this.init = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n    var config, browserLanguage, language;\n    return regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.prev = 0;\n            _context.next = 3;\n            return this.createApplicationConfig();\n\n          case 3:\n            config = _context.sent;\n\n            this.setConfig(config);\n            this.setLayout('app', config.layout);\n            _context.next = 8;\n            return this.bootstrap();\n\n          case 8:\n            return _context.abrupt('return', _context.sent);\n\n          case 11:\n            _context.prev = 11;\n            _context.t0 = _context['catch'](0);\n            browserLanguage = navigator && navigator.language || 'en';\n            language = _config2.default.supportedLanguages.find(function (language) {\n              return browserLanguage.indexOf(language) !== -1;\n            });\n            return _context.abrupt('return', Promise.reject({ error: _context.t0, language: language }));\n\n          case 16:\n          case 'end':\n            return _context.stop();\n        }\n      }\n    }, _callee, this, [[0, 11]]);\n  }));\n\n  /**\n   * Load application translations (i18n languages)\n   */\n  this.setupI18n = function () {\n    var _this2 = this;\n\n    var languageConfig = this._config._i18n;\n    languageConfig.appLanguages = this._config.i18n.map(function (languageLabel) {\n      return languageLabel[0];\n    });\n    this.setApplicationLanguage(languageConfig.language);\n    i18ninit(languageConfig);\n    this._groupId = this._config.group.slug || this._config.group.name.replace(/\\s+/g, '-').toLowerCase();\n    // set Accept-Language request header based on config language\n    $.ajaxSetup({\n      beforeSend: function beforeSend(xhr) {\n        xhr.setRequestHeader('Accept-Language', _this2._config.user.i18n || 'en');\n      }\n    });\n  };\n\n  /**\n   * @TODO check if deprecated\n   */\n  this.getCurrentProject = function () {\n    return _projects2.default.getCurrentProject();\n  };\n\n  /**\n   * @param {boolean} bool\n   * @param {string} download_caller_id\n   * \n   * @returns {null}\n   */\n  this.setDownload = function () {\n    var bool = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n    var download_caller_id = arguments[1];\n\n    var give_me_a_name_0 = !download_caller_id;\n    var give_me_a_name_1 = !bool && download_caller_id && this.download_caller_id === download_caller_id;\n    var give_me_a_name_2 = !give_me_a_name_1 && download_caller_id && bool && this.download_caller_id === null;\n\n    if (give_me_a_name_0) {\n      _applicationState2.default.download = bool;\n    }\n\n    if (give_me_a_name_1) {\n      _applicationState2.default.download = false;\n      this.download_caller_id = null;\n    }\n\n    if (give_me_a_name_2) {\n      _applicationState2.default.download = bool;\n      this.download_caller_id = uniqueId();\n    }\n\n    return this.download_caller_id;\n  };\n\n  this.getDownload = function () {\n    return _applicationState2.default.download;\n  };\n\n  /**\n  * @param {string} plugin name of plugin\n  */\n  this.loadingPlugin = function (plugin) {\n    _applicationState2.default.plugins.push(plugin);\n  };\n\n  /**\n   * @param {string} plugin name of plugin\n   */\n  this.loadedPlugin = function (plugin) {\n    _applicationState2.default.plugins = _applicationState2.default.plugins.filter(function (_plugin) {\n      return _plugin !== plugin;\n    });\n  };\n\n  /**\n   * @param {string} filtertoken a string passed by server and used as parameter in XHR request\n   */\n  this._setFilterToken = function (filtertoken) {\n    _applicationState2.default.tokens.filtertoken = filtertoken;\n  };\n\n  this.getFilterToken = function () {\n    return _applicationState2.default.tokens.filtertoken;\n  };\n\n  /**\n   * @param {string} language \n   */\n  this.changeLanguage = function (language) {\n    changeLanguage(language);\n    /**\n     * @deprecated Since v3.8. Will be deleted in v4.x. Use ApplicationState.language instead\n     */\n    _applicationState2.default.lng = language;\n    _applicationState2.default.language = language;\n    var pathArray = window.location.pathname.split('/');\n    pathArray[1] = language;\n    history.replaceState(null, null, pathArray.join('/'));\n  };\n\n  this.registerOnlineOfflineEvent = function () {\n    var _this3 = this;\n\n    this.registerWindowEvent({ evt: 'online', cb: function cb() {\n        return _this3.online();\n      } });\n    this.registerWindowEvent({ evt: 'offline', cb: function cb() {\n        return _this3.offline();\n      } });\n  };\n\n  this.getBaseLayerId = function () {\n    return _applicationState2.default.baseLayerId;\n  };\n\n  /**\n   * @param {string} baseLayerId \n   */\n  this.setBaseLayerId = function (baseLayerId) {\n    _applicationState2.default.baseLayerId = baseLayerId;\n  };\n\n  /**\n   * @FIXME weird parameter name (`bool`)\n   * @FIXME unsued function paramater (`message`)\n   */\n  this.registerLeavePage = function () {\n    var _ref5 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        _ref5$bool = _ref5.bool,\n        bool = _ref5$bool === undefined ? false : _ref5$bool,\n        _ref5$message = _ref5.message,\n        message = _ref5$message === undefined ? '' : _ref5$message;\n\n    var _return = !bool ? undefined : bool;\n    window.onbeforeunload = function (event) {\n      return _return;\n    };\n  };\n\n  this.unregisterOnlineOfflineEvent = function () {\n    window.removeEventListener('online');\n    window.removeEventListener('offline');\n  };\n\n  this.getState = function () {\n    return _applicationState2.default;\n  };\n\n  /**\n   * @FIXME weird parameter name (`bool`)\n   */\n  this.disableApplication = function () {\n    var bool = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n    _applicationState2.default.gui.app.disabled = bool;\n  };\n\n  /**\n   * @param {string} language \n   */\n  this.setApplicationLanguage = function () {\n    var language = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'en';\n\n    /**\n     * @deprecated Since v3.8. Will be deleted in v4.x. Use ApplicationState.language instead\n     */\n    _applicationState2.default.lng = language;\n    _applicationState2.default.language = language;\n  };\n\n  this.getApplicationLanguage = function () {\n    return _applicationState2.default.language;\n  };\n\n  this.setOnline = function () {\n    _applicationState2.default.online = true;\n  };\n\n  this.setOffline = function () {\n    _applicationState2.default.online = false;\n  };\n\n  this.isOnline = function () {\n    return _applicationState2.default.online;\n  };\n\n  /**\n   * @param {string} id \n   * @param {Object} data \n   */\n  this.setOfflineItem = function () {\n    var _ref6 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2(id) {\n      var data = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      return regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              this.setLocalItem({ id: id, data: data });\n\n            case 1:\n            case 'end':\n              return _context2.stop();\n          }\n        }\n      }, _callee2, this);\n    }));\n\n    return function (_x8) {\n      return _ref6.apply(this, arguments);\n    };\n  }();\n\n  this.setLocalItem = function () {\n    var _ref7 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        id = _ref7.id,\n        data = _ref7.data;\n\n    try {\n      window.localStorage.setItem(id, JSON.stringify(data));\n    } catch (error) {\n      return error;\n    }\n  };\n\n  /**\n   * @param {string} id \n   */\n  this.removeLocalItem = function (id) {\n    window.localStorage.removeItem(id);\n  };\n\n  /**\n   * @param {string} id \n   */\n  this.getLocalItem = function (id) {\n    var item = window.localStorage.getItem(id);\n    return item ? JSON.parse(item) : undefined;\n  };\n\n  /**\n   * @param {string} id \n   */\n  this.getOfflineItem = function (id) {\n    return this.getLocalItem(id);\n  };\n\n  /**\n   * @param {string} id \n   */\n  this.removeOfflineItem = function (id) {\n    this.removeLocalItem(id);\n  };\n\n  /**\n   * @returns {boolean} whether application is loaded within an <iframe>\n   */\n  this.isIframe = function () {\n    return _applicationState2.default.iframe;\n  };\n\n  /**\n   * get config\n   */\n  this.getConfig = function () {\n    return this._config;\n  };\n\n  /**\n   * @param {Object} config \n   */\n  this.setConfig = function () {\n    var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    this._config = config;\n  };\n\n  /**\n   * router service\n   */\n  this.getRouterService = function () {\n    return _router2.default;\n  };\n\n  /**\n   * @returns {string} application proxy url \n   */\n  this.getProxyUrl = function () {\n    return '' + this._initConfig.proxyurl;\n  };\n\n  /**\n   * Get Interface OWS Url\n   */\n  this.getInterfaceOwsUrl = function () {\n    return '' + this._initConfig.interfaceowsurl;\n  };\n\n  /**\n   * clipboard service\n   */\n  this.getClipboardService = function () {\n    return _clipboard2.default;\n  };\n\n  /**\n   * Create application config object\n   * @param initConfig\n   * @returns {Promise<string|{terms_of_use_link, projects: ([{gid: string, layers: [{qgs_layer_id: string, fields: [string, string, string]}], type: string}, {gid: string, layers: [{qgs_layer_id: string, fields: [string, string, string]}, {qgs_layer_id: string, fields: [string]}, {qgs_layer_id: string, fields: [string]}], type: string}, {gid: string, layers: [{qgs_layer_id: string, fields: [string, string, string]}, {qgs_layer_id: string, fields: [string]}], type: string}]|{gid: string, layers: [{qgs_layer_id: string, fields: [string, string, string]}], type: string}|[]), maxscale: (null|ProjectsRegistry.setProjects.config.maxscale), mediaurl: *, plugins: *, mapcontrols: *, tools: *, resourcesurl: *, initproject, urls: *, credits: *, getWmsUrl(*): string, _i18n: ({resources: {se: {translation: {cancel: string, no: string, error_map_loading: string, data: string, catalog: string, legend: string, copy_form_data: string, check_internet_connection_or_server_admin: string, show: string, save: string, back: string, server_error: string, mapcontrols: {area: {tooltip: string}, nominatim: {noresults: string, placeholder: string, notresponseserver: string}, add_layer_control: {select_csv_separator: string, select_csv_y_field: string, select_field_to_show: string, select_projection: string, header: string, select_color: string, select_csv_x_field: string, drag_layer: string}, query: {input_relation: string}, length: {tooltip: string}, screenshot: {error: string}, geolocations: {error: string}}, no_results: string, tools: string, changemap: string, default: string, logout: string, search: string, copy_form_data_from_feature: string, credits: {g3wSuiteFramework: string, productOf: string, g3wSuiteDescription: string}, sidebar: {}, close: string, exitnosave: string, sign_in: string, info: {link_button: string, open_link: string, server_error: string, title: string, no_results: string}, add: string, backto: string, yes: string, create_print: string, server_saver_error: string, tree: string, paste_form_data: string, no_other_projects: string, dosearch: string, baselayers: string, component: string, print: string, hide: string, annul: string, layer_selection_filter: {tools: {filter: string, nofilter: string, invert: string, show_features_on_map: string, clear: string}}, layer_is_added: string, catalog_items: {helptext: string, contextmenu: {vector_color_menu: string, show_metadata: string, open_attribute_table: string, styles: string, zoomtolayer: string}}, dataTable: {next: string, nodatafilterd: string, previous: string, no_data: string, infoFiltered: string, lengthMenu: string, info: string}, nobaselayer: string, could_not_load_vector_layers: string, street_search: string, sdk: {search: {all: string, layer_not_querable: string, error_loading: string, autocomplete: {inputshort: {pre: string, post: string}}, searching: string, layer_not_searchable: string, no_results: string}, print: {fids_instruction: string, help: string, no_layers: string, rotation: string, format: string, scale: string, fids_example: string, download_image: string}, metadata: {groups: {general: {title: string, fields: {fees: string, keywords: string, subfields: {contactinformation: {contactperson: string, contactvoicetelephone: string, personprimary: string, contactorganization: string, ContactOrganization: string, ContactPosition: string, contactposition: string, contactelectronicmailaddress: string, ContactPerson: string}}, accessconstraints: string, name: string, description: string, contactinformation: string, wms_url: string, abstract: string, title: string}}, layers: {groups: {general: string, spatial: string}, title: string, fields: {subfields: {dataurl: string, metadataurl: string, keywords: string, crs: string, bbox: string, name: string, attribution: string, attributes: string, source: string, abstract: string, title: string, geometrytype: string}, layers: string}}, spatial: {title: string, fields: {extent: string, crs: string}}}, title: string}, workflow: {next: string, steps: {title: string}}, form: {footer: {required_fields: string}, inputs: {date: string, input_validation_exclude_values: string, input_validation_max_field: string, string: string, varchar: string, textarea: string, input_validation_min_field: string, integer: string, float: string, input_validation_error: string, messages: {errors: {picklayer: string}}, input_validation_mutually_exclusive: string, text: string, bigint: string, tooltips: {picklayer: string, lonlat: string}, table: string}, messages: {qgis_input_widget_relation: string}, loading: string}, catalog: {menu: {download: {gpkg: string, csv: string, shp: string, gpx: string, xls: string}, wms: {copied: string, copy: string, title: string}}}, querybuilder: {search: {edit: string, run: string, delete: string, info: string}, additem: string, messages: {changed: string, number_of_features: string}, panel: {button: {all: string, test: string, save: string, clear: string, run: string, manual: string}, expression: string, operators: string, values: string, layers: string, fields: string}, error_run: string, delete: string, error_test: string}, mapcontrols: {querybypolygon: {help: string, tooltip: string, no_geometry: string}, measures: {area: {help: string, tooltip: string}, length: {help: string, tooltip: string}}, querybybbox: {help: string, tooltip: string, nolayers_visible: string}, addlayer: {tooltip: string, messages: {csv: {warning: string}}}, query: {tooltip: string, actions: {add_features_to_results: {hint: string}, download_features_csv: {hint: string}, atlas: {hint: string}, download_xls: {hint: string}, relations_charts: {hint: string}, zoom_to_feature: {hint: string}, download_features_gpkg: {hint: string}, zoom_to_features_extent: {hint: string}, download_csv: {hint: string}, download_features_shapefile: {hint: string}, download_features_xls: {hint: string}, download_shapefile: {hint: string}, add_selection: {hint: string}, download_gpx: {hint: string}, remove_feature_from_results: {hint: string}, download_features_gpx: {hint: string}, relations: {hint: string}, download_gpkg: {hint: string}}}, scale: {no_valid_scale: string}, geolocation: {tooltip: string}}, wps: {list_process: string, tooltip: string}, relations: {no_relations_found: string, relation_data: string, back_to_relations: string, list_of_relations_feature: string, error_missing_father_field: string}, errors: {add_external_layer: string, layers: {load: string}, unsupported_format: string}, tooltips: {download_csv: string, download_shapefile: string, atlas: string, copy_map_extent_url: string, download_gpx: string, download_xls: string, relations: {row_to_form: string, form_to_row: string}, download_gpkg: string, show_chart: string}}}}, fi: {translation: {cancel: string, no: string, error_map_loading: string, data: string, catalog: string, legend: string, copy_form_data: string, check_internet_connection_or_server_admin: string, show: string, save: string, back: string, server_error: string, mapcontrols: {area: {tooltip: string}, nominatim: {noresults: string, placeholder: string, notresponseserver: string}, add_layer_control: {select_csv_separator: string, select_csv_y_field: string, select_field_to_show: string, select_projection: string, header: string, select_color: string, select_csv_x_field: string, drag_layer: string}, query: {input_relation: string}, length: {tooltip: string}, screenshot: {error: string}, geolocations: {error: string}}, no_results: string, tools: string, changemap: string, default: string, logout: string, search: string, copy_form_data_from_feature: string, credits: {g3wSuiteFramework: string, productOf: string, g3wSuiteDescription: string}, sidebar: {}, close: string, exitnosave: string, sign_in: string, info: {link_button: string, open_link: string, server_error: string, title: string, no_results: string}, add: string, backto: string, yes: string, create_print: string, server_saver_error: string, tree: string, paste_form_data: string, no_other_projects: string, dosearch: string, baselayers: string, component: string, print: string, hide: string, annul: string, layer_selection_filter: {tools: {filter: string, nofilter: string, invert: string, show_features_on_map: string, clear: string}}, layer_is_added: string, catalog_items: {helptext: string, contextmenu: {vector_color_menu: string, show_metadata: string, open_attribute_table: string, styles: string, zoomtolayer: string}}, dataTable: {next: string, nodatafilterd: string, previous: string, no_data: string, infoFiltered: string, lengthMenu: string, info: string}, nobaselayer: string, could_not_load_vector_layers: string, street_search: string, sdk: {search: {all: string, layer_not_querable: string, error_loading: string, autocomplete: {inputshort: {pre: string, post: string}}, searching: string, layer_not_searchable: string, no_results: string}, print: {fids_instruction: string, help: string, no_layers: string, rotation: string, format: string, scale: string, fids_example: string, download_image: string}, metadata: {groups: {general: {title: string, fields: {fees: string, keywords: string, subfields: {contactinformation: {contactperson: string, contactvoicetelephone: string, personprimary: string, contactorganization: string, ContactOrganization: string, ContactPosition: string, contactposition: string, contactelectronicmailaddress: string, ContactPerson: string}}, accessconstraints: string, name: string, description: string, contactinformation: string, wms_url: string, abstract: string, title: string}}, layers: {groups: {general: string, spatial: string}, title: string, fields: {subfields: {dataurl: string, metadataurl: string, keywords: string, crs: string, bbox: string, name: string, attribution: string, attributes: string, source: string, abstract: string, title: string, geometrytype: string}, layers: string}}, spatial: {title: string, fields: {extent: string, crs: string}}}, title: string}, workflow: {next: string, steps: {title: string}}, form: {footer: {required_fields: string}, inputs: {date: string, input_validation_exclude_values: string, input_validation_max_field: string, string: string, varchar: string, textarea: string, input_validation_min_field: string, integer: string, float: string, input_validation_error: string, messages: {errors: {picklayer: string}}, input_validation_mutually_exclusive: string, text: string, bigint: string, tooltips: {picklayer: string, lonlat: string}, table: string}, messages: {qgis_input_widget_relation: string}, loading: string}, catalog: {menu: {download: {gpkg: string, csv: string, shp: string, gpx: string, xls: string}, wms: {copied: string, copy: string, title: string}}}, querybuilder: {search: {edit: string, run: string, delete: string, info: string}, additem: string, messages: {changed: string, number_of_features: string}, panel: {button: {all: string, test: string, save: string, clear: string, run: string, manual: string}, expression: string, operators: string, values: string, layers: string, fields: string}, error_run: string, delete: string, error_test: string}, mapcontrols: {querybypolygon: {help: string, tooltip: string, no_geometry: string}, measures: {area: {help: string, tooltip: string}, length: {help: string, tooltip: string}}, querybybbox: {help: string, tooltip: string, nolayers_visible: string}, addlayer: {tooltip: string, messages: {csv: {warning: string}}}, query: {tooltip: string, actions: {add_features_to_results: {hint: string}, download_features_csv: {hint: string}, atlas: {hint: string}, download_xls: {hint: string}, relations_charts: {hint: string}, zoom_to_feature: {hint: string}, download_features_gpkg: {hint: string}, zoom_to_features_extent: {hint: string}, download_csv: {hint: string}, download_features_shapefile: {hint: string}, download_features_xls: {hint: string}, download_shapefile: {hint: string}, add_selection: {hint: string}, download_gpx: {hint: string}, remove_feature_from_results: {hint: string}, download_features_gpx: {hint: string}, relations: {hint: string}, download_gpkg: {hint: string}}}, scale: {no_valid_scale: string}, geolocation: {tooltip: string}}, wps: {list_process: string, tooltip: string}, relations: {no_relations_found: string, relation_data: string, back_to_relations: string, list_of_relations_feature: string, error_missing_father_field: string}, errors: {add_external_layer: string, layers: {load: string}, unsupported_format: string}, tooltips: {download_csv: string, download_shapefile: string, atlas: string, copy_map_extent_url: string, download_gpx: string, download_xls: string, relations: {row_to_form: string, form_to_row: string}, download_gpkg: string, show_chart: string}}}}, en: {translation: {cancel: string, no: string, error_map_loading: string, data: string, catalog: string, legend: string, copy_form_data: string, check_internet_connection_or_server_admin: string, show: string, save: string, back: string, server_error: string, mapcontrols: {area: {tooltip: string}, nominatim: {noresults: string, placeholder: string, notresponseserver: string}, add_layer_control: {select_csv_separator: string, select_csv_y_field: string, select_field_to_show: string, select_projection: string, header: string, select_color: string, select_csv_x_field: string, drag_layer: string}, query: {input_relation: string}, length: {tooltip: string}, screenshot: {error: string}, geolocations: {error: string}}, no_results: string, tools: string, changemap: string, default: string, logout: string, search: string, copy_form_data_from_feature: string, credits: {g3wSuiteFramework: string, productOf: string, g3wSuiteDescription: string}, sidebar: {}, close: string, exitnosave: string, sign_in: string, info: {link_button: string, open_link: string, server_error: string, title: string, no_results: string}, add: string, backto: string, yes: string, create_print: string, server_saver_error: string, tree: string, paste_form_data: string, no_other_projects: string, dosearch: string, baselayers: string, component: string, print: string, hide: string, annul: string, layer_selection_filter: {tools: {filter: string, nofilter: string, invert: string, show_features_on_map: string, clear: string}}, layer_is_added: string, catalog_items: {helptext: string, contextmenu: {vector_color_menu: string, show_metadata: string, open_attribute_table: string, styles: string, zoomtolayer: string}}, dataTable: {next: string, nodatafilterd: string, previous: string, no_data: string, infoFiltered: string, lengthMenu: string, info: string}, nobaselayer: string, could_not_load_vector_layers: string, street_search: string, sdk: {search: {all: string, layer_not_querable: string, error_loading: string, autocomplete: {inputshort: {pre: string, post: string}}, searching: string, layer_not_searchable: string, no_results: string}, print: {fids_instruction: string, help: string, no_layers: string, rotation: string, format: string, scale: string, fids_example: string, download_image: string}, metadata: {groups: {general: {title: string, fields: {fees: string, keywords: string, subfields: {contactinformation: {contactperson: string, contactvoicetelephone: string, personprimary: string, contactorganization: string, ContactOrganization: string, ContactPosition: string, contactposition: string, contactelectronicmailaddress: string, ContactPerson: string}}, accessconstraints: string, name: string, description: string, contactinformation: string, wms_url: string, abstract: string, title: string}}, layers: {groups: {general: string, spatial: string}, title: string, fields: {subfields: {dataurl: string, metadataurl: string, keywords: string, crs: string, bbox: string, name: string, attribution: string, attributes: string, source: string, abstract: string, title: string, geometrytype: string}, layers: string}}, spatial: {title: string, fields: {extent: string, crs: string}}}, title: string}, workflow: {next: string, steps: {title: string}}, form: {footer: {required_fields: string}, inputs: {date: string, input_validation_exclude_values: string, input_validation_max_field: string, string: string, varchar: string, textarea: string, input_validation_min_field: string, integer: string, float: string, input_validation_error: string, messages: {errors: {picklayer: string}}, input_validation_mutually_exclusive: string, text: string, bigint: string, tooltips: {picklayer: string, lonlat: string}, table: string}, messages: {qgis_input_widget_relation: string}, loading: string}, catalog: {menu: {download: {gpkg: string, csv: string, shp: string, gpx: string, xls: string}, wms: {copied: string, copy: string, title: string}}}, querybuilder: {search: {edit: string, run: string, delete: string, info: string}, additem: string, messages: {changed: string, number_of_features: string}, panel: {button: {all: string, test: string, save: string, clear: string, run: string, manual: string}, expression: string, operators: string, values: string, layers: string, fields: string}, error_run: string, delete: string, error_test: string}, mapcontrols: {querybypolygon: {help: string, tooltip: string, no_geometry: string}, measures: {area: {help: string, tooltip: string}, length: {help: string, tooltip: string}}, querybybbox: {help: string, tooltip: string, nolayers_visible: string}, addlayer: {tooltip: string, messages: {csv: {warning: string}}}, query: {tooltip: string, actions: {add_features_to_results: {hint: string}, download_features_csv: {hint: string}, atlas: {hint: string}, download_xls: {hint: string}, relations_charts: {hint: string}, zoom_to_feature: {hint: string}, download_features_gpkg: {hint: string}, zoom_to_features_extent: {hint: string}, download_csv: {hint: string}, download_features_shapefile: {hint: string}, download_features_xls: {hint: string}, download_shapefile: {hint: string}, add_selection: {hint: string}, download_gpx: {hint: string}, remove_feature_from_results: {hint: string}, download_features_gpx: {hint: string}, relations: {hint: string}, download_gpkg: {hint: string}}}, scale: {no_valid_scale: string}, geolocation: {tooltip: string}}, wps: {list_process: string, tooltip: string}, relations: {no_relations_found: string, relation_data: string, back_to_relations: string, list_of_relations_feature: string, error_missing_father_field: string}, errors: {add_external_layer: string, layers: {load: string}, unsupported_format: string}, tooltips: {download_csv: string, download_shapefile: string, atlas: string, copy_map_extent_url: string, download_gpx: string, download_xls: string, relations: {row_to_form: string, form_to_row: string}, download_gpkg: string, show_chart: string}}}}, it: {translation: {cancel: string, no: string, error_map_loading: string, data: string, catalog: string, legend: string, copy_form_data: string, check_internet_connection_or_server_admin: string, show: string, save: string, back: string, server_error: string, mapcontrols: {area: {tooltip: string}, nominatim: {noresults: string, placeholder: string, notresponseserver: string}, add_layer_control: {select_csv_separator: string, select_csv_y_field: string, select_field_to_show: string, select_projection: string, header: string, select_color: string, select_csv_x_field: string, drag_layer: string}, query: {input_relation: string}, length: {tooltip: string}, screenshot: {error: string}, geolocations: {title: string, error: string}}, no_results: string, tools: string, changemap: string, default: string, logout: string, search: string, copy_form_data_from_feature: string, credits: {g3wSuiteFramework: string, productOf: string, g3wSuiteDescription: string}, sidebar: {}, close: string, exitnosave: string, sign_in: string, info: {link_button: string, open_link: string, server_error: string, title: string, no_results: string}, add: string, backto: string, yes: string, create_print: string, server_saver_error: string, tree: string, paste_form_data: string, no_other_projects: string, dosearch: string, baselayers: string, component: string, print: string, hide: string, annul: string, layer_selection_filter: {tools: {filter: string, nofilter: string, invert: string, show_features_on_map: string, clear: string}}, layer_is_added: string, catalog_items: {helptext: string, contextmenu: {vector_color_menu: string, show_metadata: string, open_attribute_table: string, styles: string, zoomtolayer: string}}, dataTable: {next: string, nodatafilterd: string, previous: string, infoFiltered: string, lengthMenu: string, info: string}, nobaselayer: string, could_not_load_vector_layers: string, street_search: string, sdk: {search: {all: string, layer_not_querable: string, error_loading: string, autocomplete: {inputshort: {pre: string, post: string}}, searching: string, layer_not_searchable: string, no_results: string}, print: {fids_instruction: string, help: string, no_layers: string, rotation: string, format: string, scale: string, fids_example: string, download_image: string}, metadata: {groups: {general: {title: string, fields: {fees: string, keywords: string, subfields: {contactinformation: {contactperson: string, contactvoicetelephone: string, personprimary: string, contactorganization: string, ContactOrganization: string, ContactPosition: string, contactposition: string, contactelectronicmailaddress: string, ContactPerson: string}}, accessconstraints: string, name: string, description: string, contactinformation: string, wms_url: string, abstract: string, title: string}}, layers: {groups: {general: string, spatial: string}, title: string, fields: {subfields: {dataurl: string, metadataurl: string, keywords: string, crs: string, bbox: string, name: string, attribution: string, attributes: string, source: string, abstract: string, title: string, geometrytype: string}, layers: string}}, spatial: {title: string, fields: {extent: string, crs: string}}}, title: string}, workflow: {next: string, steps: {title: string}}, form: {footer: {required_fields: string}, inputs: {date: string, input_validation_exclude_values: string, input_validation_max_field: string, string: string, varchar: string, textarea: string, input_validation_min_field: string, integer: string, float: string, input_validation_error: string, messages: {errors: {picklayer: string}}, input_validation_mutually_exclusive: string, text: string, bigint: string, tooltips: {picklayer: string, lonlat: string}, table: string}, messages: {qgis_input_widget_relation: string}, loading: string}, catalog: {menu: {download: {gpkg: string, csv: string, shp: string, gpx: string, xls: string}, wms: {copied: string, copy: string, title: string}}}, querybuilder: {search: {edit: string, run: string, delete: string, info: string}, additem: string, messages: {changed: string, number_of_features: string}, panel: {button: {all: string, test: string, save: string, clear: string, run: string, manual: string}, expression: string, operators: string, values: string, layers: string, fields: string}, error_run: string, delete: string, error_test: string}, mapcontrols: {querybypolygon: {help: string, tooltip: string, no_geometry: string}, measures: {area: {help: string, tooltip: string}, length: {help: string, tooltip: string}}, querybybbox: {help: string, tooltip: string, nolayers_visible: string}, addlayer: {tooltip: string, messages: {csv: {warning: string}}}, query: {tooltip: string, actions: {add_features_to_results: {hint: string}, download_features_csv: {hint: string}, atlas: {hint: string}, download_xls: {hint: string}, relations_charts: {hint: string}, zoom_to_feature: {hint: string}, download_features_gpkg: {hint: string}, zoom_to_features_extent: {hint: string}, download_csv: {hint: string}, download_features_shapefile: {hint: string}, download_features_xls: {hint: string}, download_shapefile: {hint: string}, add_selection: {hint: string}, download_gpx: {hint: string}, remove_feature_from_results: {hint: string}, download_features_gpx: {hint: string}, relations: {hint: string}, download_gpkg: {hint: string}}}, scale: {no_valid_scale: string}, geolocation: {tooltip: string}}, wps: {list_process: string, tooltip: string}, relations: {no_relations_found: string, relation_data: string, back_to_relations: string, list_of_relations_feature: string, error_missing_father_field: string}, errors: {add_external_layer: string, layers: {load: string}, unsupported_format: string}, tooltips: {zoom_to_features_extent: string, download_csv: string, download_shapefile: string, atlas: string, copy_map_extent_url: string, download_gpx: string, download_xls: string, relations: {row_to_form: string, form_to_row: string}, download_gpkg: string, show_chart: string}}}}}}|{resources: *}), views: (*|{}), group: *, vectorurl: *, debug: boolean, crs: *, apptitle: (string), header_custom_links, i18n: *, overviewproject: (*|null), layout: (*|{}), logo_img: *, baselayers: (string|vueComponentOptions.computed.baselayers|{count: number}|*), logo_link: *, background_color, terms_of_use_text: *, main_map_title: *, getProjectConfigUrl(*): string, user: (*|null), minscale: ProjectsRegistry.setProjects.config.minscale}>}\n   */\n  this.createApplicationConfig = function () {\n    var _ref8 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee3(initConfig) {\n      var config, _ref9, macrogroups, groups;\n\n      return regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              config = _extends({}, _config2.default);\n              _context3.prev = 1;\n\n              if (!initConfig) {\n                _context3.next = 6;\n                break;\n              }\n\n              _context3.t0 = initConfig;\n              _context3.next = 9;\n              break;\n\n            case 6:\n              _context3.next = 8;\n              return this.obtainInitConfig({\n                initConfigUrl: '' + _config2.default.server.urls.initconfig\n              });\n\n            case 8:\n              _context3.t0 = _context3.sent;\n\n            case 9:\n              initConfig = _context3.t0;\n\n\n              // write urls of static files and media url (base url and vector url)\n              this.baseurl = initConfig.baseurl;\n\n              /** \n               * @type {{ macrogroups: * | [], groups: * | [] }}\n               */\n              _context3.next = 13;\n              return this.getMacrogroupsGroups();\n\n            case 13:\n              _ref9 = _context3.sent;\n              macrogroups = _ref9.macrogroups;\n              groups = _ref9.groups;\n\n\n              /**\n               * write urls of static files and media url (base url and vector url)\n               */\n              config.server.urls.baseurl = initConfig.baseurl;\n              config.server.urls.frontendurl = initConfig.frontendurl;\n              config.server.urls.staticurl = initConfig.staticurl;\n              config.server.urls.clienturl = initConfig.staticurl + initConfig.client;\n              config.server.urls.mediaurl = initConfig.mediaurl;\n              config.server.urls.vectorurl = initConfig.vectorurl;\n              config.server.urls.proxyurl = initConfig.proxyurl;\n              config.server.urls.rasterurl = initConfig.rasterurl;\n              config.server.urls.interfaceowsurl = initConfig.interfaceowsurl;\n\n              config.main_map_title = initConfig.main_map_title;\n\n              config.group = initConfig.group;\n\n              config.user = initConfig.user;\n\n              config.credits = initConfig.credits;\n\n              config.i18n = initConfig.i18n;\n\n              /**\n               * get language from server\n               */\n              config._i18n.language = config.user.i18n;\n\n              /**\n               * check if is inside a iframe\n               */\n              config.group.layout.iframe = window.top !== window.self;\n\n              /**\n               * create application configuration\n               */\n              return _context3.abrupt('return', {\n                apptitle: config.apptitle || '',\n                logo_img: config.group.header_logo_img,\n                logo_link: config.group.header_logo_link,\n                terms_of_use_text: config.group.header_terms_of_use_text,\n                terms_of_use_link: config.group.terms_of_use_link,\n                header_custom_links: config.group.header_custom_links,\n                debug: config.client.debug || false,\n                group: config.group,\n                urls: config.server.urls,\n                mediaurl: config.server.urls.mediaurl,\n                resourcesurl: config.server.urls.clienturl,\n                vectorurl: config.server.urls.vectorurl,\n                rasterurl: config.server.urls.rasterurl,\n                interfaceowsurl: config.server.urls.interfaceowsurl,\n                projects: config.group.projects,\n                initproject: config.group.initproject,\n                overviewproject: config.group.overviewproject && config.group.overviewproject.gid ? config.group.overviewproject : null,\n                baselayers: config.group.baselayers,\n                mapcontrols: config.group.mapcontrols,\n                background_color: config.group.background_color,\n                crs: config.group.crs,\n                minscale: config.group.minscale,\n                maxscale: config.group.maxscale,\n                main_map_title: config.main_map_title,\n                credits: config.credits,\n                _i18n: config._i18n,\n                i18n: config.i18n,\n                layout: config.group.layout || {},\n                /**\n                 * needed by ProjectService\n                 */\n                getWmsUrl: function getWmsUrl(project) {\n                  return config.server.urls.baseurl + config.server.urls.ows + '/' + config.group.id + '/' + project.type + '/' + project.id + '/';\n                },\n\n                /**\n                 * needed by ProjectsRegistry to get informations about project configuration \n                 */\n                getProjectConfigUrl: function getProjectConfigUrl(project) {\n                  return config.server.urls.baseurl + config.server.urls.config + '/' + config.group.id + '/' + project.type + '/' + project.id + '?_t=' + project.modified;\n                },\n\n                plugins: config.group.plugins,\n                tools: config.tools,\n                views: config.views || {},\n                user: config.user || null,\n                /**\n                 * @since 3.8.0\n                 */\n                groups: groups,\n                macrogroups: macrogroups\n              });\n\n            case 35:\n              _context3.prev = 35;\n              _context3.t1 = _context3['catch'](1);\n              return _context3.abrupt('return', Promise.reject(_context3.t1));\n\n            case 38:\n            case 'end':\n              return _context3.stop();\n          }\n        }\n      }, _callee3, this, [[1, 35]]);\n    }));\n\n    return function (_x11) {\n      return _ref8.apply(this, arguments);\n    };\n  }();\n\n  /**\n   * @returns { Promise<{ macrogroups: * | [], groups: * | [] }> }\n   * \n   * @since 3.8.0\n   */\n  this.getMacrogroupsGroups = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee4() {\n    var macrogroups, groups;\n    return regeneratorRuntime.wrap(function _callee4$(_context4) {\n      while (1) {\n        switch (_context4.prev = _context4.next) {\n          case 0:\n            macrogroups = [];\n            groups = [];\n            _context4.prev = 2;\n            _context4.next = 5;\n            return XHR.get({ url: '/' + this.getApplicationUser().i18n + _constant.API_BASE_URLS.ABOUT.macrogroups });\n\n          case 5:\n            macrogroups = _context4.sent;\n            _context4.next = 10;\n            break;\n\n          case 8:\n            _context4.prev = 8;\n            _context4.t0 = _context4['catch'](2);\n\n          case 10:\n            _context4.prev = 10;\n            _context4.next = 13;\n            return XHR.get({ url: '/' + this.getApplicationUser().i18n + _constant.API_BASE_URLS.ABOUT.nomacrogoups });\n\n          case 13:\n            groups = _context4.sent;\n            _context4.next = 18;\n            break;\n\n          case 16:\n            _context4.prev = 16;\n            _context4.t1 = _context4['catch'](10);\n\n          case 18:\n            return _context4.abrupt('return', {\n              macrogroups: macrogroups,\n              groups: groups\n            });\n\n          case 19:\n          case 'end':\n            return _context4.stop();\n        }\n      }\n    }, _callee4, this, [[2, 8], [10, 16]]);\n  }));\n\n  this.obtainInitConfig = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee5() {\n    var _ref12 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        initConfigUrl = _ref12.initConfigUrl,\n        url = _ref12.url,\n        host = _ref12.host;\n\n    var projectPath, locationsearch;\n    return regeneratorRuntime.wrap(function _callee5$(_context5) {\n      while (1) {\n        switch (_context5.prev = _context5.next) {\n          case 0:\n            if (!this._initConfigUrl) this._initConfigUrl = initConfigUrl;else this.clearInitConfig();\n\n            // if exist a global initConfig\n            this._initConfig = window.initConfig;\n\n            projectPath = void 0;\n\n            // DEPRECATED: will be removed after v4.0\n\n            locationsearch = url ? url.split('?')[1] : location.search.substring(1);\n\n\n            if (locationsearch) {\n              //check if exist project in url\n              /**\n               * The way to extract project group,type and id\n               * Example http:localhost:3000/?project=3003/qdjango/1\n               * is deprecate\n               */\n              locationsearch.split('&').forEach(function (queryTuple) {\n                projectPath = queryTuple.indexOf(\"project\") > -1 ? queryTuple.split(\"=\")[1] : projectPath;\n              });\n\n              ///////////////////////////////////////////////////////////////////\n            } else if (this._gid) {\n              projectPath = this._groupId + '/' + this._gid.split(':').join('/');\n            }\n\n            _context5.prev = 5;\n\n            if (!projectPath) {\n              _context5.next = 10;\n              break;\n            }\n\n            _context5.next = 9;\n            return this.getInitConfig('' + (host || '') + this.baseurl + this._initConfigUrl + '/' + projectPath);\n\n          case 9:\n            this._initConfig = _context5.sent;\n\n          case 10:\n            _context5.next = 15;\n            break;\n\n          case 12:\n            _context5.prev = 12;\n            _context5.t0 = _context5['catch'](5);\n            return _context5.abrupt('return', Promise.reject(_context5.t0));\n\n          case 15:\n            _context5.prev = 15;\n\n            window.initConfig = this._initConfig;\n            this.emit('initconfig', this._initConfig);\n            this.setInitVendorKeys(this._initConfig);\n            return _context5.abrupt('return', Promise.resolve(this._initConfig));\n\n          case 21:\n          case 'end':\n            return _context5.stop();\n        }\n      }\n    }, _callee5, this, [[5, 12, 15, 21]]);\n  }));\n\n  // method to get initial application configuration\n  this.getInitConfig = function (url) {\n    var _this4 = this;\n\n    return new Promise(function (resolve, reject) {\n      if (_this4._initConfig) resolve(_this4._initConfig);else XHR.get({ url: url }).then(function (initConfig) {\n        return resolve(initConfig);\n      }).catch(function (error) {\n        return reject(error);\n      });\n    });\n  };\n\n  /**\n   * Fetch configuration from server\n   */\n  this.getInitConfigUrl = function () {\n    return this._initConfigUrl;\n  };\n\n  this.setInitConfigUrl = function (initConfigUrl) {\n    this._initConfigUrl = initConfigUrl;\n  };\n\n  /**\n   * set EPSG of Application (eg. during a WMS request for table layer )\n   */\n  this.setEPSGApplication = function (project) {\n    _applicationState2.default.map.epsg = project.state.crs.epsg;\n  };\n\n  /**\n   * Set application User \n   */\n  this.setApplicationUser = function (user) {\n    _applicationState2.default.user = user;\n  };\n\n  /**\n   * Get application User \n   */\n  this.getApplicationUser = function () {\n    return _applicationState2.default.user;\n  };\n\n  /**\n   * Bootstrap application (when called init)\n   * \n   * 1 - load translations (i18n languages)\n   * 2 - skip loading on `ApplicationState.ready` (ie. already initialized) --> automatically reject after Timeout\n   * 3 - initialize ProjectsRegistry\n   * 4 - inizialize ApiService\n   * 5 - attach DOM events ('online' and 'offline')\n   * 6 - trigger 'ready' event\n   * 7 - set current project `gid` (group id)\n   * 8 - set current project EPSG (coordinate system)\n   * 9 - check if application is loaded within an <IFRAME>\n   * 10 - initialize DataRouterService\n   */\n  this.bootstrap = function () {\n    var _this5 = this;\n\n    return new Promise(function (resolve, reject) {\n      _this5.setupI18n();\n      var timeout = setTimeout(function () {\n        reject('Timeout');\n      }, _constant.TIMEOUT);\n      if (!_applicationState2.default.ready) {\n        $.when(_projects2.default.init(_this5._config), _api2.default.init(_this5._config)).then(function () {\n          clearTimeout(timeout);\n          _this5.registerOnlineOfflineEvent();\n          _this5.emit('ready');\n          _applicationState2.default.ready = _this5.initialized = true;\n          var project = _projects2.default.getCurrentProject();\n          _this5._gid = project.getGid();\n          _this5.setEPSGApplication(project);\n          if (_applicationState2.default.iframe) {\n            _this5.startIFrameService({ project: project });\n          }\n          _data2.default.init();\n          _this5.initLocalItems();\n          resolve(true);\n        }).fail(function (error) {\n          return reject(error);\n        });\n      }\n    });\n  };\n\n  /**\n   * Run the following tasks after boostrap:\n   * \n   * 1 - check for `this.complete`\n   * 2 - initialize RouterService (once)\n   * 3 - initialize PluginsRegistry (once and after ProjectsRegistry and ApiService are initialized)\n   * 4 - trigger 'complete' event\n   */\n  this.postBootstrap = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee6() {\n    return regeneratorRuntime.wrap(function _callee6$(_context6) {\n      while (1) {\n        switch (_context6.prev = _context6.next) {\n          case 0:\n            if (this.complete) {\n              _context6.next = 13;\n              break;\n            }\n\n            _context6.prev = 1;\n\n            _router2.default.init();\n            _context6.next = 5;\n            return _plugins2.default.init({\n              pluginsBaseUrl: this._config.urls.staticurl,\n              pluginsConfigs: this._config.plugins,\n              otherPluginsConfig: _projects2.default.getCurrentProject().getState()\n            });\n\n          case 5:\n            _context6.next = 9;\n            break;\n\n          case 7:\n            _context6.prev = 7;\n            _context6.t0 = _context6['catch'](1);\n\n          case 9:\n            _context6.prev = 9;\n\n            this.complete = true;\n            this.emit('complete');\n            return _context6.finish(9);\n\n          case 13:\n          case 'end':\n            return _context6.stop();\n        }\n      }\n    }, _callee6, this, [[1, 7, 9, 13]]);\n  }));\n\n  /**\n   * iframeservice \n   */\n  this.startIFrameService = function () {\n    var _ref14 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        project = _ref14.project;\n\n    var iframeService = require('core/iframe/routerservice');\n    iframeService.init({ project: project });\n  };\n\n  this.registerWindowEvent = function () {\n    var _ref15 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        evt = _ref15.evt,\n        cb = _ref15.cb;\n\n    window.addEventListener(evt, cb);\n  };\n\n  this.unregisterWindowEvent = function () {\n    var _ref16 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        evt = _ref16.evt,\n        cb = _ref16.cb;\n\n    window.removeEventListener(evt, cb);\n  };\n\n  this.registerService = function (element, service) {\n    this._applicationServices[element] = service;\n  };\n\n  this.unregisterService = function (element) {\n    delete this._applicationServices[element];\n  };\n\n  this.getApplicationService = function (type) {\n    return this._applicationServices[type];\n  };\n\n  this.getService = function (element) {\n    return this._applicationServices[element];\n  };\n\n  this.errorHandler = function (error) {};\n\n  /**\n   * clear initConfig\n   */\n  this.clearInitConfig = function () {\n    window.initConfig = this._initConfig = null;\n  };\n\n  this.setInitVendorKeys = function () {\n    var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    var vendorkeys = config.group.vendorkeys || {};\n    config.group.baselayers.forEach(function (baselayer) {\n      if (baselayer.apikey) {\n        vendorkeys[baselayer.servertype ? baselayer.servertype.toLowerCase() : null] = baselayer.apikey;\n      }\n    });\n    this.setVendorKeys(vendorkeys);\n  };\n\n  this.setVendorKeys = function () {\n    var keys = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    Object.keys(keys).forEach(function (key) {\n      return _applicationState2.default.keys.vendorkeys[key] = keys[key];\n    });\n  };\n\n  /**\n   * change View \n   */\n  this.changeProjectView = function (change) {\n    _applicationState2.default.changeProjectview = change;\n  };\n\n  this.isProjectViewChanging = function () {\n    return _applicationState2.default.changeProjectview;\n  };\n\n  /**\n   * @TODO check if deprecated\n   */\n  this.reloadCurrentProject = function () {\n    return this.changeProject({ gid: _projects2.default.getCurrentProject().getGid() });\n  };\n\n  /**\n   * @TODO check if deprecated\n   * \n   * Perfom again all requests and rebuild interface on change project\n   *  \n   * @param project.gid\n   * @param project.host\n   * @param project.crs\n   * \n   * @returns {JQuery.Promise<any, any, any>}\n   */\n  this._changeProject = function () {\n    var _ref17 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        gid = _ref17.gid,\n        host = _ref17.host,\n        crs = _ref17.crs;\n\n    var d = $.Deferred();\n    this._gid = gid;\n    var projectUrl = _projects2.default.getProjectUrl(gid);\n    var url = _gui2.default.getService('map').addMapExtentUrlParameterToUrl(projectUrl, crs);\n    history.replaceState(null, null, url);\n    location.replace(url);\n    d.resolve();\n    return d.promise();\n  };\n\n  this.setLayout = function () {\n    var who = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'app';\n    var config = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    /**\n     * Set default height percentage of height when show\n     * vertical content (for example show table attribute)\n     */\n    if (config.rightpanel) {\n      Object.assign(config.rightpanel, {\n        width: config.rightpanel.width || 50,\n        height: config.rightpanel.height || 50,\n        width_default: config.rightpanel.width, // used eventually to reset starting values\n        height_default: config.rightpanel.height,\n        width_100: false,\n        height_100: false\n      });\n    } else {\n      config.rightpanel = {\n        width: 50,\n        height: 50,\n        width_default: 50,\n        height_default: 50,\n        width_100: false,\n        height_100: false\n      };\n    }\n    _applicationState2.default.gui.layout[who] = config;\n  };\n\n  this.removeLayout = function (who) {\n    who && delete _applicationState2.default.gui.layout[who];\n  };\n\n  this.setCurrentLayout = function () {\n    var who = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'app';\n\n    _applicationState2.default.gui.layout.__current = who;\n  };\n\n  this.getCurrentLayout = function () {\n    return _applicationState2.default.gui.layout[_applicationState2.default.gui.layout.__current];\n  };\n\n  this.getCurrentLayoutName = function () {\n    return _applicationState2.default.gui.layout.__current;\n  };\n\n  this.cloneLayout = function () {\n    var which = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'app';\n\n    return JSON.parse(JSON.stringify(_applicationState2.default.gui.layout[which]));\n  };\n\n  this.clear = function () {\n    this.unregisterOnlineOfflineEvent();\n  };\n\n  /**\n   * Initialize each local item if not yet initialized\n   * \n   * @since v3.8\n   */\n  this.initLocalItems = function () {\n    var _this6 = this;\n\n    Object.keys(_constant.LOCAL_ITEM_IDS).forEach(function (id) {\n      undefined === _this6.getLocalItem(id) && _this6.setLocalItem({ id: id, data: _constant.LOCAL_ITEM_IDS[id].value });\n    });\n  };\n};\n\ninherit(ApplicationService, G3WObject);\n\nexports.default = new ApplicationService();\n\n},{\"app/constant\":4,\"config\":3,\"core/g3wobject\":12,\"core/i18n/i18n.service\":13,\"core/iframe/routerservice\":14,\"core/utils/utils\":68,\"services/api\":350,\"services/clipboard\":352,\"services/data\":358,\"services/gui\":361,\"services/router\":368,\"store/application-state\":373,\"store/plugins\":378,\"store/projects\":379}],352:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n/**\n * @file\n * @since v3.6\n */\n\nfunction ClipboardService() {\n  this._data = {};\n  this.set = function (formId, data) {\n    var formLayer = formId.split('form')[0];\n    this._data[formLayer] = data;\n  };\n\n  this.get = function (formLayer) {\n    var data = this._data[formLayer] || {};\n    this._data[formLayer] = {};\n    return data;\n  };\n}\n\nexports.default = new ClipboardService();\n\n},{}],353:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\n/**\n * @file\n * @since v3.6\n */\n\nvar BaseService = require('core/data/service');\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit,\n    XHR = _require.XHR;\n\nvar _require2 = require('core/utils/geo'),\n    getFeaturesFromResponseVectorApi = _require2.getFeaturesFromResponseVectorApi;\n\nfunction ExpressionService() {\n\n  base(this);\n\n  /**\n   * POST only: accepts\n   * \n   * Mandatory JSON body: expression\n   * Optional JSON body: form_data and qgs_layer_id (QGIS layer id)\n   * \n   * @param params.qgis_layer_id layer id owner of the form data\n   * @param params.layer_id      layer owner of the data\n   * @param params.form_data\n   * @param params.field_name    since 3.8.0\n   * @param params.expression\n   * @param params.formatter\n   * @param params.parent\n   * \n   * @returns { Promise<void> }\n   */\n  this.expression = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n    var params = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    return regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.prev = 0;\n            _context.t0 = this;\n            _context.next = 4;\n            return this.handleRequest({\n              url: '' + this.project.getUrl('vector_data') + params.layer_id + '/',\n              params: params\n            });\n\n          case 4:\n            _context.t1 = _context.sent;\n            return _context.abrupt('return', _context.t0.handleResponse.call(_context.t0, _context.t1));\n\n          case 8:\n            _context.prev = 8;\n            _context.t2 = _context['catch'](0);\n            return _context.abrupt('return', Promise.reject(_context.t2));\n\n          case 11:\n          case 'end':\n            return _context.stop();\n        }\n      }\n    }, _callee, this, [[0, 8]]);\n  }));\n\n  /**\n   * POST only method to return QGIS Expressions evaluated in Project an optional Layer/Form context\n   *\n   * Mandatory JSON body: expression\n   * Optional JSON body: form_data and qgs_layer_id (QGIS layer id)\n   * \n   * @param params.layer_id\n   * @param params.qgis_layer_id\n   * @param params.form_data\n   * @param params.field_name    since 3.8.0\n   * @param params.expression\n   * @param params.formatter\n   * @param params.parent\n   * \n   * @returns { Promise<void> }\n   */\n  this.expression_eval = function () {\n    var params = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    return this.handleRequest({\n      url: this.project.getUrl('expression_eval'),\n      params: params\n    });\n  };\n\n  /**\n   * Handle server request\n   * \n   * @param url\n   * @param params\n   * @param contentType\n    * @returns { Promise<*> }\n   */\n  this.handleRequest = function () {\n    var _ref2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        url = _ref2.url,\n        _ref2$params = _ref2.params,\n        params = _ref2$params === undefined ? {} : _ref2$params,\n        _ref2$contentType = _ref2.contentType,\n        contentType = _ref2$contentType === undefined ? 'application/json' : _ref2$contentType;\n\n    return XHR.post({ url: url, contentType: contentType, data: JSON.stringify(params) });\n  };\n\n  /**\n   * Handle server response\n   * \n   * @param response\n   */\n  this.handleResponse = function () {\n    var response = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    return getFeaturesFromResponseVectorApi(response);\n  };\n}\n\ninherit(ExpressionService, BaseService);\n\nexports.default = new ExpressionService();\n\n},{\"core/data/service\":5,\"core/utils/geo\":64,\"core/utils/utils\":68}],354:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _application = require('services/application');\n\nvar _application2 = _interopRequireDefault(_application);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; } /**\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                            * @file\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                            * @since v3.6\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                            */\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit,\n    XHR = _require.XHR;\n\nvar BaseService = require('core/data/service');\n\nfunction OWSService() {\n  base(this);\n  /**\n   *\n   * @param params\n   * @returns {Promise<{data: string, response: *}>}\n   */\n  this.wmsCapabilities = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n    var _ref2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        url = _ref2.url;\n\n    var owsUrl, params, data, response;\n    return regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            owsUrl = '' + _application2.default.getInterfaceOwsUrl();\n            _context.prev = 1;\n            params = {\n              url: url,\n              service: \"wms\"\n            };\n            data = JSON.stringify(params);\n            _context.next = 6;\n            return XHR.post({\n              url: owsUrl,\n              contentType: 'application/json',\n              data: data\n            });\n\n          case 6:\n            response = _context.sent;\n            return _context.abrupt('return', response);\n\n          case 10:\n            _context.prev = 10;\n            _context.t0 = _context['catch'](1);\n            return _context.abrupt('return');\n\n          case 13:\n          case 'end':\n            return _context.stop();\n        }\n      }\n    }, _callee, this, [[1, 10]]);\n  }));\n}\n\ninherit(OWSService, BaseService);\n\nexports.default = new OWSService();\n\n},{\"core/data/service\":5,\"core/utils/utils\":68,\"services/application\":351}],355:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _application = require('services/application');\n\nvar _application2 = _interopRequireDefault(_application);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; } /**\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                            * @file\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                            * @since v3.6\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                            */\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit,\n    XHR = _require.XHR;\n\nvar BaseService = require('core/data/service');\n\nfunction ProxyService() {\n  base(this);\n  /**\n   *\n   * @param data: Object conitans data to pass to proxy\n   * @returns {Promise<{data: string, response: *}>}\n   */\n  this.wms = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n    var _ref2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        url = _ref2.url,\n        _ref2$method = _ref2.method,\n        method = _ref2$method === undefined ? 'GET' : _ref2$method,\n        _ref2$params = _ref2.params,\n        params = _ref2$params === undefined ? {} : _ref2$params,\n        _ref2$headers = _ref2.headers,\n        headers = _ref2$headers === undefined ? {} : _ref2$headers;\n\n    var proxyUrl, data, response;\n    return regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            proxyUrl = '' + _application2.default.getProxyUrl();\n\n            if (method === 'GET') {\n              url = new URL(url);\n              Object.keys(params).forEach(function (param) {\n                return url.searchParams.set(param, params[param]);\n              });\n              url = url.toString();\n            }\n            _context.prev = 2;\n            data = JSON.stringify({\n              url: url,\n              params: params,\n              headers: headers,\n              method: method\n            });\n            _context.next = 6;\n            return XHR.post({\n              url: proxyUrl,\n              contentType: 'application/json',\n              data: data\n            });\n\n          case 6:\n            response = _context.sent;\n            return _context.abrupt('return', {\n              response: response,\n              data: data\n            });\n\n          case 10:\n            _context.prev = 10;\n            _context.t0 = _context['catch'](2);\n            return _context.abrupt('return');\n\n          case 13:\n          case 'end':\n            return _context.stop();\n        }\n      }\n    }, _callee, this, [[2, 10]]);\n  }));\n\n  /**\n   * Generic proxy data function\n   * @param params\n   */\n  this.data = function () {\n    var params = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  };\n}\n\ninherit(ProxyService, BaseService);\n\nexports.default = new ProxyService();\n\n},{\"core/data/service\":5,\"core/utils/utils\":68,\"services/application\":351}],356:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; /**\n                                                                                                                                                                                                                                                                   * @file\n                                                                                                                                                                                                                                                                   * @since v3.6\n                                                                                                                                                                                                                                                                   */\n\nvar _constant = require('app/constant');\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit;\n\nvar _require2 = require('core/i18n/i18n.service'),\n    t = _require2.t;\n\nvar BaseService = require('core/data/service');\n\nvar _require3 = require('core/utils/geo'),\n    getQueryLayersPromisesByCoordinates = _require3.getQueryLayersPromisesByCoordinates,\n    getQueryLayersPromisesByGeometry = _require3.getQueryLayersPromisesByGeometry,\n    getQueryLayersPromisesByBBOX = _require3.getQueryLayersPromisesByBBOX,\n    getMapLayersByFilter = _require3.getMapLayersByFilter;\n\nfunction QueryService() {\n  base(this);\n  /**\n   *\n   * @type {{filtrable: {ows: string}}}\n   */\n  this.condition = {\n    filtrable: {\n      ows: 'WFS'\n    }\n  };\n\n  /**\n   * @param {{ feature: unknown, feature_count: unknown, filterConfig: unknown, multilayers: boolean, condition: boolean, excludeLayers: unknown[] }}\n   * \n   * @returns {Promise<unknown>}\n   */\n  this.polygon = function () {\n    var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        feature = _ref.feature,\n        _ref$feature_count = _ref.feature_count,\n        feature_count = _ref$feature_count === undefined ? this.project.getQueryFeatureCount() : _ref$feature_count,\n        _ref$filterConfig = _ref.filterConfig,\n        filterConfig = _ref$filterConfig === undefined ? {} : _ref$filterConfig,\n        _ref$multilayers = _ref.multilayers,\n        multilayers = _ref$multilayers === undefined ? false : _ref$multilayers,\n        _ref$condition = _ref.condition,\n        condition = _ref$condition === undefined ? this.condition : _ref$condition,\n        _ref$layerName = _ref.layerName,\n        layerName = _ref$layerName === undefined ? '' : _ref$layerName,\n        _ref$excludeSelected = _ref.excludeSelected,\n        excludeSelected = _ref$excludeSelected === undefined ? null : _ref$excludeSelected,\n        _ref$external = _ref.external,\n        external = _ref$external === undefined ? {\n      add: true,\n      filter: {\n        SELECTED: false\n      }\n    } : _ref$external;\n\n    var hasExternalLayersSelected = this.hasExternalLayerSelected({ type: \"vector\" });\n    var fid = hasExternalLayersSelected ? feature.getId() : feature.get(_constant.G3W_FID);\n    var geometry = feature.getGeometry();\n\n    // in case no geometry on polygon layer response\n    if (!geometry) {\n      return this.returnExceptionResponse({\n        usermessage: {\n          type: 'warning',\n          message: layerName + ' - ' + t('sdk.mapcontrols.querybypolygon.no_geometry'),\n          messagetext: true,\n          autoclose: false\n        }\n      });\n    }\n    return this.handleRequest(\n    // request\n    getQueryLayersPromisesByGeometry(\n    // layers\n    getMapLayersByFilter(_extends({}, \"boolean\" === typeof excludeSelected ? { SELECTED: !excludeSelected } : { SELECTED_OR_ALL: true }, {\n      FILTERABLE: true,\n      VISIBLE: true\n    }), condition),\n    // options\n    {\n      geometry: geometry,\n      multilayers: multilayers,\n      feature_count: feature_count,\n      filterConfig: filterConfig,\n      projection: this.project.getProjection()\n    }),\n    // query\n    {\n      fid: fid,\n      geometry: geometry,\n      layerName: layerName,\n      type: 'polygon',\n      filterConfig: filterConfig,\n      external: external\n    });\n  };\n\n  /**\n   *\n   * @param bbox\n   * @param feature_count\n   * @param multilayers\n   * @param condition\n   * @param layersFilterObject\n   * @returns {Promise<unknown>}\n   */\n  this.bbox = function () {\n    var _ref2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        bbox = _ref2.bbox,\n        _ref2$feature_count = _ref2.feature_count,\n        feature_count = _ref2$feature_count === undefined ? this.project.getQueryFeatureCount() : _ref2$feature_count,\n        _ref2$filterConfig = _ref2.filterConfig,\n        filterConfig = _ref2$filterConfig === undefined ? {} : _ref2$filterConfig,\n        _ref2$multilayers = _ref2.multilayers,\n        multilayers = _ref2$multilayers === undefined ? false : _ref2$multilayers,\n        _ref2$condition = _ref2.condition,\n        condition = _ref2$condition === undefined ? this.condition : _ref2$condition,\n        _ref2$excludeSelected = _ref2.excludeSelected,\n        excludeSelected = _ref2$excludeSelected === undefined ? null : _ref2$excludeSelected,\n        _ref2$addExternal = _ref2.addExternal,\n        addExternal = _ref2$addExternal === undefined ? true : _ref2$addExternal,\n        _ref2$layersFilterObj = _ref2.layersFilterObject,\n        layersFilterObject = _ref2$layersFilterObj === undefined ? { SELECTED_OR_ALL: true, FILTERABLE: true, VISIBLE: true } : _ref2$layersFilterObj;\n\n    var hasExternalLayersSelected = this.hasExternalLayerSelected({ type: \"vector\" });\n    var query = {\n      bbox: bbox,\n      type: 'bbox',\n      filterConfig: filterConfig,\n      external: {\n        add: addExternal,\n        filter: {\n          SELECTED: hasExternalLayersSelected || ('boolean' == typeof excludeSelected ? excludeSelected : false)\n        }\n      }\n    };\n\n    // Check If LayerIds is length === 0 so i check if add external Layer is selected\n    if (hasExternalLayersSelected) {\n      return this.handleRequest(this.getEmptyRequest(), query);\n    }\n\n    return this.handleRequest(\n    //request\n    getQueryLayersPromisesByBBOX(\n    // layers\n    getMapLayersByFilter(layersFilterObject, condition),\n    //options\n    {\n      bbox: bbox,\n      feature_count: feature_count,\n      filterConfig: filterConfig,\n      multilayers: multilayers\n    }),\n    // query\n    query);\n  };\n\n  /**\n   * @param {{ coordinates: unknown, layerIds: unknown[], multilayers: boolean, query_point_tolerance: number, feature_count: number }}\n   * \n   * @returns {Promise<unknown>}\n   */\n  this.coordinates = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n    var _ref4 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        coordinates = _ref4.coordinates,\n        _ref4$layerIds = _ref4.layerIds,\n        layerIds = _ref4$layerIds === undefined ? [] : _ref4$layerIds,\n        _ref4$multilayers = _ref4.multilayers,\n        multilayers = _ref4$multilayers === undefined ? false : _ref4$multilayers,\n        _ref4$query_point_tol = _ref4.query_point_tolerance,\n        query_point_tolerance = _ref4$query_point_tol === undefined ? _constant.QUERY_POINT_TOLERANCE : _ref4$query_point_tol,\n        _ref4$addExternal = _ref4.addExternal,\n        addExternal = _ref4$addExternal === undefined ? true : _ref4$addExternal,\n        feature_count = _ref4.feature_count;\n\n    var hasExternalLayersSelected, query, layersFilterObject, layers;\n    return regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            hasExternalLayersSelected = this.hasExternalLayerSelected({ type: \"vector\" });\n            query = {\n              coordinates: coordinates,\n              type: 'coordinates',\n              external: {\n                add: addExternal,\n                filter: {\n                  SELECTED: hasExternalLayersSelected\n                }\n              }\n            };\n\n            // Return an empty request if an external layer is selected\n\n            if (!(hasExternalLayersSelected && 0 === layerIds.length)) {\n              _context.next = 4;\n              break;\n            }\n\n            return _context.abrupt('return', this.handleRequest(this.getEmptyRequest(), query));\n\n          case 4:\n            layersFilterObject = {\n              QUERYABLE: true,\n              SELECTED_OR_ALL: 0 === layerIds.length,\n              VISIBLE: true\n            };\n\n\n            if (Array.isArray(layerIds)) {\n              layerIds.forEach(function (id) {\n                if (!layersFilterObject.IDS) layersFilterObject.IDS = [];\n                layersFilterObject.IDS.push(id);\n              });\n            }\n\n            layers = getMapLayersByFilter(layersFilterObject);\n\n            // set external property `add: false` in case\n            // of selected layer in order to avoid querying\n            // a temporary layer (external layer)\n\n            if (1 === layers.length && layers[0].isSelected()) {\n              query.external.add = false;\n            }\n\n            return _context.abrupt('return', this.handleRequest(\n            // request\n            getQueryLayersPromisesByCoordinates(\n            // layers\n            layers,\n            // options\n            {\n              multilayers: multilayers,\n              feature_count: feature_count,\n              query_point_tolerance: query_point_tolerance,\n              coordinates: coordinates\n            }),\n            // query\n            query));\n\n          case 9:\n          case 'end':\n            return _context.stop();\n        }\n      }\n    }, _callee, this);\n  }));\n\n  /**\n   *\n   * @param request is a Promise(jquery promise at moment\n   * @returns {Promise<unknown>}\n   */\n  this.handleRequest = function (request) {\n    var _this = this;\n\n    var query = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    return new Promise(function (resolve, reject) {\n      request.then(function (response) {\n        var results = _this.handleResponse(response, query);\n        resolve(results);\n      }).fail(reject);\n    });\n  };\n\n  /**\n   *\n   * @param response\n   * @returns {Promise<{result: boolean, data: [], query: (*|null)}>}\n   */\n  this.handleResponse = function (response) {\n    var query = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    var layersResults = response;\n    var results = {\n      query: query,\n      type: 'ows',\n      data: [],\n      result: true // set result to true\n    };\n    layersResults.forEach(function (result) {\n      return result.data && result.data.forEach(function (data) {\n        return results.data.push(data);\n      });\n    });\n    return results;\n  };\n\n  /**\n   * Exception response has user message attribute\n   */\n  this.returnExceptionResponse = function () {\n    var _ref6 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2(_ref5) {\n      var usermessage = _ref5.usermessage;\n      return regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              return _context2.abrupt('return', {\n                data: [],\n                usermessage: usermessage,\n                result: true,\n                error: true\n              });\n\n            case 1:\n            case 'end':\n              return _context2.stop();\n          }\n        }\n      }, _callee2, this);\n    }));\n\n    return function (_x6) {\n      return _ref6.apply(this, arguments);\n    };\n  }();\n}\n\ninherit(QueryService, BaseService);\n\nexports.default = new QueryService();\n\n},{\"app/constant\":4,\"core/data/service\":5,\"core/i18n/i18n.service\":13,\"core/utils/geo\":64,\"core/utils/utils\":68}],357:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\n/**\n * @file\n * @since v3.6\n */\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit;\n\nvar _require2 = require('core/utils/geo'),\n    createOlFeatureFromApiResponseFeature = _require2.createOlFeatureFromApiResponseFeature;\n\nvar BaseService = require('core/data/service');\n\nfunction SearchService() {\n  base(this);\n  // method to searchfeature features\n  this.features = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2() {\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : { layer: layer, search_endpoint: search_endpoint, filter: filter, raw: false, queryUrl: queryUrl, feature_count: feature_count, ordering: ordering };\n    return regeneratorRuntime.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            return _context2.abrupt('return', _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n              var promisesSearch, layer, params, _options$raw, raw, filter, dataSearch, layers, provider, promise, responses;\n\n              return regeneratorRuntime.wrap(function _callee$(_context) {\n                while (1) {\n                  switch (_context.prev = _context.next) {\n                    case 0:\n                      promisesSearch = [];\n                      layer = options.layer, params = _objectWithoutProperties(options, ['layer']);\n                      _options$raw = options.raw, raw = _options$raw === undefined ? false : _options$raw, filter = options.filter;\n                      dataSearch = {\n                        data: [],\n                        query: {\n                          type: 'search',\n                          search: filter\n                        },\n                        type: params.search_endpoint\n                      };\n                      // check if layer is array\n\n                      layers = Array.isArray(layer) ? layer : [layer];\n                      //check if filter is array\n\n                      params.filter = Array.isArray(params.filter) ? params.filter : [params.filter];\n                      // if api or ows search_endpoint\n                      if (params.search_endpoint === 'api') layers.forEach(function (layer, index) {\n                        return promisesSearch.push(layer.searchFeatures(_extends({}, params, {\n                          filter: params.filter[index]\n                        })));\n                      });else {\n                        // need to get query provider for get one request only\n                        provider = layers[0].getProvider('search');\n                        promise = new Promise(function (resolve, reject) {\n                          provider.query(_extends({}, params, {\n                            layers: layers\n                          }, layers[0].getSearchParams()) // nee to get search params\n                          ).then(function (data) {\n                            resolve({\n                              data: data\n                            });\n                          }).fail(reject);\n                        });\n\n                        promisesSearch.push(promise);\n                      }\n                      _context.next = 9;\n                      return Promise.allSettled(promisesSearch);\n\n                    case 9:\n                      responses = _context.sent;\n\n                      responses.forEach(function () {\n                        var _ref3 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n                            status = _ref3.status,\n                            value = _ref3.value;\n\n                        // need to filter only fulfilled response\n                        if (status === 'fulfilled') {\n                          if (raw) {\n                            dataSearch.data.push(params.search_endpoint === 'api' ? {\n                              data: value\n                            } : value);\n                          } else {\n                            var _value$data = value.data,\n                                data = _value$data === undefined ? [] : _value$data;\n\n                            params.search_endpoint === 'api' ? data.length && dataSearch.data.push(data[0]) : dataSearch.data = data;\n                          }\n                        }\n                      });\n                      return _context.abrupt('return', dataSearch);\n\n                    case 12:\n                    case 'end':\n                      return _context.stop();\n                  }\n                }\n              }, _callee, this);\n            }))());\n\n          case 1:\n          case 'end':\n            return _context2.stop();\n        }\n      }\n    }, _callee2, this);\n  }));\n\n  /**\n   * Method to return feature from api\n   * @param layer\n   * @param fid\n   * @returns {Promise<{data: [], layer}|{data: [{features: ([*]|[]), query: {type: string}, layer: *}]}>}\n   */\n  this.fids = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee3() {\n    var _ref5 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        layer = _ref5.layer,\n        _ref5$formatter = _ref5.formatter,\n        formatter = _ref5$formatter === undefined ? 0 : _ref5$formatter,\n        _ref5$fids = _ref5.fids,\n        fids = _ref5$fids === undefined ? [] : _ref5$fids;\n\n    var response, features;\n    return regeneratorRuntime.wrap(function _callee3$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            response = {\n              data: [{\n                layer: layer,\n                features: []\n              }],\n              query: {\n                type: 'search'\n              }\n            };\n            _context3.prev = 1;\n            _context3.t0 = layer;\n\n            if (!_context3.t0) {\n              _context3.next = 7;\n              break;\n            }\n\n            _context3.next = 6;\n            return layer.getFeatureByFids({ fids: fids, formatter: formatter });\n\n          case 6:\n            _context3.t0 = _context3.sent;\n\n          case 7:\n            features = _context3.t0;\n\n            features && features.forEach(function (feature) {\n              return response.data[0].features.push(createOlFeatureFromApiResponseFeature(feature));\n            });\n            _context3.next = 13;\n            break;\n\n          case 11:\n            _context3.prev = 11;\n            _context3.t1 = _context3['catch'](1);\n\n          case 13:\n            return _context3.abrupt('return', response);\n\n          case 14:\n          case 'end':\n            return _context3.stop();\n        }\n      }\n    }, _callee3, this, [[1, 11]]);\n  }));\n\n  /**\n   * Search service function to load many layers with each one with its fids\n   * @param layers: Array of layers that we want serach fids features\n   * @param fids: Array of array of fids\n   * @param formatter: how we want visualize\n   * @returns {Promise<void>}\n   */\n  this.layersfids = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee4() {\n    var _this = this;\n\n    var _ref7 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        _ref7$layers = _ref7.layers,\n        layers = _ref7$layers === undefined ? [] : _ref7$layers,\n        _ref7$fids = _ref7.fids,\n        fids = _ref7$fids === undefined ? [] : _ref7$fids,\n        _ref7$formatter = _ref7.formatter,\n        formatter = _ref7$formatter === undefined ? 0 : _ref7$formatter;\n\n    var promises, response, layersresponses;\n    return regeneratorRuntime.wrap(function _callee4$(_context4) {\n      while (1) {\n        switch (_context4.prev = _context4.next) {\n          case 0:\n            promises = [];\n            response = {\n              data: [],\n              query: {\n                type: 'search'\n              }\n            };\n\n            layers.forEach(function (layer, index) {\n              promises.push(_this.fids({\n                layer: layer,\n                fids: fids[index],\n                formatter: formatter\n              }));\n            });\n            _context4.prev = 3;\n            _context4.next = 6;\n            return Promise.all(promises);\n\n          case 6:\n            layersresponses = _context4.sent;\n\n            layersresponses.forEach(function (layerresponse) {\n              return response.data.push(layerresponse.data);\n            });\n            _context4.next = 13;\n            break;\n\n          case 10:\n            _context4.prev = 10;\n            _context4.t0 = _context4['catch'](3);\n\n            console.log(_context4.t0);\n\n          case 13:\n            return _context4.abrupt('return', response);\n\n          case 14:\n          case 'end':\n            return _context4.stop();\n        }\n      }\n    }, _callee4, this, [[3, 10]]);\n  }));\n}\n\ninherit(SearchService, BaseService);\n\nexports.default = new SearchService();\n\n},{\"core/data/service\":5,\"core/utils/geo\":64,\"core/utils/utils\":68}],358:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _dataExpression = require('services/data-expression');\n\nvar _dataExpression2 = _interopRequireDefault(_dataExpression);\n\nvar _dataOws = require('services/data-ows');\n\nvar _dataOws2 = _interopRequireDefault(_dataOws);\n\nvar _dataProxy = require('services/data-proxy');\n\nvar _dataProxy2 = _interopRequireDefault(_dataProxy);\n\nvar _dataQuery = require('services/data-query');\n\nvar _dataQuery2 = _interopRequireDefault(_dataQuery);\n\nvar _dataSearch = require('services/data-search');\n\nvar _dataSearch2 = _interopRequireDefault(_dataSearch);\n\nvar _iframePlugin = require('services/iframe-plugin');\n\nvar _iframePlugin2 = _interopRequireDefault(_iframePlugin);\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } } /**\n                                                                                                                                                                                                     * @file\n                                                                                                                                                                                                     * @since v3.6\n                                                                                                                                                                                                     */\n\nvar _require = require('core/utils/utils'),\n    splitContextAndMethod = _require.splitContextAndMethod;\n\nfunction DataService() {\n  //set deafult outputplace\n  this.defaultoutputplaces = ['gui'];\n  // set current outputplaces\n  this.currentoutputplaces = [].concat(_toConsumableArray(this.defaultoutputplaces)); // array contains all\n\n  /**\n   * Object contain output function to show results\n   * @type {{gui(*=, *=): void, iframe(*=, *=): void}}\n   * dataPromise: is thre promise request for data,\n   * options: {\n   *   show: method or Boolean to set if show or not the result on output\n   *   before : async function to handle data return from server\n   *   after: method to handle or do some thisn after show data\n   * }\n   */\n  this.ouputplaces = {\n    gui: function () {\n      var _ref = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(dataPromise) {\n        var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _gui2.default.setLoadingContent(true);\n                _context.prev = 1;\n\n                _gui2.default.outputDataPlace(dataPromise, options);\n                _context.next = 5;\n                return dataPromise;\n\n              case 5:\n                _context.next = 9;\n                break;\n\n              case 7:\n                _context.prev = 7;\n                _context.t0 = _context['catch'](1);\n\n              case 9:\n                _gui2.default.setLoadingContent(false);\n\n              case 10:\n              case 'end':\n                return _context.stop();\n            }\n          }\n        }, _callee, this, [[1, 7]]);\n      }));\n\n      function gui(_x2) {\n        return _ref.apply(this, arguments);\n      }\n\n      return gui;\n    }(),\n    iframe: function () {\n      var _ref2 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2(dataPromise) {\n        var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _iframePlugin2.default.outputDataPlace(dataPromise, options);\n\n              case 1:\n              case 'end':\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function iframe(_x4) {\n        return _ref2.apply(this, arguments);\n      }\n\n      return iframe;\n    }()\n  };\n\n  /**\n   *\n   * @returns {Promise<void>}\n   */\n  this.init = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee3() {\n    return regeneratorRuntime.wrap(function _callee3$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            this.services = {\n              query: _dataQuery2.default,\n              search: _dataSearch2.default,\n              expression: _dataExpression2.default,\n              proxy: _dataProxy2.default,\n              ows: _dataOws2.default\n            };\n\n          case 1:\n          case 'end':\n            return _context3.stop();\n        }\n      }\n    }, _callee3, this);\n  }));\n\n  /**\n   *\n   * @param contextAndMethod 'String contain type of service(search or query): method'\n   * @param options\n   * @returns {Promise<void>}\n   */\n  this.getData = function () {\n    var _ref4 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee4(contextAndMethod) {\n      var _this = this;\n\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n      var _splitContextAndMetho, context, method, service, _options$inputs, inputs, _options$outputs, outputs, dataPromise, data;\n\n      return regeneratorRuntime.wrap(function _callee4$(_context4) {\n        while (1) {\n          switch (_context4.prev = _context4.next) {\n            case 0:\n              _splitContextAndMetho = splitContextAndMethod(contextAndMethod), context = _splitContextAndMetho.context, method = _splitContextAndMetho.method;\n              service = this.getService(context);\n              _options$inputs = options.inputs, inputs = _options$inputs === undefined ? {} : _options$inputs, _options$outputs = options.outputs, outputs = _options$outputs === undefined ? {} : _options$outputs;\n              //return a promise and not the data\n\n              dataPromise = service[method](inputs);\n\n              outputs && this.currentoutputplaces.forEach(function (place) {\n                _this.ouputplaces[place](dataPromise, outputs);\n              });\n              //return always data\n              _context4.next = 7;\n              return dataPromise;\n\n            case 7:\n              data = _context4.sent;\n              _context4.next = 10;\n              return data;\n\n            case 10:\n              return _context4.abrupt('return', _context4.sent);\n\n            case 11:\n            case 'end':\n              return _context4.stop();\n          }\n        }\n      }, _callee4, this);\n    }));\n\n    return function (_x6) {\n      return _ref4.apply(this, arguments);\n    };\n  }();\n\n  /**\n   *Force to show empty output data\n   *\n   * */\n  this.showEmptyOutputs = function () {\n    var _this2 = this;\n\n    var dataPromise = Promise.resolve({\n      data: []\n    });\n    this.currentoutputplaces.forEach(function (place) {\n      _this2.ouputplaces[place](dataPromise);\n    });\n  };\n\n  /**\n   * Set a costum datapromiseoutput to applicationa outputs settede\n   * @param dataPromise\n   */\n  this.showCustomOutputDataPromise = function (dataPromise) {\n    var _this3 = this;\n\n    this.currentoutputplaces.forEach(function (place) {\n      _this3.ouputplaces[place](dataPromise, {});\n    });\n  };\n\n  /**\n   *\n   * @param serviceName\n   * @returns {*}\n   */\n  this.getService = function (serviceName) {\n    return this.services[serviceName];\n  };\n\n  /*\n  * */\n  this.setOutputPlaces = function () {\n    var places = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n    this.currentoutputplaces = places;\n  };\n\n  /**\n   *\n   * @param place\n   */\n  this.addCurrentOutputPlace = function (place) {\n    place && this.currentoutputplaces.indexOf(place) === -1 && this.currentoutputplaces.push(place);\n  };\n\n  /**\n   *\n   * @param place\n   * @param method has to get two parameters data (promise) and options (Object)\n   * ex {\n   * place: <newplace>\n   * method(dataPromise, options={}){}\n   *   }\n   */\n  this.addNewOutputPlace = function () {\n    var _ref5 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        place = _ref5.place,\n        _ref5$method = _ref5.method,\n        method = _ref5$method === undefined ? function () {} : _ref5$method;\n\n    var added = false;\n    if (this.ouputplaces[place] === undefined) {\n      this.ouputplaces[place] = method;\n      added = true;\n    }\n    return added;\n  };\n\n  // reset default configuration\n  this.resetDefaultOutput = function () {\n    this.currentoutputplaces = [].concat(_toConsumableArray(this.defaultoutputplaces));\n  };\n}\n\nexports.default = new DataService();\n\n},{\"core/utils/utils\":68,\"services/data-expression\":353,\"services/data-ows\":354,\"services/data-proxy\":355,\"services/data-query\":356,\"services/data-search\":357,\"services/gui\":361,\"services/iframe-plugin\":364}],359:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n/**\n * @file\n * @since v3.6\n */\n\n//lass that is usefult to apply changes to features (undo/redo) singleton\nfunction ChangesManager() {\n  this.execute = function (object, items, reverse) {\n    var fnc = void 0;\n    var feature = void 0;\n    items.forEach(function (item) {\n      feature = item.feature;\n      if (reverse) {\n        // change to opposite\n        feature[ChangesManager.Actions[feature.getState()].opposite]();\n      }\n      // get method from object\n      fnc = ChangesManager.Actions[feature.getState()].fnc;\n      object[fnc](feature);\n    });\n  };\n}\n\n// know actions\nChangesManager.Actions = {\n  'add': {\n    fnc: 'addFeature',\n    opposite: 'delete'\n  },\n  'delete': {\n    fnc: 'removeFeature',\n    opposite: 'add'\n  },\n  'update': {\n    fnc: 'updateFeature',\n    opposite: 'update'\n  }\n};\n\nexports.default = new ChangesManager();\n\n},{}],360:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar _require = require('gui/utils/utils'),\n    Stack = _require.barstack; /**\n                                * @file\n                                * @since v3.7\n                                */\n\nfunction FloatbarService() {\n  this.stack = new Stack();\n  this.init = function (layout) {\n    this.layout = layout;\n    this.sidebarEl = $(this.layout.options.controlSidebarOptions.selector);\n    this._zindex = this.sidebarEl.css(\"z-index\");\n    this._modalOverlay = null;\n    this._modal = false;\n    this._isopen = false;\n  };\n\n  this.isOpen = function () {\n    return this._isopen;\n  };\n\n  this.open = function () {\n    this.layout.floatBar.open(this.sidebarEl, true);\n    this._isopen = true;\n  };\n\n  this.close = function () {\n    this.layout.floatBar.close(this.sidebarEl, true);\n    this._isopen = false;\n  };\n\n  this.showPanel = function (panel, options) {\n    options = options || {};\n    var append = options.append || false;\n    var modal = options.modal || false;\n    options.parent = \"#g3w-floatbarpanel-placeholder\";\n    this.stack.push(panel, options);\n    if (!this._isopen) this.open();\n  };\n\n  this.closePanel = function (panel) {\n    if (panel) this.stack.remove(panel);else this.stack.pop();\n    if (!this.stack.getLength()) {\n      if (this._modal) {\n        _gui2.default.setModal(false);\n        this.close();\n        $('.control-sidebar-bg').toggleClass('control-sidebar-bg-shadow');\n        this.sidebarEl.css(\"z-index\", \"\");\n        this.sidebarEl.css(\"padding-top\", \"50px\");\n        $('.control-sidebar-bg').css(\"z-index\", \"\");\n        this._modal = false;\n      } else this.close();\n    }\n  };\n\n  this.hidePanel = function () {\n    this.close();\n  };\n}\n\nexports.default = new FloatbarService();\n\n},{\"gui/utils/utils\":188,\"services/gui\":361}],361:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _router = require('services/router');\n\nvar _router2 = _interopRequireDefault(_router);\n\nvar _components = require('store/components');\n\nvar _components2 = _interopRequireDefault(_components);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit,\n    noop = _require.noop;\n\nvar G3WObject = require('core/g3wobject');\n\n// API della GUI.\n// methods have be defined by application\n// app should call GUI.ready() when GUI is ready\nfunction GUI() {\n  this.setters = {\n    setContent: function setContent() {\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      this.emit('opencontent', true);\n      this._setContent(options);\n    }\n  };\n  this.isready = false;\n  // images urls\n  this.getResourcesUrl = noop;\n  // show a Vue form\n  this.showForm = noop;\n  this.closeForm = noop;\n  this.showListing = noop;\n  this.closeListing = noop;\n  this.hideListing = noop;\n  // modal\n  this.setModal = noop;\n  this.showFullModal = noop;\n  // modal\n  this.showQueryResults = noop;\n  this.hideQueryResults = noop;\n  this.showPanel = noop;\n  this.hidePanel = noop;\n  this.reloadComponents = noop;\n  this.showUserMessage = noop;\n  this.closeUserMessage = noop;\n  this.showModalDialog = noop;\n  //property to how result has to be add or close all and show new\n  // false mean create new and close all open\n  this.push_content = false;\n  this.setPushContent = function () {\n    var bool = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n    this.push_content = bool;\n  };\n  this.getPushContent = function () {\n    return this.push_content;\n  };\n  this._closeUserMessageBeforeSetContent = true;\n  this.setComponent = function (component) {\n    _components2.default.registerComponent(component);\n  };\n  this.getComponent = function (id) {\n    return _components2.default.getComponent(id);\n  };\n  this.getComponents = function () {\n    return _components2.default.getComponents();\n  };\n\n  this.goto = function (url) {\n    _router2.default.goto(url);\n  };\n  this.ready = function () {\n    this.emit('ready');\n    this.isready = true;\n  };\n  this.guiResized = function () {\n    this.emit('guiresized');\n  };\n  //ready GUI\n  this.isReady = function () {\n    var _this = this;\n\n    return new Promise(function (resolve) {\n      return _this.isready ? resolve() : _this.once('ready', resolve);\n    });\n  };\n  /**\n   * Passing a component application ui id return service that belong to component\n   * @param componentId\n   * @returns {*}\n   */\n  this.getService = function (componentId) {\n    var component = this.getComponent(componentId);\n    return component && component.getService();\n  };\n  /* spinner */\n  this.showSpinner = function () {\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  };\n  this.hideSpinner = function (id) {};\n  /* end spinner */\n  this.notify = noop;\n  this.dialog = noop;\n  this.isMobile = noop;\n  //useful to registere setters\n  base(this);\n}\n\ninherit(GUI, G3WObject);\n\nexports.default = new GUI();\n\n},{\"core/g3wobject\":12,\"core/utils/utils\":68,\"services/router\":368,\"store/components\":375}],362:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _data = require('services/data');\n\nvar _data2 = _interopRequireDefault(_data);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; } /**\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                            * @file\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                            * @since v3.6\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                            */\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit;\n\nvar BaseService = require('core/iframe/services/baseservice');\n\nfunction AppService() {\n  base(this);\n  this.mapControls = {\n    screenshot: {\n      control: null\n    },\n    changeMap: {\n      control: null\n    }\n  };\n\n  /**\n   * Init service\n   * @returns {Promise<unknown>}\n   */\n  this.init = function () {\n    var _this = this;\n\n    return new Promise(function (resolve, reject) {\n      _this.mapService.once('ready', function () {\n        _this._map = _this.mapService.getMap();\n        _this._mapCrs = _this.mapService.getCrs();\n        _this.mapControls.screenshot.control = _this.mapService.getMapControlByType({\n          type: 'screenshot'\n        });\n        _this.setReady(true);\n        resolve();\n      });\n    });\n  };\n  /**\n   *\n   * @returns {Promise<void>}\n   */\n  this.results = function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(_ref) {\n      var _ref$capture = _ref.capture,\n          capture = _ref$capture === undefined ? true : _ref$capture;\n      return regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              capture ? _data2.default.setOutputPlaces(['iframe']) : _data2.default.resetDefaultOutput();\n              return _context.abrupt('return', []);\n\n            case 2:\n            case 'end':\n              return _context.stop();\n          }\n        }\n      }, _callee, this);\n    }));\n\n    return function (_x) {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  this.screenshot = function () {\n    var _ref4 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee3(_ref3) {\n      var _this2 = this;\n\n      var _ref3$capture = _ref3.capture,\n          capture = _ref3$capture === undefined ? true : _ref3$capture;\n      var action;\n      return regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              action = 'app:screenshot';\n\n              capture ? this.mapControls.screenshot.control.overwriteOnClickEvent(_asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2() {\n                var blob;\n                return regeneratorRuntime.wrap(function _callee2$(_context2) {\n                  while (1) {\n                    switch (_context2.prev = _context2.next) {\n                      case 0:\n                        _context2.prev = 0;\n                        _context2.next = 3;\n                        return _this2.mapService.createMapImage();\n\n                      case 3:\n                        blob = _context2.sent;\n\n                        _this2.emit('response', {\n                          action: action,\n                          response: {\n                            result: true,\n                            data: blob\n                          }\n                        });\n                        _context2.next = 10;\n                        break;\n\n                      case 7:\n                        _context2.prev = 7;\n                        _context2.t0 = _context2['catch'](0);\n\n                        _this2.emit('response', {\n                          action: action,\n                          response: {\n                            result: false,\n                            data: _context2.t0\n                          }\n                        });\n\n                      case 10:\n                      case 'end':\n                        return _context2.stop();\n                    }\n                  }\n                }, _callee2, _this2, [[0, 7]]);\n              }))) : this.mapControls.screenshot.control.resetOriginalOnClickEvent();\n\n            case 2:\n            case 'end':\n              return _context3.stop();\n          }\n        }\n      }, _callee3, this);\n    }));\n\n    return function (_x2) {\n      return _ref4.apply(this, arguments);\n    };\n  }();\n\n  /**\n   * Eventually send as param the projection in which we would like get center of map\n   * @param params\n   * @returns {Promise<void>}\n   */\n  this.getcenter = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee4() {\n    var params = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    return regeneratorRuntime.wrap(function _callee4$(_context4) {\n      while (1) {\n        switch (_context4.prev = _context4.next) {\n          case 0:\n            return _context4.abrupt('return', this.mapService.getCenter());\n\n          case 1:\n          case 'end':\n            return _context4.stop();\n        }\n      }\n    }, _callee4, this);\n  }));\n\n  /**\n   * Zoom to coordinates\n   * @param params\n   * @returns {Promise<[]>}\n   */\n  this.zoomtocoordinates = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee5() {\n    var params = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    var _params$coordinates, coordinates, _params$highlight, highlight;\n\n    return regeneratorRuntime.wrap(function _callee5$(_context5) {\n      while (1) {\n        switch (_context5.prev = _context5.next) {\n          case 0:\n            _params$coordinates = params.coordinates, coordinates = _params$coordinates === undefined ? [] : _params$coordinates, _params$highlight = params.highlight, highlight = _params$highlight === undefined ? false : _params$highlight;\n\n            if (!(coordinates && Array.isArray(coordinates) && coordinates.length === 2)) {\n              _context5.next = 6;\n              break;\n            }\n\n            this.mapService.zoomTo(coordinates);\n            return _context5.abrupt('return', coordinates);\n\n          case 6:\n            return _context5.abrupt('return', Promise.reject(coordinates));\n\n          case 7:\n          case 'end':\n            return _context5.stop();\n        }\n      }\n    }, _callee5, this);\n  }));\n\n  /**\n   * Eventually send as param the projection in which we would like get center of map\n   * @param params\n   * @returns {Promise<void>}\n   */\n  this.getextent = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee6() {\n    var params = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    return regeneratorRuntime.wrap(function _callee6$(_context6) {\n      while (1) {\n        switch (_context6.prev = _context6.next) {\n          case 0:\n            return _context6.abrupt('return', this.mapService.getMapExtent());\n\n          case 1:\n          case 'end':\n            return _context6.stop();\n        }\n      }\n    }, _callee6, this);\n  }));\n\n  /**\n   *\n   * @param params\n   * @returns {Promise<[]>}\n   */\n  this.zoomtoextent = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee7() {\n    var params = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    var _params$extent, extent;\n\n    return regeneratorRuntime.wrap(function _callee7$(_context7) {\n      while (1) {\n        switch (_context7.prev = _context7.next) {\n          case 0:\n            _params$extent = params.extent, extent = _params$extent === undefined ? [] : _params$extent;\n\n            if (!(extent && Array.isArray(extent) && extent.length === 4)) {\n              _context7.next = 6;\n              break;\n            }\n\n            this.mapService.goToBBox(extent);\n            return _context7.abrupt('return', extent);\n\n          case 6:\n            return _context7.abrupt('return', Promise.reject(extent));\n\n          case 7:\n          case 'end':\n            return _context7.stop();\n        }\n      }\n    }, _callee7, this);\n  }));\n\n  //method to zoom to features\n  this.zoomtofeature = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee9() {\n    var _this3 = this;\n\n    var params = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    return regeneratorRuntime.wrap(function _callee9$(_context9) {\n      while (1) {\n        switch (_context9.prev = _context9.next) {\n          case 0:\n            return _context9.abrupt('return', new Promise(function () {\n              var _ref11 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee8(resolve, reject) {\n                var qgs_layer_id, feature, _params$highlight2, highlight, response;\n\n                return regeneratorRuntime.wrap(function _callee8$(_context8) {\n                  while (1) {\n                    switch (_context8.prev = _context8.next) {\n                      case 0:\n                        qgs_layer_id = params.qgs_layer_id, feature = params.feature, _params$highlight2 = params.highlight, highlight = _params$highlight2 === undefined ? false : _params$highlight2;\n\n                        qgs_layer_id = _this3.getQgsLayerId({\n                          qgs_layer_id: qgs_layer_id\n                        });\n\n                        _context8.next = 4;\n                        return _this3.findFeaturesWithGeometry({\n                          qgs_layer_id: qgs_layer_id,\n                          feature: feature,\n                          zoom: true,\n                          highlight: highlight\n                        });\n\n                      case 4:\n                        response = _context8.sent;\n\n\n                        resolve(response.qgs_layer_id);\n\n                      case 6:\n                      case 'end':\n                        return _context8.stop();\n                    }\n                  }\n                }, _callee8, _this3);\n              }));\n\n              return function (_x8, _x9) {\n                return _ref11.apply(this, arguments);\n              };\n            }()));\n\n          case 1:\n          case 'end':\n            return _context9.stop();\n        }\n      }\n    }, _callee9, this);\n  }));\n}\n\ninherit(AppService, BaseService);\n\nexports.default = new AppService();\n\n},{\"core/iframe/services/baseservice\":15,\"core/utils/utils\":68,\"services/data\":358}],363:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; } /**\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                            * @file\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                            * @since v3.6\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                            */\n\nvar BasePluginService = require('core/iframe/services/plugins/service');\n\nvar _g3wsdk$core$utils = g3wsdk.core.utils,\n    base = _g3wsdk$core$utils.base,\n    inherit = _g3wsdk$core$utils.inherit;\n\n\nfunction EditingService() {\n  var _this2 = this;\n\n  base(this);\n  this.pluginName = 'editing';\n  this.subscribevents = [];\n  this.isRunning = false;\n  this.responseObject = {\n    cb: null, // resolve or reject promise method\n    qgs_layer_id: null,\n    error: null\n  };\n  this.config = {\n    tools: {\n      add: {\n        disabled: [{\n          id: 'deletefeature'\n        }, {\n          id: 'copyfeatures'\n        }, {\n          id: 'editmultiattributes'\n        }, {\n          id: 'deletePart'\n        }, {\n          id: 'splitfeature'\n        }, {\n          id: 'mergefeatures'\n        }]\n      },\n      update: {\n        disabled: [{\n          id: 'addfeature'\n        }, {\n          id: 'copyfeatures'\n        }, {\n          id: 'deletefeature'\n        }, {\n          id: 'editmultiattributes'\n        }, {\n          id: 'deletePart'\n        }, {\n          id: 'splitfeature'\n        }, {\n          id: 'mergefeatures'\n        }]\n      },\n      delete: {\n        enabled: [{\n          id: 'deletefeature',\n          options: {\n            active: true\n          }\n        }]\n      }\n    }\n  };\n\n  // METHODS CALLED FROM EACH ACTION METHOD\n  // run before each action\n  this.startAction = function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(_ref) {\n      var _this = this;\n\n      var toolboxes = _ref.toolboxes,\n          resolve = _ref.resolve,\n          reject = _ref.reject;\n      return regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              this.responseObject.cb = reject;\n              // set same mode autosave\n              this.dependencyApi.setSaveConfig({\n                cb: {\n                  done: function done(toolbox) {\n                    //set toolbox id\n                    _this.responseObject.cb = resolve;\n                    _this.responseObject.qgs_layer_id = toolbox.getId();\n                    _this.responseObject.error = null;\n                    // close panel that fire closeediting panel event\n                    _this.dependencyApi.hidePanel();\n                  }, // called when commit changes is done successuffly\n                  error: function error(toolbox, _error) {\n                    _this.responseObject.cb = reject;\n                    _this.responseObject.qgs_layer_id = toolbox.getId();\n                    _this.responseObject.error = _error;\n                  } // called whe commit change receive an error\n                }\n              });\n              // set toolboxes visible base on value of qgs_layer_id\n              this.dependencyApi.showPanel({\n                toolboxes: toolboxes\n              });\n              this.isRunning = true;\n\n            case 4:\n            case 'end':\n              return _context.stop();\n          }\n        }\n      }, _callee, this);\n    }));\n\n    return function (_x) {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  //run after each action\n  this.stopAction = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2() {\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    var qgs_layer_id;\n    return regeneratorRuntime.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            qgs_layer_id = options.qgs_layer_id;\n            _context2.t0 = qgs_layer_id;\n\n            if (!_context2.t0) {\n              _context2.next = 5;\n              break;\n            }\n\n            _context2.next = 5;\n            return this.stopEditing(qgs_layer_id);\n\n          case 5:\n          case 'end':\n            return _context2.stop();\n        }\n      }\n    }, _callee2, this);\n  }));\n\n  //// subscribers handlers\n  this.subscribersHandlers = {\n    canUndo: function canUndo(_ref4) {\n      var activeTool = _ref4.activeTool,\n          _ref4$disableToolboxe = _ref4.disableToolboxes,\n          disableToolboxes = _ref4$disableToolboxe === undefined ? [] : _ref4$disableToolboxe;\n      return function (bool) {\n        //set currenttoolbocx id in editing to null\n        if (bool === false) {\n          _this2.responseObject.qgs_layer_id = null;\n          _this2.responseObject.error = null;\n        }\n        activeTool.setEnabled(!bool);\n        disableToolboxes.forEach(function (toolbox) {\n          return toolbox.setEditing(!bool);\n        });\n      };\n    },\n    canRedo: function canRedo() {},\n    cancelform: function cancelform(cb) {\n      return function () {\n        cb();\n      };\n    }, //run callback\n    addfeature: function addfeature() {\n      var _ref5 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          properties = _ref5.properties,\n          toolboxes = _ref5.toolboxes;\n\n      return function (feature) {\n        Object.keys(properties).forEach(function (property) {\n          return feature.set(property, properties[property]);\n        });\n        var activeTool = void 0;\n        var disableToolboxes = [];\n        toolboxes.forEach(function (toolbox) {\n          var addFeatureTool = toolbox.getToolById('addfeature');\n          if (addFeatureTool.isActive()) {\n            addFeatureTool.setEnabled(false);\n            activeTool = addFeatureTool;\n          } else {\n            toolbox.setEditing(false);\n            disableToolboxes.push(toolbox);\n          }\n        });\n        //just one time\n        if (_this2.subscribevents.find(function (eventObject) {\n          return eventObject.event !== 'canUndo';\n        })) {\n          var handler = _this2.addSubscribeEvents('canUndo', {\n            activeTool: activeTool,\n            disableToolboxes: disableToolboxes\n          });\n          _this2.addSubscribeEvents('cancelform', handler);\n        }\n      };\n    },\n    closeeditingpanel: function closeeditingpanel(_ref6) {\n      var qgs_layer_id = _ref6.qgs_layer_id;\n      return function () {\n        // response to router service\n        _this2.responseObject.cb({\n          qgs_layer_id: _this2.responseObject.qgs_layer_id,\n          error: _this2.responseObject.error\n        });\n        // stop action\n        _this2.stopAction({ qgs_layer_id: qgs_layer_id });\n      };\n    }\n  };\n\n  // method to add subscribe refenrence\n  this.addSubscribeEvents = function (event) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    var handler = this.subscribersHandlers[event](options);\n    this.dependencyApi.subscribe(event, handler);\n    this.subscribevents.push({\n      event: event,\n      handler: handler\n    });\n    return handler;\n  };\n\n  /**\n   * Reset subscriber editing plugin events\n   */\n  this.resetSubscribeEvents = function () {\n    var _this3 = this;\n\n    this.subscribevents.forEach(function (_ref7) {\n      var event = _ref7.event,\n          handler = _ref7.handler;\n\n      _this3.dependencyApi.unsubscribe(event, handler);\n    });\n  };\n\n  /**\n   * Method called whe we want add a feature\n   * @param options\n   * @returns {Promise<void>}\n   */\n  this.add = function () {\n    var _this4 = this;\n\n    var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    return new Promise(function () {\n      var _ref8 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee3(resolve, reject) {\n        var configQglLayerId, data, properties, qgs_layer_id, options, toolboxes, toolbox;\n        return regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                if (!_this4.isRunning) {\n                  _context3.next = 4;\n                  break;\n                }\n\n                reject();\n                _context3.next = 19;\n                break;\n\n              case 4:\n                // extract qgslayerid from configuration message\n                configQglLayerId = config.qgs_layer_id, data = _objectWithoutProperties(config, ['qgs_layer_id']);\n                properties = data.properties;\n                qgs_layer_id = _this4.getQgsLayerId({\n                  qgs_layer_id: configQglLayerId,\n                  noValue: _this4.dependencyApi.getEditableLayersId()\n                });\n                //call method common\n\n                _context3.next = 9;\n                return _this4.startAction({\n                  toolboxes: qgs_layer_id,\n                  resolve: resolve,\n                  reject: reject\n                });\n\n              case 9:\n\n                // create options\n                options = {\n                  tools: _this4.config.tools.add,\n                  startstopediting: false,\n                  action: 'add',\n                  selected: qgs_layer_id.length === 1\n                };\n                // return all toolboxes\n\n                _context3.next = 12;\n                return _this4.startEditing(qgs_layer_id, options);\n\n              case 12:\n                toolboxes = _context3.sent;\n\n                toolboxes = toolboxes.filter(function (toolboxPromise) {\n                  return toolboxPromise.status === 'fulfilled';\n                }).map(function (toolboxPromise) {\n                  return toolboxPromise.value;\n                });\n                !_gui2.default.isSidebarVisible() && _gui2.default.showSidebar();\n                toolbox = toolboxes.length === 1 && toolboxes[0];\n\n                toolbox && toolbox.setActiveTool(toolbox.getToolById('addfeature'));\n                // // in case of no feature add avent subscribe\n                _this4.addSubscribeEvents('addfeature', { properties: properties, toolboxes: toolboxes });\n                _this4.addSubscribeEvents('closeeditingpanel', { qgs_layer_id: qgs_layer_id });\n\n              case 19:\n              case 'end':\n                return _context3.stop();\n            }\n          }\n        }, _callee3, _this4);\n      }));\n\n      return function (_x6, _x7) {\n        return _ref8.apply(this, arguments);\n      };\n    }());\n  };\n\n  /**\n   * Method called when we want update a know feature field\n   * @param config\n   * @returns {Promise<unknown>}\n   */\n  this.update = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee5() {\n    var _this5 = this;\n\n    var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    return regeneratorRuntime.wrap(function _callee5$(_context5) {\n      while (1) {\n        switch (_context5.prev = _context5.next) {\n          case 0:\n            return _context5.abrupt('return', new Promise(function () {\n              var _ref10 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee4(resolve, reject) {\n                var configQglLayerId, data, feature, qgs_layer_id, response, found, options;\n                return regeneratorRuntime.wrap(function _callee4$(_context4) {\n                  while (1) {\n                    switch (_context4.prev = _context4.next) {\n                      case 0:\n                        if (!_this5.isRunning) {\n                          _context4.next = 4;\n                          break;\n                        }\n\n                        reject();\n                        _context4.next = 22;\n                        break;\n\n                      case 4:\n                        configQglLayerId = config.qgs_layer_id, data = _objectWithoutProperties(config, ['qgs_layer_id']);\n                        feature = data.feature;\n                        qgs_layer_id = _this5.getQgsLayerId({\n                          qgs_layer_id: configQglLayerId,\n                          noValue: _this5.dependencyApi.getEditableLayersId()\n                        });\n                        _context4.next = 9;\n                        return _this5.findFeaturesWithGeometry({\n                          qgs_layer_id: qgs_layer_id,\n                          feature: feature,\n                          zoom: true,\n                          highlight: true,\n                          selected: qgs_layer_id.length === 1 // set selected toolbox\n                        });\n\n                      case 9:\n                        response = _context4.sent;\n                        found = response.found;\n\n                        if (!found) {\n                          _context4.next = 21;\n                          break;\n                        }\n\n                        _context4.next = 14;\n                        return _this5.startAction({\n                          toolboxes: [response.qgs_layer_id],\n                          resolve: resolve,\n                          reject: reject\n                        });\n\n                      case 14:\n\n                        // create options\n                        options = {\n                          feature: feature,\n                          tools: _this5.config.tools.update,\n                          startstopediting: false,\n                          action: 'update'\n                        };\n\n                        // return all toolboxes\n\n                        _context4.next = 17;\n                        return _this5.startEditing([response.qgs_layer_id], options);\n\n                      case 17:\n                        !_gui2.default.isSidebarVisible() && _gui2.default.showSidebar();\n                        _this5.addSubscribeEvents('closeeditingpanel', {\n                          qgs_layer_id: [response.qgs_layer_id]\n                        });\n                        _context4.next = 22;\n                        break;\n\n                      case 21:\n                        reject();\n\n                      case 22:\n                      case 'end':\n                        return _context4.stop();\n                    }\n                  }\n                }, _callee4, _this5);\n              }));\n\n              return function (_x9, _x10) {\n                return _ref10.apply(this, arguments);\n              };\n            }()));\n\n          case 1:\n          case 'end':\n            return _context5.stop();\n        }\n      }\n    }, _callee5, this);\n  }));\n\n  this.delete = function () {};\n\n  /**\n   * Start editing called when we want to start editing\n   * @param qgs_layer_id\n   * @param options\n   * @returns {Promise<unknown|void>}\n   */\n  this.startEditing = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee6() {\n    var _this6 = this;\n\n    var qgs_layer_id = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    var _options$action, action, feature, filter, startEditingPromise;\n\n    return regeneratorRuntime.wrap(function _callee6$(_context6) {\n      while (1) {\n        switch (_context6.prev = _context6.next) {\n          case 0:\n            _options$action = options.action, action = _options$action === undefined ? 'add' : _options$action, feature = options.feature;\n            filter = {};\n\n            options.filter = filter;\n            _context6.t0 = action;\n            _context6.next = _context6.t0 === 'add' ? 6 : _context6.t0 === 'update' ? 8 : 10;\n            break;\n\n          case 6:\n            filter.nofeatures = true;\n            return _context6.abrupt('break', 10);\n\n          case 8:\n            filter.field = feature.field + '|eq|' + feature.value;\n            return _context6.abrupt('break', 10);\n\n          case 10:\n            startEditingPromise = [];\n\n            qgs_layer_id.forEach(function (layerid) {\n              startEditingPromise.push(_this6.dependencyApi.startEditing(layerid, options));\n            });\n            _context6.next = 14;\n            return Promise.allSettled(startEditingPromise);\n\n          case 14:\n            return _context6.abrupt('return', _context6.sent);\n\n          case 15:\n          case 'end':\n            return _context6.stop();\n        }\n      }\n    }, _callee6, this);\n  }));\n\n  /**\n   * Stop editing\n   * @param qgs_layer_id\n   * @returns {Promise<unknown>}\n   */\n  this.stopEditing = function () {\n    var _ref12 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee7(qgs_layer_id) {\n      var _this7 = this;\n\n      var stopEditingPromises;\n      return regeneratorRuntime.wrap(function _callee7$(_context7) {\n        while (1) {\n          switch (_context7.prev = _context7.next) {\n            case 0:\n              stopEditingPromises = [];\n\n              qgs_layer_id.forEach(function (layerid) {\n                stopEditingPromises.push(_this7.dependencyApi.stopEditing(layerid));\n              });\n              _context7.next = 4;\n              return Promise.allSettled(stopEditingPromises);\n\n            case 4:\n              this.clear();\n\n            case 5:\n            case 'end':\n              return _context7.stop();\n          }\n        }\n      }, _callee7, this);\n    }));\n\n    return function (_x13) {\n      return _ref12.apply(this, arguments);\n    };\n  }();\n\n  this.stop = function () {\n    var _this8 = this;\n\n    return new Promise(function (resolve, reject) {\n      _this8.dependencyApi.hidePanel();\n      _gui2.default.hideSidebar();\n      _this8.once('clear', resolve);\n    });\n  };\n\n  /**\n   * Method called wen we want to reset default editing plugin behaviour\n   *\n   * */\n  this.clear = function () {\n    this.dependencyApi.resetDefault();\n    this.isRunning = false;\n    this.responseObject = {\n      cb: null, // resolve or reject promise method\n      qgs_layer_id: null,\n      error: null\n    };\n    this.resetSubscribeEvents();\n    this.emit('clear');\n  };\n}\n\ninherit(EditingService, BasePluginService);\n\nexports.default = new EditingService();\n\n},{\"core/iframe/services/plugins/service\":17,\"services/gui\":361}],364:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; } /**\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                            * @file\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                            * @since v3.6\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                            */\n\nvar _require = require('core/utils/utils'),\n    splitContextAndMethod = _require.splitContextAndMethod,\n    uniqueId = _require.uniqueId;\n\nfunction IframePluginService() {\n  var _this3 = this;\n\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  //project is current project send by application service\n  this.pendingactions = {};\n  this.init = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n    var _this = this;\n\n    var _ref2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        project = _ref2.project;\n\n    var layers, serviceNames, i, service;\n    return regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return _gui2.default.isReady();\n\n          case 2:\n            this.services = require('core/iframe/services/index');\n            //set eventResponse handler to alla services\n            this.eventResponseServiceHandler = function (_ref3) {\n              var action = _ref3.action,\n                  response = _ref3.response;\n\n              _this.postMessage({\n                id: null,\n                action: action,\n                response: response\n              });\n            };\n            /*\n            get layer attributes from project layers state\n             */\n            layers = project.state.layers.map(function (layer) {\n              return {\n                id: layer.id,\n                name: layer.name\n              };\n            });\n            //initialize all service\n\n            serviceNames = Object.keys(this.services);\n            i = 0;\n\n          case 7:\n            if (!(i < serviceNames.length)) {\n              _context.next = 16;\n              break;\n            }\n\n            service = this.services[serviceNames[i]];\n            // set common layer attribute service just one time\n\n            service.getLayers() === undefined && service.setLayers(layers);\n            _context.next = 12;\n            return service.init();\n\n          case 12:\n            service.on('response', this.eventResponseServiceHandler);\n\n          case 13:\n            i++;\n            _context.next = 7;\n            break;\n\n          case 16:\n            /**\n             * Send post message is ready\n             */\n            this.postMessage({\n              id: null,\n              action: \"app:ready\",\n              response: {\n                result: true,\n                data: {\n                  layers: layers\n                }\n              }\n            });\n\n            if (window.addEventListener) window.addEventListener(\"message\", this.getMessage, false);else window.attachEvent(\"onmessage\", this.getMessage);\n\n          case 18:\n          case 'end':\n            return _context.stop();\n        }\n      }\n    }, _callee, this);\n  }));\n\n  /**\n   * Outputplace iframe get by DataRouteService\n   * @param dataPromise\n   * @param options\n   * @returns {Promise<void>}\n   */\n  this.outputDataPlace = function () {\n    var _ref4 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2(dataPromise) {\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n      var _options$action, action, _ref5, result, _ref5$data, data, parser, outputData;\n\n      return regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _options$action = options.action, action = _options$action === undefined ? 'app:results' : _options$action;\n              _context2.next = 3;\n              return dataPromise;\n\n            case 3:\n              _ref5 = _context2.sent;\n              result = _ref5.result;\n              _ref5$data = _ref5.data;\n              data = _ref5$data === undefined ? [] : _ref5$data;\n              parser = new ol.format.GeoJSON();\n              outputData = [];\n\n              try {\n                outputData = data.map(function (_ref6) {\n                  var layer = _ref6.layer,\n                      features = _ref6.features;\n                  return _defineProperty({}, layer.getId(), {\n                    features: parser.writeFeatures(features)\n                  });\n                });\n              } catch (err) {\n                result: false;\n                outputData: err;\n              }\n              this.postMessage({\n                id: null,\n                action: action,\n                response: {\n                  result: result,\n                  data: outputData\n                }\n              });\n\n            case 11:\n            case 'end':\n              return _context2.stop();\n          }\n        }\n      }, _callee2, this);\n    }));\n\n    return function (_x4) {\n      return _ref4.apply(this, arguments);\n    };\n  }();\n\n  // method to post message to parent\n  this.postMessage = function () {\n    var message = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    if (window.parent) window.parent.postMessage(message, \"*\");\n  };\n\n  this.stopPendingActions = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee3() {\n    var _this2 = this;\n\n    var promises;\n    return regeneratorRuntime.wrap(function _callee3$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            promises = [];\n\n            Object.keys(this.pendingactions).forEach(function (id) {\n              var context = _this2.pendingactions[id].context;\n\n              promises.push(_this2.services[context].stop());\n              delete _this2.pendingactions[id];\n            });\n            return _context3.abrupt('return', Promise.allSettled(promises));\n\n          case 3:\n          case 'end':\n            return _context3.stop();\n        }\n      }\n    }, _callee3, this);\n  }));\n\n  // method to handle all message from window\n  this.getMessage = function () {\n    var _ref9 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee4(evt) {\n      var _evt$data, _evt$data$id, id, _evt$data$single, single, action, params, _splitContextAndMetho, context, method, result, data;\n\n      return regeneratorRuntime.wrap(function _callee4$(_context4) {\n        while (1) {\n          switch (_context4.prev = _context4.next) {\n            case 0:\n              if (!(evt && evt.data)) {\n                _context4.next = 24;\n                break;\n              }\n\n              _evt$data = evt.data, _evt$data$id = _evt$data.id, id = _evt$data$id === undefined ? uniqueId() : _evt$data$id, _evt$data$single = _evt$data.single, single = _evt$data$single === undefined ? true : _evt$data$single, action = _evt$data.action, params = _evt$data.data;\n              _splitContextAndMetho = splitContextAndMethod(action), context = _splitContextAndMetho.context, method = _splitContextAndMetho.method;\n              result = false;\n              data = void 0;\n              _context4.prev = 5;\n\n              if (!_this3.services[context].getReady()) {\n                _context4.next = 16;\n                break;\n              }\n\n              _context4.t0 = single;\n\n              if (!_context4.t0) {\n                _context4.next = 11;\n                break;\n              }\n\n              _context4.next = 11;\n              return _this3.stopPendingActions();\n\n            case 11:\n              _this3.pendingactions[id] = {\n                context: context\n              };\n              _context4.next = 14;\n              return _this3.services[context][method](params);\n\n            case 14:\n              data = _context4.sent;\n\n              result = true;\n\n            case 16:\n              _context4.next = 22;\n              break;\n\n            case 18:\n              _context4.prev = 18;\n              _context4.t1 = _context4['catch'](5);\n\n              result = false;\n              data = _context4.t1;\n\n            case 22:\n              _this3.postMessage({\n                id: id,\n                action: action,\n                response: {\n                  result: result,\n                  data: data\n                }\n              });\n              delete _this3.pendingactions[id];\n\n            case 24:\n            case 'end':\n              return _context4.stop();\n          }\n        }\n      }, _callee4, _this3, [[5, 18]]);\n    }));\n\n    return function (_x6) {\n      return _ref9.apply(this, arguments);\n    };\n  }();\n\n  // Called when change map or clear\n  this.clear = function () {\n    var serviceNames = Object.keys(this.services);\n    for (var i = 0; i < serviceNames.length; i++) {\n      var service = this.services[serviceNames[i]];\n      service.off('response', this.eventResponseServiceHandler);\n    }\n    this.stopPendingActions();\n    if (window.removeEventListener) window.removeEventListener(\"message\", this.getMessage, false);else window.detachEvent(\"onmessage\", this.getMessage);\n  };\n}\n\nexports.default = new IframePluginService();\n\n},{\"core/iframe/services/index\":16,\"core/utils/utils\":68,\"services/gui\":361}],365:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\n/**\n * @file\n * @since v3.7\n */\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit;\n\nvar G3WObject = require('core/g3wobject');\n\n// service sidebar\nfunction navbaritemsService() {\n  this.state = {\n    items: {\n      left: [],\n      right: []\n    }\n  };\n  this.addItem = function (item) {\n    var position = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'right';\n\n    this.state.items[position].push(item);\n  };\n\n  base(this);\n}\n\ninherit(navbaritemsService, G3WObject);\n\nexports.default = new navbaritemsService();\n\n},{\"core/g3wobject\":12,\"core/utils/utils\":68}],366:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _catalogLayers = require('store/catalog-layers');\n\nvar _catalogLayers2 = _interopRequireDefault(_catalogLayers);\n\nvar _data2 = require('services/data');\n\nvar _data3 = _interopRequireDefault(_data2);\n\nvar _projects = require('store/projects');\n\nvar _projects2 = _interopRequireDefault(_projects);\n\nvar _application = require('services/application');\n\nvar _application2 = _interopRequireDefault(_application);\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; } /**\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                            * @file\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                            * @since v3.6\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                            */\n\nvar _require = require('core/i18n/i18n.service'),\n    t = _require.t;\n\nvar _require2 = require('core/utils/utils'),\n    uniqueId = _require2.uniqueId,\n    createFilterFromString = _require2.createFilterFromString,\n    XHR = _require2.XHR;\n\nvar QUERYBUILDERSEARCHES = 'QUERYBUILDERSEARCHES';\n\nfunction QueryBuilderService() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  this._cacheValues = {};\n  this._items = _application2.default.getLocalItem(QUERYBUILDERSEARCHES) || {};\n}\n\nvar proto = QueryBuilderService.prototype;\n\nproto.getCurrentProjectItems = function () {\n  var projectId = _projects2.default.getCurrentProject().getId();\n  this._items[projectId] = this._items[projectId] || [];\n  return this._items[projectId];\n};\n\nproto.getItems = function (projectId) {\n  var items = _application2.default.getLocalItem(QUERYBUILDERSEARCHES);\n  projectId = projectId || _projects2.default.getCurrentProject().getId();\n  return items ? items[projectId] || [] : [];\n};\n\nproto._getLayerById = function (layerId) {\n  return _catalogLayers2.default.getLayerById(layerId);\n};\n\nproto.getValues = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n  var _ref2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      layerId = _ref2.layerId,\n      field = _ref2.field;\n\n  var valuesField, layer, dataUrl, response;\n  return regeneratorRuntime.wrap(function _callee$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          this._cacheValues[layerId] = this._cacheValues[layerId] || {};\n          valuesField = this._cacheValues[layerId][field];\n\n          if (!(valuesField === undefined)) {\n            _context.next = 18;\n            break;\n          }\n\n          _context.prev = 3;\n          layer = this._getLayerById(layerId);\n          dataUrl = layer.getUrl('data');\n          _context.next = 8;\n          return XHR.get({\n            url: dataUrl,\n            params: {\n              ordering: field,\n              unique: field\n            }\n          });\n\n        case 8:\n          response = _context.sent;\n\n          if (response.result) this._cacheValues[layerId][field] = this._cacheValues[layerId][field] || response.data;\n          return _context.abrupt('return', this._cacheValues[layerId][field] || []);\n\n        case 13:\n          _context.prev = 13;\n          _context.t0 = _context['catch'](3);\n\n          reject();\n\n        case 16:\n          _context.next = 19;\n          break;\n\n        case 18:\n          return _context.abrupt('return', valuesField);\n\n        case 19:\n        case 'end':\n          return _context.stop();\n      }\n    }\n  }, _callee, this, [[3, 13]]);\n}));\n\nproto.run = function () {\n  var _this = this;\n\n  var _ref3 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      layerId = _ref3.layerId,\n      stringFilter = _ref3.filter,\n      _ref3$showResult = _ref3.showResult,\n      showResult = _ref3$showResult === undefined ? true : _ref3$showResult;\n\n  return new Promise(function () {\n    var _ref4 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2(resolve, reject) {\n      var layer, search_endpoint, filter, _ref5, data;\n\n      return regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              layer = _this._getLayerById(layerId);\n              search_endpoint = layer.getSearchEndPoint();\n              filter = createFilterFromString({\n                layer: layer,\n                search_endpoint: search_endpoint,\n                filter: stringFilter\n              });\n              _context2.prev = 3;\n              _context2.next = 6;\n              return _data3.default.getData('search:features', {\n                inputs: {\n                  layer: layer,\n                  filter: filter,\n                  search_endpoint: search_endpoint,\n                  feature_count: 100\n                },\n                outputs: showResult\n              });\n\n            case 6:\n              _ref5 = _context2.sent;\n              data = _ref5.data;\n\n              resolve(data);\n              _context2.next = 15;\n              break;\n\n            case 11:\n              _context2.prev = 11;\n              _context2.t0 = _context2['catch'](3);\n\n              _gui2.default.showUserMessage({\n                type: 'alert',\n                message: 'sdk.querybuilder.error_run',\n                autoclose: true\n              });\n              reject(_context2.t0);\n\n            case 15:\n            case 'end':\n              return _context2.stop();\n          }\n        }\n      }, _callee2, _this, [[3, 11]]);\n    }));\n\n    return function (_x4, _x5) {\n      return _ref4.apply(this, arguments);\n    };\n  }());\n};\n\nproto.test = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee3() {\n  var _ref7 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      layerId = _ref7.layerId,\n      filter = _ref7.filter;\n\n  var data;\n  return regeneratorRuntime.wrap(function _callee3$(_context3) {\n    while (1) {\n      switch (_context3.prev = _context3.next) {\n        case 0:\n          _context3.prev = 0;\n          _context3.next = 3;\n          return this.run({\n            layerId: layerId,\n            filter: filter,\n            showResult: false\n          });\n\n        case 3:\n          data = _context3.sent;\n          return _context3.abrupt('return', data.length && data[0].features.length);\n\n        case 7:\n          _context3.prev = 7;\n          _context3.t0 = _context3['catch'](0);\n\n          _context3.t0 = t('sdk.querybuilder.error_test');\n          return _context3.abrupt('return', Promise.reject(_context3.t0));\n\n        case 11:\n        case 'end':\n          return _context3.stop();\n      }\n    }\n  }, _callee3, this, [[0, 7]]);\n}));\n\nproto.delete = function () {\n  var _this2 = this;\n\n  var _ref8 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      id = _ref8.id;\n\n  return new Promise(function (resolve, reject) {\n    _gui2.default.dialog.confirm(t('sdk.querybuilder.delete'), function (result) {\n      if (result) {\n        var querybuildersearches = _this2.getItems().filter(function (item) {\n          return item.id !== id;\n        });\n        var projectId = _projects2.default.getCurrentProject().getId();\n        var saveitems = _application2.default.getLocalItem(QUERYBUILDERSEARCHES);\n        if (querybuildersearches.length) saveitems[projectId] = querybuildersearches;else delete saveitems[projectId];\n        if (Object.keys(saveitems).length) _application2.default.setLocalItem({\n          id: QUERYBUILDERSEARCHES,\n          data: saveitems\n        });else _application2.default.removeLocalItem(QUERYBUILDERSEARCHES);\n        resolve();\n      } else reject();\n    });\n  });\n};\n\nproto.editLocalItem = function (projectId, querybuildersearch) {\n  projectId = projectId || _projects2.default.getCurrentProject().getId();\n  var querybuildersearches = _application2.default.getLocalItem(QUERYBUILDERSEARCHES);\n  querybuildersearches[projectId].find(function (_querybuildersearch, index) {\n    if (_querybuildersearch.id === querybuildersearch.id) {\n      querybuildersearches[projectId][index] = querybuildersearch;\n      return true;\n    }\n  });\n  _application2.default.setLocalItem({\n    id: QUERYBUILDERSEARCHES,\n    data: querybuildersearches\n  });\n  this._resetItems(projectId, querybuildersearches[projectId]);\n};\n\nproto._resetItems = function (projectId, querybuildersearches) {\n  var _this3 = this;\n\n  setTimeout(function () {\n    querybuildersearches.forEach(function (querybuildersearch) {\n      return _this3._items[projectId].push(querybuildersearch);\n    });\n  }, 0);\n  this._items[projectId].splice(0);\n};\n\nproto.addLocalItem = function (projectId, querybuildersearch) {\n  querybuildersearch.id = uniqueId();\n  projectId = projectId || _projects2.default.getCurrentProject().getId();\n  var querybuildersearches = _application2.default.getLocalItem(QUERYBUILDERSEARCHES);\n  if (querybuildersearches === undefined) {\n    var _querybuildersearches = [querybuildersearch];\n    _application2.default.setLocalItem({\n      id: QUERYBUILDERSEARCHES,\n      data: _defineProperty({}, projectId, _querybuildersearches)\n    });\n    this._resetItems(projectId, _querybuildersearches);\n  } else {\n    querybuildersearches[projectId] = querybuildersearches[projectId] ? [].concat(_toConsumableArray(querybuildersearches[projectId]), [querybuildersearch]) : [querybuildersearch];\n    _application2.default.setLocalItem({\n      id: QUERYBUILDERSEARCHES,\n      data: querybuildersearches\n    });\n    this._resetItems(projectId, querybuildersearches[projectId]);\n  }\n};\n\nproto.save = function () {\n  var _this4 = this;\n\n  var _ref9 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      id = _ref9.id,\n      name = _ref9.name,\n      layerId = _ref9.layerId,\n      filter = _ref9.filter,\n      projectId = _ref9.projectId;\n\n  var layerName = this._getLayerById(layerId).getName();\n  var querybuildersearch = {\n    layerId: layerId,\n    filter: filter,\n    layerName: layerName\n  };\n  if (id) {\n    querybuildersearch.name = name;\n    querybuildersearch.id = id;\n    this.editLocalItem(projectId, querybuildersearch);\n    _gui2.default.showUserMessage({\n      type: 'success',\n      message: t(\"sdk.querybuilder.messages.changed\"),\n      autoclose: true\n    });\n    return;\n  }\n  _gui2.default.dialog.prompt(t('sdk.querybuilder.additem'), function (result) {\n    if (result) {\n      var searchService = _gui2.default.getComponent('search').getService();\n      querybuildersearch.name = result;\n      searchService.addQueryBuilderSearch(querybuildersearch);\n      _this4.addLocalItem(projectId, querybuildersearch);\n      _gui2.default.showUserMessage({\n        type: 'success',\n        message: t(\"sdk.querybuilder.messages.changed\"),\n        autoclose: true\n      });\n    }\n  });\n};\n\nproto.all = function () {};\n\nproto.sample = function () {};\n\nproto.clear = function () {\n  this._cacheValues = {};\n};\n\nproto.add = function () {};\n\nexports.default = new QueryBuilderService();\n\n},{\"core/i18n/i18n.service\":13,\"core/utils/utils\":68,\"services/application\":351,\"services/data\":358,\"services/gui\":361,\"store/catalog-layers\":374,\"store/projects\":379}],367:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _catalogLayers = require('store/catalog-layers');\n\nvar _catalogLayers2 = _interopRequireDefault(_catalogLayers);\n\nvar _projects = require('store/projects');\n\nvar _projects2 = _interopRequireDefault(_projects);\n\nvar _data = require('services/data');\n\nvar _data2 = _interopRequireDefault(_data);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; } /**\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                            * @file\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                            * @since v3.6\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                            */\n\nvar _require = require('core/utils/utils'),\n    inherit = _require.inherit,\n    XHR = _require.XHR,\n    base = _require.base,\n    createSingleFieldParameter = _require.createSingleFieldParameter;\n\nvar _require2 = require('core/utils/geo'),\n    sanitizeFidFeature = _require2.sanitizeFidFeature,\n    getAlphanumericPropertiesFromFeature = _require2.getAlphanumericPropertiesFromFeature;\n\nvar G3WObject = require('core/g3wobject');\n\nfunction RelationsService() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  base(this);\n}\n\ninherit(RelationsService, G3WObject);\n\nvar proto = RelationsService.prototype;\n\nproto.createUrl = function () {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  var currentProject = _projects2.default.getCurrentProject();\n  // type : <editing, data, xls>\n  var _options$layer = options.layer,\n      layer = _options$layer === undefined ? {} : _options$layer,\n      _options$relation = options.relation,\n      relation = _options$relation === undefined ? {} : _options$relation,\n      fid = options.fid,\n      _options$type = options.type,\n      type = _options$type === undefined ? 'data' : _options$type,\n      _options$formatter = options.formatter,\n      formatter = _options$formatter === undefined ? 1 : _options$formatter;\n\n  var layerId = void 0;\n  var father = relation.father,\n      child = relation.child,\n      referencedLayer = relation.referencedLayer,\n      referencingLayer = relation.referencingLayer,\n      relationId = relation.id;\n\n  if (father !== undefined) layerId = layer.id === father ? child : father;else layerId = layer.id === referencedLayer ? referencingLayer : referencedLayer;\n  var dataUrl = currentProject.getLayerById(layerId).getUrl(type);\n  var value = sanitizeFidFeature(fid);\n  return dataUrl + '?relationonetomany=' + relationId + '|' + value + '&formatter=' + formatter;\n};\n\nproto.getRelations = function () {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  var url = this.createUrl(options);\n  return XHR.get({\n    url: url\n  });\n};\n\n/**\n * Get relations NM\n * @param nmRelation\n * @param features\n * @returns {Promise<[]>}\n */\nproto.getRelationsNM = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n  var _ref2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      nmRelation = _ref2.nmRelation,\n      _ref2$features = _ref2.features,\n      features = _ref2$features === undefined ? [] : _ref2$features;\n\n  var referencedLayer, referencingLayer, _nmRelation$fieldRef, referencingField, referencedField, relationsNM, values, responseFids;\n\n  return regeneratorRuntime.wrap(function _callee$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          referencedLayer = nmRelation.referencedLayer, referencingLayer = nmRelation.referencingLayer, _nmRelation$fieldRef = nmRelation.fieldRef, referencingField = _nmRelation$fieldRef.referencingField, referencedField = _nmRelation$fieldRef.referencedField;\n          relationsNM = []; // start with empty relations result\n\n          if (!features.length) {\n            _context.next = 8;\n            break;\n          }\n\n          values = features.map(function (feature) {\n            return feature.attributes[referencingField];\n          });\n          _context.next = 6;\n          return _data2.default.getData('search:features', {\n            inputs: {\n              layer: _catalogLayers2.default.getLayerById(referencedLayer),\n              filter: '' + createSingleFieldParameter({\n                field: referencedField,\n                value: values,\n                logicop: 'OR'\n              }),\n              formatter: 1, // set formatter to\n              search_endpoint: 'api'\n            },\n            outputs: null\n          });\n\n        case 6:\n          responseFids = _context.sent;\n\n          if (responseFids.data && responseFids.data[0] && Array.isArray(responseFids.data[0].features)) {\n            relationsNM = responseFids.data[0].features.map(function (feature) {\n              var attributes = getAlphanumericPropertiesFromFeature(feature.getProperties()).reduce(function (accumulator, property) {\n                accumulator[property] = feature.get(property);\n                return accumulator;\n              }, {});\n              return {\n                id: feature.getId(),\n                attributes: attributes,\n                geometry: feature.getGeometry()\n              };\n            });\n          }\n\n        case 8:\n          return _context.abrupt('return', relationsNM);\n\n        case 9:\n        case 'end':\n          return _context.stop();\n      }\n    }\n  }, _callee, this);\n}));\n\nproto.save = function () {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  var url = this.createUrl(options);\n  return XHR.fileDownload({\n    url: url,\n    httpMethod: \"GET\"\n  });\n};\n\nexports.default = new RelationsService();\n\n},{\"core/g3wobject\":12,\"core/utils/geo\":64,\"core/utils/utils\":68,\"services/data\":358,\"store/catalog-layers\":374,\"store/projects\":379}],368:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\n/**\n * @file\n * @since v3.6\n */\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit,\n    Base64 = _require.Base64;\n\nvar G3WObject = require('core/g3wobject');\n\n/*\n * RouterService based on  History.js (https://github.com/browserstate/history.js) e Crossroads (https://github.com/millermedeiros/crossroads.js)\n * Base concept is RouteQuery, example \"map?point=21.2,42.1&zoom=12\",\n * it inserts into browser and URL as quesrystring (q=map@point!21.2,41.1|zoom!12).\n * To run RouteQuery:\n *\n * RouterService.goto(\"map?point=21.2,42.1&zoom=12\");\n *\n *To listen to router has to be add  RouterService.addRoute(pattern, callback). Es.:\n *\n * var route = RouterService.addRoute('map/{?query}',function(query){\n *  console.log(query.point);\n *  console.log(query.zoom);\n * });\n *\n * Patterns:\n *  \"map/{foo}\": la porzione \"foo\" is request, and is passed as parameter in callback\n *  \"map/:foo:\": la porzione \"foo\" è optional, \n *  \"map/:foo*: \n *  \"map/{?querystring}\": mandatory\n *  \"map/:?querystring:\": optionals\n *\n * to remove  route:\n * RouterService.removeRoute(route);\n*/\n\ncrossroads.ignoreState = true;\ncrossroads.greedy = true;\n\nvar RouterService = function RouterService() {\n\n  this._initialLocationQuery;\n  this._routeQuery = '';\n  this.setters = {\n    setRouteQuery: function setRouteQuery(routeQuery) {\n      this._routeQuery = routeQuery;\n      crossroads.parse(routeQuery);\n    }\n  };\n\n  base(this);\n};\ninherit(RouterService, G3WObject);\n\nvar proto = RouterService.prototype;\n\nproto.init = function () {\n  //Return the querystring part of a URL\n  var query = window.location.search;\n  this._setRouteQueryFromLocationQuery(query);\n};\n\nproto.addRoute = function (pattern, handler, priority) {\n  return crossroads.addRoute(pattern, handler, priority);\n};\n\nproto.removeRoute = function (route) {\n  return crossroads.removeRoute(route);\n};\n\nproto.removeAllRoutes = function () {\n  return crossroads.removeAllRoutes();\n};\n\nproto.parse = function (request, defaultArgs) {\n  return crossroads.parse(request, defaultArgs);\n};\n\nproto.goto = function (routeQuery) {\n  if (!this._initialQuery) {\n    this._initialLocationQuery = this._stripInitialQuery(location.search.substring(1));\n  }\n  if (routeQuery) {\n    this.setRouteQuery(routeQuery);\n  }\n};\n\nproto.makePermalink = function (routeQuery) {\n  if (!this._initialQuery) {\n    this._initialLocationQuery = this._stripInitialQuery(location.search.substring(1));\n  }\n  var encodedRouteQuery = this._encodeRouteQuery(routeQuery);\n  //encodedRouteQuery = Base64.encode(encodedRouteQuery);\n  return '?' + this._initialLocationQuery + '&q=' + this._encodeRouteQuery(routeQuery);\n};\n\nproto.makeQueryString = function (queryParams) {};\n\nproto.slicePath = function (path) {\n  return path.split('?')[0].split('/');\n};\n\nproto.sliceFirst = function (path) {\n  var pathAndQuery = path.split('?');\n  var queryString = pathAndQuery[1];\n  var pathArr = pathAndQuery[0].split('/');\n  var firstPath = pathArr[0];\n  path = pathArr.slice(1).join('/');\n  path = [path, queryString].join('?');\n  return [firstPath, path];\n};\n\nproto.getQueryParams = function (query) {\n  query = query.replace('?', '');\n  var queryParams = {};\n  var queryPairs = [];\n  if (query != \"\" && query.indexOf(\"&\") == -1) {\n    queryPairs = [query];\n  } else {\n    queryPairs = query.split('&');\n  }\n  try {\n    _.forEach(queryPairs, function (queryPair) {\n      var pair = queryPair.split('=');\n      var key = pair[0];\n      var value = pair[1];\n      queryParams[key] = value;\n    });\n  } catch (e) {}\n  return queryParams;\n};\n\nproto.getQueryString = function (path) {\n  return path.split('?')[1];\n};\n\nproto._getQueryPortion = function (query, queryKey) {\n  var queryPortion;\n  try {\n    var queryPairs = query.split('&');\n    var queryParams = {};\n    _.forEach(queryPairs, function (queryPair) {\n      var pair = queryPair.split('=');\n      var key = pair[0];\n      if (key == queryKey) {\n        queryPortion = queryPair;\n      }\n    });\n  } catch (e) {}\n  return queryPortion;\n};\n\nproto._encodeRouteQuery = function (routeQuery) {\n  routeQuery = routeQuery.replace('?', '@');\n  routeQuery = routeQuery.replace('&', '|');\n  routeQuery = routeQuery.replace('=', '!');\n  return routeQuery;\n};\n\nproto._decodeRouteQuery = function (routeQuery) {\n  routeQuery = routeQuery.replace('@', '?');\n  routeQuery = routeQuery.replace('|', '&');\n  routeQuery = routeQuery.replace('!', '=');\n  return routeQuery;\n};\n\nproto._setRouteQueryFromLocationQuery = function (locationQuery) {\n  var encodedRouteQuery = this._getRouteQueryFromLocationQuery(locationQuery);\n  //encodedRouteQuery = Base64.decode(encodedRouteQuery);\n  if (encodedRouteQuery) {\n    var routeQuery = this._decodeRouteQuery(encodedRouteQuery);\n    this.setRouteQuery(routeQuery);\n  }\n};\n\nproto._getRouteQueryFromLocationQuery = function (locationQuery) {\n  return this.getQueryParams(locationQuery)['q'];\n};\n\nproto._stripInitialQuery = function (locationQuery) {\n  var previousQuery = this._getQueryPortion(locationQuery, 'q');\n  if (previousQuery) {\n    var previousQueryLength = previousQuery.length;\n    var previousQueryPosition = locationQuery.indexOf(previousQuery);\n    queryPrefix = _.trimEnd(locationQuery.substring(0, previousQueryPosition), \"&\");\n    querySuffix = locationQuery.substring(previousQueryPosition + previousQueryLength);\n    querySuffix = queryPrefix != \"\" ? querySuffix : _.trimStart(querySuffix, \"&\");\n    locationQuery = queryPrefix + querySuffix;\n  }\n  return locationQuery;\n};\n\nexports.default = new RouterService();\n\n},{\"core/g3wobject\":12,\"core/utils/utils\":68}],369:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; /**\n                                                                                                                                                                                                                                                                   * @file\n                                                                                                                                                                                                                                                                   * @since v3.7\n                                                                                                                                                                                                                                                                   */\n\nvar _SidebarItem = require('components/SidebarItem.vue');\n\nvar _SidebarItem2 = _interopRequireDefault(_SidebarItem);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit;\n\nvar _require2 = require('gui/utils/utils'),\n    Stack = _require2.barstack;\n\nvar G3WObject = require('core/g3wobject');\n\n/**\n * TODO: temporary need to remove it\n */\nvar SidebarItem = Vue.extend(_SidebarItem2.default);\n\nfunction SidebarService() {\n  //set sidebar stack\n  this.stack = new Stack();\n  // set setter for close sidebarpanel to catch event\n  // of closing panel of the sidebar\n  this.setters = {\n    closeSidebarPanel: function closeSidebarPanel() {},\n    openCloseItem: function openCloseItem(bool) {}\n  };\n  //service state\n  this.state = {\n    components: [],\n    gui: {\n      title: ''\n    },\n    disabled: false\n  };\n  //inizialize method\n  this.init = function (layout) {\n    this.layout = layout;\n  };\n  // add component to sidebar\n  this.addComponents = function (components) {\n    var _this = this;\n\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    //for each component of the sidebar it is call addComponent method\n    components.forEach(function (component) {\n      return _this.addComponent(component, options);\n    });\n    return true;\n  };\n  // add each component to the sidebar\n  // add also position insiede the sidebar\n  this.addComponent = function (component) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    var position = options.position,\n        _options$before = options.before,\n        before = _options$before === undefined ? true : _options$before,\n        info = options.info;\n\n    if (isMobile.any && !component.mobile) {\n      return false;\n    }\n    var sidebarItem = new SidebarItem({\n      service: this,\n      info: info,\n      component: component\n    });\n    sidebarItem.title = component.title || sidebarItem.title;\n    sidebarItem.info = component.info || sidebarItem.info;\n    sidebarItem.actions = component.actions || sidebarItem.actions;\n    sidebarItem.open = component.state.open; //(component.open === undefined) ? sidebarItem.open : component.open;\n    sidebarItem.icon = component.icon || sidebarItem.icon;\n    sidebarItem.iconColor = component.iconColor;\n    sidebarItem.state = component.state || true;\n    sidebarItem.collapsible = typeof component.collapsible === 'boolean' ? component.collapsible : true;\n    sidebarItem.isolate = typeof component.isolate === 'boolean' ? component.isolate : false;\n    //append component to  g3w-sidebarcomponents (template sidebar.html)\n    var DOMComponent = sidebarItem.$mount().$el;\n    this.state.components.push(component);\n    var isPanelSidebarShow = $('.g3w-sidebarpanel').is(':visible');\n    var sidebarcomponetsdomid = '#g3w-sidebarcomponents' + (isPanelSidebarShow ? ':hidden' : '');\n    var children = $(sidebarcomponetsdomid).children().filter(function () {\n      return this.style.display !== 'none';\n    });\n    var childrenLength = children.length;\n    if (position === null || position === undefined || position < 0 || position >= childrenLength) $(sidebarcomponetsdomid).append(DOMComponent);else children.each(function (index, element) {\n      var findElementIndexId = Number.isInteger(position) ? position === index : element.id === position;\n      findElementIndexId && $(DOMComponent)['insert' + (before ? 'Before' : 'After')](element);\n    });\n    //mount componet to g3w-sidebarcomponent-placeholder (template sidebar-item.html);\n    component.mount(\"#g3w-sidebarcomponent-placeholder\");\n    // check if componentonent has iniService method\n    component.initService && component.initService();\n    // add click handler\n    this.setComponentClickHandler(component);\n    return true;\n  };\n\n  this.setComponentClickHandler = function (component) {\n    component.click = function () {\n      var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          _ref$open = _ref.open,\n          open = _ref$open === undefined ? false : _ref$open;\n\n      open = open || false;\n      $(component.getInternalComponent().$el).siblings('a').click();\n      component.setOpen(open);\n    };\n  };\n\n  // get component by id\n  this.getComponent = function (id) {\n    return this.state.components.find(function (component) {\n      return component.getId() === id;\n    });\n  };\n\n  // get all components\n  this.getComponents = function () {\n    return this.state.components;\n  };\n\n  /**\n   * close for the moment only conlapsbale\n   */\n  this.closeOpenComponents = function () {\n    var collapsible = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n\n    this.getComponents().forEach(function (component) {\n      return component.closeWhenViewportContentIsOpen() && component.collapsible && component.click({ open: false });\n    });\n  };\n\n  this.reloadComponent = function (id) {\n    var component = this.getComponent(id);\n    component && component.reload();\n  };\n\n  this.reloadComponents = function () {\n    // force close of the panel\n    this.closePanel();\n    this.state.components.forEach(function (component) {\n      if (component.collapsible && component.state.open) component.click({ open: false });\n      component.reload();\n    });\n  };\n  //remove component\n  this.removeComponent = function (component) {\n    var _this2 = this;\n\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    var position = options.position;\n\n    this.state.components.forEach(function (sidebarComponent, index) {\n      if (component === sidebarComponent) {\n        component.unmount();\n        _this2.state.components.splice(index, 1);\n        if (position !== undefined && Number.isInteger(position)) $('#g3w-sidebarcomponents').children(':visible')[position].remove();else $('#g3w-sidebarcomponents').children('#' + component.id).remove();\n        return false;\n      }\n    });\n  };\n  // show panel on stack\n  this.showPanel = function (panel) {\n    var _this3 = this;\n\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    return new Promise(function (resolve, reject) {\n      _this3.state.gui.title = panel.title;\n      var parent = \"#g3w-sidebarpanel-placeholder\";\n      _this3.stack.getCurrentContentData() && $(_this3.stack.getCurrentContentData().content.internalPanel.$el).hide();\n      _this3.stack.push(panel, _extends({\n        parent: parent\n      }, options)).then(function (content) {\n        return resolve(content);\n      });\n    });\n  };\n\n  // close panel\n  this.closePanel = function () {\n    var _this4 = this;\n\n    this.state.gui.title = null;\n    this.closeSidebarPanel();\n    this.stack.pop().then(function (content) {\n      content = null;\n      _this4.stack.getCurrentContentData() && $(_this4.stack.getCurrentContentData().content.internalPanel.$el).show();\n    });\n  };\n\n  this.closeAllPanels = function () {\n    this.state.gui.title = null;\n    this.closeSidebarPanel();\n    this.stack.clear();\n  };\n\n  base(this);\n}\n\ninherit(SidebarService, G3WObject);\n\nexports.default = new SidebarService();\n\n},{\"components/SidebarItem.vue\":295,\"core/g3wobject\":12,\"core/utils/utils\":68,\"gui/utils/utils\":188}],370:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\n/**\n * @file\n * @since v3.6\n */\n\nvar _require = require('core/utils/utils'),\n    XHR = _require.XHR;\n\n/**\n * Singletone service to run async task\n * @constructor\n */\n\n\nfunction TaskService() {\n  /**\n   * Array contain all task id that are running. Each item is an object contain:\n   * {\n   *   taskId: //taskId,\n   *   intervalId: interval to clear clearInterval()\n   * }\n   **/\n  var tasks = [];\n  /**\n   *\n   * @param options: {\n   *   method: http method to run task GET/POST\n   *   url: api request url (that server start in background task)\n   *   taskUrl = url to ask the status og task\n   *   params: Object contain param to http/https request\n   *   interval: interval in milliseconds to do a request for ask status of task (default 10000 - 1 second)\n   *   listener: ()=>{} method to call\n   *\n   * }\n   *\n   * return a Promise that return a task id\n   */\n  this.runTask = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2() {\n    var _this = this;\n\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    var _options$method, method, _options$params, params, url, taskUrl, _options$interval, interval, _options$timeout, timeout, _options$listener, listener, response, result, task_id, intervalId;\n\n    return regeneratorRuntime.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            _options$method = options.method, method = _options$method === undefined ? 'GET' : _options$method, _options$params = options.params, params = _options$params === undefined ? {} : _options$params, url = options.url, taskUrl = options.taskUrl, _options$interval = options.interval, interval = _options$interval === undefined ? 1000 : _options$interval, _options$timeout = options.timeout, timeout = _options$timeout === undefined ? Infinity : _options$timeout, _options$listener = options.listener, listener = _options$listener === undefined ? function () {} : _options$listener;\n            _context2.prev = 1;\n\n            if (!(method === 'GET')) {\n              _context2.next = 8;\n              break;\n            }\n\n            _context2.next = 5;\n            return XHR.get({\n              url: url,\n              params: params\n            });\n\n          case 5:\n            _context2.t0 = _context2.sent;\n            _context2.next = 11;\n            break;\n\n          case 8:\n            _context2.next = 10;\n            return XHR.post({\n              url: url,\n              data: params.data || {},\n              contentType: params.contentType || \"application/json\"\n            });\n\n          case 10:\n            _context2.t0 = _context2.sent;\n\n          case 11:\n            response = _context2.t0;\n            result = response.result, task_id = response.task_id;\n\n            if (!result) {\n              _context2.next = 19;\n              break;\n            }\n\n            intervalId = setInterval(_asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n              var _response;\n\n              return regeneratorRuntime.wrap(function _callee$(_context) {\n                while (1) {\n                  switch (_context.prev = _context.next) {\n                    case 0:\n                      // check if timeout is defined\n                      timeout = timeout - interval;\n\n                      if (!(timeout > 0)) {\n                        _context.next = 15;\n                        break;\n                      }\n\n                      _response = void 0;\n                      _context.prev = 3;\n                      _context.next = 6;\n                      return XHR.get({\n                        url: '' + taskUrl + task_id\n                      });\n\n                    case 6:\n                      _response = _context.sent;\n                      _context.next = 12;\n                      break;\n\n                    case 9:\n                      _context.prev = 9;\n                      _context.t0 = _context['catch'](3);\n\n                      _response = _context.t0;\n\n                    case 12:\n                      listener({\n                        task_id: task_id,\n                        timeout: false,\n                        response: _response\n                      });\n                      _context.next = 17;\n                      break;\n\n                    case 15:\n                      listener({\n                        timeout: true\n                      });\n                      _this.stopTask({\n                        task_id: task_id\n                      });\n\n                    case 17:\n                    case 'end':\n                      return _context.stop();\n                  }\n                }\n              }, _callee, _this, [[3, 9]]);\n            })), interval);\n\n            // add current task to list of task\n\n            tasks.push({\n              task_id: task_id,\n              intervalId: intervalId\n            });\n\n            // run first time listener function\n            listener({\n              task_id: task_id,\n              response: response\n            });\n            _context2.next = 20;\n            break;\n\n          case 19:\n            return _context2.abrupt('return', Promise.reject(response));\n\n          case 20:\n            _context2.next = 25;\n            break;\n\n          case 22:\n            _context2.prev = 22;\n            _context2.t1 = _context2['catch'](1);\n            return _context2.abrupt('return', Promise.reject(_context2.t1));\n\n          case 25:\n          case 'end':\n            return _context2.stop();\n        }\n      }\n    }, _callee2, this, [[1, 22]]);\n  }));\n\n  /**\n   *\n   * @param options: {\n   *   taskId: taskId that is running\n   * }\n   */\n  this.stopTask = function () {\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    var task_id = options.task_id;\n\n    var task = tasks.find(function (task) {\n      return task.task_id === task_id;\n    });\n    if (task) clearInterval(task.intervalId);\n  };\n\n  /**\n   * clare all task\n   */\n  this.clear = function () {\n    var _this2 = this;\n\n    tasks.forEach(function (_ref3) {\n      var taskId = _ref3.taskId;\n\n      _this2.stopTask({\n        taskId: taskId\n      });\n    });\n    //reset to empty tasks\n    tasks.splice(0);\n  };\n}\n\n/**\n * SERVER\n * \"\"\"Returns the (possibly) new layer ID where the isochrone\n data has been added. If the task has not yet completed a status message is returned\n\n Note: `project_id` is only used for permissions checking!\n\n Returns 500 in case of exceptions\n Returns 404 in case of task not found\n Returns 200 ok for all other cases\n\n Response body:\n\n {\n            \"status\": \"complete\",  // or \"pending\" or \"error\", full list at\n                                   // https://huey.readthedocs.io/en/latest/signals.html#signals\n            \"exception\": \"Normally empty, error message in case of errors\",\n            \"progress\": [\n                100,  // Progress %\n            ],\n            \"task_result\": {\n                \"qgis_ayer_id\": \"4f2a88a1-ca93-4859-9de3-75d9728cde0e\"\n            }\n        }\n\n **/\n\nexports.default = new TaskService();\n\n},{\"core/utils/utils\":68}],371:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }(); /**\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          * @file\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          * @since v3.7\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          */\n\nvar _applicationState = require('store/application-state');\n\nvar _applicationState2 = _interopRequireDefault(_applicationState);\n\nvar _constant = require('app/constant');\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit,\n    uniqueId = _require.uniqueId;\n\nvar G3WObject = require('core/g3wobject');\n\nvar ViewportService = function ViewportService() {\n  // state of viewport\n  this.state = {\n    primaryView: 'map', // primary view (default)\n    // percentage of secondary view\n    secondaryPerc: 0, // setted to 0 at beginning (not visible)\n    // used to store if content vertical or horizontal is  changed by resised\n    resized: {\n      start: false,\n      'h': false,\n      'v': false\n    },\n    // splitting orientation (h = horizontal, v = vertical)\n    split: 'h',\n    //map\n    map: {\n      sizes: {\n        width: 0,\n        height: 0\n      },\n      aside: false\n    },\n    //content\n    content: {\n      loading: false,\n      disabled: false,\n      sizes: {\n        width: 0,\n        height: 0\n      },\n      // store the resize vertical or horizontal\n      resize: {\n        'h': {\n          perc: 0\n        },\n        'v': {\n          perc: 0\n        }\n      },\n      aside: true,\n      showgoback: true,\n      stack: [], // array elements of  stack contents\n      closable: true, // (x) is closable\n      backonclose: false, // back on prevoius content\n      contentsdata: [] // content data array\n    },\n    usermessage: {\n      id: null, // unique identify\n      show: false,\n      title: null,\n      message: null,\n      position: null,\n      type: null,\n      draggable: null,\n      cloasable: null,\n      autoclose: null,\n      textMessage: false,\n      hooks: {\n        header: null,\n        body: null,\n        footer: null\n      }\n    }\n  };\n  // content of viewport (map and content)\n  this._components = {\n    map: null,\n    content: null\n  };\n  // default contents\n  this._defaultMapComponent;\n  this._contextualMapComponent;\n\n  // minimun height and width of secondary view\n  this._secondaryViewMinWidth = _constant.VIEWPORT.resize.content.min;\n  this._secondaryViewMinHeight = _constant.VIEWPORT.resize.content.min;\n  this._immediateComponentsLayout = true;\n  this.init = function () {\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    var _options$primaryview = options.primaryview,\n        primaryview = _options$primaryview === undefined ? 'map' : _options$primaryview,\n        _options$split = options.split,\n        split = _options$split === undefined ? 'h' : _options$split,\n        components = options.components;\n    // check if it set primary view (map is default)\n\n    this.state.primaryView = primaryview;\n    // check splitting property\n    this.state.split = split;\n    // add component (map and content)\n    this._addComponents(components);\n  };\n\n  // Method to set true or false of content\n  this.setResized = function (type) {\n    var bool = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n    this.state.resized[type] = bool;\n  };\n\n  this.showUserMessage = function () {\n    var _this = this;\n\n    var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        title = _ref.title,\n        subtitle = _ref.subtitle,\n        message = _ref.message,\n        type = _ref.type,\n        position = _ref.position,\n        size = _ref.size,\n        draggable = _ref.draggable,\n        duration = _ref.duration,\n        _ref$textMessage = _ref.textMessage,\n        textMessage = _ref$textMessage === undefined ? false : _ref$textMessage,\n        closable = _ref.closable,\n        autoclose = _ref.autoclose,\n        _ref$hooks = _ref.hooks,\n        hooks = _ref$hooks === undefined ? {} : _ref$hooks;\n\n    this.closeUserMessage();\n    setTimeout(function () {\n      _this.state.usermessage.id = uniqueId();\n      _this.state.usermessage.show = true;\n      _this.state.usermessage.message = message;\n      _this.state.usermessage.textMessage = textMessage;\n      _this.state.usermessage.title = title;\n      _this.state.usermessage.subtitle = subtitle;\n      _this.state.usermessage.position = position;\n      _this.state.usermessage.duration = duration;\n      _this.state.usermessage.type = type;\n      _this.state.usermessage.show = true;\n      _this.state.usermessage.size = size;\n      _this.state.usermessage.autoclose = autoclose;\n      _this.state.usermessage.closable = closable;\n      _this.state.usermessage.draggable = draggable;\n      _this.state.usermessage.hooks.header = hooks.header; // has to be a vue component or vue object\n      _this.state.usermessage.hooks.body = hooks.body; // has to be a vue component or vue object\n      _this.state.usermessage.hooks.footer = hooks.footer; // has to be a vue component or vue object\n    });\n    return this.state.usermessage;\n  };\n\n  this.closeUserMessage = function () {\n    this.state.usermessage.id = null;\n    this.state.usermessage.show = false;\n    this.state.usermessage.textMessage = false;\n    this.state.usermessage.message = '';\n  };\n\n  this.getState = function () {\n    return this.state;\n  };\n\n  this.getMapState = function () {\n    return this.state.map;\n  };\n\n  this.getContentState = function () {\n    return this.state.content;\n  };\n\n  this.setLoadingContent = function () {\n    var loading = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n    this.state.content.loading = loading;\n  };\n\n  this._addComponents = function (components) {\n    var _this2 = this;\n\n    // components is an object\n    //(index.js)\n    /*\n     {\n      map: new MapComponent({\n        id: 'map'\n      }),\n      content: new ContentsComponent({\n        id: 'contents'\n      })\n     }\n     */\n    Object.entries(components).forEach(function (_ref2) {\n      var _ref3 = _slicedToArray(_ref2, 2),\n          viewName = _ref3[0],\n          component = _ref3[1];\n\n      // check if component are map or content\n      if (Object.keys(_this2._components).indexOf(viewName) > -1) {\n        component.mount('#g3w-view-' + viewName, true).then(function () {\n          _this2._components[viewName] = component;\n          // check if view name is map\n          if (viewName === 'map') _this2._defaultMapComponent = component; // set de default component to map\n        }).fail(function (err) {\n          return console.log(err);\n        });\n      }\n    });\n  };\n\n  this.showMap = function () {\n    this._toggleMapComponentVisibility(this._defaultMapComponent, true);\n    this._components['map'] = this._defaultMapComponent;\n    this._showView('map');\n  };\n\n  this.showContextualMap = function () {\n    var _this3 = this;\n\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    if (!this._contextualMapComponent) this._contextualMapComponent = this._defaultMapComponent;\n    if (this._contextualMapComponent != this._defaultMapComponent) this._toggleMapComponentVisibility(this._defaultMapComponent, false);\n    if (!this._contextualMapComponent.ismount()) {\n      var contextualMapComponent = this._contextualMapComponent;\n      contextualMapComponent.mount('#g3w-view-map', true).then(function () {\n        return _this3._components['map'] = contextualMapComponent;\n      });\n    } else {\n      this._components['map'] = this._contextualMapComponent;\n      this._toggleMapComponentVisibility(this._contextualMapComponent, true);\n    }\n    this._showView('map', options);\n  };\n\n  // get default component\n  this.recoverDefaultMap = function () {\n    if (this._components['map'] !== this._defaultMapComponent) {\n      this._components['map'] = this._defaultMapComponent;\n      this._toggleMapComponentVisibility(this._contextualMapComponent, false);\n      this._toggleMapComponentVisibility(this._defaultMapComponent, true);\n    }\n    return this._components['map'];\n  };\n\n  this.setContextualMapComponent = function (mapComponent) {\n    if (mapComponent === this._defaultMapComponent) return;\n    if (this._contextualMapComponent) this._contextualMapComponent.unmount();\n    this._contextualMapComponent = mapComponent;\n  };\n\n  this.resetContextualMapComponent = function () {\n    this._contextualMapComponent && this._contextualMapComponent.unmount();\n    this._contextualMapComponent = this._defaultMapComponent;\n  };\n\n  this._toggleMapComponentVisibility = function (mapComponent, toggle) {\n    mapComponent.internalComponent.$el.style.display = toggle ? 'block' : 'none';\n  };\n\n  // close map method\n  this.closeMap = function () {\n    this.state.secondaryPerc = this.state.primaryView === 'map' ? 100 : 0;\n    this.recoverDefaultMap();\n    this._layout();\n  };\n\n  // show content of the viewport content\n  /*\n   options: {\n     content: (string, jQuery elemento or Vue component)\n     title: Title of the content\n     push: (opyionale, default false): if yes the content is push on top of the stack (contentStack)\n     split: (optional, default 'h'): 'h' || 'v' splitting map and content orientation\n     perc: (optional, default 50): percentage of content\n   }\n   */\n\n  this.showContent = function () {\n    var _this4 = this;\n\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    options.perc = options.perc !== undefined ? options.perc : this.getContentPercentageFromCurrentLayout();\n    // check if push is set\n    options.push = options.push || false;\n    var evenContentName = options.perc === 100 ? 'show-content-full' : 'show-content';\n    // set all content parameters\n    this._prepareContentView(options);\n    // immediate layout false (to understand better)\n    this._immediateComponentsLayout = false;\n    // call show view (in this case content (other is map)\n    this._showView('content', options);\n    this._components.content.setContent(options).then(function () {\n      _this4._immediateComponentsLayout = true;\n      _this4._layoutComponents(evenContentName);\n    });\n  };\n\n  // hide content\n  this.hideContent = function (bool) {\n    var prevContentPerc = this.getContentPercentageFromCurrentLayout(this.state.split);\n    this.state.secondaryVisible = !bool;\n    this._layout('hide-content');\n    // return previous percentage\n    return prevContentPerc;\n  };\n\n  this.resetToDefaultContentPercentage = function () {\n    var currentRightPanel = this.getCurrentContentLayout();\n    currentRightPanel['' + (this.state.split === 'h' ? 'width' : 'height')] = currentRightPanel[(this.state.split === 'h' ? 'width' : 'height') + '_default'];\n    currentRightPanel[(this.state.split === 'h' ? 'width' : 'height') + '_100'] = false;\n    this._layoutComponents();\n  };\n\n  this.toggleFullViewContent = function () {\n    _applicationState2.default.gui.layout[_applicationState2.default.gui.layout.__current].rightpanel[(this.state.split === 'h' ? 'width' : 'height') + '_100'] = !_applicationState2.default.gui.layout[_applicationState2.default.gui.layout.__current].rightpanel[(this.state.split === 'h' ? 'width' : 'height') + '_100'];\n    this._layoutComponents();\n  };\n\n  this.isFullViewContent = function () {\n    return _applicationState2.default.gui.layout[_applicationState2.default.gui.layout.__current].rightpanel[(this.state.split === 'h' ? 'width' : 'height') + '_100'];\n  };\n\n  this.contentLength = function () {\n    return this.state.content.contentsdata.length;\n  };\n\n  // pull the last element of contentStack\n  this.popContent = function () {\n    var _this5 = this;\n\n    var d = $.Deferred();\n    // check if content exist compontentStack\n    if (this.state.content.contentsdata.length) {\n      this.recoverDefaultMap();\n      var data = this._components.content.getPreviousContentData();\n      this._prepareContentView(data.options);\n      this._immediateComponentsLayout = false;\n      this._showView('content', data.options);\n      this._components.content.popContent().then(function () {\n        _this5.state.secondaryPerc = data.options.perc;\n        _this5._immediateComponentsLayout = true;\n        _this5._layout('pop-content');\n        d.resolve(_this5._components.contentgetCurrentContentData);\n      });\n    } else d.reject();\n    return d.promise();\n  };\n\n  /**\n   * Return current compoent data\n   * @returns {*}\n   */\n  this.getCurrentContent = function () {\n    return this.contentLength() ? this.state.content.contentsdata[this.contentLength() - 1] : null;\n  };\n\n  this.getCurrentContentTitle = function () {\n    var currentContent = this.getCurrentContent();\n    return currentContent && currentContent.options.title;\n  };\n\n  this.getCurrentContentId = function () {\n    var currentContent = this.getCurrentContent();\n    return currentContent && currentContent.options.id;\n  };\n\n  this.changeCurrentContentOptions = function () {\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    var currentContent = this.getCurrentContent();\n    if (currentContent) {\n      var title = options.title,\n          crumb = options.crumb;\n\n      if (title) currentContent.options.title = title;\n      if (crumb) currentContent.options.crumb = crumb;\n    }\n  };\n\n  this.changeCurrentContentTitle = function () {\n    var title = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n\n    var currentContent = this.getCurrentContent();\n    if (currentContent) currentContent.options.title = title;\n  };\n\n  this.isContentOpen = function () {\n    return !!this.state.content.contentsdata.length;\n  };\n\n  // close  content\n  this.closeContent = function () {\n    var _this6 = this;\n\n    var d = $.Deferred();\n    if (this.isContentOpen()) {\n      //.setFullViewContent(false);\n      this._components.content.removeContent();\n      // close secondary view( return a promise)\n      this.closeSecondaryView('close-content').then(function () {\n        //recover default map\n        var mapComponent = _this6.recoverDefaultMap();\n        d.resolve(mapComponent);\n      });\n    } else {\n      var mapComponent = this.recoverDefaultMap();\n      d.resolve(mapComponent);\n    }\n    return d.promise();\n  };\n\n  this.disableContent = function (disabled) {\n    this.state.content.disabled = disabled;\n  };\n\n  this.removeContent = function () {\n    // check if backonclose proprerty is  true o false\n    // to remove all content stack or just last component\n    if (this.state.content.backonclose && this.state.content.contentsdata.length > 1) this.popContent();else return this.closeContent();\n  };\n\n  this.isPrimaryView = function (viewName) {\n    return this.state.primaryView == viewName;\n  };\n\n  this.setPrimaryView = function (viewTag) {\n    if (this.state.primaryView !== viewTag) this.state.primaryView = viewTag;\n    this._layout();\n  };\n\n  this.showPrimaryView = function () {\n    var perc = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n\n    if (perc && this.state.secondaryVisible && this.state.secondaryPerc === 100) {\n      this.state.secondaryPerc = 100 - perc;\n      this._layout();\n    }\n  };\n\n  this.showSecondaryView = function () {\n    var split = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.state.split;\n    var perc = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.state.perc;\n\n    this.state.secondaryVisible = true;\n    this.state.split = split;\n    this.state.secondaryPerc = perc;\n    this._layout();\n  };\n\n  // close secondary view\n  this.closeSecondaryView = function () {\n    var _this7 = this;\n\n    var event = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n\n    var d = $.Deferred();\n    var secondaryViewComponent = this._components[this._otherView(this.state.primaryView)];\n    if (secondaryViewComponent.clearContents) {\n      secondaryViewComponent.clearContents().then(function () {\n        _this7.state.secondaryVisible = false;\n        _this7.state.secondaryPerc = 0;\n        _this7._layout(event);\n        Vue.nextTick(function () {\n          return d.resolve();\n        });\n      });\n    } else {\n      this.state.secondaryVisible = false;\n      this._layout(event);\n      Vue.nextTick(function () {\n        return d.resolve();\n      });\n    }\n    return d.promise();\n  };\n\n  this.getDefaultViewPerc = function (viewName) {\n    return this.isPrimaryView(viewName) ? 100 : 50;\n  };\n\n  // return the opposite view\n  this._otherView = function (viewName) {\n    return viewName === 'map' ? 'content' : 'map';\n  };\n\n  this._isSecondary = function (view) {\n    return this.state.primaryView !== view;\n  };\n\n  this._setPrimaryView = function (viewTag) {\n    if (this.state.primaryView !== viewTag) this.state.primaryView = viewTag;\n  };\n\n  /**\n   * Set the state of content (right or bottom content other than map)\n   * @param options\n   * @private\n   */\n  this._prepareContentView = function () {\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    var title = options.title,\n        _options$split2 = options.split,\n        split = _options$split2 === undefined ? null : _options$split2,\n        _options$closable = options.closable,\n        closable = _options$closable === undefined ? true : _options$closable,\n        _options$backonclose = options.backonclose,\n        backonclose = _options$backonclose === undefined ? true : _options$backonclose,\n        _options$style = options.style,\n        style = _options$style === undefined ? {} : _options$style,\n        _options$showgoback = options.showgoback,\n        showgoback = _options$showgoback === undefined ? true : _options$showgoback,\n        _options$headertools = options.headertools,\n        headertools = _options$headertools === undefined ? [] : _options$headertools;\n\n    this.state.content.title = title;\n    this.state.content.split = split;\n    this.state.content.closable = closable;\n    this.state.content.backonclose = backonclose;\n    this.state.content.contentsdata = this._components.content.contentsdata;\n    this.state.content.style = style;\n    this.state.content.headertools = headertools;\n    this.state.content.showgoback = showgoback;\n  };\n\n  // manage all layout logic\n  // viewName: map or content\n  //options.  percentage , splitting title etc ..\n  this._showView = function (viewName) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    var _options$perc = options.perc,\n        perc = _options$perc === undefined ? this.getDefaultViewPerc(viewName) : _options$perc,\n        _options$split3 = options.split,\n        split = _options$split3 === undefined ? 'h' : _options$split3;\n\n    var aside = void 0;\n    if (this.isPrimaryView(viewName)) aside = typeof options.aside == 'undefined' ? false : options.aside;else aside = true;\n    this.state[viewName].aside = aside;\n    //calculate the content\n    var secondaryPerc = this.isPrimaryView(viewName) ? 100 - perc : perc;\n    //show Secondary View content only if more then 0\n    if (secondaryPerc > 0) this.showSecondaryView(split, secondaryPerc);else return this.closeSecondaryView();\n  };\n\n  this._getReducedSizes = function () {\n    var contentEl = $('.content');\n    var reducedWidth = 0;\n    var reducedHeight = 0;\n    var sideBarToggleEl = $('.sidebar-aside-toggle');\n    if (contentEl && this.state.secondaryVisible && this.isFullViewContent()) {\n      if (sideBarToggleEl && sideBarToggleEl.is(':visible')) {\n        var toggleWidth = sideBarToggleEl.outerWidth();\n        contentEl.css('padding-left', toggleWidth + 5);\n        reducedWidth = toggleWidth - 5;\n      }\n    } else {\n      var _toggleWidth = sideBarToggleEl.outerWidth();\n      contentEl.css('padding-left', this.state.secondaryPerc === 100 ? _toggleWidth + 5 : 15);\n    }\n    return {\n      reducedWidth: reducedWidth,\n      reducedHeight: reducedHeight\n    };\n  };\n\n  //main layout function\n  this._layout = function () {\n    var event = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n\n    var reducesdSizes = this._getReducedSizes();\n    this._setViewSizes(reducesdSizes.reducedWidth, reducesdSizes.reducedHeight);\n    if (this._immediateComponentsLayout) this._layoutComponents(event);\n  };\n\n  this._setViewSizes = function () {\n    var primaryView = this.state.primaryView;\n    var secondaryView = this._otherView(primaryView);\n\n    var _getViewportSize = this.getViewportSize(),\n        viewportWidth = _getViewportSize.width,\n        viewportHeight = _getViewportSize.height;\n    // assign all width and height of the view to primary view (map)\n\n\n    var primaryWidth = void 0;\n    var primaryHeight = void 0;\n    var secondaryWidth = void 0;\n    var secondaryHeight = void 0;\n    // percentage of secondary view (content)\n    var scale = (this.state.secondaryPerc !== 100 && !this.isFullViewContent() ? this.getContentPercentageFromCurrentLayout(this.state.split) : 100) / 100;\n    if (this.state.split === 'h') {\n      secondaryWidth = this.state.secondaryVisible ? Math.max(viewportWidth * scale, this._secondaryViewMinWidth) : 0;\n      secondaryHeight = viewportHeight;\n      primaryWidth = viewportWidth - secondaryWidth;\n      primaryHeight = viewportHeight;\n    } else {\n      secondaryWidth = viewportWidth;\n      secondaryHeight = this.state.secondaryVisible ? Math.max(viewportHeight * scale, this._secondaryViewMinHeight) : 0;\n      primaryWidth = this.state.secondaryVisible && scale === 1 ? 0 : viewportWidth;\n      primaryHeight = viewportHeight - secondaryHeight;\n    }\n    this.state[primaryView].sizes.width = primaryWidth;\n    this.state[primaryView].sizes.height = primaryHeight;\n    this.state[secondaryView].sizes.width = secondaryWidth;\n    this.state[secondaryView].sizes.height = secondaryHeight;\n  };\n\n  this.getViewportSize = function () {\n    return {\n      width: this._viewportWidth(),\n      height: this._viewportHeight()\n    };\n  };\n\n  this._viewportHeight = function () {\n    var topHeight = $('.navbar-header').innerHeight();\n    return $(document).innerHeight() - topHeight;\n  };\n\n  this._viewportWidth = function () {\n    var main_sidebar = $(\".main-sidebar\");\n    var offset = main_sidebar.length && main_sidebar.offset().left;\n    var width = main_sidebar.length && main_sidebar[0].getBoundingClientRect().width;\n    var sideBarSpace = width + offset;\n    return $('#app')[0].getBoundingClientRect().width - sideBarSpace;\n  };\n\n  /**\n   * Method that se resize. Is called by moveFnc that is called from resize (vertical or horiziontal) component\n   * @param type\n   * @param sizes\n   * @param perc\n   */\n  this.resizeViewComponents = function (type) {\n    var sizes = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    var perc = arguments[2];\n\n    this.setResized(type, true);\n    this.setContentPercentageFromCurrentLayout(type, perc);\n    this._layout('resize');\n  };\n\n  /**\n   * Get current information layout\n   * @param type\n   * @param perc\n   */\n  this.setContentPercentageFromCurrentLayout = function () {\n    var type = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.state.split;\n    var perc = arguments[1];\n\n    this.getCurrentContentLayout()[type === 'h' ? 'width' : 'height'] = perc;\n  };\n\n  this.getContentPercentageFromCurrentLayout = function () {\n    var type = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.state.split;\n\n    return this.getCurrentContentLayout()[type === 'h' ? 'width' : 'height'];\n  };\n\n  this.getCurrentContentLayout = function () {\n    return _applicationState2.default.gui.layout[_applicationState2.default.gui.layout.__current].rightpanel;\n  };\n\n  // load components of  viewport\n  // after right size setting\n  this._layoutComponents = function () {\n    var _this8 = this;\n\n    var event = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n\n    requestAnimationFrame(function () {\n      var reducesdSizes = _this8._getReducedSizes();\n      var reducedWidth = reducesdSizes.reducedWidth || 0;\n      var reducedHeight = reducesdSizes.reducedHeight || 0;\n      // for each components\n      _this8._setViewSizes();\n      Object.entries(_this8._components).forEach(function (_ref4) {\n        var _ref5 = _slicedToArray(_ref4, 2),\n            name = _ref5[0],\n            component = _ref5[1];\n\n        var width = _this8.state[name].sizes.width - reducedWidth;\n        var height = _this8.state[name].sizes.height - reducedHeight;\n        component.layout(width, height);\n      });\n      event && setTimeout(function () {\n        _this8.emit(event);\n        _gui2.default.emit(event);\n      });\n    });\n  };\n\n  /**\n   * function called at start of application (just one time)\n   * @private\n   */\n  this._firstLayout = function () {\n    var _this9 = this;\n\n    var drawing = false;\n    var resizeFired = false;\n    function triggerResize() {\n      resizeFired = true;\n      drawResize();\n    }\n    /**\n     * function called from resize of browser windows (also open dev tool)\n     */\n    var drawResize = function drawResize() {\n      if (resizeFired === true) {\n        resizeFired = false;\n        drawing = true;\n        _this9._layout('resize');\n        requestAnimationFrame(drawResize);\n      } else {\n        drawing = false;\n      }\n    };\n    // GUI ready event\n    _gui2.default.on('ready', function () {\n      /**\n       * SetSidebar width (used by components/Viewport.vue single file component)\n       */\n      _this9.SIDEBARWIDTH = _gui2.default.getSize({ element: 'sidebar', what: 'width' });\n      _this9._layout();\n      _gui2.default.on('guiresized', function () {\n        return triggerResize();\n      });\n      // resize della window\n      $(window).resize(function () {\n        // set resizedFired to true and execute drawResize if it's not already running\n        drawing === false && triggerResize();\n      });\n      // resize on main siedemar open close sidebar\n      $('.main-sidebar').on('webkitTransitionEnd transitionend msTransitionEnd oTransitionEnd', function (event) {\n        //be sure that is the main sidebar that is transitioned non his child\n        if (event.target === this) {\n          $(this).trigger('trans-end');\n          triggerResize();\n        }\n      });\n    });\n  };\n  this._firstLayout();\n  base(this);\n};\n\ninherit(ViewportService, G3WObject);\n\n//singleton\nexports.default = new ViewportService();\n\n},{\"app/constant\":4,\"core/g3wobject\":12,\"core/utils/utils\":68,\"services/gui\":361,\"store/application-state\":373}],372:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n/**\n * @file\n * @since v3.6\n */\n\n// Store all workflow activated\nvar WorkFlowsStack = function WorkFlowsStack() {\n  this._workflows = [];\n  this.push = function (workflow) {\n    if (this._workflows.indexOf(workflow) === -1) return this._workflows.push(workflow) - 1;\n    return this._workflows.indexOf(workflow);\n  };\n\n  /**\n  * Get parent\n  * @returns {boolean|*}\n  */\n  this.getParent = function () {\n    var index = this._getCurrentIndex();\n    return index > 0 && this._workflows[index - 1];\n  };\n\n  /**\n  * Get all list of parents\n  * @returns {boolean|T[]}\n  */\n  this.getParents = function () {\n    var index = this._getCurrentIndex();\n    return index > 0 && this._workflows.slice(0, index);\n  };\n\n  this.pop = function () {\n    return this._workflows.pop();\n  };\n\n  this.getLength = function () {\n    return this._workflows.length;\n  };\n\n  this._getCurrentIndex = function () {\n    var currentWorkflow = this.getCurrent();\n    return this._workflows.findIndex(function (workfow) {\n      return workfow === currentWorkflow;\n    });\n  };\n\n  this.getCurrent = function () {\n    return this.getLast();\n  };\n\n  this.getLast = function () {\n    var length = this._workflows.length;\n    return length ? this._workflows[length - 1] : null;\n  };\n\n  this.getFirst = function () {\n    return this._workflows[0];\n  };\n\n  this.removeAt = function (index) {\n    this._workflows.splice(index, 1);\n  };\n\n  this.getAt = function (index) {\n    return this._workflows[index];\n  };\n\n  this.insertAt = function (index, workflow) {\n    this._workflows[index] = workflow;\n  };\n\n  this.clear = function () {\n    while (this._workflows.length) {\n      var workflow = this.pop();\n      workflow.stop();\n    }\n  };\n};\n\nexports.default = new WorkFlowsStack();\n\n},{}],373:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n/**\n * @file State and methods to query the STATE of application\n * @since v3.6\n */\n\n/**\n * State of application reactive\n * @type {object}\n */\nvar STATE = Vue.observable({\n\n  /**\n   * true = application is ready\n   */\n  ready: false,\n\n  /**\n   * true = application is loaded inside an iframe\n   */\n  iframe: false,\n\n  /**\n   * true = application is connected\n   */\n  online: false,\n\n  /**\n   * true = application is loaded on mobile device\n   */\n  ismobile: false,\n\n  /**\n   * true = there is a pending download \n   */\n  download: false,\n\n  /**\n   * true = there is a pending upload\n   */\n  upload: false,\n\n  /**\n   * @FIXME add description\n   */\n  baseLayerId: null,\n\n  /**\n   * en = default language\n   */\n  language: 'en',\n\n  /**\n   * @deprecated Since v3.8. Will be deleted in v4.x. Use ApplicationState.language instead\n   */\n  lng: 'en',\n\n  /**\n   * @FIXME add description\n   */\n  changeProjectview: false,\n\n  /**\n   * @FIXME add description\n   */\n  plugins: [],\n\n  /**\n   * @FIXME add description\n   */\n  user: null,\n\n  /**\n   * @FIXME add description\n   */\n  map: {\n    epsg: '',\n    unit: 'metric'\n  },\n\n  /**\n   * @FIXME add description\n   */\n  gui: {\n\n    app: {\n      /**\n       * true = application is disabled and unclickable (waiting)\n       */\n      disabled: false\n    },\n\n    sidebar: {\n      /**\n       * true = sidebar is disabled (not responsive)\n       */\n      disabled: false // \n    },\n\n    layout: {\n      /**\n       * store the current layout owner (\"app\" = default)\n       */\n      __current: 'app',\n\n      /**\n       * @FIXME add description\n       */\n      app: {}\n\n    }\n\n  },\n\n  /**\n   * @FIXME add description\n   */\n  keys: {\n    vendorkeys: {\n      google: undefined,\n      bing: undefined\n    }\n  },\n\n  /**\n   * @FIXME add description\n   */\n  tokens: {\n    filtertoken: undefined\n  }\n\n});\n\n/**\n * Store methods to query STATE of application\n * \n * @type {object}\n */\nvar STATE_METHODS = exports.STATE_METHODS = {};\n\nexports.default = STATE;\n\n},{}],374:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\n/**\n * @file State of legend items in Table of Contents (TOC) [aka. catalog layers]\n * @since v3.6\n */\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit;\n\nvar LayersStoresRegistry = require('core/layers/layersstoresregistry');\n\nfunction CatalogLayersStoresRegistry() {\n  base(this);\n}\n\ninherit(CatalogLayersStoresRegistry, LayersStoresRegistry);\n\nexports.default = new CatalogLayersStoresRegistry();\n\n},{\"core/layers/layersstoresregistry\":37,\"core/utils/utils\":68}],375:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n/**\n * @file Store legacy frontend components\n * @since v3.6\n * \n * @deprecated will be probably removed after v4.x. Use Vue Single File Components (SFC) instead\n */\n\nvar G3WObject = require('core/g3wobject');\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit;\n\n//class Componet Registry (singleton)\n// store all components added\n\n\nfunction ComponentsRegistry() {\n  this.components = {};\n  this.registerComponent = function (component) {\n    var id = component.getId();\n    if (!this.components[id]) {\n      this.components[id] = component;\n      this.emit('componentregistered', component);\n    }\n  };\n\n  this.getComponent = function (id) {\n    return this.components[id];\n  };\n\n  this.getComponents = function () {\n    return this.components;\n  };\n\n  this.unregisterComponent = function (id) {\n    var component = this.components[id];\n    if (component) {\n      if (typeof component.destroy === 'function') component.destroy();\n      this.components[id] = null;\n    }\n    return component;\n  };\n  base(this);\n}\n\ninherit(ComponentsRegistry, G3WObject);\n\nexports.default = new ComponentsRegistry();\n\n},{\"core/g3wobject\":12,\"core/utils/utils\":68}],376:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _application = require('services/application');\n\nvar _application2 = _interopRequireDefault(_application);\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nvar _constants = require('g3w-ol/constants');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit; /**\n                                 * @file Store Open Layers controls (zoom, streetrview, screnshoot, ruler, ...)\n                                 * @since v3.6\n                                 */\n\nvar G3WObject = require('core/g3wobject');\n\nfunction ControlsRegistry() {\n  var _this = this;\n\n  this._controls = {};\n\n  this._offlineids = [];\n\n  /**\n   * @since 3.8.0\n   */\n  this.selectedLayer = null;\n\n  /**\n   * @since 3.8.0\n   */\n  this.externalLayers = [];\n\n  _application2.default.on('complete',\n  /**\n   * @TODO extract this into a class function (named callback function)\n   * \n   * Handle temporary layers added by `addlayers` map control (Polygon or Multipolygon)\n   *\n   * @listens CatalogService~addExternalLayer\n   * @listens CatalogService~removeExternalLayer\n   *\n   * @since 3.8.0\n   */\n  function () {\n\n    var CatalogService = _gui2.default.getService('catalog');\n\n    // 0. store unwatches of external layers (selected or visible)\n    var unWatches = {};\n\n    // 1. update list `this.externalLayers`\n    // 2. update list `unWatches` of layer un-watchers (based on unique name of layer)\n    // 3. call `this.onAddExternalLayer`\n    CatalogService.onafter('addExternalLayer', function (_ref) {\n      var layer = _ref.layer,\n          type = _ref.type;\n\n      if ('vector' === type) {\n        _this.externalLayers.push(layer);\n        // Add event listener of selected property to set selected layer\n        unWatches[layer.name] = [_constants.VM.$watch(function () {\n          return layer.selected;\n        }, // watch `layer.selected` property\n        function (selected) {\n          _this.setSelectedLayer(true === selected ? layer : null);\n        })];\n\n        _this.callControlsEventHandler({\n          handler: 'onAddExternalLayer',\n          param: {\n            layer: layer,\n            unWatches: unWatches[layer.name]\n          }\n        });\n      }\n    });\n\n    // 4. clean up any previously attached event listener\n    CatalogService.onafter('removeExternalLayer', function (_ref2) {\n      var name = _ref2.name,\n          type = _ref2.type;\n\n      if ('vector' === type) {\n        _this.externalLayers = _this.externalLayers.filter(function (layer) {\n          if (name === layer.name) {\n            _this.callControlsEventHandler({ handler: 'handleRemoveExternalLayer', param: layer });\n          }\n          if (name === layer.name && layer === _this.selectedLayer) {\n            _this.setSelectedLayer(null);\n          }\n          return name !== layer.name;\n        });\n        unWatches[name].forEach(function (unWatch) {\n          return unWatch();\n        });\n        delete unWatches[name];\n      }\n    });\n  });\n\n  _application2.default.onbefore('offline',\n  /**\n   * @TODO extract this into a class function (named callback function)\n   * \n   * @since 3.8.0\n   */\n  function () {\n    _this._offlineids.forEach(function (controlItem) {\n      var control = _this._controls[controlItem.id];\n      controlItem.enable = control.getEnable();\n      control.setEnable(false);\n    });\n  });\n\n  _application2.default.onbefore('online',\n  /**\n   * @TODO extract this into a class function (named callback function)\n   * \n   * @since 3.8.0\n   */\n  function () {\n    _this._offlineids.forEach(function (controlItem) {\n      _this._controls[controlItem.id].setEnable(controlItem.enable);\n    });\n  });\n\n  this.setters = {\n    registerControl: function registerControl(id, control) {\n      this._registerControl(id, control);\n    }\n  };\n\n  /**\n   * @param { unknown | null } layer\n   * \n   * @since 3.8.0\n   */\n  this.setSelectedLayer = function (layer) {\n    this.selectedLayer = layer;\n  };\n\n  /**\n   * @since 3.8.0\n   */\n  this.getSelectedLayer = function () {\n    return this.selectedLayer;\n  };\n\n  /**\n   * @returns {Array}\n   * \n   * @since 3.8.0\n   */\n  this.getExternalLayers = function () {\n    return this.externalLayers;\n  };\n\n  /**\n   * @since 3.8.0\n   */\n  this.catalogSelectedLayer = function (layer) {\n    this.setSelectedLayer(layer.isSelected() ? layer : null);\n\n    this.callControlsEventHandler({\n      handler: 'onSelectLayer',\n      param: this.selectedLayer\n    });\n  };\n\n  /**\n   * NB `handler` = method name\n   * \n   * @param {{ handler: string, param: any }}\n   * \n   * @since 3.8.0\n   */\n  this.callControlsEventHandler = function (_ref3) {\n    var handler = _ref3.handler,\n        param = _ref3.param;\n\n    Object.values(this._controls).forEach(function (control) {\n      if ('function' === typeof control[handler]) {\n        control[handler](param);\n      }\n    });\n  };\n\n  this._registerControl = function (id, control) {\n    this._controls[id] = control;\n    if (control.offline === false) {\n      this._offlineids.push({\n        id: id,\n        enable: control.getEnable()\n      });\n      control.getEnable() && control.setEnable(_application2.default.isOnline());\n    }\n  };\n\n  this.getControl = function (id) {\n    return this._controls[id];\n  };\n\n  this.getControls = function () {\n    return this._controls;\n  };\n\n  this.unregisterControl = function (id) {\n    var control = this.getControl(id);\n    if (!control) {\n      return false;\n    }\n    _gui2.default.getService('map').getMap().removeControl(control);\n    delete this._controls[id];\n    this._offlineids = this._offlineids.filter(function (_id) {\n      return _id !== id;\n    });\n    return true;\n  };\n\n  base(this);\n}\n\ninherit(ControlsRegistry, G3WObject);\n\nexports.default = new ControlsRegistry();\n\n},{\"core/g3wobject\":12,\"core/utils/utils\":68,\"g3w-ol/constants\":75,\"services/application\":351,\"services/gui\":361}],377:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\n/**\n * @file Store Open Layers levels (raster images, vector shapes, markers, ...)\n * @since v3.6\n */\n\nvar _require = require('core/utils/utils'),\n    inherit = _require.inherit,\n    base = _require.base;\n\nvar LayersStoresRegistry = require('core/layers/layersstoresregistry');\n\nfunction MapLayersStoresRegistry() {\n  base(this);\n}\n\ninherit(MapLayersStoresRegistry, LayersStoresRegistry);\n\nexports.default = new MapLayersStoresRegistry();\n\n},{\"core/layers/layersstoresregistry\":37,\"core/utils/utils\":68}],378:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _projects = require('store/projects');\n\nvar _projects2 = _interopRequireDefault(_projects);\n\nvar _application = require('services/application');\n\nvar _application2 = _interopRequireDefault(_application);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; } /**\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                            * @file Store G3W-CLIENT plugins (editing, qplotly, qtimeseries, ...)\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                            * @since v3.6\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                            */\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit;\n\nvar G3WObject = require('core/g3wobject');\n\n/**\n * law project configuration on project is handle as plugin\n * @type {string[]}\n */\nvar OTHERPLUGINS = ['law'];\n\nfunction PluginsRegistry() {\n  var _this = this;\n\n  this.config = null;\n  this._plugins = {};\n  this._configurationPlugins = [];\n  this.pluginsConfigs = {};\n  this._loadedPluginUrls = [];\n  this.setters = {\n    //setters to register plugin\n    registerPlugin: function registerPlugin(plugin) {\n      if (!this._plugins[plugin.name]) this._plugins[plugin.name] = plugin;\n    }\n  };\n  /**\n   * CHECK IF STILL USEFUL. IT RELATED TO CHANGE MAP OLD BEHAVIOR (PREVIOUS VERSION 3.4).\n   * NOW WHEN CHANGE MAP IS TRIGGER, PAGE IS RELOADED.\n   */\n  _projects2.default.onafter('setCurrentProject', function (project) {\n    _this.gidProject = project.getGid();\n  });\n\n  base(this);\n\n  // initialize plugin\n  this.init = function () {\n    var _this2 = this;\n\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    return new Promise(function () {\n      var _ref = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(resolve, reject) {\n        var plugins;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _this2.pluginsBaseUrl = options.pluginsBaseUrl;\n                // plugin configurations\n                _this2.setPluginsConfig(options.pluginsConfigs);\n                // filter\n                Object.keys(_this2.pluginsConfigs).forEach(function (pluginName) {\n                  return _this2._configurationPlugins.push(pluginName);\n                });\n                _this2.addLoadingPlugins();\n                // plugins that aren't in configuration server but in project\n                _this2.otherPluginsConfig = options.otherPluginsConfig;\n                _this2.setOtherPlugins();\n                _this2.setDependencyPluginConfig();\n                _context.prev = 7;\n                _context.next = 10;\n                return _this2._loadPlugins();\n\n              case 10:\n                plugins = _context.sent;\n\n                resolve(plugins);\n                _context.next = 17;\n                break;\n\n              case 14:\n                _context.prev = 14;\n                _context.t0 = _context['catch'](7);\n\n                reject(_context.t0);\n\n              case 17:\n              case 'end':\n                return _context.stop();\n            }\n          }\n        }, _callee, _this2, [[7, 14]]);\n      }));\n\n      return function (_x2, _x3) {\n        return _ref.apply(this, arguments);\n      };\n    }());\n  };\n\n  this.addLoadingPlugins = function () {\n    Object.keys(this.pluginsConfigs).forEach(function (plugin) {\n      return _application2.default.loadingPlugin(plugin);\n    });\n  };\n\n  this.removeLoadingPlugin = function (plugin, ready) {\n    _application2.default.loadedPlugin(plugin, ready);\n  };\n\n  this._loadPlugins = function () {\n    var _this3 = this;\n\n    var pluginLoadPromises = Object.entries(this.pluginsConfigs).map(function (_ref2) {\n      var _ref3 = _slicedToArray(_ref2, 2),\n          name = _ref3[0],\n          pluginConfig = _ref3[1];\n\n      return _this3._setup(name, pluginConfig);\n    });\n    return Promise.allSettled(pluginLoadPromises);\n  };\n\n  this.setDependencyPluginConfig = function () {\n    var _this4 = this;\n\n    var _loop = function _loop(pluginName) {\n      var dependecyPluginConfig = _this4.pluginsConfigs[pluginName].plugins;\n      dependecyPluginConfig && Object.keys(dependecyPluginConfig).forEach(function (pluginName) {\n        _this4.pluginsConfigs[pluginName] = _extends({}, _this4.pluginsConfigs[pluginName], dependecyPluginConfig[pluginName]);\n      });\n    };\n\n    for (var pluginName in this.pluginsConfigs) {\n      _loop(pluginName);\n    }\n  };\n\n  this.setOtherPlugins = function () {\n    var law = OTHERPLUGINS[0];\n    if (this.otherPluginsConfig && this.otherPluginsConfig[law] && this.otherPluginsConfig[law].length) {\n      // law plugin\n      this.pluginsConfigs[law] = this.otherPluginsConfig[law];\n      this.pluginsConfigs[law].gid = this.otherPluginsConfig.gid;\n    } else delete this.pluginsConfigs[law];\n  };\n\n  // reaload plugin in case of change map\n  this.reloadPlugins = function (initConfig, project) {\n    var _this5 = this;\n\n    return new Promise(function () {\n      var _ref4 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2(resolve, reject) {\n        var scripts, plugins, _loop2, pluginName, _plugins;\n\n        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                scripts = $('script');\n                plugins = _this5.getPlugins();\n\n                _loop2 = function _loop2(pluginName) {\n                  var plugin = plugins[pluginName];\n                  // unload plugin e remove from DOM\n                  plugin.unload();\n                  delete _this5._plugins[pluginName];\n                  scripts.each(function (index, scr) {\n                    _this5._loadedPluginUrls.forEach(function (pluginUrl, idx) {\n                      if (scr.getAttribute('src') === pluginUrl && pluginUrl.indexOf(pluginName) !== -1) {\n                        scr.parentNode.removeChild(scr);\n                        _this5._loadedPluginUrls.splice(idx, 1);\n                        return false;\n                      }\n                    });\n                  });\n                };\n\n                for (pluginName in plugins) {\n                  _loop2(pluginName);\n                }\n                _this5._loadedPluginUrls = [];\n                //setup plugins\n                _this5.otherPluginsConfig = project.getState();\n                _this5.setPluginsConfig(initConfig.group.plugins);\n                _this5.addLoadingPlugins();\n                _this5.setOtherPlugins();\n                _context2.prev = 9;\n                _context2.next = 12;\n                return _this5._loadPlugins();\n\n              case 12:\n                _plugins = _context2.sent;\n\n                resolve(_plugins);\n                _context2.next = 19;\n                break;\n\n              case 16:\n                _context2.prev = 16;\n                _context2.t0 = _context2['catch'](9);\n\n                reject(_context2.t0);\n\n              case 19:\n              case 'end':\n                return _context2.stop();\n            }\n          }\n        }, _callee2, _this5, [[9, 16]]);\n      }));\n\n      return function (_x4, _x5) {\n        return _ref4.apply(this, arguments);\n      };\n    }());\n  };\n\n  /**\n   * setup plugin config only filtered by gid configuration\n   * @param config\n   */\n  this.setPluginsConfig = function () {\n    var _this6 = this;\n\n    var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    var enabledPluginConfig = {};\n    Object.entries(config).filter(function (_ref5) {\n      var _ref6 = _slicedToArray(_ref5, 2),\n          pluginConfig = _ref6[1];\n\n      return pluginConfig.gid === _this6.gidProject;\n    }).forEach(function (_ref7) {\n      var _ref8 = _slicedToArray(_ref7, 2),\n          pluginName = _ref8[0],\n          pluginConfig = _ref8[1];\n\n      return enabledPluginConfig[pluginName] = pluginConfig;\n    });\n    this.pluginsConfigs = enabledPluginConfig;\n  };\n\n  /**\n   * Method to load external script\n   * @param url\n   * @returns {*}\n   * @private\n   */\n  this._loadScript = function (url) {\n    return $.getScript(url);\n  };\n\n  //load plugin script\n  this._setup = function (name, pluginConfig) {\n    var _this7 = this;\n\n    return new Promise(function () {\n      var _ref9 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee3(resolve, reject) {\n        var _pluginConfig$jsscrip, jsscripts, depedencypluginlibrariespromises, _loop3, _iteratorNormalCompletion, _didIteratorError, _iteratorError, _iterator, _step, script, baseUrl, scriptUrl;\n\n        return regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                if (_.isNull(pluginConfig)) {\n                  _context3.next = 38;\n                  break;\n                }\n\n                _pluginConfig$jsscrip = pluginConfig.jsscripts, jsscripts = _pluginConfig$jsscrip === undefined ? [] : _pluginConfig$jsscrip;\n                depedencypluginlibrariespromises = [];\n\n                _loop3 = function _loop3(script) {\n                  depedencypluginlibrariespromises.push(new Promise(function (resolve, reject) {\n                    _this7._loadScript(script).done(function () {\n                      return resolve();\n                    }).fail(function () {\n                      return reject();\n                    });\n                  }));\n                };\n\n                _iteratorNormalCompletion = true;\n                _didIteratorError = false;\n                _iteratorError = undefined;\n                _context3.prev = 7;\n\n                for (_iterator = jsscripts[Symbol.iterator](); !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n                  script = _step.value;\n\n                  _loop3(script);\n                }\n                _context3.next = 15;\n                break;\n\n              case 11:\n                _context3.prev = 11;\n                _context3.t0 = _context3['catch'](7);\n                _didIteratorError = true;\n                _iteratorError = _context3.t0;\n\n              case 15:\n                _context3.prev = 15;\n                _context3.prev = 16;\n\n                if (!_iteratorNormalCompletion && _iterator.return) {\n                  _iterator.return();\n                }\n\n              case 18:\n                _context3.prev = 18;\n\n                if (!_didIteratorError) {\n                  _context3.next = 21;\n                  break;\n                }\n\n                throw _iteratorError;\n\n              case 21:\n                return _context3.finish(18);\n\n              case 22:\n                return _context3.finish(15);\n\n              case 23:\n                _context3.prev = 23;\n                _context3.next = 26;\n                return Promise.all(depedencypluginlibrariespromises);\n\n              case 26:\n                baseUrl = '' + _this7.pluginsBaseUrl + name;\n                scriptUrl = baseUrl + '/js/plugin.js?' + Date.now();\n\n                pluginConfig.baseUrl = _this7.pluginsBaseUrl;\n                _this7._loadScript(scriptUrl).done(function () {\n                  _this7._loadedPluginUrls.push(scriptUrl);\n                  resolve();\n                }).fail(function () {\n                  _this7.removeLoadingPlugin(name, false);\n                  reject();\n                });\n                _context3.next = 36;\n                break;\n\n              case 32:\n                _context3.prev = 32;\n                _context3.t1 = _context3['catch'](23);\n\n                _this7.removeLoadingPlugin(name, false);\n                reject();\n\n              case 36:\n                _context3.next = 39;\n                break;\n\n              case 38:\n                resolve();\n\n              case 39:\n              case 'end':\n                return _context3.stop();\n            }\n          }\n        }, _callee3, _this7, [[7, 11, 15, 23], [16,, 18, 22], [23, 32]]);\n      }));\n\n      return function (_x7, _x8) {\n        return _ref9.apply(this, arguments);\n      };\n    }());\n  };\n\n  this.getPluginConfig = function (pluginName) {\n    return this.pluginsConfigs[pluginName];\n  };\n\n  this.getPlugins = function () {\n    return this._plugins;\n  };\n\n  this.getPlugin = function (pluginName) {\n    return this._plugins[pluginName];\n  };\n\n  // method to check if a plugin is in configuration and will be added to application\n  this.isPluginInConfiguration = function (pluginName) {\n    return this._configurationPlugins.indexOf(pluginName) !== -1;\n  };\n\n  this.isTherePlugin = function (pluginName) {\n    return this.pluginsConfigs[pluginName];\n  };\n}\n\ninherit(PluginsRegistry, G3WObject);\n\nexports.default = new PluginsRegistry();\n\n},{\"core/g3wobject\":12,\"core/utils/utils\":68,\"services/application\":351,\"store/projects\":379}],379:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _catalogLayers = require('store/catalog-layers');\n\nvar _catalogLayers2 = _interopRequireDefault(_catalogLayers);\n\nvar _mapLayers = require('store/map-layers');\n\nvar _mapLayers2 = _interopRequireDefault(_mapLayers);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * @file Store QGIS project configurations (enabled map controls / plugins / layers / ...)\n * @since v3.6\n */\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit;\n\nvar G3WObject = require('core/g3wobject');\nvar Project = require('core/project/project');\n\n/* service\n    setup: init method\n    getLayersState: returnLayersState\n    getLayersTree: return  array of layersTree from LayersState\n*/\n\n// Public interface\nfunction ProjectsRegistry() {\n\n  this.config = null;\n  this.initialized = false;\n  this.projectType = null;\n  this.currentProjectGroup = null;\n  this.overviewproject = undefined;\n\n  this.setters = {\n    createProject: function createProject(projectConfig) {\n      //hook to get project config and modify it\n    },\n    setCurrentProject: function setCurrentProject(project) {\n\n      if (this.state.currentProject !== project) {\n        _catalogLayers2.default.removeLayersStores();\n        _mapLayers2.default.removeLayersStores();\n      }\n\n      this.state.currentProject = project;\n      this.state.qgis_version = project.getQgisVersion();\n\n      this.setProjectType(project.state.type);\n\n      var projectLayersStore = project.getLayersStore();\n\n      //set in first position (catalog)\n      _catalogLayers2.default.addLayersStore(projectLayersStore, 0);\n\n      //set in first position (map)\n      _mapLayers2.default.addLayersStore(projectLayersStore, 0);\n    }\n  };\n\n  this.state = {\n    baseLayers: {},\n    minScale: null,\n    maxscale: null,\n    currentProject: null,\n    qgis_version: null\n  };\n\n  // (lazy loading)\n  this._groupProjects = [];\n  this._projectConfigs = {};\n\n  //Inizialize configuration for all project belong to group\n  this.init = function () {\n    var _this = this;\n\n    var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    var d = $.Deferred();\n\n    // check if already initialized\n    if (this.initialized) {\n      d.resolve(this.getCurrentProject());\n      return d.promise();\n    }\n\n    this.config = config;\n    this.currentProjectGroup = config.group;\n    this.overviewproject = config.overviewproject;\n\n    this.setupState();\n\n    // get current configuration\n    this.getProject(config.initproject, { map_theme: new URLSearchParams(location.search).get('map_theme') }).then(function (project) {\n      _this.setCurrentProject(project);\n      _this.initialized = true;\n      d.resolve(project);\n    }).fail(function (error) {\n      return d.reject(error);\n    });\n\n    return d.promise();\n  };\n\n  this.clear = function () {\n    this.config = null;\n    this.initialized = false;\n    this.projectType = null;\n    this.overviewproject = undefined;\n    this.initialized = false;\n    this._groupProjects = [];\n    this._projectConfigs = {};\n    this.state = {\n      baseLayers: {},\n      minScale: null,\n      maxscale: null,\n      currentProject: null,\n      qgis_version: null\n    };\n  };\n\n  this.setProjectType = function (projectType) {\n    this.projectType = projectType;\n  };\n\n  this.getConfig = function () {\n    return this.config;\n  };\n\n  this.getState = function () {\n    return this.state;\n  };\n\n  this.setupState = function () {\n    this.state.baseLayers = this.config.baselayers;\n    this.state.minScale = this.config.minscale;\n    this.state.maxScale = this.config.maxscale;\n    this.state.crs = this.config.crs;\n    this.setProjects(this.config.projects);\n  };\n\n  this.getProjectType = function () {\n    return this.projectType;\n  };\n\n  this.getProjects = function () {\n    return this._groupProjects;\n  };\n\n  this.setProjects = function (projects) {\n    var _this2 = this;\n\n    this.clearProjects();\n    projects.forEach(function (project) {\n      _this2.state.qgis_version = project.qgis_version || _this2.state.qgis_version;\n      project.baselayers = _this2.config.baselayers;\n      project.minscale = _this2.config.minscale;\n      project.maxscale = _this2.config.maxscale;\n      project.crs = _this2.config.crs;\n      project.vectorurl = _this2.config.vectorurl;\n      project.rasterurl = _this2.config.rasterurl;\n      project.overviewprojectgid = _this2.overviewproject ? _this2.overviewproject.gid : null;\n      _this2._groupProjects.push(project);\n    });\n  };\n\n  this.clearProjects = function () {\n    this._groupProjects = [];\n  };\n\n  this.getListableProjects = function () {\n    var currentProjectId = this.getCurrentProject().getId();\n    return _.sortBy(this.getProjects().filter(function (project) {\n      if (!_.isNil(project.listable)) return project.listable;\n      if (project.id === currentProjectId || project.overviewprojectgid && project.gid === project.overviewprojectgid) return false;\n      return project;\n    }), 'title');\n  };\n\n  this.getCurrentProject = function () {\n    return this.state.currentProject;\n  };\n\n  /**\n   * Get project configuration\n   *  \n   * @param {unknown} projectGid \n   * @param {unknown} options.map_theme\n   * @param {boolean} [options.reload = false] `true` = force to get project configuration from server\n   */\n  this.getProject = function (projectGid) {\n    var _this3 = this;\n\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : { reload: false };\n\n    var d = $.Deferred();\n    var pendingProject = this._groupProjects.find(function (project) {\n      return project.gid === projectGid;\n    });\n\n    // skipe if project doesn't exist\n    if (!pendingProject) {\n      d.reject(\"Project doesn't exist\");\n      return d.promise();\n    }\n\n    var projectConfig = !options.reload && this._projectConfigs[projectGid];\n\n    /** @TODO add description */\n    if (projectConfig) {\n      d.resolve(new Project(projectConfig));\n      return d.promise();\n    }\n\n    this._getProjectFullConfig(pendingProject, { map_theme: options.map_theme }).then(function (projectFullConfig) {\n\n      var projectConfig = _.merge(pendingProject, projectFullConfig);\n      projectConfig.WMSUrl = _this3.config.getWmsUrl(projectConfig);\n      projectConfig.relations = _this3._setProjectRelations(projectConfig);\n\n      _this3._projectConfigs[projectConfig.gid] = projectConfig;\n\n      // instance of Project\n      _this3.createProject(projectConfig);\n\n      // add to project\n      d.resolve(new Project(projectConfig));\n    }).fail(function (error) {\n      return d.reject(error);\n    });\n    return d.promise();\n  };\n\n  this._setProjectRelations = function (projectConfig) {\n    var _this4 = this;\n\n    projectConfig.relations = (projectConfig.relations ? projectConfig.relations : []).map(function (relation) {\n      relation = _this4._updateRelation(projectConfig, relation);\n      return relation;\n    });\n    return projectConfig.relations;\n  };\n\n  /**\n   * @FIXME add description\n   * \n   * @since 3.8.0\n   */\n  this._updateRelation = function (projectConfig, relation) {\n    if (\"ONE\" === relation.type) {\n      projectConfig.layers.find(function (layer) {\n        if (layer.id === relation.referencingLayer) {\n          relation.name = layer.name;\n          relation.origname = layer.origname;\n          return true;\n        }\n      });\n    }\n    return relation;\n  };\n\n  this.getProjectConfigByGid = function (gid) {\n    return this._groupProjects.find(function (project) {\n      return project.gid === gid;\n    });\n  };\n\n  /**\n   * @param alias.gid\n   * @param alias.url\n   * @param alias.host\n   */\n  this.setProjectAliasUrl = function (alias) {\n    var project = this.config.projects.find(function (project) {\n      return project.gid === alias.gid;\n    });\n    if (project) {\n      project.url = project && '' + (alias.host || '') + alias.url;\n    }\n  };\n\n  /**\n   * @param gid\n   * \n   * @returns {string}\n   */\n  this.getProjectUrl = function (gid) {\n    var baseurl = this.config && this.config.urls && this.config.urls.baseurl;\n    var projectConfig = this.getProjectConfigByGid(gid);\n    var url = projectConfig.url;\n    try {\n      return '' + new URL(baseurl) + url;\n    } catch (err) {\n      return '' + location.origin + baseurl + url;\n    }\n  };\n\n  /**\n   * @since 3.8.0\n   */\n  this.getBaseUrl = function () {\n    return this.config.urls.baseurl;\n  };\n\n  /**\n   * Fetch project configuration from remote server \n   * \n   * @param config project base config \n   * @param options.map_theme\n   */\n  this._getProjectFullConfig = function (config) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    var d = $.Deferred();\n\n    $.get(this.config.getProjectConfigUrl(config)).done(function (serverConfig) {\n\n      /** @TODO add description */\n      if (!options.map_theme) {\n        d.resolve(serverConfig);\n        return;\n      }\n\n      var map_theme = serverConfig.map_themes.find(function (_ref) {\n        var theme = _ref.theme;\n        return theme === options.map_theme;\n      });\n\n      /** @TODO add description */\n      if (map_theme) {\n        $.get('/' + config.type + '/api/prjtheme/' + config.id + '/' + options.map_theme).done(function (_ref2) {\n          var result = _ref2.result,\n              data = _ref2.data;\n\n          if (result) {\n            serverConfig.layerstree = data;\n            map_theme.layetstree = data;\n            map_theme.default = true;\n          }\n        }).always(function () {\n          d.resolve(serverConfig);\n        });\n      }\n    }).fail(function (error) {\n      return d.reject(error);\n    });\n\n    return d.promise();\n  };\n\n  /**\n   * @since 3.8.0\n   */\n  this.getCurrentProjectGroup = function () {\n    return this.currentProjectGroup;\n  };\n\n  base(this);\n}\n\ninherit(ProjectsRegistry, G3WObject);\n\nexports.default = new ProjectsRegistry();\n\n},{\"core/g3wobject\":12,\"core/project/project\":61,\"core/utils/utils\":68,\"store/catalog-layers\":374,\"store/map-layers\":377}],380:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n/**\n * @file Store user session (login / logout)\n * @since v3.6\n */\n\nvar SessionsRegistry = function SessionsRegistry() {\n  this._sessions = {};\n\n  this.register = function (session) {\n    var id = session.getId();\n    this._sessions[id] = session;\n  };\n\n  this.unregister = function (id) {\n    delete this._sessions[id];\n  };\n\n  this.getSession = function (id) {\n    return this._sessions[id];\n  };\n\n  this.setSession = function (id, session) {\n    this._sessions[id] = session;\n  };\n\n  this.getSessions = function () {\n    return this._sessions;\n  };\n\n  this.clear = function () {\n    this._sessions = {};\n  };\n};\n\nexports.default = new SessionsRegistry();\n\n},{}],381:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n/* WARNING: this file is autogenerated by gulpfile.js, please do not edit manually */\n\nexports.default = '3.8.0-alpha.2';\n\n},{}]},{},[328]);\n"]}